var vk=Object.defineProperty;var R3=i=>{throw TypeError(i)};var xk=(i,e,t)=>e in i?vk(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var et=(i,e,t)=>xk(i,typeof e!="symbol"?e+"":e,t),yv=(i,e,t)=>e.has(i)||R3("Cannot "+t);var ki=(i,e,t)=>(yv(i,e,"read from private field"),t?t.call(i):e.get(i)),An=(i,e,t)=>e.has(i)?R3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),Xn=(i,e,t,a)=>(yv(i,e,"write to private field"),a?a.call(i,t):e.set(i,t),t),Ni=(i,e,t)=>(yv(i,e,"access private method"),t);var bk=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[/_-]controller\..+?)$/;function wk(i,e){i.load(Mk(e))}function Mk(i){return Object.entries(i).map(Sk).filter(e=>e)}function Sk([i,e]){var t;const a=Tk(i),c=(t=e.default)!=null?t:e;if(a&&typeof c=="function")return{identifier:a,controllerConstructor:c}}function Tk(i){const e=(i.match(bk)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}class Ek{constructor(e,t,a){this.eventTarget=e,this.eventName=t,this.eventOptions=a,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=Ck(e);for(const a of this.bindings){if(t.immediatePropagationStopped)break;a.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{const a=e.index,c=t.index;return a<c?-1:a>c?1:0})}}function Ck(i){if("immediatePropagationStopped"in i)return i;{const{stopImmediatePropagation:e}=i;return Object.assign(i,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}class Ak{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,a={}){this.application.handleError(e,`Error ${t}`,a)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:a,eventOptions:c}=e,p=this.fetchEventListenerMapForEventTarget(t),y=this.cacheKey(a,c);p.delete(y),p.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:a,eventOptions:c}=e;return this.fetchEventListener(t,a,c)}fetchEventListener(e,t,a){const c=this.fetchEventListenerMapForEventTarget(e),p=this.cacheKey(t,a);let y=c.get(p);return y||(y=this.createEventListener(e,t,a),c.set(p,y)),y}createEventListener(e,t,a){const c=new Ek(e,t,a);return this.started&&c.connect(),c}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const a=[e];return Object.keys(t).sort().forEach(c=>{a.push(`${t[c]?"":"!"}${c}`)}),a.join(":")}}const Ik={stop({event:i,value:e}){return e&&i.stopPropagation(),!0},prevent({event:i,value:e}){return e&&i.preventDefault(),!0},self({event:i,value:e,element:t}){return e?t===i.target:!0}},Pk=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Dk(i){const t=i.trim().match(Pk)||[];let a=t[2],c=t[3];return c&&!["keydown","keyup","keypress"].includes(a)&&(a+=`.${c}`,c=""),{eventTarget:Lk(t[4]),eventName:a,eventOptions:t[7]?kk(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||c}}function Lk(i){if(i=="window")return window;if(i=="document")return document}function kk(i){return i.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function Ok(i){if(i==window)return"window";if(i==document)return"document"}function Qx(i){return i.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function Kv(i){return Qx(i.replace(/--/g,"-").replace(/__/g,"_"))}function wm(i){return i.charAt(0).toUpperCase()+i.slice(1)}function yA(i){return i.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function Rk(i){return i.match(/[^\s]+/g)||[]}function z3(i){return i!=null}function Jv(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const F3=["meta","ctrl","alt","shift"];class zk{constructor(e,t,a,c){this.element=e,this.index=t,this.eventTarget=a.eventTarget||e,this.eventName=a.eventName||Fk(e)||Sg("missing event name"),this.eventOptions=a.eventOptions||{},this.identifier=a.identifier||Sg("missing identifier"),this.methodName=a.methodName||Sg("missing method name"),this.keyFilter=a.keyFilter||"",this.schema=c}static forToken(e,t){return new this(e.element,e.index,Dk(e.content),t)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;const a=t.filter(c=>!F3.includes(c))[0];return a?(Jv(this.keyMappings,a)||Sg(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[a].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;const t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:a,value:c}of Array.from(this.element.attributes)){const p=a.match(t),y=p&&p[1];y&&(e[Qx(y)]=Bk(c))}return e}get eventTargetName(){return Ok(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){const[a,c,p,y]=F3.map(s=>t.includes(s));return e.metaKey!==a||e.ctrlKey!==c||e.altKey!==p||e.shiftKey!==y}}const B3={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:i=>i.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function Fk(i){const e=i.tagName.toLowerCase();if(e in B3)return B3[e](i)}function Sg(i){throw new Error(i)}function Bk(i){try{return JSON.parse(i)}catch{return i}}class Nk{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){const t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:a}=this.context.application,{controller:c}=this.context;let p=!0;for(const[y,s]of Object.entries(this.eventOptions))if(y in a){const L=a[y];p=p&&L({name:y,value:s,event:e,element:t,controller:c})}else continue;return p}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){const{target:t,currentTarget:a}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:a,action:this.methodName})}catch(c){const{identifier:p,controller:y,element:s,index:L}=this,R={identifier:p,controller:y,element:s,index:L,event:e};this.context.handleError(c,`invoking action "${this.action}"`,R)}}willBeInvokedByEvent(e){const t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class vA{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(a=>this.processMutations(a))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(const t of Array.from(e)){const a=this.elementFromNode(t);a&&this.processTree(a,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const a=this.elementFromNode(t);a&&this.elementIsActive(a)&&this.processTree(a,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const a of this.matchElementsInTree(e))t.call(this,a)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class xA{constructor(e,t,a){this.attributeName=t,this.delegate=a,this.elementObserver=new vA(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],a=Array.from(e.querySelectorAll(this.selector));return t.concat(a)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}function Vk(i,e,t){bA(i,e).add(t)}function Hk(i,e,t){bA(i,e).delete(t),Uk(i,e)}function bA(i,e){let t=i.get(e);return t||(t=new Set,i.set(e,t)),t}function Uk(i,e){const t=i.get(e);t!=null&&t.size==0&&i.delete(e)}class tu{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,a)=>t.concat(Array.from(a)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,a)=>t+a.size,0)}add(e,t){Vk(this.valuesByKey,e,t)}delete(e,t){Hk(this.valuesByKey,e,t)}has(e,t){const a=this.valuesByKey.get(e);return a!=null&&a.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(a=>a.has(e))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,a])=>a.has(e)).map(([t,a])=>t)}}class jk{constructor(e,t,a,c){this._selector=t,this.details=c,this.elementObserver=new vA(e,this),this.delegate=a,this.matchesByElement=new tu}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const{selector:t}=this;if(t){const a=e.matches(t);return this.delegate.selectorMatchElement?a&&this.delegate.selectorMatchElement(e,this.details):a}else return!1}matchElementsInTree(e){const{selector:t}=this;if(t){const a=this.matchElement(e)?[e]:[],c=Array.from(e.querySelectorAll(t)).filter(p=>this.matchElement(p));return a.concat(c)}else return[]}elementMatched(e){const{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){const t=this.matchesByElement.getKeysForValue(e);for(const a of t)this.selectorUnmatched(e,a)}elementAttributeChanged(e,t){const{selector:a}=this;if(a){const c=this.matchElement(e),p=this.matchesByElement.has(a,e);c&&!p?this.selectorMatched(e,a):!c&&p&&this.selectorUnmatched(e,a)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}}class qk{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(a=>this.processMutations(a))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const a=this.delegate.getStringMapKeyForAttribute(e);if(a!=null){this.stringMap.has(e)||this.stringMapKeyAdded(a,e);const c=this.element.getAttribute(e);if(this.stringMap.get(e)!=c&&this.stringMapValueChanged(c,a,t),c==null){const p=this.stringMap.get(e);this.stringMap.delete(e),p&&this.stringMapKeyRemoved(a,e,p)}else this.stringMap.set(e,c)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,a){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,a)}stringMapKeyRemoved(e,t,a){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,a)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class wA{constructor(e,t,a){this.attributeObserver=new xA(e,t,this),this.delegate=a,this.tokensByElement=new tu}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,a]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(a)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),a=this.readTokensForElement(e),c=Gk(t,a).findIndex(([p,y])=>!Wk(p,y));return c==-1?[[],[]]:[t.slice(c),a.slice(c)]}readTokensForElement(e){const t=this.attributeName,a=e.getAttribute(t)||"";return $k(a,e,t)}}function $k(i,e,t){return i.trim().split(/\s+/).filter(a=>a.length).map((a,c)=>({element:e,attributeName:t,content:a,index:c}))}function Gk(i,e){const t=Math.max(i.length,e.length);return Array.from({length:t},(a,c)=>[i[c],e[c]])}function Wk(i,e){return i&&e&&i.index==e.index&&i.content==e.content}class MA{constructor(e,t,a){this.tokenListObserver=new wA(e,t,this),this.delegate=a,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:a}=this.fetchParseResultForToken(e);a&&(this.fetchValuesByTokenForElement(t).set(e,a),this.delegate.elementMatchedValue(t,a))}tokenUnmatched(e){const{element:t}=e,{value:a}=this.fetchParseResultForToken(e);a&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,a))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}}class Zk{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new MA(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new Nk(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){const t=zk.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class Yk{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new qk(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const a=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,a.writer(this.receiver[e]),a.writer(a.defaultValue))}stringMapValueChanged(e,t,a){const c=this.valueDescriptorNameMap[t];e!==null&&(a===null&&(a=c.writer(c.defaultValue)),this.invokeChangedCallback(t,e,a))}stringMapKeyRemoved(e,t,a){const c=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,c.writer(this.receiver[e]),a):this.invokeChangedCallback(e,c.writer(c.defaultValue),a)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:a,writer:c}of this.valueDescriptors)a!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,c(a),void 0)}invokeChangedCallback(e,t,a){const c=`${e}Changed`,p=this.receiver[c];if(typeof p=="function"){const y=this.valueDescriptorNameMap[e];try{const s=y.reader(t);let L=a;a&&(L=y.reader(a)),p.call(this.receiver,s,L)}catch(s){throw s instanceof TypeError&&(s.message=`Stimulus Value "${this.context.identifier}.${y.name}" - ${s.message}`),s}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{const a=this.valueDescriptorMap[t];e[a.name]=a}),e}hasValue(e){const t=this.valueDescriptorNameMap[e],a=`has${wm(t.name)}`;return this.receiver[a]}}class Xk{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new tu}start(){this.tokenListObserver||(this.tokenListObserver=new wA(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var a;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(a=this.tokenListObserver)===null||a===void 0||a.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var a;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(a=this.tokenListObserver)===null||a===void 0||a.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function Mm(i,e){const t=SA(i);return Array.from(t.reduce((a,c)=>(Jk(c,e).forEach(p=>a.add(p)),a),new Set))}function Kk(i,e){return SA(i).reduce((a,c)=>(a.push(...Qk(c,e)),a),[])}function SA(i){const e=[];for(;i;)e.push(i),i=Object.getPrototypeOf(i);return e.reverse()}function Jk(i,e){const t=i[e];return Array.isArray(t)?t:[]}function Qk(i,e){const t=i[e];return t?Object.keys(t).map(a=>[a,t[a]]):[]}class eO{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new tu,this.outletElementsByName=new tu,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:a}){const c=this.getOutlet(e,a);c&&this.connectOutlet(c,e,a)}selectorUnmatched(e,t,{outletName:a}){const c=this.getOutletFromMap(e,a);c&&this.disconnectOutlet(c,e,a)}selectorMatchElement(e,{outletName:t}){const a=this.selector(t),c=this.hasOutlet(e,t),p=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return a?c&&p&&e.matches(a):!1}elementMatchedAttribute(e,t){const a=this.getOutletNameFromOutletAttributeName(t);a&&this.updateSelectorObserverForOutlet(a)}elementAttributeValueChanged(e,t){const a=this.getOutletNameFromOutletAttributeName(t);a&&this.updateSelectorObserverForOutlet(a)}elementUnmatchedAttribute(e,t){const a=this.getOutletNameFromOutletAttributeName(t);a&&this.updateSelectorObserverForOutlet(a)}connectOutlet(e,t,a){var c;this.outletElementsByName.has(a,t)||(this.outletsByName.add(a,e),this.outletElementsByName.add(a,t),(c=this.selectorObserverMap.get(a))===null||c===void 0||c.pause(()=>this.delegate.outletConnected(e,t,a)))}disconnectOutlet(e,t,a){var c;this.outletElementsByName.has(a,t)&&(this.outletsByName.delete(a,e),this.outletElementsByName.delete(a,t),(c=this.selectorObserverMap.get(a))===null||c===void 0||c.pause(()=>this.delegate.outletDisconnected(e,t,a)))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const a of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(a,t,e)}updateSelectorObserverForOutlet(e){const t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){const t=this.selector(e),a=new jk(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,a),a.start()}setupAttributeObserverForOutlet(e){const t=this.attributeNameForOutletName(e),a=new xA(this.scope.element,t,this);this.attributeObserverMap.set(e,a),a.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){const e=new tu;return this.router.modules.forEach(t=>{const a=t.definition.controllerConstructor;Mm(a,"outlets").forEach(p=>e.add(p,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(a=>a.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class tO{constructor(e,t){this.logDebugActivity=(a,c={})=>{const{identifier:p,controller:y,element:s}=this;c=Object.assign({identifier:p,controller:y,element:s},c),this.application.logDebugActivity(this.identifier,a,c)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Zk(this,this.dispatcher),this.valueObserver=new Yk(this,this.controller),this.targetObserver=new Xk(this,this),this.outletObserver=new eO(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(a){this.handleError(a,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,a={}){const{identifier:c,controller:p,element:y}=this;a=Object.assign({identifier:c,controller:p,element:y},a),this.application.handleError(e,`Error ${t}`,a)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,a){this.invokeControllerMethod(`${Kv(a)}OutletConnected`,e,t)}outletDisconnected(e,t,a){this.invokeControllerMethod(`${Kv(a)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const a=this.controller;typeof a[e]=="function"&&a[e](...t)}}function iO(i){return nO(i,rO(i))}function nO(i,e){const t=lO(i),a=sO(i.prototype,e);return Object.defineProperties(t.prototype,a),t}function rO(i){return Mm(i,"blessings").reduce((t,a)=>{const c=a(i);for(const p in c){const y=t[p]||{};t[p]=Object.assign(y,c[p])}return t},{})}function sO(i,e){return oO(e).reduce((t,a)=>{const c=aO(i,e,a);return c&&Object.assign(t,{[a]:c}),t},{})}function aO(i,e,t){const a=Object.getOwnPropertyDescriptor(i,t);if(!(a&&"value"in a)){const p=Object.getOwnPropertyDescriptor(e,t).value;return a&&(p.get=a.get||p.get,p.set=a.set||p.set),p}}const oO=typeof Object.getOwnPropertySymbols=="function"?i=>[...Object.getOwnPropertyNames(i),...Object.getOwnPropertySymbols(i)]:Object.getOwnPropertyNames,lO=(()=>{function i(t){function a(){return Reflect.construct(t,arguments,new.target)}return a.prototype=Object.create(t.prototype,{constructor:{value:a}}),Reflect.setPrototypeOf(a,t),a}function e(){const a=i(function(){this.a.call(this)});return a.prototype.a=function(){},new a}try{return e(),i}catch{return a=>class extends a{}}})();function cO(i){return{identifier:i.identifier,controllerConstructor:iO(i.controllerConstructor)}}class hO{constructor(e,t){this.application=e,this.definition=cO(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new tO(this,e),this.contextsByScope.set(e,t)),t}}class uO{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return Rk(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class dO{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const a=this.getAttributeNameForKey(e);return this.element.setAttribute(a,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${yA(e)}`}}class pO{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,a){let c=this.warnedKeysByObject.get(e);c||(c=new Set,this.warnedKeysByObject.set(e,c)),c.has(t)||(c.add(t),this.logger.warn(a,e))}}function Qv(i,e){return`[${i}~="${e}"]`}class fO{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,a)=>t||this.findTarget(a)||this.findLegacyTarget(a),void 0)}findAll(...e){return e.reduce((t,a)=>[...t,...this.findAllTargets(a),...this.findAllLegacyTargets(a)],[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){const t=this.schema.targetAttributeForScope(this.identifier);return Qv(t,e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(a=>this.deprecate(a,e))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return Qv(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:a}=this,c=this.schema.targetAttribute,p=this.schema.targetAttributeForScope(a);this.guide.warn(e,`target:${t}`,`Please replace ${c}="${a}.${t}" with ${p}="${t}". The ${c} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class mO{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,a)=>t||this.findOutlet(a),void 0)}findAll(...e){return e.reduce((t,a)=>[...t,...this.findAllOutlets(a)],[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(c=>this.matchesElement(c,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(c=>this.matchesElement(c,e,t))}matchesElement(e,t,a){const c=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&c.split(" ").includes(a)}}let gO=class TA{constructor(e,t,a,c){this.targets=new fO(this),this.classes=new uO(this),this.data=new dO(this),this.containsElement=p=>p.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=a,this.guide=new pO(c),this.outlets=new mO(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Qv(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new TA(this.schema,document.documentElement,this.identifier,this.guide.logger)}};class _O{constructor(e,t,a){this.element=e,this.schema=t,this.delegate=a,this.valueListObserver=new MA(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:a}=e;return this.parseValueForElementAndIdentifier(t,a)}parseValueForElementAndIdentifier(e,t){const a=this.fetchScopesByIdentifierForElement(e);let c=a.get(t);return c||(c=this.delegate.createScopeForElementAndIdentifier(e,t),a.set(t,c)),c}elementMatchedValue(e,t){const a=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,a),a==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const a=this.scopeReferenceCounts.get(t);a&&(this.scopeReferenceCounts.set(t,a-1),a==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}let yO=class{constructor(e){this.application=e,this.scopeObserver=new _O(this.element,this.schema,this),this.scopesByIdentifier=new tu,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new hO(this.application,e);this.connectModule(t);const a=e.controllerConstructor.afterLoad;a&&a.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const a=this.modulesByIdentifier.get(t);if(a)return a.contexts.find(c=>c.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){const a=this.scopeObserver.parseValueForElementAndIdentifier(e,t);a?this.scopeObserver.elementMatchedValue(a.element,a):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,a){this.application.handleError(e,t,a)}createScopeForElementAndIdentifier(e,t){return new gO(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(a=>e.connectContextForScope(a))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(a=>e.disconnectContextForScope(a))}};const vO={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:i=>`data-${i}-target`,outletAttributeForScope:(i,e)=>`data-${i}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},N3("abcdefghijklmnopqrstuvwxyz".split("").map(i=>[i,i]))),N3("0123456789".split("").map(i=>[i,i])))};function N3(i){return i.reduce((e,[t,a])=>Object.assign(Object.assign({},e),{[t]:a}),{})}class xO{constructor(e=document.documentElement,t=vO){this.logger=console,this.debug=!1,this.logDebugActivity=(a,c,p={})=>{this.debug&&this.logFormattedMessage(a,c,p)},this.element=e,this.schema=t,this.dispatcher=new Ak(this),this.router=new yO(this),this.actionDescriptorFilters=Object.assign({},Ik)}static start(e,t){const a=new this(e,t);return a.start(),a}async start(){await bO(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(c=>{c.controllerConstructor.shouldLoad&&this.router.loadDefinition(c)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(c=>this.router.unloadIdentifier(c))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){const a=this.router.getContextForElementAndIdentifier(e,t);return a?a.controller:null}handleError(e,t,a){var c;this.logger.error(`%s

%o

%o`,t,e,a),(c=window.onerror)===null||c===void 0||c.call(window,t,"",0,0,e)}logFormattedMessage(e,t,a={}){a=Object.assign({application:this},a),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},a)),this.logger.groupEnd()}}function bO(){return new Promise(i=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>i()):i()})}function wO(i){return Mm(i,"classes").reduce((t,a)=>Object.assign(t,MO(a)),{})}function MO(i){return{[`${i}Class`]:{get(){const{classes:e}=this;if(e.has(i))return e.get(i);{const t=e.getAttributeName(i);throw new Error(`Missing attribute "${t}"`)}}},[`${i}Classes`]:{get(){return this.classes.getAll(i)}},[`has${wm(i)}Class`]:{get(){return this.classes.has(i)}}}}function SO(i){return Mm(i,"outlets").reduce((t,a)=>Object.assign(t,TO(a)),{})}function V3(i,e,t){return i.application.getControllerForElementAndIdentifier(e,t)}function H3(i,e,t){let a=V3(i,e,t);if(a||(i.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),a=V3(i,e,t),a))return a}function TO(i){const e=Kv(i);return{[`${e}Outlet`]:{get(){const t=this.outlets.find(i),a=this.outlets.getSelectorForOutletName(i);if(t){const c=H3(this,t,i);if(c)return c;throw new Error(`The provided outlet element is missing an outlet controller "${i}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${i}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${a}".`)}},[`${e}Outlets`]:{get(){const t=this.outlets.findAll(i);return t.length>0?t.map(a=>{const c=H3(this,a,i);if(c)return c;console.warn(`The provided outlet element is missing an outlet controller "${i}" instance for host controller "${this.identifier}"`,a)}).filter(a=>a):[]}},[`${e}OutletElement`]:{get(){const t=this.outlets.find(i),a=this.outlets.getSelectorForOutletName(i);if(t)return t;throw new Error(`Missing outlet element "${i}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${a}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(i)}},[`has${wm(e)}Outlet`]:{get(){return this.outlets.has(i)}}}}function EO(i){return Mm(i,"targets").reduce((t,a)=>Object.assign(t,CO(a)),{})}function CO(i){return{[`${i}Target`]:{get(){const e=this.targets.find(i);if(e)return e;throw new Error(`Missing target element "${i}" for "${this.identifier}" controller`)}},[`${i}Targets`]:{get(){return this.targets.findAll(i)}},[`has${wm(i)}Target`]:{get(){return this.targets.has(i)}}}}function AO(i){const e=Kk(i,"values"),t={valueDescriptorMap:{get(){return e.reduce((a,c)=>{const p=EA(c,this.identifier),y=this.data.getAttributeNameForKey(p.key);return Object.assign(a,{[y]:p})},{})}}};return e.reduce((a,c)=>Object.assign(a,IO(c)),t)}function IO(i,e){const t=EA(i,e),{key:a,name:c,reader:p,writer:y}=t;return{[c]:{get(){const s=this.data.get(a);return s!==null?p(s):t.defaultValue},set(s){s===void 0?this.data.delete(a):this.data.set(a,y(s))}},[`has${wm(c)}`]:{get(){return this.data.has(a)||t.hasCustomDefaultValue}}}}function EA([i,e],t){return kO({controller:t,token:i,typeDefinition:e})}function w2(i){switch(i){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function X1(i){switch(typeof i){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(i))return"array";if(Object.prototype.toString.call(i)==="[object Object]")return"object"}function PO(i){const{controller:e,token:t,typeObject:a}=i,c=z3(a.type),p=z3(a.default),y=c&&p,s=c&&!p,L=!c&&p,R=w2(a.type),V=X1(i.typeObject.default);if(s)return R;if(L)return V;if(R!==V){const q=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${q}" must match the defined type "${R}". The provided default value of "${a.default}" is of type "${V}".`)}if(y)return R}function DO(i){const{controller:e,token:t,typeDefinition:a}=i,p=PO({controller:e,token:t,typeObject:a}),y=X1(a),s=w2(a),L=p||y||s;if(L)return L;const R=e?`${e}.${a}`:t;throw new Error(`Unknown value type "${R}" for "${t}" value`)}function LO(i){const e=w2(i);if(e)return U3[e];const t=Jv(i,"default"),a=Jv(i,"type"),c=i;if(t)return c.default;if(a){const{type:p}=c,y=w2(p);if(y)return U3[y]}return i}function kO(i){const{token:e,typeDefinition:t}=i,a=`${yA(e)}-value`,c=DO(i);return{type:c,key:a,name:Qx(a),get defaultValue(){return LO(t)},get hasCustomDefaultValue(){return X1(t)!==void 0},reader:OO[c],writer:j3[c]||j3.default}}const U3={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},OO={array(i){const e=JSON.parse(i);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${i}" of type "${X1(e)}"`);return e},boolean(i){return!(i=="0"||String(i).toLowerCase()=="false")},number(i){return Number(i.replace(/_/g,""))},object(i){const e=JSON.parse(i);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${i}" of type "${X1(e)}"`);return e},string(i){return i}},j3={default:RO,array:q3,object:q3};function q3(i){return JSON.stringify(i)}function RO(i){return`${i}`}class hr{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:a={},prefix:c=this.identifier,bubbles:p=!0,cancelable:y=!0}={}){const s=c?`${c}:${e}`:e,L=new CustomEvent(s,{detail:a,bubbles:p,cancelable:y});return t.dispatchEvent(L),L}}hr.blessings=[wO,EO,AO,SO];hr.targets=[];hr.outlets=[];hr.values={};class zO extends hr{connect(){this.remove()}remove(e=null){let t=3e3;e&&(t=parseInt(e.target.getAttribute("data-timer"))),setTimeout(()=>{this.element.classList.add("transition","ease-in-out","duration-300","transform","translate-x-full","opacity-0")},t),setTimeout(()=>{this.element.remove()},t+100)}}const FO=Object.freeze(Object.defineProperty({__proto__:null,default:zO},Symbol.toStringTag,{value:"Module"}));var eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var CA={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(i){(function(e,t){i.exports?i.exports=t():e.Toastify=t()})(eb,function(e){var t=function(y){return new t.lib.init(y)},a="1.12.0";t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:a,constructor:t,init:function(y){return y||(y={}),this.options={},this.toastElement=null,this.options.text=y.text||t.defaults.text,this.options.node=y.node||t.defaults.node,this.options.duration=y.duration===0?0:y.duration||t.defaults.duration,this.options.selector=y.selector||t.defaults.selector,this.options.callback=y.callback||t.defaults.callback,this.options.destination=y.destination||t.defaults.destination,this.options.newWindow=y.newWindow||t.defaults.newWindow,this.options.close=y.close||t.defaults.close,this.options.gravity=y.gravity==="bottom"?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=y.positionLeft||t.defaults.positionLeft,this.options.position=y.position||t.defaults.position,this.options.backgroundColor=y.backgroundColor||t.defaults.backgroundColor,this.options.avatar=y.avatar||t.defaults.avatar,this.options.className=y.className||t.defaults.className,this.options.stopOnFocus=y.stopOnFocus===void 0?t.defaults.stopOnFocus:y.stopOnFocus,this.options.onClick=y.onClick||t.defaults.onClick,this.options.offset=y.offset||t.defaults.offset,this.options.escapeMarkup=y.escapeMarkup!==void 0?y.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=y.ariaLive||t.defaults.ariaLive,this.options.style=y.style||t.defaults.style,y.backgroundColor&&(this.options.style.background=y.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var y=document.createElement("div");y.className="toastify on "+this.options.className,this.options.position?y.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(y.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):y.className+=" toastify-right",y.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var s in this.options.style)y.style[s]=this.options.style[s];if(this.options.ariaLive&&y.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)y.appendChild(this.options.node);else if(this.options.escapeMarkup?y.innerText=this.options.text:y.innerHTML=this.options.text,this.options.avatar!==""){var L=document.createElement("img");L.src=this.options.avatar,L.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?y.appendChild(L):y.insertAdjacentElement("afterbegin",L)}if(this.options.close===!0){var R=document.createElement("button");R.type="button",R.setAttribute("aria-label","Close"),R.className="toast-close",R.innerHTML="&#10006;",R.addEventListener("click",(function(we){we.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var V=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&V>360?y.insertAdjacentElement("afterbegin",R):y.appendChild(R)}if(this.options.stopOnFocus&&this.options.duration>0){var q=this;y.addEventListener("mouseover",function(we){window.clearTimeout(y.timeOutValue)}),y.addEventListener("mouseleave",function(){y.timeOutValue=window.setTimeout(function(){q.removeElement(y)},q.options.duration)})}if(typeof this.options.destination<"u"&&y.addEventListener("click",(function(we){we.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&y.addEventListener("click",(function(we){we.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var Z=c("x",this.options),ee=c("y",this.options),se=this.options.position=="left"?Z:"-"+Z,he=this.options.gravity=="toastify-top"?ee:"-"+ee;y.style.transform="translate("+se+","+he+")"}return y},showToast:function(){this.toastElement=this.buildToast();var y;if(typeof this.options.selector=="string"?y=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?y=this.options.selector:y=document.body,!y)throw"Root element is not defined";var s=t.defaults.oldestFirst?y.firstChild:y.lastChild;return y.insertBefore(this.toastElement,s),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(y){y.className=y.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),y.parentNode&&y.parentNode.removeChild(y),this.options.callback.call(y),t.reposition()}).bind(this),400)}},t.reposition=function(){for(var y={top:15,bottom:15},s={top:15,bottom:15},L={top:15,bottom:15},R=document.getElementsByClassName("toastify"),V,q=0;q<R.length;q++){p(R[q],"toastify-top")===!0?V="toastify-top":V="toastify-bottom";var Z=R[q].offsetHeight;V=V.substr(9,V.length-1);var ee=15,se=window.innerWidth>0?window.innerWidth:screen.width;se<=360?(R[q].style[V]=L[V]+"px",L[V]+=Z+ee):p(R[q],"toastify-left")===!0?(R[q].style[V]=y[V]+"px",y[V]+=Z+ee):(R[q].style[V]=s[V]+"px",s[V]+=Z+ee)}return this};function c(y,s){return s.offset[y]?isNaN(s.offset[y])?s.offset[y]:s.offset[y]+"px":"0px"}function p(y,s){return!y||typeof s!="string"?!1:!!(y.className&&y.className.trim().split(/\s+/gi).indexOf(s)>-1)}return t.lib.init.prototype=t.lib,t})})(CA);var BO=CA.exports;const NO=tb(BO),$3={notice:{background:"#3b82f6",duration:3e3},alert:{background:"#ef4444",duration:3e3},warning:{background:"#f59e0b",duration:3e3},success:{background:"#22c55e",duration:3e3}},pr=(i,e="notice")=>{const t=$3[e]||$3.notice;NO({text:i,duration:t.duration,gravity:"top",position:"center",stopOnFocus:!0,className:"rounded-lg",style:{background:t.background},onClick:function(){}}).showToast()};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-flash-type]").forEach(e=>{const t=e.dataset.flashType,a=e.dataset.flashMessage;pr(a,t)})});class AA extends hr{checkAvailability(e){if(!this.dropdownOpenValue)if(this.availableSeatsValue<=0){e.preventDefault(),e.stopPropagation(),pr("This schedule is fully booked. Please choose another schedule.","alert");const t=e.currentTarget;t.disabled=!0,t.classList.add("opacity-50","cursor-not-allowed")}else this.availableSeatsValue<=5&&pr(`Only ${this.availableSeatsValue} seats remaining!`,"warning");this.dropdownOpenValue=!this.dropdownOpenValue}}et(AA,"values",{availableSeats:Number,dropdownOpen:{type:Boolean,default:!1}});const VO=Object.freeze(Object.defineProperty({__proto__:null,default:AA},Symbol.toStringTag,{value:"Module"}));class IA extends hr{connect(){this.currentPosition=0,this.cardWidth=this.slideTargets[0].offsetWidth,this.totalCards=this.slideTargets.length,this.visibleCards=4}prev(){this.currentPosition+=this.cardWidth,this.currentPosition>0&&(this.currentPosition=-(this.cardWidth*(this.totalCards-this.visibleCards))),this.updatePosition()}next(){this.currentPosition-=this.cardWidth,Math.abs(this.currentPosition)>=this.cardWidth*(this.totalCards-this.visibleCards+1)&&(this.currentPosition=0),this.updatePosition()}updatePosition(){this.containerTarget.style.transform=`translateX(${this.currentPosition}px)`}}et(IA,"targets",["container","slide"]);const HO=Object.freeze(Object.defineProperty({__proto__:null,default:IA},Symbol.toStringTag,{value:"Module"}));/*! choices.js v11.0.2 | © 2024 Josh Johnson | https://github.com/jshjohnson/Choices#readme */var ex=function(i,e){return ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},ex(i,e)};function PA(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ex(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var qs=function(){return qs=Object.assign||function(e){for(var t,a=1,c=arguments.length;a<c;a++){t=arguments[a];for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(e[p]=t[p])}return e},qs.apply(this,arguments)};function UO(i,e,t){for(var a=0,c=e.length,p;a<c;a++)(p||!(a in e))&&(p||(p=Array.prototype.slice.call(e,0,a)),p[a]=e[a]);return i.concat(p||Array.prototype.slice.call(e))}var Ir={ADD_CHOICE:"ADD_CHOICE",REMOVE_CHOICE:"REMOVE_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM"},Us={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},jO=["fuseOptions","classNames"],Rc={Text:"text",SelectOne:"select-one",SelectMultiple:"select-multiple"},qO=function(i){return{type:Ir.ADD_CHOICE,choice:i}},G3=function(i){return{type:Ir.REMOVE_CHOICE,choice:i}},$O=function(i){return{type:Ir.FILTER_CHOICES,results:i}},GO=function(i){return{type:Ir.ACTIVATE_CHOICES,active:i}},WO=function(i){return{type:Ir.ADD_GROUP,group:i}},ZO=function(i){return{type:Ir.ADD_ITEM,item:i}},W3=function(i){return{type:Ir.REMOVE_ITEM,item:i}},Tg=function(i,e){return{type:Ir.HIGHLIGHT_ITEM,item:i,highlighted:e}},YO=function(i,e){return Math.floor(Math.random()*(e-i)+i)},Z3=function(i){return Array.from({length:i},function(){return YO(0,36).toString(36)}).join("")},XO=function(i,e){var t=i.id||i.name&&"".concat(i.name,"-").concat(Z3(2))||Z3(4);return t=t.replace(/(:|\.|\[|\]|,)/g,""),t="".concat(e,"-").concat(t),t},KO=function(i,e,t){t===void 0&&(t=1);for(var a="".concat(t>0?"next":"previous","ElementSibling"),c=i[a];c;){if(c.matches(e))return c;c=c[a]}return null},JO=function(i,e,t){t===void 0&&(t=1);var a;return t>0?a=e.scrollTop+e.offsetHeight>=i.offsetTop+i.offsetHeight:a=i.offsetTop>=e.scrollTop,a},Z2=function(i){if(typeof i!="string"){if(i==null)return"";if(typeof i=="object"){if("raw"in i)return Z2(i.raw);if("trusted"in i)return i.trusted}return i}return i.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},QO=function(){var i=document.createElement("div");return function(e){i.innerHTML=e.trim();for(var t=i.children[0];i.firstChild;)i.removeChild(i.firstChild);return t}}(),V1=function(i,e){return typeof i=="function"?i(Z2(e),e):i},Y3=function(i){return typeof i=="function"?i():i},Xh=function(i){if(typeof i=="string")return i;if(typeof i=="object"){if("trusted"in i)return i.trusted;if("raw"in i)return i.raw}return""},eR=function(i){if(typeof i=="string")return i;if(typeof i=="object"){if("escaped"in i)return i.escaped;if("trusted"in i)return i.trusted}return""},ib=function(i,e){return i?eR(e):Z2(e)},yl=function(i,e,t){i.innerHTML=ib(e,t)},tR=function(i,e){var t=i.value,a=i.label,c=a===void 0?t:a,p=e.value,y=e.label,s=y===void 0?p:y;return Xh(c).localeCompare(Xh(s),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},iR=function(i,e){return i.rank-e.rank},nR=function(i,e,t){t===void 0&&(t=null);var a=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0});return i.dispatchEvent(a)},rR=function(i,e){var t=Object.keys(i).sort(),a=Object.keys(e).sort();return t.filter(function(c){return a.indexOf(c)<0})},Y2=function(i){return Array.isArray(i)?i:[i]},g1=function(i){return i&&Array.isArray(i)?i.map(function(e){return".".concat(e)}).join(""):".".concat(i)},rn=function(i,e){var t;(t=i.classList).add.apply(t,Y2(e))},Bo=function(i,e){var t;(t=i.classList).remove.apply(t,Y2(e))},sR=function(i){if(typeof i<"u")try{return JSON.parse(i)}catch{return i}return{}},aR=function(i,e,t){var a=i.itemEl;a&&(Bo(a,t),rn(a,e))},oR=function(){function i(e){var t=e.element,a=e.type,c=e.classNames;this.element=t,this.classNames=c,this.type=a,this.isActive=!1}return i.prototype.show=function(){return rn(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},i.prototype.hide=function(){return Bo(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},i}(),X3=function(){function i(e){var t=e.element,a=e.type,c=e.classNames,p=e.position;this.element=t,this.classNames=c,this.type=a,this.position=p,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return i.prototype.shouldFlip=function(e,t){var a=!1;return this.position==="auto"?a=this.element.getBoundingClientRect().top-t>=0&&!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:this.position==="top"&&(a=!0),a},i.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},i.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},i.prototype.open=function(e,t){rn(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e,t)&&(rn(this.element,this.classNames.flippedState),this.isFlipped=!0)},i.prototype.close=function(){Bo(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(Bo(this.element,this.classNames.flippedState),this.isFlipped=!1)},i.prototype.addFocusState=function(){rn(this.element,this.classNames.focusState)},i.prototype.removeFocusState=function(){Bo(this.element,this.classNames.focusState)},i.prototype.enable=function(){Bo(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===Rc.SelectOne&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},i.prototype.disable=function(){rn(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===Rc.SelectOne&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},i.prototype.wrap=function(e){var t=this.element,a=e.parentNode;a&&(e.nextSibling?a.insertBefore(t,e.nextSibling):a.appendChild(t)),t.appendChild(e)},i.prototype.unwrap=function(e){var t=this.element,a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))},i.prototype.addLoadingState=function(){rn(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},i.prototype.removeLoadingState=function(){Bo(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},i}(),lR=function(){function i(e){var t=e.element,a=e.type,c=e.classNames,p=e.preventPaste;this.element=t,this.type=a,this.classNames=c,this.preventPaste=p,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(i.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),i.prototype.addEventListeners=function(){var e=this.element;e.addEventListener("paste",this._onPaste),e.addEventListener("input",this._onInput,{passive:!0}),e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})},i.prototype.removeEventListeners=function(){var e=this.element;e.removeEventListener("input",this._onInput),e.removeEventListener("paste",this._onPaste),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)},i.prototype.enable=function(){var e=this.element;e.removeAttribute("disabled"),this.isDisabled=!1},i.prototype.disable=function(){var e=this.element;e.setAttribute("disabled",""),this.isDisabled=!0},i.prototype.focus=function(){this.isFocussed||this.element.focus()},i.prototype.blur=function(){this.isFocussed&&this.element.blur()},i.prototype.clear=function(e){return e===void 0&&(e=!0),this.element.value="",e&&this.setWidth(),this},i.prototype.setWidth=function(){var e=this.element;e.style.minWidth="".concat(e.placeholder.length+1,"ch"),e.style.width="".concat(e.value.length+1,"ch")},i.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},i.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},i.prototype._onInput=function(){this.type!==Rc.SelectOne&&this.setWidth()},i.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},i.prototype._onFocus=function(){this.isFocussed=!0},i.prototype._onBlur=function(){this.isFocussed=!1},i}(),cR=4,K3=function(){function i(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return i.prototype.prepend=function(e){var t=this.element.firstElementChild;t?this.element.insertBefore(e,t):this.element.append(e)},i.prototype.scrollToTop=function(){this.element.scrollTop=0},i.prototype.scrollToChildElement=function(e,t){var a=this;if(e){var c=this.element.offsetHeight,p=this.element.scrollTop+c,y=e.offsetHeight,s=e.offsetTop+y,L=t>0?this.element.scrollTop+s-p:e.offsetTop;requestAnimationFrame(function(){a._animateScroll(L,t)})}},i.prototype._scrollDown=function(e,t,a){var c=(a-e)/t,p=c>1?c:1;this.element.scrollTop=e+p},i.prototype._scrollUp=function(e,t,a){var c=(e-a)/t,p=c>1?c:1;this.element.scrollTop=e-p},i.prototype._animateScroll=function(e,t){var a=this,c=cR,p=this.element.scrollTop,y=!1;t>0?(this._scrollDown(p,c,e),p<e&&(y=!0)):(this._scrollUp(p,c,e),p>e&&(y=!0)),y&&requestAnimationFrame(function(){a._animateScroll(e,t)})},i}(),DA=function(){function i(e){var t=e.element,a=e.classNames;this.element=t,this.classNames=a,this.isDisabled=!1}return Object.defineProperty(i.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),i.prototype.conceal=function(){var e=this.element;rn(e,this.classNames.input),e.hidden=!0,e.tabIndex=-1;var t=e.getAttribute("style");t&&e.setAttribute("data-choice-orig-style",t),e.setAttribute("data-choice","active")},i.prototype.reveal=function(){var e=this.element;Bo(e,this.classNames.input),e.hidden=!1,e.removeAttribute("tabindex");var t=e.getAttribute("data-choice-orig-style");t?(e.removeAttribute("data-choice-orig-style"),e.setAttribute("style",t)):e.removeAttribute("style"),e.removeAttribute("data-choice")},i.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},i.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},i.prototype.triggerEvent=function(e,t){nR(this.element,e,t||{})},i}(),hR=function(i){PA(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(DA),I1=function(i,e){return e===void 0&&(e=!0),typeof i>"u"?e:!!i},LA=function(i){if(typeof i=="string"&&(i=i.split(" ").filter(function(e){return e.length})),Array.isArray(i)&&i.length)return i},Oo=function(i,e){if(typeof i=="string"){var t=Oo({value:i,label:i},!1);return t}var a=i;if("choices"in a){if(!e)throw new TypeError("optGroup is not allowed");var c=a,p=c.choices.map(function(R){return Oo(R,!1)}),y={id:0,label:Xh(c.label)||c.value,active:!!p.length,disabled:!!c.disabled,choices:p};return y}var s=a,L={id:0,group:null,score:0,rank:0,value:s.value,label:s.label||s.value,active:I1(s.active),selected:I1(s.selected,!1),disabled:I1(s.disabled,!1),placeholder:I1(s.placeholder,!1),highlighted:!1,labelClass:LA(s.labelClass),labelDescription:s.labelDescription,customProperties:s.customProperties};return L},uR=function(i){return i.tagName==="INPUT"},kA=function(i){return i.tagName==="SELECT"},dR=function(i){return i.tagName==="OPTION"},pR=function(i){return i.tagName==="OPTGROUP"},fR=function(i){PA(e,i);function e(t){var a=t.element,c=t.classNames,p=t.template,y=t.extractPlaceholder,s=i.call(this,{element:a,classNames:c})||this;return s.template=p,s.extractPlaceholder=y,s}return Object.defineProperty(e.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),e.prototype.addOptions=function(t){var a=this,c=document.createDocumentFragment();t.forEach(function(p){var y=p;if(!y.element){var s=a.template(y);c.appendChild(s),y.element=s}}),this.element.appendChild(c)},e.prototype.optionsAsChoices=function(){var t=this,a=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(c){dR(c)?a.push(t._optionToChoice(c)):pR(c)&&a.push(t._optgroupToChoice(c))}),a},e.prototype._optionToChoice=function(t){return!t.hasAttribute("value")&&t.hasAttribute("placeholder")&&(t.setAttribute("value",""),t.value=""),{id:0,group:null,score:0,rank:0,value:t.value,label:t.innerHTML,element:t,active:!0,selected:this.extractPlaceholder?t.selected:t.hasAttribute("selected"),disabled:t.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!t.value||t.hasAttribute("placeholder")),labelClass:typeof t.dataset.labelClass<"u"?LA(t.dataset.labelClass):void 0,labelDescription:typeof t.dataset.labelDescription<"u"?t.dataset.labelDescription:void 0,customProperties:sR(t.dataset.customProperties)}},e.prototype._optgroupToChoice=function(t){var a=this,c=t.querySelectorAll("option"),p=Array.from(c).map(function(y){return a._optionToChoice(y)});return{id:0,label:t.label||"",element:t,active:!!p.length,disabled:t.disabled,choices:p}},e}(DA),mR={containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},J3={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(i){return!!i&&i!==""},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:tR,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(i){return'Press Enter to add <b>"'.concat(i,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(i){return"Remove item: ".concat(i)},maxItemText:function(i){return"Only ".concat(i," values can be added")},valueComparer:function(i,e){return i===e},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:mR,appendGroupInSearch:!1},Q3=function(i){var e=i.itemEl;e&&(e.remove(),i.itemEl=void 0)};function gR(i,e,t){var a=i,c=!0;switch(e.type){case Ir.ADD_ITEM:{e.item.selected=!0;var p=e.item.element;p&&(p.selected=!0,p.setAttribute("selected","")),a.push(e.item);break}case Ir.REMOVE_ITEM:{e.item.selected=!1;var p=e.item.element;if(p){p.selected=!1,p.removeAttribute("selected");var y=p.parentElement;y&&kA(y)&&y.type===Rc.SelectOne&&(y.value="")}Q3(e.item),a=a.filter(function(V){return V.id!==e.item.id});break}case Ir.REMOVE_CHOICE:{Q3(e.choice),a=a.filter(function(R){return R.id!==e.choice.id});break}case Ir.HIGHLIGHT_ITEM:{var s=e.highlighted,L=a.find(function(R){return R.id===e.item.id});L&&L.highlighted!==s&&(L.highlighted=s,t&&aR(L,s?t.classNames.highlightedState:t.classNames.selectedState,s?t.classNames.selectedState:t.classNames.highlightedState));break}default:{c=!1;break}}return{state:a,update:c}}function _R(i,e){var t=i,a=!0;switch(e.type){case Ir.ADD_GROUP:{t.push(e.group);break}case Ir.CLEAR_CHOICES:{t=[];break}default:{a=!1;break}}return{state:t,update:a}}function yR(i,e,t){var a=i,c=!0;switch(e.type){case Ir.ADD_CHOICE:{a.push(e.choice);break}case Ir.REMOVE_CHOICE:{e.choice.choiceEl=void 0,e.choice.group&&(e.choice.group.choices=e.choice.group.choices.filter(function(y){return y.id!==e.choice.id})),a=a.filter(function(y){return y.id!==e.choice.id});break}case Ir.ADD_ITEM:case Ir.REMOVE_ITEM:{e.item.choiceEl=void 0;break}case Ir.FILTER_CHOICES:{var p=[];e.results.forEach(function(y){p[y.item.id]=y}),a.forEach(function(y){var s=p[y.id];s!==void 0?(y.score=s.score,y.rank=s.rank,y.active=!0):(y.score=0,y.rank=0,y.active=!1),t&&t.appendGroupInSearch&&(y.choiceEl=void 0)});break}case Ir.ACTIVATE_CHOICES:{a.forEach(function(y){y.active=e.active,t&&t.appendGroupInSearch&&(y.choiceEl=void 0)});break}case Ir.CLEAR_CHOICES:{a=[];break}default:{c=!1;break}}return{state:a,update:c}}var e5={groups:_R,items:gR,choices:yR},vR=function(){function i(e){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=e}return Object.defineProperty(i.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),i.prototype.changeSet=function(e){return{groups:e,items:e,choices:e}},i.prototype.reset=function(){this._state=this.defaultState;var e=this.changeSet(!0);this._txn?this._changeSet=e:this._listeners.forEach(function(t){return t(e)})},i.prototype.subscribe=function(e){return this._listeners.push(e),this},i.prototype.dispatch=function(e){var t=this,a=this._state,c=!1,p=this._changeSet||this.changeSet(!1);Object.keys(e5).forEach(function(y){var s=e5[y](a[y],e,t._context);s.update&&(c=!0,p[y]=!0,a[y]=s.state)}),c&&(this._txn?this._changeSet=p:this._listeners.forEach(function(y){return y(p)}))},i.prototype.withTxn=function(e){this._txn++;try{e()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var t=this._changeSet;t&&(this._changeSet=void 0,this._listeners.forEach(function(a){return a(t)}))}}},Object.defineProperty(i.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(e){return!e.disabled&&e.active&&e.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"activeChoices",{get:function(){return this.choices.filter(function(e){return e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(e){return!e.disabled&&!e.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"activeGroups",{get:function(){var e=this;return this.state.groups.filter(function(t){var a=t.active&&!t.disabled,c=e.state.choices.some(function(p){return p.active&&!p.disabled});return a&&c},[])},enumerable:!1,configurable:!0}),i.prototype.inTxn=function(){return this._txn>0},i.prototype.getChoiceById=function(e){return this.activeChoices.find(function(t){return t.id===e})},i.prototype.getGroupById=function(e){return this.groups.find(function(t){return t.id===e})},i}(),Cs={noChoices:"no-choices",noResults:"no-results",addChoice:"add-choice",generic:""};function xR(i,e,t){return(e=wR(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function t5(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),t.push.apply(t,a)}return t}function ip(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(t),!0).forEach(function(a){xR(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):t5(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function bR(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function wR(i){var e=bR(i,"string");return typeof e=="symbol"?e:e+""}function Ol(i){return Array.isArray?Array.isArray(i):zA(i)==="[object Array]"}const MR=1/0;function SR(i){if(typeof i=="string")return i;let e=i+"";return e=="0"&&1/i==-MR?"-0":e}function TR(i){return i==null?"":SR(i)}function Ho(i){return typeof i=="string"}function OA(i){return typeof i=="number"}function ER(i){return i===!0||i===!1||CR(i)&&zA(i)=="[object Boolean]"}function RA(i){return typeof i=="object"}function CR(i){return RA(i)&&i!==null}function ga(i){return i!=null}function vv(i){return!i.trim().length}function zA(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const AR="Incorrect 'index' type",IR=i=>`Invalid value for key ${i}`,PR=i=>`Pattern length exceeds max of ${i}.`,DR=i=>`Missing ${i} property in key`,LR=i=>`Property 'weight' in key '${i}' must be a positive integer`,i5=Object.prototype.hasOwnProperty;class kR{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(a=>{let c=FA(a);this._keys.push(c),this._keyMap[c.id]=c,t+=c.weight}),this._keys.forEach(a=>{a.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function FA(i){let e=null,t=null,a=null,c=1,p=null;if(Ho(i)||Ol(i))a=i,e=n5(i),t=tx(i);else{if(!i5.call(i,"name"))throw new Error(DR("name"));const y=i.name;if(a=y,i5.call(i,"weight")&&(c=i.weight,c<=0))throw new Error(LR(y));e=n5(y),t=tx(y),p=i.getFn}return{path:e,id:t,weight:c,src:a,getFn:p}}function n5(i){return Ol(i)?i:i.split(".")}function tx(i){return Ol(i)?i.join("."):i}function OR(i,e){let t=[],a=!1;const c=(p,y,s)=>{if(ga(p))if(!y[s])t.push(p);else{let L=y[s];const R=p[L];if(!ga(R))return;if(s===y.length-1&&(Ho(R)||OA(R)||ER(R)))t.push(TR(R));else if(Ol(R)){a=!0;for(let V=0,q=R.length;V<q;V+=1)c(R[V],y,s+1)}else y.length&&c(R,y,s+1)}};return c(i,Ho(e)?e.split("."):e,0),a?t:t[0]}const RR={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},zR={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,e)=>i.score===e.score?i.idx<e.idx?-1:1:i.score<e.score?-1:1},FR={location:0,threshold:.6,distance:100},BR={useExtendedSearch:!1,getFn:OR,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var qi=ip(ip(ip(ip({},zR),RR),FR),BR);const NR=/[^ ]+/g;function VR(i=1,e=3){const t=new Map,a=Math.pow(10,e);return{get(c){const p=c.match(NR).length;if(t.has(p))return t.get(p);const y=1/Math.pow(p,.5*i),s=parseFloat(Math.round(y*a)/a);return t.set(p,s),s},clear(){t.clear()}}}class nb{constructor({getFn:e=qi.getFn,fieldNormWeight:t=qi.fieldNormWeight}={}){this.norm=VR(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,a)=>{this._keysMap[t.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ho(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Ho(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,a=this.size();t<a;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!ga(e)||vv(e))return;let a={v:e,i:t,n:this.norm.get(e)};this.records.push(a)}_addObject(e,t){let a={i:t,$:{}};this.keys.forEach((c,p)=>{let y=c.getFn?c.getFn(e):this.getFn(e,c.path);if(ga(y)){if(Ol(y)){let s=[];const L=[{nestedArrIndex:-1,value:y}];for(;L.length;){const{nestedArrIndex:R,value:V}=L.pop();if(ga(V))if(Ho(V)&&!vv(V)){let q={v:V,i:R,n:this.norm.get(V)};s.push(q)}else Ol(V)&&V.forEach((q,Z)=>{L.push({nestedArrIndex:Z,value:q})})}a.$[p]=s}else if(Ho(y)&&!vv(y)){let s={v:y,n:this.norm.get(y)};a.$[p]=s}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}}function BA(i,e,{getFn:t=qi.getFn,fieldNormWeight:a=qi.fieldNormWeight}={}){const c=new nb({getFn:t,fieldNormWeight:a});return c.setKeys(i.map(FA)),c.setSources(e),c.create(),c}function HR(i,{getFn:e=qi.getFn,fieldNormWeight:t=qi.fieldNormWeight}={}){const{keys:a,records:c}=i,p=new nb({getFn:e,fieldNormWeight:t});return p.setKeys(a),p.setIndexRecords(c),p}function Eg(i,{errors:e=0,currentLocation:t=0,expectedLocation:a=0,distance:c=qi.distance,ignoreLocation:p=qi.ignoreLocation}={}){const y=e/i.length;if(p)return y;const s=Math.abs(a-t);return c?y+s/c:s?1:y}function UR(i=[],e=qi.minMatchCharLength){let t=[],a=-1,c=-1,p=0;for(let y=i.length;p<y;p+=1){let s=i[p];s&&a===-1?a=p:!s&&a!==-1&&(c=p-1,c-a+1>=e&&t.push([a,c]),a=-1)}return i[p-1]&&p-a>=e&&t.push([a,p-1]),t}const Zh=32;function jR(i,e,t,{location:a=qi.location,distance:c=qi.distance,threshold:p=qi.threshold,findAllMatches:y=qi.findAllMatches,minMatchCharLength:s=qi.minMatchCharLength,includeMatches:L=qi.includeMatches,ignoreLocation:R=qi.ignoreLocation}={}){if(e.length>Zh)throw new Error(PR(Zh));const V=e.length,q=i.length,Z=Math.max(0,Math.min(a,q));let ee=p,se=Z;const he=s>1||L,we=he?Array(q):[];let De;for(;(De=i.indexOf(e,se))>-1;){let it=Eg(e,{currentLocation:De,expectedLocation:Z,distance:c,ignoreLocation:R});if(ee=Math.min(it,ee),se=De+V,he){let _t=0;for(;_t<V;)we[De+_t]=1,_t+=1}}se=-1;let Ze=[],ct=1,rt=V+q;const gt=1<<V-1;for(let it=0;it<V;it+=1){let _t=0,Ft=rt;for(;_t<Ft;)Eg(e,{errors:it,currentLocation:Z+Ft,expectedLocation:Z,distance:c,ignoreLocation:R})<=ee?_t=Ft:rt=Ft,Ft=Math.floor((rt-_t)/2+_t);rt=Ft;let vt=Math.max(1,Z-Ft+1),It=y?q:Math.min(Z+Ft,q)+V,Qt=Array(It+2);Qt[It+1]=(1<<it)-1;for(let Ji=It;Ji>=vt;Ji-=1){let zt=Ji-1,Ye=t[i.charAt(zt)];if(he&&(we[zt]=+!!Ye),Qt[Ji]=(Qt[Ji+1]<<1|1)&Ye,it&&(Qt[Ji]|=(Ze[Ji+1]|Ze[Ji])<<1|1|Ze[Ji+1]),Qt[Ji]&gt&&(ct=Eg(e,{errors:it,currentLocation:zt,expectedLocation:Z,distance:c,ignoreLocation:R}),ct<=ee)){if(ee=ct,se=zt,se<=Z)break;vt=Math.max(1,2*Z-se)}}if(Eg(e,{errors:it+1,currentLocation:Z,expectedLocation:Z,distance:c,ignoreLocation:R})>ee)break;Ze=Qt}const Tt={isMatch:se>=0,score:Math.max(.001,ct)};if(he){const it=UR(we,s);it.length?L&&(Tt.indices=it):Tt.isMatch=!1}return Tt}function qR(i){let e={};for(let t=0,a=i.length;t<a;t+=1){const c=i.charAt(t);e[c]=(e[c]||0)|1<<a-t-1}return e}class NA{constructor(e,{location:t=qi.location,threshold:a=qi.threshold,distance:c=qi.distance,includeMatches:p=qi.includeMatches,findAllMatches:y=qi.findAllMatches,minMatchCharLength:s=qi.minMatchCharLength,isCaseSensitive:L=qi.isCaseSensitive,ignoreLocation:R=qi.ignoreLocation}={}){if(this.options={location:t,threshold:a,distance:c,includeMatches:p,findAllMatches:y,minMatchCharLength:s,isCaseSensitive:L,ignoreLocation:R},this.pattern=L?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const V=(Z,ee)=>{this.chunks.push({pattern:Z,alphabet:qR(Z),startIndex:ee})},q=this.pattern.length;if(q>Zh){let Z=0;const ee=q%Zh,se=q-ee;for(;Z<se;)V(this.pattern.substr(Z,Zh),Z),Z+=Zh;if(ee){const he=q-Zh;V(this.pattern.substr(he),he)}}else V(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:a}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let se={isMatch:!0,score:0};return a&&(se.indices=[[0,e.length-1]]),se}const{location:c,distance:p,threshold:y,findAllMatches:s,minMatchCharLength:L,ignoreLocation:R}=this.options;let V=[],q=0,Z=!1;this.chunks.forEach(({pattern:se,alphabet:he,startIndex:we})=>{const{isMatch:De,score:Ze,indices:ct}=jR(e,se,he,{location:c+we,distance:p,threshold:y,findAllMatches:s,minMatchCharLength:L,includeMatches:a,ignoreLocation:R});De&&(Z=!0),q+=Ze,De&&ct&&(V=[...V,...ct])});let ee={isMatch:Z,score:Z?q/this.chunks.length:1};return Z&&a&&(ee.indices=V),ee}}class Wc{constructor(e){this.pattern=e}static isMultiMatch(e){return r5(e,this.multiRegex)}static isSingleMatch(e){return r5(e,this.singleRegex)}search(){}}function r5(i,e){const t=i.match(e);return t?t[1]:null}class $R extends Wc{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class GR extends Wc{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const a=e.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}}class WR extends Wc{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class ZR extends Wc{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class YR extends Wc{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class XR extends Wc{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class VA extends Wc{constructor(e,{location:t=qi.location,threshold:a=qi.threshold,distance:c=qi.distance,includeMatches:p=qi.includeMatches,findAllMatches:y=qi.findAllMatches,minMatchCharLength:s=qi.minMatchCharLength,isCaseSensitive:L=qi.isCaseSensitive,ignoreLocation:R=qi.ignoreLocation}={}){super(e),this._bitapSearch=new NA(e,{location:t,threshold:a,distance:c,includeMatches:p,findAllMatches:y,minMatchCharLength:s,isCaseSensitive:L,ignoreLocation:R})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class HA extends Wc{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,a;const c=[],p=this.pattern.length;for(;(a=e.indexOf(this.pattern,t))>-1;)t=a+p,c.push([a,t-1]);const y=!!c.length;return{isMatch:y,score:y?0:1,indices:c}}}const ix=[$R,HA,WR,ZR,XR,YR,GR,VA],s5=ix.length,KR=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,JR="|";function QR(i,e={}){return i.split(JR).map(t=>{let a=t.trim().split(KR).filter(p=>p&&!!p.trim()),c=[];for(let p=0,y=a.length;p<y;p+=1){const s=a[p];let L=!1,R=-1;for(;!L&&++R<s5;){const V=ix[R];let q=V.isMultiMatch(s);q&&(c.push(new V(q,e)),L=!0)}if(!L)for(R=-1;++R<s5;){const V=ix[R];let q=V.isSingleMatch(s);if(q){c.push(new V(q,e));break}}}return c})}const e9=new Set([VA.type,HA.type]);class t9{constructor(e,{isCaseSensitive:t=qi.isCaseSensitive,includeMatches:a=qi.includeMatches,minMatchCharLength:c=qi.minMatchCharLength,ignoreLocation:p=qi.ignoreLocation,findAllMatches:y=qi.findAllMatches,location:s=qi.location,threshold:L=qi.threshold,distance:R=qi.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:a,minMatchCharLength:c,findAllMatches:y,ignoreLocation:p,location:s,threshold:L,distance:R},this.pattern=t?e:e.toLowerCase(),this.query=QR(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:a,isCaseSensitive:c}=this.options;e=c?e:e.toLowerCase();let p=0,y=[],s=0;for(let L=0,R=t.length;L<R;L+=1){const V=t[L];y.length=0,p=0;for(let q=0,Z=V.length;q<Z;q+=1){const ee=V[q],{isMatch:se,indices:he,score:we}=ee.search(e);if(se){if(p+=1,s+=we,a){const De=ee.constructor.type;e9.has(De)?y=[...y,...he]:y.push(he)}}else{s=0,p=0,y.length=0;break}}if(p){let q={isMatch:!0,score:s/p};return a&&(q.indices=y),q}}return{isMatch:!1,score:1}}}const nx=[];function i9(...i){nx.push(...i)}function rx(i,e){for(let t=0,a=nx.length;t<a;t+=1){let c=nx[t];if(c.condition(i,e))return new c(i,e)}return new NA(i,e)}const M2={AND:"$and",OR:"$or"},sx={PATH:"$path",PATTERN:"$val"},ax=i=>!!(i[M2.AND]||i[M2.OR]),n9=i=>!!i[sx.PATH],r9=i=>!Ol(i)&&RA(i)&&!ax(i),a5=i=>({[M2.AND]:Object.keys(i).map(e=>({[e]:i[e]}))});function UA(i,e,{auto:t=!0}={}){const a=c=>{let p=Object.keys(c);const y=n9(c);if(!y&&p.length>1&&!ax(c))return a(a5(c));if(r9(c)){const L=y?c[sx.PATH]:p[0],R=y?c[sx.PATTERN]:c[L];if(!Ho(R))throw new Error(IR(L));const V={keyId:tx(L),pattern:R};return t&&(V.searcher=rx(R,e)),V}let s={children:[],operator:p[0]};return p.forEach(L=>{const R=c[L];Ol(R)&&R.forEach(V=>{s.children.push(a(V))})}),s};return ax(i)||(i=a5(i)),a(i)}function s9(i,{ignoreFieldNorm:e=qi.ignoreFieldNorm}){i.forEach(t=>{let a=1;t.matches.forEach(({key:c,norm:p,score:y})=>{const s=c?c.weight:null;a*=Math.pow(y===0&&s?Number.EPSILON:y,(s||1)*(e?1:p))}),t.score=a})}function a9(i,e){const t=i.matches;e.matches=[],ga(t)&&t.forEach(a=>{if(!ga(a.indices)||!a.indices.length)return;const{indices:c,value:p}=a;let y={indices:c,value:p};a.key&&(y.key=a.key.src),a.idx>-1&&(y.refIndex=a.idx),e.matches.push(y)})}function o9(i,e){e.score=i.score}function l9(i,e,{includeMatches:t=qi.includeMatches,includeScore:a=qi.includeScore}={}){const c=[];return t&&c.push(a9),a&&c.push(o9),i.map(p=>{const{idx:y}=p,s={item:e[y],refIndex:y};return c.length&&c.forEach(L=>{L(p,s)}),s})}class Ap{constructor(e,t={},a){this.options=ip(ip({},qi),t),this.options.useExtendedSearch,this._keyStore=new kR(this.options.keys),this.setCollection(e,a)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof nb))throw new Error(AR);this._myIndex=t||BA(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ga(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let a=0,c=this._docs.length;a<c;a+=1){const p=this._docs[a];e(p,a)&&(this.removeAt(a),a-=1,c-=1,t.push(p))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:a,includeScore:c,shouldSort:p,sortFn:y,ignoreFieldNorm:s}=this.options;let L=Ho(e)?Ho(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return s9(L,{ignoreFieldNorm:s}),p&&L.sort(y),OA(t)&&t>-1&&(L=L.slice(0,t)),l9(L,this._docs,{includeMatches:a,includeScore:c})}_searchStringList(e){const t=rx(e,this.options),{records:a}=this._myIndex,c=[];return a.forEach(({v:p,i:y,n:s})=>{if(!ga(p))return;const{isMatch:L,score:R,indices:V}=t.searchIn(p);L&&c.push({item:p,idx:y,matches:[{score:R,value:p,norm:s,indices:V}]})}),c}_searchLogical(e){const t=UA(e,this.options),a=(s,L,R)=>{if(!s.children){const{keyId:q,searcher:Z}=s,ee=this._findMatches({key:this._keyStore.get(q),value:this._myIndex.getValueForItemAtKeyId(L,q),searcher:Z});return ee&&ee.length?[{idx:R,item:L,matches:ee}]:[]}const V=[];for(let q=0,Z=s.children.length;q<Z;q+=1){const ee=s.children[q],se=a(ee,L,R);if(se.length)V.push(...se);else if(s.operator===M2.AND)return[]}return V},c=this._myIndex.records,p={},y=[];return c.forEach(({$:s,i:L})=>{if(ga(s)){let R=a(t,s,L);R.length&&(p[L]||(p[L]={idx:L,item:s,matches:[]},y.push(p[L])),R.forEach(({matches:V})=>{p[L].matches.push(...V)}))}}),y}_searchObjectList(e){const t=rx(e,this.options),{keys:a,records:c}=this._myIndex,p=[];return c.forEach(({$:y,i:s})=>{if(!ga(y))return;let L=[];a.forEach((R,V)=>{L.push(...this._findMatches({key:R,value:y[V],searcher:t}))}),L.length&&p.push({idx:s,item:y,matches:L})}),p}_findMatches({key:e,value:t,searcher:a}){if(!ga(t))return[];let c=[];if(Ol(t))t.forEach(({v:p,i:y,n:s})=>{if(!ga(p))return;const{isMatch:L,score:R,indices:V}=a.searchIn(p);L&&c.push({score:R,key:e,value:p,idx:y,norm:s,indices:V})});else{const{v:p,n:y}=t,{isMatch:s,score:L,indices:R}=a.searchIn(p);s&&c.push({score:L,key:e,value:p,norm:y,indices:R})}return c}}Ap.version="7.0.0";Ap.createIndex=BA;Ap.parseIndex=HR;Ap.config=qi;Ap.parseQuery=UA;i9(t9);var c9=function(){function i(e){this._haystack=[],this._fuseOptions=qs(qs({},e.fuseOptions),{keys:UO([],e.searchFields),includeMatches:!0})}return i.prototype.index=function(e){this._haystack=e,this._fuse&&this._fuse.setCollection(e)},i.prototype.reset=function(){this._haystack=[],this._fuse=void 0},i.prototype.isEmptyIndex=function(){return!this._haystack.length},i.prototype.search=function(e){this._fuse||(this._fuse=new Ap(this._haystack,this._fuseOptions));var t=this._fuse.search(e);return t.map(function(a,c){return{item:a.item,score:a.score||0,rank:c+1}})},i}();function h9(i){return new c9(i)}var u9=function(i){for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0},xv=function(i,e,t){var a=i.dataset,c=e.customProperties,p=e.labelClass,y=e.labelDescription;p&&(a.labelClass=Y2(p).join(" ")),y&&(a.labelDescription=y),t&&c&&(typeof c=="string"?a.customProperties=c:typeof c=="object"&&!u9(c)&&(a.customProperties=JSON.stringify(c)))},o5=function(i,e,t){var a=e&&i.querySelector("label[for='".concat(e,"']")),c=a&&a.innerText;c&&t.setAttribute("aria-label",c)},d9={containerOuter:function(i,e,t,a,c,p,y){var s=i.classNames.containerOuter,L=document.createElement("div");return rn(L,s),L.dataset.type=p,e&&(L.dir=e),a&&(L.tabIndex=0),t&&(L.setAttribute("role",c?"combobox":"listbox"),c?L.setAttribute("aria-autocomplete","list"):y||o5(this._docRoot,this.passedElement.element.id,L),L.setAttribute("aria-haspopup","true"),L.setAttribute("aria-expanded","false")),y&&L.setAttribute("aria-labelledby",y),L},containerInner:function(i){var e=i.classNames.containerInner,t=document.createElement("div");return rn(t,e),t},itemList:function(i,e){var t=i.searchEnabled,a=i.classNames,c=a.list,p=a.listSingle,y=a.listItems,s=document.createElement("div");return rn(s,c),rn(s,e?p:y),this._isSelectElement&&t&&s.setAttribute("role","listbox"),s},placeholder:function(i,e){var t=i.allowHTML,a=i.classNames.placeholder,c=document.createElement("div");return rn(c,a),yl(c,t,e),c},item:function(i,e,t){var a=i.allowHTML,c=i.removeItemButtonAlignLeft,p=i.removeItemIconText,y=i.removeItemLabelText,s=i.classNames,L=s.item,R=s.button,V=s.highlightedState,q=s.itemSelectable,Z=s.placeholder,ee=Xh(e.value),se=document.createElement("div");if(rn(se,L),e.labelClass){var he=document.createElement("span");yl(he,a,e.label),rn(he,e.labelClass),se.appendChild(he)}else yl(se,a,e.label);if(se.dataset.item="",se.dataset.id=e.id,se.dataset.value=ee,xv(se,e,!0),(e.disabled||this.containerOuter.isDisabled)&&se.setAttribute("aria-disabled","true"),this._isSelectElement&&(se.setAttribute("aria-selected","true"),se.setAttribute("role","option")),e.placeholder&&(rn(se,Z),se.dataset.placeholder=""),rn(se,e.highlighted?V:q),t){e.disabled&&Bo(se,q),se.dataset.deletable="";var we=document.createElement("button");we.type="button",rn(we,R),yl(we,!0,V1(p,e.value));var De=V1(y,e.value);De&&we.setAttribute("aria-label",De),we.dataset.button="",c?se.insertAdjacentElement("afterbegin",we):se.appendChild(we)}return se},choiceList:function(i,e){var t=i.classNames.list,a=document.createElement("div");return rn(a,t),e||a.setAttribute("aria-multiselectable","true"),a.setAttribute("role","listbox"),a},choiceGroup:function(i,e){var t=i.allowHTML,a=i.classNames,c=a.group,p=a.groupHeading,y=a.itemDisabled,s=e.id,L=e.label,R=e.disabled,V=Xh(L),q=document.createElement("div");rn(q,c),R&&rn(q,y),q.setAttribute("role","group"),q.dataset.group="",q.dataset.id=s,q.dataset.value=V,R&&q.setAttribute("aria-disabled","true");var Z=document.createElement("div");return rn(Z,p),yl(Z,t,L||""),q.appendChild(Z),q},choice:function(i,e,t,a){var c=i.allowHTML,p=i.classNames,y=p.item,s=p.itemChoice,L=p.itemSelectable,R=p.selectedState,V=p.itemDisabled,q=p.description,Z=p.placeholder,ee=e.label,se=Xh(e.value),he=document.createElement("div");he.id=e.elementId,rn(he,y),rn(he,s),a&&typeof ee=="string"&&(ee=ib(c,ee),ee+=" (".concat(a,")"),ee={trusted:ee});var we=he;if(e.labelClass){var De=document.createElement("span");yl(De,c,ee),rn(De,e.labelClass),we=De,he.appendChild(De)}else yl(he,c,ee);if(e.labelDescription){var Ze="".concat(e.elementId,"-description");we.setAttribute("aria-describedby",Ze);var ct=document.createElement("span");yl(ct,c,e.labelDescription),ct.id=Ze,rn(ct,q),he.appendChild(ct)}return e.selected&&rn(he,R),e.placeholder&&rn(he,Z),he.setAttribute("role",e.group?"treeitem":"option"),he.dataset.choice="",he.dataset.id=e.id,he.dataset.value=se,t&&(he.dataset.selectText=t),e.group&&(he.dataset.groupId="".concat(e.group.id)),xv(he,e,!1),e.disabled?(rn(he,V),he.dataset.choiceDisabled="",he.setAttribute("aria-disabled","true")):(rn(he,L),he.dataset.choiceSelectable=""),he},input:function(i,e){var t=i.classNames,a=t.input,c=t.inputCloned,p=i.labelId,y=document.createElement("input");return y.type="search",rn(y,a),rn(y,c),y.autocomplete="off",y.autocapitalize="off",y.spellcheck=!1,y.setAttribute("role","textbox"),y.setAttribute("aria-autocomplete","list"),e?y.setAttribute("aria-label",e):p||o5(this._docRoot,this.passedElement.element.id,y),y},dropdown:function(i){var e=i.classNames,t=e.list,a=e.listDropdown,c=document.createElement("div");return rn(c,t),rn(c,a),c.setAttribute("aria-expanded","false"),c},notice:function(i,e,t){var a=i.classNames,c=a.item,p=a.itemChoice,y=a.addChoice,s=a.noResults,L=a.noChoices,R=a.notice;t===void 0&&(t=Cs.generic);var V=document.createElement("div");switch(yl(V,!0,e),rn(V,c),rn(V,p),rn(V,R),t){case Cs.addChoice:rn(V,y);break;case Cs.noResults:rn(V,s);break;case Cs.noChoices:rn(V,L);break}return t===Cs.addChoice&&(V.dataset.choiceSelectable="",V.dataset.choice=""),V},option:function(i){var e=Xh(i.label),t=new Option(e,i.value,!1,i.selected);return xv(t,i,!0),t.disabled=i.disabled,i.selected&&t.setAttribute("selected",""),t}},p9="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,f9={},bv=function(i){if(i)return i.dataset.id?parseInt(i.dataset.id,10):void 0},_1="[data-choice-selectable]",m9=function(){function i(e,t){e===void 0&&(e="[data-choice]"),t===void 0&&(t={});var a=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var c=i.defaults;this.config=qs(qs(qs({},c.allOptions),c.options),t),jO.forEach(function(De){a.config[De]=qs(qs(qs({},c.allOptions[De]),c.options[De]),t[De])});var p=this.config;p.silent||this._validateConfig();var y=p.shadowRoot||document.documentElement;this._docRoot=y;var s=typeof e=="string"?y.querySelector(e):e;if(!s||typeof s!="object"||!(uR(s)||kA(s)))throw TypeError(!s&&typeof e=="string"?"Selector ".concat(e," failed to find an element"):"Expected one of the following types text|select-one|select-multiple");var L=s.type,R=L===Rc.Text;(R||p.maxItemCount!==1)&&(p.singleModeForMultiSelect=!1),p.singleModeForMultiSelect&&(L=Rc.SelectMultiple);var V=L===Rc.SelectOne,q=L===Rc.SelectMultiple,Z=V||q;if(this._elementType=L,this._isTextElement=R,this._isSelectOneElement=V,this._isSelectMultipleElement=q,this._isSelectElement=V||q,this._canAddUserChoices=R&&p.addItems||Z&&p.addChoices,typeof p.renderSelectedChoices!="boolean"&&(p.renderSelectedChoices=p.renderSelectedChoices==="always"||V),p.closeDropdownOnSelect==="auto"?p.closeDropdownOnSelect=R||V||p.singleModeForMultiSelect:p.closeDropdownOnSelect=I1(p.closeDropdownOnSelect),p.placeholder&&(p.placeholderValue?this._hasNonChoicePlaceholder=!0:s.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,p.placeholderValue=s.dataset.placeholder)),t.addItemFilter&&typeof t.addItemFilter!="function"){var ee=t.addItemFilter instanceof RegExp?t.addItemFilter:new RegExp(t.addItemFilter);p.addItemFilter=ee.test.bind(ee)}if(this._isTextElement)this.passedElement=new hR({element:s,classNames:p.classNames});else{var se=s;this.passedElement=new fR({element:se,classNames:p.classNames,template:function(De){return a._templates.option(De)},extractPlaceholder:p.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new vR(p),this._currentValue="",p.searchEnabled=!R&&p.searchEnabled||q,this._canSearch=p.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=XO(s,"choices-"),this._direction=s.dir,!this._direction){var he=window.getComputedStyle(s).direction,we=window.getComputedStyle(document.documentElement).direction;he!==we&&(this._direction=he)}if(this._idNames={itemChoice:"item-choice"},this._templates=c.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){p.silent||console.warn("Trying to initialise Choices on element already initialised",{element:e}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(De){return De.value})}return Object.defineProperty(i,"defaults",{get:function(){return Object.preventExtensions({get options(){return f9},get allOptions(){return J3},get templates(){return d9}})},enumerable:!1,configurable:!0}),i.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=h9(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;typeof e=="function"&&e.call(this)}},i.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=i.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},i.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},i.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},i.prototype.highlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var a=this._store.items.find(function(c){return c.id===e.id});return!a||a.highlighted?this:(this._store.dispatch(Tg(a,!0)),t&&this.passedElement.triggerEvent(Us.highlightItem,this._getChoiceForOutput(a)),this)},i.prototype.unhighlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var a=this._store.items.find(function(c){return c.id===e.id});return!a||!a.highlighted?this:(this._store.dispatch(Tg(a,!1)),t&&this.passedElement.triggerEvent(Us.unhighlightItem,this._getChoiceForOutput(a)),this)},i.prototype.highlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){t.highlighted||(e._store.dispatch(Tg(t,!0)),e.passedElement.triggerEvent(Us.highlightItem,e._getChoiceForOutput(t)))})}),this},i.prototype.unhighlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){t.highlighted&&(e._store.dispatch(Tg(t,!1)),e.passedElement.triggerEvent(Us.highlightItem,e._getChoiceForOutput(t)))})}),this},i.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(a){return a.value===e}).forEach(function(a){return t._removeItem(a)})}),this},i.prototype.removeActiveItems=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(a){var c=a.id;return c!==e}).forEach(function(a){return t._removeItem(a)})}),this},i.prototype.removeHighlightedItems=function(e){var t=this;return e===void 0&&(e=!1),this._store.withTxn(function(){t._store.highlightedActiveItems.forEach(function(a){t._removeItem(a),e&&t._triggerChange(a.value)})}),this},i.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){t.dropdown.show();var a=t.dropdown.element.getBoundingClientRect();t.containerOuter.open(a.bottom,a.height),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(Us.showDropdown)}),this)},i.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(Us.hideDropdown)}),this):this},i.prototype.getValue=function(e){var t=this,a=this._store.items.map(function(c){return e?c.value:t._getChoiceForOutput(c)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?a[0]:a},i.prototype.setValue=function(e){var t=this;return this.initialisedOK?(this._store.withTxn(function(){e.forEach(function(a){a&&t._addChoice(Oo(a,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},i.prototype.setChoiceByValue=function(e){var t=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){var a=Array.isArray(e)?e:[e];a.forEach(function(c){return t._findAndSelectChoiceByValue(c)}),t.unhighlightAll()}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},i.prototype.setChoices=function(e,t,a,c,p){var y=this;if(e===void 0&&(e=[]),t===void 0&&(t="value"),a===void 0&&(a="label"),c===void 0&&(c=!1),p===void 0&&(p=!0),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof t!="string"||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(c&&this.clearChoices(),typeof e=="function"){var s=e(this);if(typeof Promise=="function"&&s instanceof Promise)return new Promise(function(L){return requestAnimationFrame(L)}).then(function(){return y._handleLoadingState(!0)}).then(function(){return s}).then(function(L){return y.setChoices(L,t,a,c)}).catch(function(L){y.config.silent||console.error(L)}).then(function(){return y._handleLoadingState(!1)}).then(function(){return y});if(!Array.isArray(s))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof s));return this.setChoices(s,t,a,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){p&&(y._isSearching=!1);var L=t==="value",R=a==="label";e.forEach(function(V){if("choices"in V){var q=V;R||(q=qs(qs({},q),{label:q[a]})),y._addGroup(Oo(q,!0))}else{var Z=V;(!R||!L)&&(Z=qs(qs({},Z),{value:Z[t],label:Z[a]})),y._addChoice(Oo(Z,!1))}}),y.unhighlightAll()}),this._searcher.reset(),this},i.prototype.refresh=function(e,t,a){var c=this;return e===void 0&&(e=!1),t===void 0&&(t=!1),a===void 0&&(a=!1),this._isSelectElement?(this._store.withTxn(function(){var p=c.passedElement.optionsAsChoices(),y={};a||c._store.items.forEach(function(L){L.id&&L.active&&L.selected&&!L.disabled&&(y[L.value]=!0)}),c.clearStore(!1);var s=function(L){a?c._store.dispatch(W3(L)):y[L.value]&&(L.selected=!0)};p.forEach(function(L){if("choices"in L){L.choices.forEach(s);return}s(L)}),c._addPredefinedChoices(p,t,e),c._isSearching&&c._searchChoices(c.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},i.prototype.removeChoice=function(e){var t=this._store.choices.find(function(a){return a.value===e});return t?(this._clearNotice(),this._store.dispatch(G3(t)),this._searcher.reset(),t.selected&&this.passedElement.triggerEvent(Us.removeItem,this._getChoiceForOutput(t)),this):this},i.prototype.clearChoices=function(){var e=this;return this._store.withTxn(function(){e._store.choices.forEach(function(t){t.selected||e._store.dispatch(G3(t))})}),this._searcher.reset(),this},i.prototype.clearStore=function(e){return e===void 0&&(e=!0),this._stopSearch(),e&&this.passedElement.element.replaceChildren(""),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._store.reset(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this._searcher.reset(),this},i.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),this._stopSearch(),this},i.prototype._validateConfig=function(){var e=this.config,t=rR(e,J3);t.length&&console.warn("Unknown config option(s) passed",t.join(", ")),e.allowHTML&&e.allowHtmlUserInput&&(e.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),e.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},i.prototype._render=function(e){e===void 0&&(e={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(e.choices||e.groups)&&this._renderChoices(),e.items&&this._renderItems())},i.prototype._renderChoices=function(){var e=this;if(this._canAddItems()){var t=this,a=t.config,c=t._isSearching,p=this._store,y=p.activeGroups,s=p.activeChoices,L=0;if(c&&a.searchResultLimit>0?L=a.searchResultLimit:a.renderChoiceLimit>0&&(L=a.renderChoiceLimit),this._isSelectElement){var R=s.filter(function(se){return!se.element});R.length&&this.passedElement.addOptions(R)}var V=document.createDocumentFragment(),q=function(se){return se.filter(function(he){return!he.placeholder&&(c?!!he.rank:a.renderSelectedChoices||!he.selected)})},Z=!1,ee=function(se,he,we){c?se.sort(iR):a.shouldSort&&se.sort(a.sorter);var De=se.length;De=!he&&L&&De>L?L:De,De--,se.every(function(Ze,ct){var rt=Ze.choiceEl||e._templates.choice(a,Ze,a.itemSelectText,we);return Ze.choiceEl=rt,V.appendChild(rt),!Ze.disabled&&(c||!Ze.selected)&&(Z=!0),ct<De})};s.length&&(a.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),!this._hasNonChoicePlaceholder&&!c&&this._isSelectOneElement&&ee(s.filter(function(se){return se.placeholder&&!se.group}),!1,void 0),y.length&&!c?(a.shouldSort&&y.sort(a.sorter),ee(s.filter(function(se){return!se.placeholder&&!se.group}),!1,void 0),y.forEach(function(se){var he=q(se.choices);if(he.length){if(se.label){var we=se.groupEl||e._templates.choiceGroup(e.config,se);se.groupEl=we,we.remove(),V.appendChild(we)}ee(he,!0,a.appendGroupInSearch&&c?se.label:void 0)}})):ee(q(s),!1,void 0)),Z||(this._notice||(this._notice={text:Y3(c?a.noResultsText:a.noChoicesText),type:c?Cs.noResults:Cs.noChoices}),V.replaceChildren("")),this._renderNotice(V),this.choiceList.element.replaceChildren(V),Z&&this._highlightChoice()}},i.prototype._renderItems=function(){var e=this,t=this._store.items||[],a=this.itemList.element,c=this.config,p=document.createDocumentFragment(),y=function(q){return a.querySelector('[data-item][data-id="'.concat(q.id,'"]'))},s=function(q){var Z=q.itemEl;Z&&Z.parentElement||(Z=y(q)||e._templates.item(c,q,c.removeItemButton),q.itemEl=Z,p.appendChild(Z))};t.forEach(s);var L=!!p.childNodes.length;if(this._isSelectOneElement&&this._hasNonChoicePlaceholder){var R=a.children.length;if(L||R>1){var V=a.querySelector(g1(c.classNames.placeholder));V&&V.remove()}else R||(L=!0,s(Oo({selected:!0,value:"",label:c.placeholderValue||"",placeholder:!0},!1)))}L&&(a.append(p),c.shouldSortItems&&!this._isSelectOneElement&&(t.sort(c.sorter),t.forEach(function(q){var Z=y(q);Z&&(Z.remove(),p.append(Z))}),a.append(p))),this._isTextElement&&(this.passedElement.value=t.map(function(q){var Z=q.value;return Z}).join(c.delimiter))},i.prototype._displayNotice=function(e,t,a){a===void 0&&(a=!0);var c=this._notice;if(c&&(c.type===t&&c.text===e||c.type===Cs.addChoice&&(t===Cs.noResults||t===Cs.noChoices))){a&&this.showDropdown(!0);return}this._clearNotice(),this._notice=e?{text:e,type:t}:void 0,this._renderNotice(),a&&e&&this.showDropdown(!0)},i.prototype._clearNotice=function(){if(this._notice){var e=this.choiceList.element.querySelector(g1(this.config.classNames.notice));e&&e.remove(),this._notice=void 0}},i.prototype._renderNotice=function(e){var t=this._notice;if(t){var a=this._templates.notice(this.config,t.text,t.type);e?e.append(a):this.choiceList.prepend(a)}},i.prototype._getChoiceForOutput=function(e,t){return{id:e.id,highlighted:e.highlighted,labelClass:e.labelClass,labelDescription:e.labelDescription,customProperties:e.customProperties,disabled:e.disabled,active:e.active,label:e.label,placeholder:e.placeholder,value:e.value,groupValue:e.group?e.group.label:void 0,element:e.element,keyCode:t}},i.prototype._triggerChange=function(e){e!=null&&this.passedElement.triggerEvent(Us.change,{value:e})},i.prototype._handleButtonAction=function(e){var t=this,a=this._store.items;if(!(!a.length||!this.config.removeItems||!this.config.removeItemButton)){var c=e&&bv(e.parentElement),p=c&&a.find(function(y){return y.id===c});p&&this._store.withTxn(function(){if(t._removeItem(p),t._triggerChange(p.value),t._isSelectOneElement&&!t._hasNonChoicePlaceholder){var y=t._store.choices.reverse().find(function(s){return!s.disabled&&s.placeholder});y&&(t._addItem(y),t.unhighlightAll(),y.value&&t._triggerChange(y.value))}})}},i.prototype._handleItemAction=function(e,t){var a=this;t===void 0&&(t=!1);var c=this._store.items;if(!(!c.length||!this.config.removeItems||this._isSelectOneElement)){var p=bv(e);p&&(c.forEach(function(y){y.id===p&&!y.highlighted?a.highlightItem(y):!t&&y.highlighted&&a.unhighlightItem(y)}),this.input.focus())}},i.prototype._handleChoiceAction=function(e){var t=this,a=bv(e),c=a&&this._store.getChoiceById(a);if(!c||c.disabled)return!1;var p=this.dropdown.isActive;if(!c.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){t._addItem(c,!0,!0),t.clearInput(),t.unhighlightAll()}),this._triggerChange(c.value)}return p&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},i.prototype._handleBackspace=function(e){var t=this.config;if(!(!t.removeItems||!e.length)){var a=e[e.length-1],c=e.some(function(p){return p.highlighted});t.editItems&&!c&&a?(this.input.value=a.value,this.input.setWidth(),this._removeItem(a),this._triggerChange(a.value)):(c||this.highlightItem(a,!1),this.removeHighlightedItems(!0))}},i.prototype._loadChoices=function(){var e,t=this.config;if(this._isTextElement){if(this._presetChoices=t.items.map(function(p){return Oo(p,!1)}),this.passedElement.value){var a=this.passedElement.value.split(t.delimiter).map(function(p){return Oo(p,!1)});this._presetChoices=this._presetChoices.concat(a)}this._presetChoices.forEach(function(p){p.selected=!0})}else if(this._isSelectElement){this._presetChoices=t.choices.map(function(p){return Oo(p,!0)});var c=this.passedElement.optionsAsChoices();c&&(e=this._presetChoices).push.apply(e,c)}},i.prototype._handleLoadingState=function(e){e===void 0&&(e=!0);var t=this.itemList.element;e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(t.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},i.prototype._handleSearch=function(e){if(this.input.isFocussed)if(e!==null&&typeof e<"u"&&e.length>=this.config.searchFloor){var t=this.config.searchChoices?this._searchChoices(e):0;t!==null&&this.passedElement.triggerEvent(Us.search,{value:e,resultCount:t})}else this._store.choices.some(function(a){return!a.active})&&this._stopSearch()},i.prototype._canAddItems=function(){var e=this.config,t=e.maxItemCount,a=e.maxItemText;return!e.singleModeForMultiSelect&&t>0&&t<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._displayNotice(typeof a=="function"?a(t):a,Cs.addChoice),!1):!0},i.prototype._canCreateItem=function(e){var t=this.config,a=!0,c="";if(a&&typeof t.addItemFilter=="function"&&!t.addItemFilter(e)&&(a=!1,c=V1(t.customAddItemText,e)),a){var p=this._store.choices.find(function(y){return t.valueComparer(y.value,e)});if(this._isSelectElement){if(p)return this._displayNotice("",Cs.addChoice),!1}else this._isTextElement&&!t.duplicateItemsAllowed&&p&&(a=!1,c=V1(t.uniqueItemText,e))}return a&&(c=V1(t.addItemText,e)),c&&this._displayNotice(c,Cs.addChoice),a},i.prototype._searchChoices=function(e){var t=e.trim().replace(/\s{2,}/," ");if(!t.length||t===this._currentValue)return null;var a=this._searcher;a.isEmptyIndex()&&a.index(this._store.searchableChoices);var c=a.search(t);this._currentValue=t,this._highlightPosition=0,this._isSearching=!0;var p=this._notice,y=p&&p.type;return y!==Cs.addChoice&&(c.length?this._clearNotice():this._displayNotice(Y3(this.config.noResultsText),Cs.noResults)),this._store.dispatch($O(c)),c.length},i.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch(GO(!0)),this.passedElement.triggerEvent(Us.search,{value:"",resultCount:0}))},i.prototype._addEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,a=this.input.element;e.addEventListener("touchend",this._onTouchEnd,!0),t.addEventListener("keydown",this._onKeyDown,!0),t.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})),a.addEventListener("keyup",this._onKeyUp,{passive:!0}),a.addEventListener("input",this._onInput,{passive:!0}),a.addEventListener("focus",this._onFocus,{passive:!0}),a.addEventListener("blur",this._onBlur,{passive:!0}),a.form&&a.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},i.prototype._removeEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,a=this.input.element;e.removeEventListener("touchend",this._onTouchEnd,!0),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)),a.removeEventListener("keyup",this._onKeyUp),a.removeEventListener("input",this._onInput),a.removeEventListener("focus",this._onFocus),a.removeEventListener("blur",this._onBlur),a.form&&a.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},i.prototype._onKeyDown=function(e){var t=e.keyCode,a=this.dropdown.isActive,c=e.key.length===1||e.key.length===2&&e.key.charCodeAt(0)>=55296||e.key==="Unidentified";switch(!this._isTextElement&&!a&&(this.showDropdown(),!this.input.isFocussed&&c&&(this.input.value+=e.key,e.key===" "&&e.preventDefault())),t){case 65:return this._onSelectKey(e,this.itemList.element.hasChildNodes());case 13:return this._onEnterKey(e,a);case 27:return this._onEscapeKey(e,a);case 38:case 33:case 40:case 34:return this._onDirectionKey(e,a);case 8:case 46:return this._onDeleteKey(e,this._store.items,this.input.isFocussed)}},i.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},i.prototype._onInput=function(){var e=this.input.value;if(!e){this._isTextElement?this.hideDropdown(!0):this._stopSearch();return}this._canAddItems()&&(this._canSearch&&this._handleSearch(e),this._canAddUserChoices&&(this._canCreateItem(e),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},i.prototype._onSelectKey=function(e,t){if((e.ctrlKey||e.metaKey)&&t){this._canSearch=!1;var a=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;a&&this.highlightAll()}},i.prototype._onEnterKey=function(e,t){var a=this,c=this.input.value,p=e.target;if(e.preventDefault(),p&&p.hasAttribute("data-button")){this._handleButtonAction(p);return}if(!t){(this._isSelectElement||this._notice)&&this.showDropdown();return}var y=this.dropdown.element.querySelector(g1(this.config.classNames.highlightedState));if(!(y&&this._handleChoiceAction(y))){if(!p||!c){this.hideDropdown(!0);return}if(this._canAddItems()){var s=!1;this._store.withTxn(function(){if(s=a._findAndSelectChoiceByValue(c,!0),!s){if(!a._canAddUserChoices||!a._canCreateItem(c))return;var L=Z2(c),R=a.config.allowHtmlUserInput||L===c?c:{escaped:L,raw:c};a._addChoice(Oo({value:R,label:R,selected:!0},!1),!0,!0),s=!0}a.clearInput(),a.unhighlightAll()}),s&&(this._triggerChange(c),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}},i.prototype._onEscapeKey=function(e,t){t&&(e.stopPropagation(),this.hideDropdown(!0),this.containerOuter.element.focus())},i.prototype._onDirectionKey=function(e,t){var a=e.keyCode;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var c=a===40||a===34?1:-1,p=e.metaKey||a===34||a===33,y=void 0;if(p)c>0?y=this.dropdown.element.querySelector("".concat(_1,":last-of-type")):y=this.dropdown.element.querySelector(_1);else{var s=this.dropdown.element.querySelector(g1(this.config.classNames.highlightedState));s?y=KO(s,_1,c):y=this.dropdown.element.querySelector(_1)}y&&(JO(y,this.choiceList.element,c)||this.choiceList.scrollToChildElement(y,c),this._highlightChoice(y)),e.preventDefault()}},i.prototype._onDeleteKey=function(e,t,a){!this._isSelectOneElement&&!e.target.value&&a&&(this._handleBackspace(t),e.preventDefault())},i.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},i.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target,a=this._wasTap&&this.containerOuter.element.contains(t);if(a){var c=t===this.containerOuter.element||t===this.containerInner.element;c&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},i.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(p9&&this.choiceList.element.contains(t)){var a=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction==="ltr"?e.offsetX>=a.offsetWidth:e.offsetX<a.offsetLeft}if(t!==this.input.element){var c=t.closest("[data-button],[data-item],[data-choice]");c instanceof HTMLElement&&("button"in c.dataset?this._handleButtonAction(c):"item"in c.dataset?this._handleItemAction(c,e.shiftKey):"choice"in c.dataset&&this._handleChoiceAction(c)),e.preventDefault()}}},i.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},i.prototype._onClick=function(e){var t=e.target,a=this.containerOuter,c=a.element.contains(t);c?!this.dropdown.isActive&&!a.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),a.element.focus()):this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():(a.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},i.prototype._onFocus=function(e){var t=e.target,a=this.containerOuter,c=t&&a.element.contains(t);if(c){var p=t===this.input.element;this._isTextElement?p&&a.addFocusState():this._isSelectMultipleElement?p&&(this.showDropdown(!0),a.addFocusState()):(a.addFocusState(),p&&this.showDropdown(!0))}},i.prototype._onBlur=function(e){var t=e.target,a=this.containerOuter,c=t&&a.element.contains(t);if(c&&!this._isScrollingOnIe){var p=t===this.input.element;this._isTextElement||this._isSelectMultipleElement?p&&(a.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll()):(a.removeFocusState(),(p||t===a.element&&!this._canSearch)&&this.hideDropdown(!0))}else this._isScrollingOnIe=!1,this.input.element.focus()},i.prototype._onFormReset=function(){var e=this;this._store.withTxn(function(){e.clearInput(),e.hideDropdown(),e.refresh(!1,!1,!0),e._initialItems.length&&e.setChoiceByValue(e._initialItems)})},i.prototype._highlightChoice=function(e){e===void 0&&(e=null);var t=Array.from(this.dropdown.element.querySelectorAll(_1));if(t.length){var a=e,c=this.config.classNames.highlightedState,p=Array.from(this.dropdown.element.querySelectorAll(g1(c)));p.forEach(function(y){Bo(y,c),y.setAttribute("aria-selected","false")}),a?this._highlightPosition=t.indexOf(a):(t.length>this._highlightPosition?a=t[this._highlightPosition]:a=t[t.length-1],a||(a=t[0])),rn(a,c),a.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(Us.highlightChoice,{el:a}),this.dropdown.isActive&&(this.input.setActiveDescendant(a.id),this.containerOuter.setActiveDescendant(a.id))}},i.prototype._addItem=function(e,t,a){if(t===void 0&&(t=!0),a===void 0&&(a=!1),!e.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(e.id),this._store.dispatch(ZO(e)),t&&(this.passedElement.triggerEvent(Us.addItem,this._getChoiceForOutput(e)),a&&this.passedElement.triggerEvent(Us.choice,this._getChoiceForOutput(e)))},i.prototype._removeItem=function(e){e.id&&(this._store.dispatch(W3(e)),this.passedElement.triggerEvent(Us.removeItem,this._getChoiceForOutput(e)))},i.prototype._addChoice=function(e,t,a){if(t===void 0&&(t=!0),a===void 0&&(a=!1),e.id)throw new TypeError("Can not re-add a choice which has already been added");var c=this.config;if(!((this._isSelectElement||!c.duplicateItemsAllowed)&&this._store.choices.find(function(s){return c.valueComparer(s.value,e.value)}))){this._lastAddedChoiceId++,e.id=this._lastAddedChoiceId,e.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(e.id);var p=c.prependValue,y=c.appendValue;p&&(e.value=p+e.value),y&&(e.value+=y.toString()),(p||y)&&e.element&&(e.element.value=e.value),this._clearNotice(),this._store.dispatch(qO(e)),e.selected&&this._addItem(e,t,a)}},i.prototype._addGroup=function(e,t){var a=this;if(t===void 0&&(t=!0),e.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(WO(e)),e.choices&&(this._lastAddedGroupId++,e.id=this._lastAddedGroupId,e.choices.forEach(function(c){c.group=e,e.disabled&&(c.disabled=!0),a._addChoice(c,t)}))},i.prototype._createTemplates=function(){var e=this,t=this.config.callbackOnCreateTemplates,a={};typeof t=="function"&&(a=t.call(this,QO,ib,Y2));var c={};Object.keys(this._templates).forEach(function(p){p in a?c[p]=a[p].bind(e):c[p]=e._templates[p].bind(e)}),this._templates=c},i.prototype._createElements=function(){var e=this._templates,t=this,a=t.config,c=t._isSelectOneElement,p=a.position,y=a.classNames,s=this._elementType;this.containerOuter=new X3({element:e.containerOuter(a,this._direction,this._isSelectElement,c,a.searchEnabled,s,a.labelId),classNames:y,type:s,position:p}),this.containerInner=new X3({element:e.containerInner(a),classNames:y,type:s,position:p}),this.input=new lR({element:e.input(a,this._placeholderValue),classNames:y,type:s,preventPaste:!a.paste}),this.choiceList=new K3({element:e.choiceList(a,c)}),this.itemList=new K3({element:e.itemList(a,c)}),this.dropdown=new oR({element:e.dropdown(a),classNames:y,type:s})},i.prototype._createStructure=function(){var e=this,t=e.containerInner,a=e.containerOuter,c=e.passedElement,p=this.dropdown.element;c.conceal(),t.wrap(c.element),a.wrap(t.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),a.element.appendChild(t.element),a.element.appendChild(p),t.element.appendChild(this.itemList.element),p.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&p.insertBefore(this.input.element,p.firstChild):t.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},i.prototype._initStore=function(){var e=this;this._store.subscribe(this._render).withTxn(function(){e._addPredefinedChoices(e._presetChoices,e._isSelectOneElement&&!e._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},i.prototype._addPredefinedChoices=function(e,t,a){var c=this;if(t===void 0&&(t=!1),a===void 0&&(a=!0),t){var p=e.findIndex(function(y){return y.selected})===-1;p&&e.some(function(y){return y.disabled||"choices"in y?!1:(y.selected=!0,!0)})}e.forEach(function(y){"choices"in y?c._isSelectElement&&c._addGroup(y,a):c._addChoice(y,a)})},i.prototype._findAndSelectChoiceByValue=function(e,t){var a=this;t===void 0&&(t=!1);var c=this._store.choices.find(function(p){return a.config.valueComparer(p.value,e)});return c&&!c.disabled&&!c.selected?(this._addItem(c,!0,t),!0):!1},i.prototype._generatePlaceholderValue=function(){var e=this.config;if(!e.placeholder)return null;if(this._hasNonChoicePlaceholder)return e.placeholderValue;if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:null}return null},i.prototype._warnChoicesInitFailed=function(e){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw new TypeError("".concat(e," called for an element which has multiple instances of Choices initialised on it"))}else throw new TypeError("".concat(e," called on a non-initialised instance of Choices"))},i.version="11.0.2",i}();class jA extends hr{initialize(){window.choicesInstances=window.choicesInstances||{}}selectTargetConnected(e){let t=!1,a=this.getInstanceId(e);const c=e.attributes.maxlength?e.attributes.maxlength.value:-1;a||(t=!0,a=this.generateInstanceId(e)),t?window.choicesInstances[a]=new m9(e,{allowHTML:!0,shouldSort:!1,itemSelectText:"",removeItemButton:!0,maxItemCount:c}):window.choicesInstances[a].init()}selectTargetDisconnected(e){var a;const t=this.getInstanceId(e);(a=window.choicesInstances[t])==null||a.destroy()}generateInstanceId(e){const t=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2)}`;return e.dataset.choicesId=t,t}getInstanceId(e){return e.dataset.choicesId}}et(jA,"targets",["select"]);const g9=Object.freeze(Object.defineProperty({__proto__:null,default:jA},Symbol.toStringTag,{value:"Module"}));var wv=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],rp={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(i){return typeof console<"u"&&console.warn(i)},getWeek:function(i){var e=new Date(i.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},K1={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(i){var e=i%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},$s=function(i,e){return e===void 0&&(e=2),("000"+i).slice(e*-1)},Da=function(i){return i===!0?1:0};function l5(i,e){var t;return function(){var a=this,c=arguments;clearTimeout(t),t=setTimeout(function(){return i.apply(a,c)},e)}}var Mv=function(i){return i instanceof Array?i:[i]};function Es(i,e,t){if(t===!0)return i.classList.add(e);i.classList.remove(e)}function Pn(i,e,t){var a=window.document.createElement(i);return e=e||"",t=t||"",a.className=e,t!==void 0&&(a.textContent=t),a}function Cg(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function qA(i,e){if(e(i))return i;if(i.parentNode)return qA(i.parentNode,e)}function Ag(i,e){var t=Pn("div","numInputWrapper"),a=Pn("input","numInput "+i),c=Pn("span","arrowUp"),p=Pn("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?a.type="number":(a.type="text",a.pattern="\\d*"),e!==void 0)for(var y in e)a.setAttribute(y,e[y]);return t.appendChild(a),t.appendChild(c),t.appendChild(p),t}function da(i){try{if(typeof i.composedPath=="function"){var e=i.composedPath();return e[0]}return i.target}catch{return i.target}}var Sv=function(){},S2=function(i,e,t){return t.months[e?"shorthand":"longhand"][i]},_9={D:Sv,F:function(i,e,t){i.setMonth(t.months.longhand.indexOf(e))},G:function(i,e){i.setHours((i.getHours()>=12?12:0)+parseFloat(e))},H:function(i,e){i.setHours(parseFloat(e))},J:function(i,e){i.setDate(parseFloat(e))},K:function(i,e,t){i.setHours(i.getHours()%12+12*Da(new RegExp(t.amPM[1],"i").test(e)))},M:function(i,e,t){i.setMonth(t.months.shorthand.indexOf(e))},S:function(i,e){i.setSeconds(parseFloat(e))},U:function(i,e){return new Date(parseFloat(e)*1e3)},W:function(i,e,t){var a=parseInt(e),c=new Date(i.getFullYear(),0,2+(a-1)*7,0,0,0,0);return c.setDate(c.getDate()-c.getDay()+t.firstDayOfWeek),c},Y:function(i,e){i.setFullYear(parseFloat(e))},Z:function(i,e){return new Date(e)},d:function(i,e){i.setDate(parseFloat(e))},h:function(i,e){i.setHours((i.getHours()>=12?12:0)+parseFloat(e))},i:function(i,e){i.setMinutes(parseFloat(e))},j:function(i,e){i.setDate(parseFloat(e))},l:Sv,m:function(i,e){i.setMonth(parseFloat(e)-1)},n:function(i,e){i.setMonth(parseFloat(e)-1)},s:function(i,e){i.setSeconds(parseFloat(e))},u:function(i,e){return new Date(parseFloat(e))},w:Sv,y:function(i,e){i.setFullYear(2e3+parseFloat(e))}},Yh={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},H1={Z:function(i){return i.toISOString()},D:function(i,e,t){return e.weekdays.shorthand[H1.w(i,e,t)]},F:function(i,e,t){return S2(H1.n(i,e,t)-1,!1,e)},G:function(i,e,t){return $s(H1.h(i,e,t))},H:function(i){return $s(i.getHours())},J:function(i,e){return e.ordinal!==void 0?i.getDate()+e.ordinal(i.getDate()):i.getDate()},K:function(i,e){return e.amPM[Da(i.getHours()>11)]},M:function(i,e){return S2(i.getMonth(),!0,e)},S:function(i){return $s(i.getSeconds())},U:function(i){return i.getTime()/1e3},W:function(i,e,t){return t.getWeek(i)},Y:function(i){return $s(i.getFullYear(),4)},d:function(i){return $s(i.getDate())},h:function(i){return i.getHours()%12?i.getHours()%12:12},i:function(i){return $s(i.getMinutes())},j:function(i){return i.getDate()},l:function(i,e){return e.weekdays.longhand[i.getDay()]},m:function(i){return $s(i.getMonth()+1)},n:function(i){return i.getMonth()+1},s:function(i){return i.getSeconds()},u:function(i){return i.getTime()},w:function(i){return i.getDay()},y:function(i){return String(i.getFullYear()).substring(2)}},$A=function(i){var e=i.config,t=e===void 0?rp:e,a=i.l10n,c=a===void 0?K1:a,p=i.isMobile,y=p===void 0?!1:p;return function(s,L,R){var V=R||c;return t.formatDate!==void 0&&!y?t.formatDate(s,L,V):L.split("").map(function(q,Z,ee){return H1[q]&&ee[Z-1]!=="\\"?H1[q](s,V,t):q!=="\\"?q:""}).join("")}},ox=function(i){var e=i.config,t=e===void 0?rp:e,a=i.l10n,c=a===void 0?K1:a;return function(p,y,s,L){if(!(p!==0&&!p)){var R=L||c,V,q=p;if(p instanceof Date)V=new Date(p.getTime());else if(typeof p!="string"&&p.toFixed!==void 0)V=new Date(p);else if(typeof p=="string"){var Z=y||(t||rp).dateFormat,ee=String(p).trim();if(ee==="today")V=new Date,s=!0;else if(t&&t.parseDate)V=t.parseDate(p,Z);else if(/Z$/.test(ee)||/GMT$/.test(ee))V=new Date(p);else{for(var se=void 0,he=[],we=0,De=0,Ze="";we<Z.length;we++){var ct=Z[we],rt=ct==="\\",gt=Z[we-1]==="\\"||rt;if(Yh[ct]&&!gt){Ze+=Yh[ct];var Tt=new RegExp(Ze).exec(p);Tt&&(se=!0)&&he[ct!=="Y"?"push":"unshift"]({fn:_9[ct],val:Tt[++De]})}else rt||(Ze+=".")}V=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),he.forEach(function(it){var _t=it.fn,Ft=it.val;return V=_t(V,Ft,R)||V}),V=se?V:void 0}}if(!(V instanceof Date&&!isNaN(V.getTime()))){t.errorHandler(new Error("Invalid date provided: "+q));return}return s===!0&&V.setHours(0,0,0,0),V}}};function pa(i,e,t){return t===void 0&&(t=!0),t!==!1?new Date(i.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):i.getTime()-e.getTime()}var y9=function(i,e,t){return i>Math.min(e,t)&&i<Math.max(e,t)},Tv=function(i,e,t){return i*3600+e*60+t},v9=function(i){var e=Math.floor(i/3600),t=(i-e*3600)/60;return[e,t,i-e*3600-t*60]},x9={DAY:864e5};function Ev(i){var e=i.defaultHour,t=i.defaultMinute,a=i.defaultSeconds;if(i.minDate!==void 0){var c=i.minDate.getHours(),p=i.minDate.getMinutes(),y=i.minDate.getSeconds();e<c&&(e=c),e===c&&t<p&&(t=p),e===c&&t===p&&a<y&&(a=i.minDate.getSeconds())}if(i.maxDate!==void 0){var s=i.maxDate.getHours(),L=i.maxDate.getMinutes();e=Math.min(e,s),e===s&&(t=Math.min(L,t)),e===s&&t===L&&(a=i.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:a}}typeof Object.assign!="function"&&(Object.assign=function(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!i)throw TypeError("Cannot convert undefined or null to object");for(var a=function(s){s&&Object.keys(s).forEach(function(L){return i[L]=s[L]})},c=0,p=e;c<p.length;c++){var y=p[c];a(y)}return i});var vs=function(){return vs=Object.assign||function(i){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(i[c]=e[c])}return i},vs.apply(this,arguments)},c5=function(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var a=Array(i),c=0,e=0;e<t;e++)for(var p=arguments[e],y=0,s=p.length;y<s;y++,c++)a[c]=p[y];return a},b9=300;function w9(i,e){var t={config:vs(vs({},rp),Pr.defaultConfig),l10n:K1};t.parseDate=ox({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=he,t._setHoursFromDate=Z,t._positionCalendar=Wn,t.changeMonth=Kt,t.changeYear=Hn,t.clear=_i,t.close=jt,t.onMouseOver=$r,t._createElement=Pn,t.createDay=Tt,t.destroy=kn,t.isEnabled=sn,t.jumpToDate=Ze,t.updateValue=qn,t.open=Ct,t.redraw=Ys,t.set=Ks,t.setDate=Sr,t.toggle=Ba;function a(){t.utils={getDaysInMonth:function(Ce,ze){return Ce===void 0&&(Ce=t.currentMonth),ze===void 0&&(ze=t.currentYear),Ce===1&&(ze%4===0&&ze%100!==0||ze%400===0)?29:t.l10n.daysInMonth[Ce]}}}function c(){t.element=t.input=i,t.isOpen=!1,yr(),Mi(),Go(),$o(),a(),t.isMobile||gt(),De(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&Z(t.config.noCalendar?t.latestSelectedDateObj:void 0),qn(!1)),s();var Ce=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&Ce&&Wn(),Tn("onReady")}function p(){var Ce;return((Ce=t.calendarContainer)===null||Ce===void 0?void 0:Ce.getRootNode()).activeElement||document.activeElement}function y(Ce){return Ce.bind(t)}function s(){var Ce=t.config;Ce.weekNumbers===!1&&Ce.showMonths===1||Ce.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var ze=(t.days.offsetWidth+1)*Ce.showMonths;t.daysContainer.style.width=ze+"px",t.calendarContainer.style.width=ze+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function L(Ce){if(t.selectedDates.length===0){var ze=t.config.minDate===void 0||pa(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),st=Ev(t.config);ze.setHours(st.hours,st.minutes,st.seconds,ze.getMilliseconds()),t.selectedDates=[ze],t.latestSelectedDateObj=ze}Ce!==void 0&&Ce.type!=="blur"&&Wo(Ce);var xe=t._input.value;q(),qn(),t._input.value!==xe&&t._debouncedChange()}function R(Ce,ze){return Ce%12+12*Da(ze===t.l10n.amPM[1])}function V(Ce){switch(Ce%24){case 0:case 12:return 12;default:return Ce%12}}function q(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var Ce=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,ze=(parseInt(t.minuteElement.value,10)||0)%60,st=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(Ce=R(Ce,t.amPM.textContent));var xe=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&pa(t.latestSelectedDateObj,t.config.minDate,!0)===0,X=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&pa(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var re=Tv(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),le=Tv(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),me=Tv(Ce,ze,st);if(me>le&&me<re){var ye=v9(re);Ce=ye[0],ze=ye[1],st=ye[2]}}else{if(X){var Se=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;Ce=Math.min(Ce,Se.getHours()),Ce===Se.getHours()&&(ze=Math.min(ze,Se.getMinutes())),ze===Se.getMinutes()&&(st=Math.min(st,Se.getSeconds()))}if(xe){var Fe=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;Ce=Math.max(Ce,Fe.getHours()),Ce===Fe.getHours()&&ze<Fe.getMinutes()&&(ze=Fe.getMinutes()),ze===Fe.getMinutes()&&(st=Math.max(st,Fe.getSeconds()))}}ee(Ce,ze,st)}}function Z(Ce){var ze=Ce||t.latestSelectedDateObj;ze&&ze instanceof Date&&ee(ze.getHours(),ze.getMinutes(),ze.getSeconds())}function ee(Ce,ze,st){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(Ce%24,ze,st||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=$s(t.config.time_24hr?Ce:(12+Ce)%12+12*Da(Ce%12===0)),t.minuteElement.value=$s(ze),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Da(Ce>=12)]),t.secondElement!==void 0&&(t.secondElement.value=$s(st)))}function se(Ce){var ze=da(Ce),st=parseInt(ze.value)+(Ce.delta||0);(st/1e3>1||Ce.key==="Enter"&&!/[^\d]/.test(st.toString()))&&Hn(st)}function he(Ce,ze,st,xe){if(ze instanceof Array)return ze.forEach(function(X){return he(Ce,X,st,xe)});if(Ce instanceof Array)return Ce.forEach(function(X){return he(X,ze,st,xe)});Ce.addEventListener(ze,st,xe),t._handlers.push({remove:function(){return Ce.removeEventListener(ze,st,xe)}})}function we(){Tn("onChange")}function De(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(st){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+st+"]"),function(xe){return he(xe,"click",t[st])})}),t.isMobile){Js();return}var Ce=l5(xa,50);if(t._debouncedChange=l5(we,b9),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&he(t.daysContainer,"mouseover",function(st){t.config.mode==="range"&&$r(da(st))}),he(t._input,"keydown",Br),t.calendarContainer!==void 0&&he(t.calendarContainer,"keydown",Br),!t.config.inline&&!t.config.static&&he(window,"resize",Ce),window.ontouchstart!==void 0?he(window.document,"touchstart",Pi):he(window.document,"mousedown",Pi),he(window.document,"focus",Pi,{capture:!0}),t.config.clickOpens===!0&&(he(t._input,"focus",t.open),he(t._input,"click",t.open)),t.daysContainer!==void 0&&(he(t.monthNav,"click",Va),he(t.monthNav,["keyup","increment"],se),he(t.daysContainer,"click",li)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var ze=function(st){return da(st).select()};he(t.timeContainer,["increment"],L),he(t.timeContainer,"blur",L,{capture:!0}),he(t.timeContainer,"click",ct),he([t.hourElement,t.minuteElement],["focus","click"],ze),t.secondElement!==void 0&&he(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&he(t.amPM,"click",function(st){L(st)})}t.config.allowInput&&he(t._input,"blur",Ie)}function Ze(Ce,ze){var st=Ce!==void 0?t.parseDate(Ce):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),xe=t.currentYear,X=t.currentMonth;try{st!==void 0&&(t.currentYear=st.getFullYear(),t.currentMonth=st.getMonth())}catch(re){re.message="Invalid date supplied: "+st,t.config.errorHandler(re)}ze&&t.currentYear!==xe&&(Tn("onYearChange"),Oi()),ze&&(t.currentYear!==xe||t.currentMonth!==X)&&Tn("onMonthChange"),t.redraw()}function ct(Ce){var ze=da(Ce);~ze.className.indexOf("arrow")&&rt(Ce,ze.classList.contains("arrowUp")?1:-1)}function rt(Ce,ze,st){var xe=Ce&&da(Ce),X=st||xe&&xe.parentNode&&xe.parentNode.firstChild,re=Wr("increment");re.delta=ze,X&&X.dispatchEvent(re)}function gt(){var Ce=window.document.createDocumentFragment();if(t.calendarContainer=Pn("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(Ce.appendChild(Ye()),t.innerContainer=Pn("div","flatpickr-innerContainer"),t.config.weekNumbers){var ze=Gt(),st=ze.weekWrapper,xe=ze.weekNumbers;t.innerContainer.appendChild(st),t.weekNumbers=xe,t.weekWrapper=st}t.rContainer=Pn("div","flatpickr-rContainer"),t.rContainer.appendChild(ut()),t.daysContainer||(t.daysContainer=Pn("div","flatpickr-days"),t.daysContainer.tabIndex=-1),Qt(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),Ce.appendChild(t.innerContainer)}t.config.enableTime&&Ce.appendChild(tt()),Es(t.calendarContainer,"rangeMode",t.config.mode==="range"),Es(t.calendarContainer,"animate",t.config.animate===!0),Es(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(Ce);var X=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!X&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var re=Pn("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(re,t.element),re.appendChild(t.element),t.altInput&&re.appendChild(t.altInput),re.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function Tt(Ce,ze,st,xe){var X=sn(ze,!0),re=Pn("span",Ce,ze.getDate().toString());return re.dateObj=ze,re.$i=xe,re.setAttribute("aria-label",t.formatDate(ze,t.config.ariaDateFormat)),Ce.indexOf("hidden")===-1&&pa(ze,t.now)===0&&(t.todayDateElem=re,re.classList.add("today"),re.setAttribute("aria-current","date")),X?(re.tabIndex=-1,Na(ze)&&(re.classList.add("selected"),t.selectedDateElem=re,t.config.mode==="range"&&(Es(re,"startRange",t.selectedDates[0]&&pa(ze,t.selectedDates[0],!0)===0),Es(re,"endRange",t.selectedDates[1]&&pa(ze,t.selectedDates[1],!0)===0),Ce==="nextMonthDay"&&re.classList.add("inRange")))):re.classList.add("flatpickr-disabled"),t.config.mode==="range"&&yi(ze)&&!Na(ze)&&re.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&Ce!=="prevMonthDay"&&xe%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(ze)+"</span>"),Tn("onDayCreate",re),re}function it(Ce){Ce.focus(),t.config.mode==="range"&&$r(Ce)}function _t(Ce){for(var ze=Ce>0?0:t.config.showMonths-1,st=Ce>0?t.config.showMonths:-1,xe=ze;xe!=st;xe+=Ce)for(var X=t.daysContainer.children[xe],re=Ce>0?0:X.children.length-1,le=Ce>0?X.children.length:-1,me=re;me!=le;me+=Ce){var ye=X.children[me];if(ye.className.indexOf("hidden")===-1&&sn(ye.dateObj))return ye}}function Ft(Ce,ze){for(var st=Ce.className.indexOf("Month")===-1?Ce.dateObj.getMonth():t.currentMonth,xe=ze>0?t.config.showMonths:-1,X=ze>0?1:-1,re=st-t.currentMonth;re!=xe;re+=X)for(var le=t.daysContainer.children[re],me=st-t.currentMonth===re?Ce.$i+ze:ze<0?le.children.length-1:0,ye=le.children.length,Se=me;Se>=0&&Se<ye&&Se!=(ze>0?ye:-1);Se+=X){var Fe=le.children[Se];if(Fe.className.indexOf("hidden")===-1&&sn(Fe.dateObj)&&Math.abs(Ce.$i-Se)>=Math.abs(ze))return it(Fe)}t.changeMonth(X),vt(_t(X),0)}function vt(Ce,ze){var st=p(),xe=ji(st||document.body),X=Ce!==void 0?Ce:xe?st:t.selectedDateElem!==void 0&&ji(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ji(t.todayDateElem)?t.todayDateElem:_t(ze>0?1:-1);X===void 0?t._input.focus():xe?Ft(X,ze):it(X)}function It(Ce,ze){for(var st=(new Date(Ce,ze,1).getDay()-t.l10n.firstDayOfWeek+7)%7,xe=t.utils.getDaysInMonth((ze-1+12)%12,Ce),X=t.utils.getDaysInMonth(ze,Ce),re=window.document.createDocumentFragment(),le=t.config.showMonths>1,me=le?"prevMonthDay hidden":"prevMonthDay",ye=le?"nextMonthDay hidden":"nextMonthDay",Se=xe+1-st,Fe=0;Se<=xe;Se++,Fe++)re.appendChild(Tt("flatpickr-day "+me,new Date(Ce,ze-1,Se),Se,Fe));for(Se=1;Se<=X;Se++,Fe++)re.appendChild(Tt("flatpickr-day",new Date(Ce,ze,Se),Se,Fe));for(var Re=X+1;Re<=42-st&&(t.config.showMonths===1||Fe%7!==0);Re++,Fe++)re.appendChild(Tt("flatpickr-day "+ye,new Date(Ce,ze+1,Re%X),Re,Fe));var $e=Pn("div","dayContainer");return $e.appendChild(re),$e}function Qt(){if(t.daysContainer!==void 0){Cg(t.daysContainer),t.weekNumbers&&Cg(t.weekNumbers);for(var Ce=document.createDocumentFragment(),ze=0;ze<t.config.showMonths;ze++){var st=new Date(t.currentYear,t.currentMonth,1);st.setMonth(t.currentMonth+ze),Ce.appendChild(It(st.getFullYear(),st.getMonth()))}t.daysContainer.appendChild(Ce),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&$r()}}function Oi(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var Ce=function(xe){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&xe<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&xe>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var ze=0;ze<12;ze++)if(Ce(ze)){var st=Pn("option","flatpickr-monthDropdown-month");st.value=new Date(t.currentYear,ze).getMonth().toString(),st.textContent=S2(ze,t.config.shorthandCurrentMonth,t.l10n),st.tabIndex=-1,t.currentMonth===ze&&(st.selected=!0),t.monthsDropdownContainer.appendChild(st)}}}function Ji(){var Ce=Pn("div","flatpickr-month"),ze=window.document.createDocumentFragment(),st;t.config.showMonths>1||t.config.monthSelectorType==="static"?st=Pn("span","cur-month"):(t.monthsDropdownContainer=Pn("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),he(t.monthsDropdownContainer,"change",function(le){var me=da(le),ye=parseInt(me.value,10);t.changeMonth(ye-t.currentMonth),Tn("onMonthChange")}),Oi(),st=t.monthsDropdownContainer);var xe=Ag("cur-year",{tabindex:"-1"}),X=xe.getElementsByTagName("input")[0];X.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&X.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(X.setAttribute("max",t.config.maxDate.getFullYear().toString()),X.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var re=Pn("div","flatpickr-current-month");return re.appendChild(st),re.appendChild(xe),ze.appendChild(re),Ce.appendChild(ze),{container:Ce,yearElement:X,monthElement:st}}function zt(){Cg(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var Ce=t.config.showMonths;Ce--;){var ze=Ji();t.yearElements.push(ze.yearElement),t.monthElements.push(ze.monthElement),t.monthNav.appendChild(ze.container)}t.monthNav.appendChild(t.nextMonthNav)}function Ye(){return t.monthNav=Pn("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Pn("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Pn("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,zt(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(Ce){t.__hidePrevMonthArrow!==Ce&&(Es(t.prevMonthNav,"flatpickr-disabled",Ce),t.__hidePrevMonthArrow=Ce)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(Ce){t.__hideNextMonthArrow!==Ce&&(Es(t.nextMonthNav,"flatpickr-disabled",Ce),t.__hideNextMonthArrow=Ce)}}),t.currentYearElement=t.yearElements[0],ns(),t.monthNav}function tt(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var Ce=Ev(t.config);t.timeContainer=Pn("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var ze=Pn("span","flatpickr-time-separator",":"),st=Ag("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=st.getElementsByTagName("input")[0];var xe=Ag("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=xe.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=$s(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?Ce.hours:V(Ce.hours)),t.minuteElement.value=$s(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():Ce.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(st),t.timeContainer.appendChild(ze),t.timeContainer.appendChild(xe),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var X=Ag("flatpickr-second");t.secondElement=X.getElementsByTagName("input")[0],t.secondElement.value=$s(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():Ce.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Pn("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(X)}return t.config.time_24hr||(t.amPM=Pn("span","flatpickr-am-pm",t.l10n.amPM[Da((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ut(){t.weekdayContainer?Cg(t.weekdayContainer):t.weekdayContainer=Pn("div","flatpickr-weekdays");for(var Ce=t.config.showMonths;Ce--;){var ze=Pn("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(ze)}return dt(),t.weekdayContainer}function dt(){if(t.weekdayContainer){var Ce=t.l10n.firstDayOfWeek,ze=c5(t.l10n.weekdays.shorthand);Ce>0&&Ce<ze.length&&(ze=c5(ze.splice(Ce,ze.length),ze.splice(0,Ce)));for(var st=t.config.showMonths;st--;)t.weekdayContainer.children[st].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ze.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Gt(){t.calendarContainer.classList.add("hasWeeks");var Ce=Pn("div","flatpickr-weekwrapper");Ce.appendChild(Pn("span","flatpickr-weekday",t.l10n.weekAbbreviation));var ze=Pn("div","flatpickr-weeks");return Ce.appendChild(ze),{weekWrapper:Ce,weekNumbers:ze}}function Kt(Ce,ze){ze===void 0&&(ze=!0);var st=ze?Ce:Ce-t.currentMonth;st<0&&t._hidePrevMonthArrow===!0||st>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=st,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Tn("onYearChange"),Oi()),Qt(),Tn("onMonthChange"),ns())}function _i(Ce,ze){if(Ce===void 0&&(Ce=!0),ze===void 0&&(ze=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,ze===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var st=Ev(t.config),xe=st.hours,X=st.minutes,re=st.seconds;ee(xe,X,re)}t.redraw(),Ce&&Tn("onChange")}function jt(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Tn("onClose")}function kn(){t.config!==void 0&&Tn("onDestroy");for(var Ce=t._handlers.length;Ce--;)t._handlers[Ce].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var ze=t.calendarContainer.parentNode;if(ze.lastChild&&ze.removeChild(ze.lastChild),ze.parentNode){for(;ze.firstChild;)ze.parentNode.insertBefore(ze.firstChild,ze);ze.parentNode.removeChild(ze)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(st){try{delete t[st]}catch{}})}function In(Ce){return t.calendarContainer.contains(Ce)}function Pi(Ce){if(t.isOpen&&!t.config.inline){var ze=da(Ce),st=In(ze),xe=ze===t.input||ze===t.altInput||t.element.contains(ze)||Ce.path&&Ce.path.indexOf&&(~Ce.path.indexOf(t.input)||~Ce.path.indexOf(t.altInput)),X=!xe&&!st&&!In(Ce.relatedTarget),re=!t.config.ignoredFocusElements.some(function(le){return le.contains(ze)});X&&re&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&L(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Hn(Ce){if(!(!Ce||t.config.minDate&&Ce<t.config.minDate.getFullYear()||t.config.maxDate&&Ce>t.config.maxDate.getFullYear())){var ze=Ce,st=t.currentYear!==ze;t.currentYear=ze||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),st&&(t.redraw(),Tn("onYearChange"),Oi())}}function sn(Ce,ze){var st;ze===void 0&&(ze=!0);var xe=t.parseDate(Ce,void 0,ze);if(t.config.minDate&&xe&&pa(xe,t.config.minDate,ze!==void 0?ze:!t.minDateHasTime)<0||t.config.maxDate&&xe&&pa(xe,t.config.maxDate,ze!==void 0?ze:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(xe===void 0)return!1;for(var X=!!t.config.enable,re=(st=t.config.enable)!==null&&st!==void 0?st:t.config.disable,le=0,me=void 0;le<re.length;le++){if(me=re[le],typeof me=="function"&&me(xe))return X;if(me instanceof Date&&xe!==void 0&&me.getTime()===xe.getTime())return X;if(typeof me=="string"){var ye=t.parseDate(me,void 0,!0);return ye&&ye.getTime()===xe.getTime()?X:!X}else if(typeof me=="object"&&xe!==void 0&&me.from&&me.to&&xe.getTime()>=me.from.getTime()&&xe.getTime()<=me.to.getTime())return X}return!X}function ji(Ce){return t.daysContainer!==void 0?Ce.className.indexOf("hidden")===-1&&Ce.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(Ce):!1}function Ie(Ce){var ze=Ce.target===t._input,st=t._input.value.trimEnd()!==fo();ze&&st&&!(Ce.relatedTarget&&In(Ce.relatedTarget))&&t.setDate(t._input.value,!0,Ce.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Br(Ce){var ze=da(Ce),st=t.config.wrap?i.contains(ze):ze===t._input,xe=t.config.allowInput,X=t.isOpen&&(!xe||!st),re=t.config.inline&&st&&!xe;if(Ce.keyCode===13&&st){if(xe)return t.setDate(t._input.value,!0,ze===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),ze.blur();t.open()}else if(In(ze)||X||re){var le=!!t.timeContainer&&t.timeContainer.contains(ze);switch(Ce.keyCode){case 13:le?(Ce.preventDefault(),L(),ba()):li(Ce);break;case 27:Ce.preventDefault(),ba();break;case 8:case 46:st&&!t.config.allowInput&&(Ce.preventDefault(),t.clear());break;case 37:case 39:if(!le&&!st){Ce.preventDefault();var me=p();if(t.daysContainer!==void 0&&(xe===!1||me&&ji(me))){var ye=Ce.keyCode===39?1:-1;Ce.ctrlKey?(Ce.stopPropagation(),Kt(ye),vt(_t(1),0)):vt(void 0,ye)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:Ce.preventDefault();var Se=Ce.keyCode===40?1:-1;t.daysContainer&&ze.$i!==void 0||ze===t.input||ze===t.altInput?Ce.ctrlKey?(Ce.stopPropagation(),Hn(t.currentYear-Se),vt(_t(1),0)):le||vt(void 0,Se*7):ze===t.currentYearElement?Hn(t.currentYear-Se):t.config.enableTime&&(!le&&t.hourElement&&t.hourElement.focus(),L(Ce),t._debouncedChange());break;case 9:if(le){var Fe=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(We){return We}),Re=Fe.indexOf(ze);if(Re!==-1){var $e=Fe[Re+(Ce.shiftKey?-1:1)];Ce.preventDefault(),($e||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(ze)&&Ce.shiftKey&&(Ce.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&ze===t.amPM)switch(Ce.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],q(),qn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],q(),qn();break}(st||In(ze))&&Tn("onKeyDown",Ce)}function $r(Ce,ze){if(ze===void 0&&(ze="flatpickr-day"),!(t.selectedDates.length!==1||Ce&&(!Ce.classList.contains(ze)||Ce.classList.contains("flatpickr-disabled")))){for(var st=Ce?Ce.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),xe=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),X=Math.min(st,t.selectedDates[0].getTime()),re=Math.max(st,t.selectedDates[0].getTime()),le=!1,me=0,ye=0,Se=X;Se<re;Se+=x9.DAY)sn(new Date(Se),!0)||(le=le||Se>X&&Se<re,Se<xe&&(!me||Se>me)?me=Se:Se>xe&&(!ye||Se<ye)&&(ye=Se));var Fe=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+ze));Fe.forEach(function(Re){var $e=Re.dateObj,We=$e.getTime(),Je=me>0&&We<me||ye>0&&We>ye;if(Je){Re.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(mt){Re.classList.remove(mt)});return}else if(le&&!Je)return;["startRange","inRange","endRange","notAllowed"].forEach(function(mt){Re.classList.remove(mt)}),Ce!==void 0&&(Ce.classList.add(st<=t.selectedDates[0].getTime()?"startRange":"endRange"),xe<st&&We===xe?Re.classList.add("startRange"):xe>st&&We===xe&&Re.classList.add("endRange"),We>=me&&(ye===0||We<=ye)&&y9(We,xe,st)&&Re.classList.add("inRange"))})}}function xa(){t.isOpen&&!t.config.static&&!t.config.inline&&Wn()}function Ct(Ce,ze){if(ze===void 0&&(ze=t._positionElement),t.isMobile===!0){if(Ce){Ce.preventDefault();var st=da(Ce);st&&st.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Tn("onOpen");return}else if(t._input.disabled||t.config.inline)return;var xe=t.isOpen;t.isOpen=!0,xe||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Tn("onOpen"),Wn(ze)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(Ce===void 0||!t.timeContainer.contains(Ce.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function is(Ce){return function(ze){var st=t.config["_"+Ce+"Date"]=t.parseDate(ze,t.config.dateFormat),xe=t.config["_"+(Ce==="min"?"max":"min")+"Date"];st!==void 0&&(t[Ce==="min"?"minDateHasTime":"maxDateHasTime"]=st.getHours()>0||st.getMinutes()>0||st.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(X){return sn(X)}),!t.selectedDates.length&&Ce==="min"&&Z(st),qn()),t.daysContainer&&(Ys(),st!==void 0?t.currentYearElement[Ce]=st.getFullYear().toString():t.currentYearElement.removeAttribute(Ce),t.currentYearElement.disabled=!!xe&&st!==void 0&&xe.getFullYear()===st.getFullYear())}}function yr(){var Ce=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ze=vs(vs({},JSON.parse(JSON.stringify(i.dataset||{}))),e),st={};t.config.parseDate=ze.parseDate,t.config.formatDate=ze.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Fe){t.config._enable=Gr(Fe)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Fe){t.config._disable=Gr(Fe)}});var xe=ze.mode==="time";if(!ze.dateFormat&&(ze.enableTime||xe)){var X=Pr.defaultConfig.dateFormat||rp.dateFormat;st.dateFormat=ze.noCalendar||xe?"H:i"+(ze.enableSeconds?":S":""):X+" H:i"+(ze.enableSeconds?":S":"")}if(ze.altInput&&(ze.enableTime||xe)&&!ze.altFormat){var re=Pr.defaultConfig.altFormat||rp.altFormat;st.altFormat=ze.noCalendar||xe?"h:i"+(ze.enableSeconds?":S K":" K"):re+(" h:i"+(ze.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:is("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:is("max")});var le=function(Fe){return function(Re){t.config[Fe==="min"?"_minTime":"_maxTime"]=t.parseDate(Re,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:le("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:le("max")}),ze.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,st,ze);for(var me=0;me<Ce.length;me++)t.config[Ce[me]]=t.config[Ce[me]]===!0||t.config[Ce[me]]==="true";wv.filter(function(Fe){return t.config[Fe]!==void 0}).forEach(function(Fe){t.config[Fe]=Mv(t.config[Fe]||[]).map(y)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var me=0;me<t.config.plugins.length;me++){var ye=t.config.plugins[me](t)||{};for(var Se in ye)wv.indexOf(Se)>-1?t.config[Se]=Mv(ye[Se]).map(y).concat(t.config[Se]):typeof ze[Se]>"u"&&(t.config[Se]=ye[Se])}ze.altInputClass||(t.config.altInputClass=Is().className+" "+t.config.altInputClass),Tn("onParseConfig")}function Is(){return t.config.wrap?i.querySelector("[data-input]"):i}function Mi(){typeof t.config.locale!="object"&&typeof Pr.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=vs(vs({},Pr.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Pr.l10ns[t.config.locale]:void 0),Yh.D="("+t.l10n.weekdays.shorthand.join("|")+")",Yh.l="("+t.l10n.weekdays.longhand.join("|")+")",Yh.M="("+t.l10n.months.shorthand.join("|")+")",Yh.F="("+t.l10n.months.longhand.join("|")+")",Yh.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var Ce=vs(vs({},e),JSON.parse(JSON.stringify(i.dataset||{})));Ce.time_24hr===void 0&&Pr.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=$A(t),t.parseDate=ox({config:t.config,l10n:t.l10n})}function Wn(Ce){if(typeof t.config.position=="function")return void t.config.position(t,Ce);if(t.calendarContainer!==void 0){Tn("onPreCalendarPosition");var ze=Ce||t._positionElement,st=Array.prototype.reduce.call(t.calendarContainer.children,function(wi,$i){return wi+$i.offsetHeight},0),xe=t.calendarContainer.offsetWidth,X=t.config.position.split(" "),re=X[0],le=X.length>1?X[1]:null,me=ze.getBoundingClientRect(),ye=window.innerHeight-me.bottom,Se=re==="above"||re!=="below"&&ye<st&&me.top>st,Fe=window.pageYOffset+me.top+(Se?-st-2:ze.offsetHeight+2);if(Es(t.calendarContainer,"arrowTop",!Se),Es(t.calendarContainer,"arrowBottom",Se),!t.config.inline){var Re=window.pageXOffset+me.left,$e=!1,We=!1;le==="center"?(Re-=(xe-me.width)/2,$e=!0):le==="right"&&(Re-=xe-me.width,We=!0),Es(t.calendarContainer,"arrowLeft",!$e&&!We),Es(t.calendarContainer,"arrowCenter",$e),Es(t.calendarContainer,"arrowRight",We);var Je=window.document.body.offsetWidth-(window.pageXOffset+me.right),mt=Re+xe>window.document.body.offsetWidth,Dt=Je+xe>window.document.body.offsetWidth;if(Es(t.calendarContainer,"rightMost",mt),!t.config.static)if(t.calendarContainer.style.top=Fe+"px",!mt)t.calendarContainer.style.left=Re+"px",t.calendarContainer.style.right="auto";else if(!Dt)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Je+"px";else{var Lt=ws();if(Lt===void 0)return;var Jt=window.document.body.offsetWidth,hi=Math.max(0,Jt/2-xe/2),ai=".flatpickr-calendar.centerMost:before",ii=".flatpickr-calendar.centerMost:after",Zi=Lt.cssRules.length,Ri="{left:"+me.left+"px;right:auto;}";Es(t.calendarContainer,"rightMost",!1),Es(t.calendarContainer,"centerMost",!0),Lt.insertRule(ai+","+ii+Ri,Zi),t.calendarContainer.style.left=hi+"px",t.calendarContainer.style.right="auto"}}}}function ws(){for(var Ce=null,ze=0;ze<document.styleSheets.length;ze++){var st=document.styleSheets[ze];if(st.cssRules){try{st.cssRules}catch{continue}Ce=st;break}}return Ce??za()}function za(){var Ce=document.createElement("style");return document.head.appendChild(Ce),Ce.sheet}function Ys(){t.config.noCalendar||t.isMobile||(Oi(),ns(),Qt())}function ba(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function li(Ce){Ce.preventDefault(),Ce.stopPropagation();var ze=function(Fe){return Fe.classList&&Fe.classList.contains("flatpickr-day")&&!Fe.classList.contains("flatpickr-disabled")&&!Fe.classList.contains("notAllowed")},st=qA(da(Ce),ze);if(st!==void 0){var xe=st,X=t.latestSelectedDateObj=new Date(xe.dateObj.getTime()),re=(X.getMonth()<t.currentMonth||X.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=xe,t.config.mode==="single")t.selectedDates=[X];else if(t.config.mode==="multiple"){var le=Na(X);le?t.selectedDates.splice(parseInt(le),1):t.selectedDates.push(X)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=X,t.selectedDates.push(X),pa(X,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Fe,Re){return Fe.getTime()-Re.getTime()}));if(q(),re){var me=t.currentYear!==X.getFullYear();t.currentYear=X.getFullYear(),t.currentMonth=X.getMonth(),me&&(Tn("onYearChange"),Oi()),Tn("onMonthChange")}if(ns(),Qt(),qn(),!re&&t.config.mode!=="range"&&t.config.showMonths===1?it(xe):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var ye=t.config.mode==="single"&&!t.config.enableTime,Se=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(ye||Se)&&ba()}we()}}var Xs={locale:[Mi,dt],showMonths:[zt,s,ut],minDate:[Ze],maxDate:[Ze],positionElement:[Fa],clickOpens:[function(){t.config.clickOpens===!0?(he(t._input,"focus",t.open),he(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Ks(Ce,ze){if(Ce!==null&&typeof Ce=="object"){Object.assign(t.config,Ce);for(var st in Ce)Xs[st]!==void 0&&Xs[st].forEach(function(xe){return xe()})}else t.config[Ce]=ze,Xs[Ce]!==void 0?Xs[Ce].forEach(function(xe){return xe()}):wv.indexOf(Ce)>-1&&(t.config[Ce]=Mv(ze));t.redraw(),qn(!0)}function wa(Ce,ze){var st=[];if(Ce instanceof Array)st=Ce.map(function(xe){return t.parseDate(xe,ze)});else if(Ce instanceof Date||typeof Ce=="number")st=[t.parseDate(Ce,ze)];else if(typeof Ce=="string")switch(t.config.mode){case"single":case"time":st=[t.parseDate(Ce,ze)];break;case"multiple":st=Ce.split(t.config.conjunction).map(function(xe){return t.parseDate(xe,ze)});break;case"range":st=Ce.split(t.l10n.rangeSeparator).map(function(xe){return t.parseDate(xe,ze)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Ce)));t.selectedDates=t.config.allowInvalidPreload?st:st.filter(function(xe){return xe instanceof Date&&sn(xe,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(xe,X){return xe.getTime()-X.getTime()})}function Sr(Ce,ze,st){if(ze===void 0&&(ze=!1),st===void 0&&(st=t.config.dateFormat),Ce!==0&&!Ce||Ce instanceof Array&&Ce.length===0)return t.clear(ze);wa(Ce,st),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),Ze(void 0,ze),Z(),t.selectedDates.length===0&&t.clear(!1),qn(ze),ze&&Tn("onChange")}function Gr(Ce){return Ce.slice().map(function(ze){return typeof ze=="string"||typeof ze=="number"||ze instanceof Date?t.parseDate(ze,void 0,!0):ze&&typeof ze=="object"&&ze.from&&ze.to?{from:t.parseDate(ze.from,void 0),to:t.parseDate(ze.to,void 0)}:ze}).filter(function(ze){return ze})}function $o(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var Ce=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);Ce&&wa(Ce,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Go(){if(t.input=Is(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Pn(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Fa()}function Fa(){t._positionElement=t.config.positionElement||t._input}function Js(){var Ce=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Pn("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=Ce,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=Ce==="datetime-local"?"Y-m-d\\TH:i:S":Ce==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}he(t.mobileInput,"change",function(ze){t.setDate(da(ze).value,!1,t.mobileFormatStr),Tn("onChange"),Tn("onClose")})}function Ba(Ce){if(t.isOpen===!0)return t.close();t.open(Ce)}function Tn(Ce,ze){if(t.config!==void 0){var st=t.config[Ce];if(st!==void 0&&st.length>0)for(var xe=0;st[xe]&&xe<st.length;xe++)st[xe](t.selectedDates,t.input.value,t,ze);Ce==="onChange"&&(t.input.dispatchEvent(Wr("change")),t.input.dispatchEvent(Wr("input")))}}function Wr(Ce){var ze=document.createEvent("Event");return ze.initEvent(Ce,!0,!0),ze}function Na(Ce){for(var ze=0;ze<t.selectedDates.length;ze++){var st=t.selectedDates[ze];if(st instanceof Date&&pa(st,Ce)===0)return""+ze}return!1}function yi(Ce){return t.config.mode!=="range"||t.selectedDates.length<2?!1:pa(Ce,t.selectedDates[0])>=0&&pa(Ce,t.selectedDates[1])<=0}function ns(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(Ce,ze){var st=new Date(t.currentYear,t.currentMonth,1);st.setMonth(t.currentMonth+ze),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[ze].textContent=S2(st.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=st.getMonth().toString(),Ce.value=st.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function fo(Ce){var ze=Ce||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(st){return t.formatDate(st,ze)}).filter(function(st,xe,X){return t.config.mode!=="range"||t.config.enableTime||X.indexOf(st)===xe}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function qn(Ce){Ce===void 0&&(Ce=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=fo(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=fo(t.config.altFormat)),Ce!==!1&&Tn("onValueUpdate")}function Va(Ce){var ze=da(Ce),st=t.prevMonthNav.contains(ze),xe=t.nextMonthNav.contains(ze);st||xe?Kt(st?-1:1):t.yearElements.indexOf(ze)>=0?ze.select():ze.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):ze.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Wo(Ce){Ce.preventDefault();var ze=Ce.type==="keydown",st=da(Ce),xe=st;t.amPM!==void 0&&st===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Da(t.amPM.textContent===t.l10n.amPM[0])]);var X=parseFloat(xe.getAttribute("min")),re=parseFloat(xe.getAttribute("max")),le=parseFloat(xe.getAttribute("step")),me=parseInt(xe.value,10),ye=Ce.delta||(ze?Ce.which===38?1:-1:0),Se=me+le*ye;if(typeof xe.value<"u"&&xe.value.length===2){var Fe=xe===t.hourElement,Re=xe===t.minuteElement;Se<X?(Se=re+Se+Da(!Fe)+(Da(Fe)&&Da(!t.amPM)),Re&&rt(void 0,-1,t.hourElement)):Se>re&&(Se=xe===t.hourElement?Se-re-Da(!t.amPM):X,Re&&rt(void 0,1,t.hourElement)),t.amPM&&Fe&&(le===1?Se+me===23:Math.abs(Se-me)>le)&&(t.amPM.textContent=t.l10n.amPM[Da(t.amPM.textContent===t.l10n.amPM[0])]),xe.value=$s(Se)}}return c(),t}function sp(i,e){for(var t=Array.prototype.slice.call(i).filter(function(y){return y instanceof HTMLElement}),a=[],c=0;c<t.length;c++){var p=t[c];try{if(p.getAttribute("data-fp-omit")!==null)continue;p._flatpickr!==void 0&&(p._flatpickr.destroy(),p._flatpickr=void 0),p._flatpickr=w9(p,e||{}),a.push(p._flatpickr)}catch(y){console.error(y)}}return a.length===1?a[0]:a}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(i){return sp(this,i)},HTMLElement.prototype.flatpickr=function(i){return sp([this],i)});var Pr=function(i,e){return typeof i=="string"?sp(window.document.querySelectorAll(i),e):i instanceof Node?sp([i],e):sp(i,e)};Pr.defaultConfig={};Pr.l10ns={en:vs({},K1),default:vs({},K1)};Pr.localize=function(i){Pr.l10ns.default=vs(vs({},Pr.l10ns.default),i)};Pr.setDefaults=function(i){Pr.defaultConfig=vs(vs({},Pr.defaultConfig),i)};Pr.parseDate=ox({});Pr.formatDate=$A({});Pr.compareDates=pa;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(i){return sp(this,i)});Date.prototype.fp_incr=function(i){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof i=="string"?parseInt(i,10):i))};typeof window<"u"&&(window.flatpickr=Pr);class GA extends hr{connect(){Pr(this.inputTarget,{dateFormat:"d/m/Y"})}focusInput(){this.inputTarget.focus()}}et(GA,"targets",["input"]);const M9=Object.freeze(Object.defineProperty({__proto__:null,default:GA},Symbol.toStringTag,{value:"Module"}));var WA={exports:{}};(function(i,e){(function(t,a){i.exports=a()})(eb,function(){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */function t(){for(var c=0,p=0,y=arguments.length;p<y;p++)c+=arguments[p].length;for(var s=Array(c),L=0,p=0;p<y;p++)for(var R=arguments[p],V=0,q=R.length;V<q;V++,L++)s[L]=R[V];return s}function a(c){return c===void 0&&(c={}),function(p){var y="",s,L,R,V=function(){if(c.input){if(s=c.input instanceof Element?c.input:window.document.querySelector(c.input),!s){p.config.errorHandler(new Error("Invalid input element specified"));return}p.config.wrap&&(s=s.querySelector("[data-input]"))}else s=p._input.cloneNode(),s.removeAttribute("id"),s._flatpickr=void 0;if(s.value){var Z=p.parseDate(s.value);Z&&p.selectedDates.push(Z)}s.setAttribute("data-fp-omit",""),p.config.clickOpens&&(p._bind(s,["focus","click"],function(){p.selectedDates[1]&&(p.latestSelectedDateObj=p.selectedDates[1],p._setHoursFromDate(p.selectedDates[1]),p.jumpToDate(p.selectedDates[1])),L=!0,p.isOpen=!1,p.open(void 0,c.position==="left"?p._input:s)}),p._bind(p._input,["focus","click"],function(ee){ee.preventDefault(),p.isOpen=!1,p.open()})),p.config.allowInput&&p._bind(s,"keydown",function(ee){ee.key==="Enter"&&(p.setDate([p.selectedDates[0],s.value],!0,y),s.click())}),c.input||p._input.parentNode&&p._input.parentNode.insertBefore(s,p._input.nextSibling)},q={onParseConfig:function(){p.config.mode="range",y=p.config.altInput?p.config.altFormat:p.config.dateFormat},onReady:function(){V(),p.config.ignoredFocusElements.push(s),p.config.allowInput?(p._input.removeAttribute("readonly"),s.removeAttribute("readonly")):s.setAttribute("readonly","readonly"),p._bind(p._input,"focus",function(){p.latestSelectedDateObj=p.selectedDates[0],p._setHoursFromDate(p.selectedDates[0]),L=!1,p.jumpToDate(p.selectedDates[0])}),p.config.allowInput&&p._bind(p._input,"keydown",function(Z){Z.key==="Enter"&&p.setDate([p._input.value,p.selectedDates[1]],!0,y)}),p.setDate(p.selectedDates,!1),q.onValueUpdate(p.selectedDates),p.loadedPlugins.push("range")},onPreCalendarPosition:function(){L&&(p._positionElement=s,setTimeout(function(){p._positionElement=p._input},0))},onChange:function(){p.selectedDates.length||setTimeout(function(){p.selectedDates.length||(s.value="",R=[])},10),L&&setTimeout(function(){s.focus()},0)},onDestroy:function(){c.input||s.parentNode&&s.parentNode.removeChild(s)},onValueUpdate:function(Z){var ee,se,he;if(s){if(R=!R||Z.length>=R.length?t(Z):R,R.length>Z.length){var we=Z[0],De=L?[R[0],we]:[we,R[1]];De[0].getTime()>De[1].getTime()&&(L?De[0]=De[1]:De[1]=De[0]),p.setDate(De,!1),R=t(De)}ee=p.selectedDates.map(function(Ze){return p.formatDate(Ze,y)}),se=ee[0],p._input.value=se===void 0?"":se,he=ee[1],s.value=he===void 0?"":he}}};return q}}return a})})(WA);var S9=WA.exports;const T9=tb(S9);class ZA extends hr{connect(){this.hasDateStartTarget&&this.hasDateEndTarget&&Pr(this.dateStartTarget,{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",mode:"range",plugins:[new T9({input:this.dateEndTarget})]})}}et(ZA,"targets",["dateStart","dateEnd"]);const E9=Object.freeze(Object.defineProperty({__proto__:null,default:ZA},Symbol.toStringTag,{value:"Module"}));class YA extends hr{connect(){this.hasTabTarget&&this.hasTabPanelTarget&&(this.tabTargets.find(e=>e.classList.contains("tab-active"))||this.activateTab(this.tabTargets[0]))}toggle(e){e.preventDefault(),e.stopPropagation();const t=e.params.id,c=e.currentTarget.closest(".card-container"),p=c.querySelectorAll(".dropdown-content-card"),y=document.getElementById(t);p.forEach(s=>{s.id!==t&&!s.classList.contains("hidden")&&this.closeDropdown(s,c)}),y&&(y.classList.contains("hidden")?(document.querySelectorAll(".card-container").forEach(L=>{L!==c&&L.querySelectorAll(".dropdown-content-card").forEach(R=>{this.closeDropdown(R,L)})}),this.openDropdown(y,c)):this.closeDropdown(y,c))}openDropdown(e,t){var c;e.classList.remove("hidden");const a=e.offsetHeight;if(t.style.marginBottom=`${a+40}px`,t.classList.add("dropdown-open"),this.isOpenValue=!0,!e.id.includes("book")){const p=(c=e.querySelector('[id^="pickup-"]'))==null?void 0:c.id;if(p){const y=e.querySelector(`[data-dropdown-id-param="${p}"]`);y&&this.activateTab(y)}}}closeDropdown(e,t){e.classList.add("hidden"),t.style.marginBottom="20px",t.classList.remove("dropdown-open"),this.isOpenValue=!1}showDetailTab(e){e.preventDefault(),this.activateTab(e.currentTarget)}activateTab(e){if(!e)return;const t=e.dataset.dropdownIdParam;if(!t){console.error("No tab ID found");return}const a=e.closest('[data-controller="dropdown"]');if(!a)return;a.querySelectorAll('[data-dropdown-target="tabPanel"]').forEach(s=>{s.classList.add("hidden")});const p=a.querySelector(`#${t}`);p&&p.classList.remove("hidden"),a.querySelectorAll('[data-dropdown-target="tab"]').forEach(s=>{s.classList.remove("tab-active")}),e.classList.add("tab-active")}}et(YA,"targets",["content","tab","tabPanel","progressBar","stepTab","bookContainer"]);const C9=Object.freeze(Object.defineProperty({__proto__:null,default:YA},Symbol.toStringTag,{value:"Module"}));class XA extends hr{exchange(e){e.preventDefault();const t=this.departureTarget.value;this.departureTarget.value=this.destinationTarget.value,this.destinationTarget.value=t}}et(XA,"targets",["departure","destination"]);const A9=Object.freeze(Object.defineProperty({__proto__:null,default:XA},Symbol.toStringTag,{value:"Module"}));class KA extends hr{connect(){this.filterTargets.forEach(e=>{e.addEventListener("change",this.submitForm.bind(this))})}submitForm(){this.element.requestSubmit()}}et(KA,"targets",["filter"]);const I9=Object.freeze(Object.defineProperty({__proto__:null,default:KA},Symbol.toStringTag,{value:"Module"}));class JA extends hr{connect(){this.handleFlashMessages()}handleFlashMessages(){const e=document.getElementById("flash-messages");if(!e)return;const t=e.querySelector("[data-flash-message]");if(t){const a=t.dataset.flashType,c=t.dataset.flashMessage;pr(c,a),t.remove()}}}et(JA,"targets",["form"]);const P9=Object.freeze(Object.defineProperty({__proto__:null,default:JA},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=(i,e,t=[])=>{const a=document.createElementNS("http://www.w3.org/2000/svg",i);return Object.keys(e).forEach(c=>{a.setAttribute(c,String(e[c]))}),t.length&&t.forEach(c=>{const p=QA(...c);a.appendChild(p)}),a};var D9=([i,e,t])=>QA(i,e,t);/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=i=>Array.from(i.attributes).reduce((e,t)=>(e[t.name]=t.value,e),{}),k9=i=>typeof i=="string"?i:!i||!i.class?"":i.class&&typeof i.class=="string"?i.class.split(" "):i.class&&Array.isArray(i.class)?i.class:"",O9=i=>i.flatMap(k9).map(t=>t.trim()).filter(Boolean).filter((t,a,c)=>c.indexOf(t)===a).join(" "),R9=i=>i.replace(/(\w)(\w*)(_|-|\s*)/g,(e,t,a)=>t.toUpperCase()+a.toLowerCase()),h5=(i,{nameAttr:e,icons:t,attrs:a})=>{var se;const c=i.getAttribute(e);if(c==null)return;const p=R9(c),y=t[p];if(!y)return console.warn(`${i.outerHTML} icon name was not found in the provided icons object.`);const s=L9(i),[L,R,V]=y,q={...R,"data-lucide":c,...a,...s},Z=O9(["lucide",`lucide-${c}`,s,a]);Z&&Object.assign(q,{class:Z});const ee=D9([L,q,V]);return(se=i.parentNode)==null?void 0:se.replaceChild(ee,i)};/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=["svg",C,[["path",{d:"M3.5 13h6"}],["path",{d:"m2 16 4.5-9 4.5 9"}],["path",{d:"M18 7v9"}],["path",{d:"m14 12 4 4 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=["svg",C,[["path",{d:"M3.5 13h6"}],["path",{d:"m2 16 4.5-9 4.5 9"}],["path",{d:"M18 16V7"}],["path",{d:"m14 11 4-4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=["svg",C,[["path",{d:"M21 14h-5"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16"}],["path",{d:"M4.5 13h6"}],["path",{d:"m3 16 4.5-9 4.5 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=["svg",C,[["circle",{cx:"16",cy:"4",r:"1"}],["path",{d:"m18 19 1-7-6 1"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=["svg",C,[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=["svg",C,[["path",{d:"M6 12H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 8h12"}],["path",{d:"M18.3 17.7a2.5 2.5 0 0 1-3.16 3.83 2.53 2.53 0 0 1-1.14-2V12"}],["path",{d:"M6.6 15.6A2 2 0 1 0 10 17v-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=["svg",C,[["path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}],["path",{d:"m12 15 5 6H7Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=["svg",C,[["circle",{cx:"12",cy:"13",r:"8"}],["path",{d:"M5 3 2 6"}],["path",{d:"m22 6-3-3"}],["path",{d:"M6.38 18.7 4 21"}],["path",{d:"M17.64 18.67 20 21"}],["path",{d:"m9 13 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=["svg",C,[["circle",{cx:"12",cy:"13",r:"8"}],["path",{d:"M5 3 2 6"}],["path",{d:"m22 6-3-3"}],["path",{d:"M6.38 18.7 4 21"}],["path",{d:"M17.64 18.67 20 21"}],["path",{d:"M9 13h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=["svg",C,[["path",{d:"M6.87 6.87a8 8 0 1 0 11.26 11.26"}],["path",{d:"M19.9 14.25a8 8 0 0 0-9.15-9.15"}],["path",{d:"m22 6-3-3"}],["path",{d:"M6.26 18.67 4 21"}],["path",{d:"m2 2 20 20"}],["path",{d:"M4 4 2 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=["svg",C,[["circle",{cx:"12",cy:"13",r:"8"}],["path",{d:"M5 3 2 6"}],["path",{d:"m22 6-3-3"}],["path",{d:"M6.38 18.7 4 21"}],["path",{d:"M17.64 18.67 20 21"}],["path",{d:"M12 10v6"}],["path",{d:"M9 13h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=["svg",C,[["circle",{cx:"12",cy:"13",r:"8"}],["path",{d:"M12 9v4l2 2"}],["path",{d:"M5 3 2 6"}],["path",{d:"m22 6-3-3"}],["path",{d:"M6.38 18.7 4 21"}],["path",{d:"M17.64 18.67 20 21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=["svg",C,[["path",{d:"M11 21c0-2.5 2-2.5 2-5"}],["path",{d:"M16 21c0-2.5 2-2.5 2-5"}],["path",{d:"m19 8-.8 3a1.25 1.25 0 0 1-1.2 1H7a1.25 1.25 0 0 1-1.2-1L5 8"}],["path",{d:"M21 3a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a1 1 0 0 1 1-1z"}],["path",{d:"M6 21c0-2.5 2-2.5 2-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["polyline",{points:"11 3 11 11 14 8 17 11 17 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=["svg",C,[["path",{d:"M2 12h20"}],["path",{d:"M10 16v4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-4"}],["path",{d:"M10 8V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4"}],["path",{d:"M20 16v1a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1"}],["path",{d:"M14 8V7c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=["svg",C,[["path",{d:"M12 2v20"}],["path",{d:"M8 10H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h4"}],["path",{d:"M16 10h4a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-4"}],["path",{d:"M8 20H7a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2h1"}],["path",{d:"M16 14h1a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=["svg",C,[["path",{d:"M17 12H7"}],["path",{d:"M19 18H5"}],["path",{d:"M21 6H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=["svg",C,[["rect",{width:"6",height:"16",x:"4",y:"2",rx:"2"}],["rect",{width:"6",height:"9",x:"14",y:"9",rx:"2"}],["path",{d:"M22 22H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=["svg",C,[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2"}],["path",{d:"M22 22V2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=["svg",C,[["rect",{width:"6",height:"14",x:"4",y:"5",rx:"2"}],["rect",{width:"6",height:"10",x:"14",y:"7",rx:"2"}],["path",{d:"M17 22v-5"}],["path",{d:"M17 7V2"}],["path",{d:"M7 22v-3"}],["path",{d:"M7 5V2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=["svg",C,[["rect",{width:"6",height:"14",x:"4",y:"5",rx:"2"}],["rect",{width:"6",height:"10",x:"14",y:"7",rx:"2"}],["path",{d:"M10 2v20"}],["path",{d:"M20 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=["svg",C,[["rect",{width:"6",height:"14",x:"4",y:"5",rx:"2"}],["rect",{width:"6",height:"10",x:"14",y:"7",rx:"2"}],["path",{d:"M4 2v20"}],["path",{d:"M14 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=["svg",C,[["rect",{width:"6",height:"14",x:"2",y:"5",rx:"2"}],["rect",{width:"6",height:"10",x:"16",y:"7",rx:"2"}],["path",{d:"M12 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=["svg",C,[["rect",{width:"6",height:"14",x:"2",y:"5",rx:"2"}],["rect",{width:"6",height:"10",x:"12",y:"7",rx:"2"}],["path",{d:"M22 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=["svg",C,[["rect",{width:"6",height:"14",x:"6",y:"5",rx:"2"}],["rect",{width:"6",height:"10",x:"16",y:"7",rx:"2"}],["path",{d:"M2 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=["svg",C,[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2"}],["path",{d:"M4 22V2"}],["path",{d:"M20 22V2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=["svg",C,[["rect",{width:"6",height:"14",x:"3",y:"5",rx:"2"}],["rect",{width:"6",height:"10",x:"15",y:"7",rx:"2"}],["path",{d:"M3 2v20"}],["path",{d:"M21 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=["svg",C,[["path",{d:"M3 12h18"}],["path",{d:"M3 18h18"}],["path",{d:"M3 6h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=["svg",C,[["path",{d:"M15 12H3"}],["path",{d:"M17 18H3"}],["path",{d:"M21 6H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=["svg",C,[["path",{d:"M21 12H9"}],["path",{d:"M21 18H7"}],["path",{d:"M21 6H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=["svg",C,[["rect",{width:"6",height:"16",x:"4",y:"6",rx:"2"}],["rect",{width:"6",height:"9",x:"14",y:"6",rx:"2"}],["path",{d:"M22 2H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=["svg",C,[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2"}],["path",{d:"M2 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=["svg",C,[["path",{d:"M22 17h-3"}],["path",{d:"M22 7h-5"}],["path",{d:"M5 17H2"}],["path",{d:"M7 7H2"}],["rect",{x:"5",y:"14",width:"14",height:"6",rx:"2"}],["rect",{x:"7",y:"4",width:"10",height:"6",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=["svg",C,[["rect",{width:"14",height:"6",x:"5",y:"14",rx:"2"}],["rect",{width:"10",height:"6",x:"7",y:"4",rx:"2"}],["path",{d:"M2 20h20"}],["path",{d:"M2 10h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=["svg",C,[["rect",{width:"14",height:"6",x:"5",y:"14",rx:"2"}],["rect",{width:"10",height:"6",x:"7",y:"4",rx:"2"}],["path",{d:"M2 14h20"}],["path",{d:"M2 4h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=["svg",C,[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2"}],["path",{d:"M2 12h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=["svg",C,[["rect",{width:"14",height:"6",x:"5",y:"12",rx:"2"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2"}],["path",{d:"M2 22h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=["svg",C,[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2"}],["rect",{width:"10",height:"6",x:"7",y:"6",rx:"2"}],["path",{d:"M2 2h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=["svg",C,[["rect",{width:"10",height:"6",x:"7",y:"9",rx:"2"}],["path",{d:"M22 20H2"}],["path",{d:"M22 4H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=["svg",C,[["rect",{width:"14",height:"6",x:"5",y:"15",rx:"2"}],["rect",{width:"10",height:"6",x:"7",y:"3",rx:"2"}],["path",{d:"M2 21h20"}],["path",{d:"M2 3h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=["svg",C,[["path",{d:"M10 10H6"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14"}],["path",{d:"M8 8v4"}],["path",{d:"M9 18h6"}],["circle",{cx:"17",cy:"18",r:"2"}],["circle",{cx:"7",cy:"18",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=["svg",C,[["path",{d:"M17.5 12c0 4.4-3.6 8-8 8A4.5 4.5 0 0 1 5 15.5c0-6 8-4 8-8.5a3 3 0 1 0-6 0c0 3 2.5 8.5 12 13"}],["path",{d:"M16 12h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=["svg",C,[["path",{d:"M10 17c-5-3-7-7-7-9a2 2 0 0 1 4 0c0 2.5-5 2.5-5 6 0 1.7 1.3 3 3 3 2.8 0 5-2.2 5-5"}],["path",{d:"M22 17c-5-3-7-7-7-9a2 2 0 0 1 4 0c0 2.5-5 2.5-5 6 0 1.7 1.3 3 3 3 2.8 0 5-2.2 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=["svg",C,[["path",{d:"M10 2v5.632c0 .424-.272.795-.653.982A6 6 0 0 0 6 14c.006 4 3 7 5 8"}],["path",{d:"M10 5H8a2 2 0 0 0 0 4h.68"}],["path",{d:"M14 2v5.632c0 .424.272.795.652.982A6 6 0 0 1 18 14c0 4-3 7-5 8"}],["path",{d:"M14 5h2a2 2 0 0 1 0 4h-.68"}],["path",{d:"M18 22H6"}],["path",{d:"M9 2h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=["svg",C,[["path",{d:"M12 22V8"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3"}],["circle",{cx:"12",cy:"5",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2"}],["path",{d:"M7.5 8 10 9"}],["path",{d:"m14 9 2.5-1"}],["path",{d:"M9 10h.01"}],["path",{d:"M15 10h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 15h8"}],["path",{d:"M8 9h2"}],["path",{d:"M14 9h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=["svg",C,[["path",{d:"M2 12 7 2"}],["path",{d:"m7 12 5-10"}],["path",{d:"m12 12 5-10"}],["path",{d:"m17 12 5-10"}],["path",{d:"M4.5 7h15"}],["path",{d:"M12 16v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=["svg",C,[["path",{d:"M7 10H6a4 4 0 0 1-4-4 1 1 0 0 1 1-1h4"}],["path",{d:"M7 5a1 1 0 0 1 1-1h13a1 1 0 0 1 1 1 7 7 0 0 1-7 7H8a1 1 0 0 1-1-1z"}],["path",{d:"M9 12v5"}],["path",{d:"M15 12v5"}],["path",{d:"M5 20a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3 1 1 0 0 1-1 1H6a1 1 0 0 1-1-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m14.31 8 5.74 9.94"}],["path",{d:"M9.69 8h11.48"}],["path",{d:"m7.38 12 5.74-9.94"}],["path",{d:"M9.69 16 3.95 6.06"}],["path",{d:"M14.31 16H2.83"}],["path",{d:"m16.62 12-5.74 9.94"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=["svg",C,[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"M6 8h.01"}],["path",{d:"M10 8h.01"}],["path",{d:"M14 8h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=["svg",C,[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}],["path",{d:"M10 4v4"}],["path",{d:"M2 8h20"}],["path",{d:"M6 4v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=["svg",C,[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z"}],["path",{d:"M10 2c1 .5 2 2 2 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=["svg",C,[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2"}],["path",{d:"m9 15 3-3 3 3"}],["path",{d:"M12 12v9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=["svg",C,[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"m9.5 17 5-5"}],["path",{d:"m9.5 12 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=["svg",C,[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=["svg",C,[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z"}],["path",{d:"M5 18v2"}],["path",{d:"M19 18v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=["svg",C,[["path",{d:"M15 5H9"}],["path",{d:"M15 9v3h4l-7 7-7-7h4V9z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=["svg",C,[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=["svg",C,[["path",{d:"M19 15V9"}],["path",{d:"M15 15h-3v4l-7-7 7-7v4h3v6z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=["svg",C,[["path",{d:"M18 15h-6v4l-7-7 7-7v4h6v6z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=["svg",C,[["path",{d:"M5 9v6"}],["path",{d:"M9 9h3V5l7 7-7 7v-4H9V9z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=["svg",C,[["path",{d:"M6 9h6V5l7 7-7 7v-4H6V9z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=["svg",C,[["path",{d:"M9 19h6"}],["path",{d:"M9 15v-3H5l7-7 7 7h-4v3H9z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=["svg",C,[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=["svg",C,[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 20V4"}],["rect",{x:"15",y:"4",width:"4",height:"6",ry:"2"}],["path",{d:"M17 20v-6h-2"}],["path",{d:"M15 20h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=["svg",C,[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 20V4"}],["path",{d:"M17 10V4h-2"}],["path",{d:"M15 10h4"}],["rect",{x:"15",y:"14",width:"4",height:"6",ry:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=["svg",C,[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 20V4"}],["path",{d:"M20 8h-5"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}],["path",{d:"M15 14h5l-5 6h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=["svg",C,[["path",{d:"M19 3H5"}],["path",{d:"M12 21V7"}],["path",{d:"m6 15 6 6 6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=["svg",C,[["path",{d:"M17 7 7 17"}],["path",{d:"M17 17H7V7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=["svg",C,[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 20V4"}],["path",{d:"M11 4h4"}],["path",{d:"M11 8h7"}],["path",{d:"M11 12h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=["svg",C,[["path",{d:"m7 7 10 10"}],["path",{d:"M17 7v10H7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=["svg",C,[["path",{d:"M12 2v14"}],["path",{d:"m19 9-7 7-7-7"}],["circle",{cx:"12",cy:"21",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=["svg",C,[["path",{d:"M12 17V3"}],["path",{d:"m6 11 6 6 6-6"}],["path",{d:"M19 21H5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=["svg",C,[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 20V4"}],["path",{d:"m21 8-4-4-4 4"}],["path",{d:"M17 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=["svg",C,[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 20V4"}],["path",{d:"M11 4h10"}],["path",{d:"M11 8h7"}],["path",{d:"M11 12h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=["svg",C,[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 4v16"}],["path",{d:"M15 4h5l-5 6h5"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}],["path",{d:"M20 18h-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=["svg",C,[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=["svg",C,[["path",{d:"m9 6-6 6 6 6"}],["path",{d:"M3 12h14"}],["path",{d:"M21 19V5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=["svg",C,[["path",{d:"M8 3 4 7l4 4"}],["path",{d:"M4 7h16"}],["path",{d:"m16 21 4-4-4-4"}],["path",{d:"M20 17H4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=["svg",C,[["path",{d:"M3 19V5"}],["path",{d:"m13 6-6 6 6 6"}],["path",{d:"M7 12h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=["svg",C,[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=["svg",C,[["path",{d:"M3 5v14"}],["path",{d:"M21 12H7"}],["path",{d:"m15 18 6-6-6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=["svg",C,[["path",{d:"m16 3 4 4-4 4"}],["path",{d:"M20 7H4"}],["path",{d:"m8 21-4-4 4-4"}],["path",{d:"M4 17h16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=["svg",C,[["path",{d:"M17 12H3"}],["path",{d:"m11 18 6-6-6-6"}],["path",{d:"M21 5v14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=["svg",C,[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=["svg",C,[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["rect",{x:"15",y:"4",width:"4",height:"6",ry:"2"}],["path",{d:"M17 20v-6h-2"}],["path",{d:"M15 20h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=["svg",C,[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M17 10V4h-2"}],["path",{d:"M15 10h4"}],["rect",{x:"15",y:"14",width:"4",height:"6",ry:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=["svg",C,[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M20 8h-5"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}],["path",{d:"M15 14h5l-5 6h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=["svg",C,[["path",{d:"m21 16-4 4-4-4"}],["path",{d:"M17 20V4"}],["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=["svg",C,[["path",{d:"m5 9 7-7 7 7"}],["path",{d:"M12 16V2"}],["circle",{cx:"12",cy:"21",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=["svg",C,[["path",{d:"m18 9-6-6-6 6"}],["path",{d:"M12 3v14"}],["path",{d:"M5 21h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=["svg",C,[["path",{d:"M7 17V7h10"}],["path",{d:"M17 17 7 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=["svg",C,[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M11 12h4"}],["path",{d:"M11 16h7"}],["path",{d:"M11 20h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=["svg",C,[["path",{d:"M7 7h10v10"}],["path",{d:"M7 17 17 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=["svg",C,[["path",{d:"M5 3h14"}],["path",{d:"m18 13-6-6-6 6"}],["path",{d:"M12 7v14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=["svg",C,[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M11 12h10"}],["path",{d:"M11 16h7"}],["path",{d:"M11 20h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=["svg",C,[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M15 4h5l-5 6h5"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}],["path",{d:"M20 18h-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=["svg",C,[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=["svg",C,[["path",{d:"m4 6 3-3 3 3"}],["path",{d:"M7 17V3"}],["path",{d:"m14 6 3-3 3 3"}],["path",{d:"M17 17V3"}],["path",{d:"M4 21h16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=["svg",C,[["path",{d:"M12 6v12"}],["path",{d:"M17.196 9 6.804 15"}],["path",{d:"m6.804 9 10.392 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=["svg",C,[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=["svg",C,[["circle",{cx:"12",cy:"12",r:"1"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=["svg",C,[["path",{d:"M2 10v3"}],["path",{d:"M6 6v11"}],["path",{d:"M10 3v18"}],["path",{d:"M14 8v7"}],["path",{d:"M18 5v13"}],["path",{d:"M22 10v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=["svg",C,[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=["svg",C,[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526"}],["circle",{cx:"12",cy:"8",r:"6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=["svg",C,[["path",{d:"m14 12-8.5 8.5a2.12 2.12 0 1 1-3-3L11 9"}],["path",{d:"M15 13 9 7l4-4 6 6h3a8 8 0 0 1-7 7z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=["svg",C,[["path",{d:"M4 4v16h16"}],["path",{d:"m4 20 7-7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=["svg",C,[["path",{d:"M9 12h.01"}],["path",{d:"M15 12h.01"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=["svg",C,[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z"}],["path",{d:"M8 10h8"}],["path",{d:"M8 18h8"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M12 7v10"}],["path",{d:"M15.4 10a4 4 0 1 0 0 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"m9 12 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}],["path",{d:"M12 18V6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M7 12h5"}],["path",{d:"M15 9.4a4 4 0 1 0 0 5.2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M8 8h8"}],["path",{d:"M8 12h8"}],["path",{d:"m13 17-5-1h1a4 4 0 0 0 0-8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"m9 8 3 3v7"}],["path",{d:"m12 11 3-3"}],["path",{d:"M9 12h6"}],["path",{d:"M9 16h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"m15 9-6 6"}],["path",{d:"M9 9h.01"}],["path",{d:"M15 15h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M8 12h4"}],["path",{d:"M10 16V9.5a2.5 2.5 0 0 1 5 0"}],["path",{d:"M8 16h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M9 16h5"}],["path",{d:"M9 12h5a2 2 0 1 0 0-4h-3v9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M11 17V8h4"}],["path",{d:"M11 12h3"}],["path",{d:"M9 16h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=["svg",C,[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=["svg",C,[["path",{d:"M22 18H6a2 2 0 0 1-2-2V7a2 2 0 0 0-2-2"}],["path",{d:"M17 14V4a2 2 0 0 0-2-2h-1a2 2 0 0 0-2 2v10"}],["rect",{width:"13",height:"8",x:"8",y:"6",rx:"1"}],["circle",{cx:"18",cy:"20",r:"2"}],["circle",{cx:"9",cy:"20",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m4.9 4.9 14.2 14.2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=["svg",C,[["path",{d:"M4 13c3.5-2 8-2 10 2a5.5 5.5 0 0 1 8 5"}],["path",{d:"M5.15 17.89c5.52-1.52 8.65-6.89 7-12C11.55 4 11.5 2 13 2c3.22 0 5 5.5 5 8 0 6.5-4.2 12-10.49 12C5.11 22 2 22 2 20c0-1.5 1.14-1.55 3.15-2.11Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=["svg",C,[["path",{d:"M10 10.01h.01"}],["path",{d:"M10 14.01h.01"}],["path",{d:"M14 10.01h.01"}],["path",{d:"M14 14.01h.01"}],["path",{d:"M18 6v11.5"}],["path",{d:"M6 6v12"}],["rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=["svg",C,[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}],["circle",{cx:"12",cy:"12",r:"2"}],["path",{d:"M6 12h.01M18 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=["svg",C,[["path",{d:"M3 5v14"}],["path",{d:"M8 5v14"}],["path",{d:"M12 5v14"}],["path",{d:"M17 5v14"}],["path",{d:"M21 5v14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=["svg",C,[["path",{d:"M4 20h16"}],["path",{d:"m6 16 6-12 6 12"}],["path",{d:"M8 12h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=["svg",C,[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=["svg",C,[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1"}],["path",{d:"m11 7-3 5h4l-3 5"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=["svg",C,[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=["svg",C,[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=["svg",C,[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=["svg",C,[["path",{d:"M10 17h.01"}],["path",{d:"M10 7v6"}],["path",{d:"M14 7h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2"}],["path",{d:"M22 11v2"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=["svg",C,[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=["svg",C,[["path",{d:"M4.5 3h15"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3"}],["path",{d:"M6 14h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=["svg",C,[["path",{d:"M9 9c-.64.64-1.521.954-2.402 1.165A6 6 0 0 0 8 22a13.96 13.96 0 0 0 9.9-4.1"}],["path",{d:"M10.75 5.093A6 6 0 0 1 22 8c0 2.411-.61 4.68-1.683 6.66"}],["path",{d:"M5.341 10.62a4 4 0 0 0 6.487 1.208M10.62 5.341a4.015 4.015 0 0 1 2.039 2.04"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=["svg",C,[["path",{d:"M10.165 6.598C9.954 7.478 9.64 8.36 9 9c-.64.64-1.521.954-2.402 1.165A6 6 0 0 0 8 22c7.732 0 14-6.268 14-14a6 6 0 0 0-11.835-1.402Z"}],["path",{d:"M5.341 10.62a4 4 0 1 0 5.279-5.28"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=["svg",C,[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"}],["path",{d:"M12 4v6"}],["path",{d:"M2 18h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=["svg",C,[["path",{d:"M3 20v-8a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v8"}],["path",{d:"M5 10V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v4"}],["path",{d:"M3 18h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=["svg",C,[["path",{d:"M2 4v16"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}],["path",{d:"M2 17h20"}],["path",{d:"M6 8v9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=["svg",C,[["circle",{cx:"12.5",cy:"8.5",r:"2.5"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=["svg",C,[["path",{d:"M13 13v5"}],["path",{d:"M17 11.47V8"}],["path",{d:"M17 11h1a3 3 0 0 1 2.745 4.211"}],["path",{d:"m2 2 20 20"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-3"}],["path",{d:"M7.536 7.535C6.766 7.649 6.154 8 5.5 8a2.5 2.5 0 0 1-1.768-4.268"}],["path",{d:"M8.727 3.204C9.306 2.767 9.885 2 11 2c1.56 0 2 1.5 3 1.5s1.72-.5 2.5-.5a1 1 0 1 1 0 5c-.78 0-1.5-.5-2.5-.5a3.149 3.149 0 0 0-.842.12"}],["path",{d:"M9 14.6V18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=["svg",C,[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1"}],["path",{d:"M9 12v6"}],["path",{d:"M13 12v6"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=["svg",C,[["path",{d:"M19.4 14.9C20.2 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 .7 0 1.3.1 1.9.3"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"}],["circle",{cx:"18",cy:"8",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=["svg",C,[["path",{d:"M18.8 4A6.3 8.7 0 0 1 20 9"}],["path",{d:"M9 9h.01"}],["circle",{cx:"9",cy:"9",r:"7"}],["rect",{width:"10",height:"6",x:"4",y:"16",rx:"2"}],["path",{d:"M14 19c3 0 4.6-1.6 4.6-1.6"}],["circle",{cx:"20",cy:"16",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=["svg",C,[["path",{d:"M18.4 12c.8 3.8 2.6 5 2.6 5H3s3-2 3-9c0-3.3 2.7-6 6-6 1.8 0 3.4.8 4.5 2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"}],["path",{d:"M15 8h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=["svg",C,[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=["svg",C,[["path",{d:"M19.3 14.8C20.1 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 1 0 1.9.2 2.8.7"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"}],["path",{d:"M15 8h6"}],["path",{d:"M18 5v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=["svg",C,[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=["svg",C,[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=["svg",C,[["rect",{width:"13",height:"7",x:"3",y:"3",rx:"1"}],["path",{d:"m22 15-3-3 3-3"}],["rect",{width:"13",height:"7",x:"3",y:"14",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=["svg",C,[["rect",{width:"13",height:"7",x:"8",y:"3",rx:"1"}],["path",{d:"m2 9 3 3-3 3"}],["rect",{width:"13",height:"7",x:"8",y:"14",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=["svg",C,[["rect",{width:"7",height:"13",x:"3",y:"3",rx:"1"}],["path",{d:"m9 22 3-3 3 3"}],["rect",{width:"7",height:"13",x:"14",y:"3",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=["svg",C,[["rect",{width:"7",height:"13",x:"3",y:"8",rx:"1"}],["path",{d:"m15 2-3 3-3-3"}],["rect",{width:"7",height:"13",x:"14",y:"8",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=["svg",C,[["path",{d:"M12.409 13.017A5 5 0 0 1 22 15c0 3.866-4 7-9 7-4.077 0-8.153-.82-10.371-2.462-.426-.316-.631-.832-.62-1.362C2.118 12.723 2.627 2 10 2a3 3 0 0 1 3 3 2 2 0 0 1-2 2c-1.105 0-1.64-.444-2-1"}],["path",{d:"M15 14a5 5 0 0 0-7.584 2"}],["path",{d:"M9.964 6.825C8.019 7.977 9.5 13 8 15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=["svg",C,[["circle",{cx:"18.5",cy:"17.5",r:"3.5"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5"}],["circle",{cx:"15",cy:"5",r:"1"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=["svg",C,[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2"}],["path",{d:"M6 20h4"}],["path",{d:"M14 10h4"}],["path",{d:"M6 14h2v6"}],["path",{d:"M14 4h2v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=["svg",C,[["path",{d:"M10 10h4"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z"}],["path",{d:"M 22 16 L 2 16"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=["svg",C,[["circle",{cx:"12",cy:"11.9",r:"2"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6"}],["path",{d:"m8.9 10.1 1.4.8"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5"}],["path",{d:"m15.1 10.1-1.4.8"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2"}],["path",{d:"M12 13.9v1.6"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=["svg",C,[["path",{d:"M16 7h.01"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20"}],["path",{d:"m20 7 2 .5-2 .5"}],["path",{d:"M10 18v3"}],["path",{d:"M14 17.75V21"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=["svg",C,[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=["svg",C,[["circle",{cx:"9",cy:"9",r:"7"}],["circle",{cx:"15",cy:"15",r:"7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=["svg",C,[["path",{d:"M3 3h18"}],["path",{d:"M20 7H8"}],["path",{d:"M20 11H8"}],["path",{d:"M10 19h10"}],["path",{d:"M8 15h12"}],["path",{d:"M4 3v14"}],["circle",{cx:"4",cy:"19",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=["svg",C,[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=["svg",C,[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17"}],["line",{x1:"18",x2:"21",y1:"12",y2:"12"}],["line",{x1:"3",x2:"6",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=["svg",C,[["path",{d:"m17 17-5 5V12l-5 5"}],["path",{d:"m2 2 20 20"}],["path",{d:"M14.5 9.5 17 7l-5-5v4.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=["svg",C,[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17"}],["path",{d:"M20.83 14.83a4 4 0 0 0 0-5.66"}],["path",{d:"M18 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=["svg",C,[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=["svg",C,[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=["svg",C,[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}],["circle",{cx:"12",cy:"12",r:"4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=["svg",C,[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=["svg",C,[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=["svg",C,[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"m8 13 4-7 4 7"}],["path",{d:"M9.1 11h5.7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=["svg",C,[["path",{d:"M12 6v7"}],["path",{d:"M16 8v3"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M8 8v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=["svg",C,[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"m9 9.5 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=["svg",C,[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=["svg",C,[["path",{d:"M12 17h2"}],["path",{d:"M12 22h2"}],["path",{d:"M12 2h2"}],["path",{d:"M18 22h1a1 1 0 0 0 1-1"}],["path",{d:"M18 2h1a1 1 0 0 1 1 1v1"}],["path",{d:"M20 15v2h-2"}],["path",{d:"M20 8v3"}],["path",{d:"M4 11V9"}],["path",{d:"M4 19.5V15"}],["path",{d:"M4 5v-.5A2.5 2.5 0 0 1 6.5 2H8"}],["path",{d:"M8 22H6.5a1 1 0 0 1 0-5H8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=["svg",C,[["path",{d:"M12 13V7"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"m9 10 3 3 3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=["svg",C,[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M8 12v-2a4 4 0 0 1 8 0v2"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"9",cy:"12",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=["svg",C,[["path",{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=["svg",C,[["path",{d:"m20 13.7-2.1-2.1a2 2 0 0 0-2.8 0L9.7 17"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["circle",{cx:"10",cy:"8",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=["svg",C,[["path",{d:"m19 3 1 1"}],["path",{d:"m20 2-4.5 4.5"}],["path",{d:"M20 8v13a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H14"}],["circle",{cx:"14",cy:"8",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=["svg",C,[["path",{d:"M18 6V4a2 2 0 1 0-4 0v2"}],["path",{d:"M20 15v6a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H10"}],["rect",{x:"12",y:"6",width:"8",height:"5",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=["svg",C,[["path",{d:"M10 2v8l3-3 3 3V2"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=["svg",C,[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M9 10h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=["svg",C,[["path",{d:"M12 21V7"}],["path",{d:"m16 12 2 2 4-4"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=["svg",C,[["path",{d:"M12 7v14"}],["path",{d:"M16 12h2"}],["path",{d:"M16 8h2"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}],["path",{d:"M6 12h2"}],["path",{d:"M6 8h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=["svg",C,[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=["svg",C,[["path",{d:"M12 7v6"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M9 10h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=["svg",C,[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M8 11h8"}],["path",{d:"M8 7h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=["svg",C,[["path",{d:"M10 13h4"}],["path",{d:"M12 6v7"}],["path",{d:"M16 8V6H8v2"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=["svg",C,[["path",{d:"M12 13V7"}],["path",{d:"M18 2h1a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2"}],["path",{d:"m9 10 3-3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=["svg",C,[["path",{d:"M12 13V7"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"m9 10 3-3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=["svg",C,[["path",{d:"M15 13a3 3 0 1 0-6 0"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["circle",{cx:"12",cy:"8",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=["svg",C,[["path",{d:"m14.5 7-5 5"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"m9.5 7 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=["svg",C,[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=["svg",C,[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z"}],["path",{d:"m9 10 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=["svg",C,[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=["svg",C,[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=["svg",C,[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z"}],["path",{d:"m14.5 7.5-5 5"}],["path",{d:"m9.5 7.5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=["svg",C,[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=["svg",C,[["path",{d:"M4 9V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"}],["path",{d:"M8 8v1"}],["path",{d:"M12 8v1"}],["path",{d:"M16 8v1"}],["rect",{width:"20",height:"12",x:"2",y:"9",rx:"2"}],["circle",{cx:"8",cy:"15",r:"2"}],["circle",{cx:"16",cy:"15",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=["svg",C,[["path",{d:"M12 6V2H8"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z"}],["path",{d:"M2 12h2"}],["path",{d:"M9 11v2"}],["path",{d:"M15 11v2"}],["path",{d:"M20 12h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=["svg",C,[["path",{d:"M13.67 8H18a2 2 0 0 1 2 2v4.33"}],["path",{d:"M2 14h2"}],["path",{d:"M20 14h2"}],["path",{d:"M22 22 2 2"}],["path",{d:"M8 8H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 1.414-.586"}],["path",{d:"M9 13v2"}],["path",{d:"M9.67 4H12v2.33"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=["svg",C,[["path",{d:"M12 8V4H8"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}],["path",{d:"M2 14h2"}],["path",{d:"M20 14h2"}],["path",{d:"M15 13v2"}],["path",{d:"M9 13v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=["svg",C,[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}],["path",{d:"m3.3 7 8.7 5 8.7-5"}],["path",{d:"M12 22V12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=["svg",C,[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z"}],["path",{d:"m7 16.5-4.74-2.85"}],["path",{d:"m7 16.5 5-3"}],["path",{d:"M7 16.5v5.17"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z"}],["path",{d:"m17 16.5-5-3"}],["path",{d:"m17 16.5 4.74-2.85"}],["path",{d:"M17 16.5v5.17"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z"}],["path",{d:"M12 8 7.26 5.15"}],["path",{d:"m12 8 4.74-2.85"}],["path",{d:"M12 13.5V8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=["svg",C,[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=["svg",C,[["path",{d:"M16 3h3v18h-3"}],["path",{d:"M8 21H5V3h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=["svg",C,[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516"}],["path",{d:"M12 13h4"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1"}],["path",{d:"M12 8h8"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2"}],["circle",{cx:"16",cy:"13",r:".5"}],["circle",{cx:"18",cy:"3",r:".5"}],["circle",{cx:"20",cy:"21",r:".5"}],["circle",{cx:"20",cy:"8",r:".5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=["svg",C,[["path",{d:"M12 5a3 3 0 1 0-5.997.142 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588 4 4 0 0 0 7.636 2.106 3.2 3.2 0 0 0 .164-.546c.028-.13.306-.13.335 0a3.2 3.2 0 0 0 .163.546 4 4 0 0 0 7.636-2.106 4 4 0 0 0 .556-6.588 4 4 0 0 0-2.526-5.77A3 3 0 1 0 12 5"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18"}],["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"m15.7 10.4-.9.4"}],["path",{d:"m9.2 13.2-.9.4"}],["path",{d:"m13.6 15.7-.4-.9"}],["path",{d:"m10.8 9.2-.4-.9"}],["path",{d:"m15.7 13.5-.9-.4"}],["path",{d:"m9.2 10.9-.9-.4"}],["path",{d:"m10.5 15.7.4-.9"}],["path",{d:"m13.1 9.2.4-.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=["svg",C,[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M12 9v6"}],["path",{d:"M16 15v6"}],["path",{d:"M16 3v6"}],["path",{d:"M3 15h18"}],["path",{d:"M3 9h18"}],["path",{d:"M8 15v6"}],["path",{d:"M8 3v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=["svg",C,[["path",{d:"M12 12h.01"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=["svg",C,[["path",{d:"M10 20v2"}],["path",{d:"M14 20v2"}],["path",{d:"M18 20v2"}],["path",{d:"M21 20H3"}],["path",{d:"M6 20v2"}],["path",{d:"M8 16V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v12"}],["rect",{x:"4",y:"6",width:"16",height:"10",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=["svg",C,[["path",{d:"M12 11v4"}],["path",{d:"M14 13h-4"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"}],["path",{d:"M18 6v14"}],["path",{d:"M6 6v14"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=["svg",C,[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=["svg",C,[["rect",{x:"8",y:"8",width:"8",height:"8",rx:"2"}],["path",{d:"M4 10a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2"}],["path",{d:"M14 20a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=["svg",C,[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=["svg",C,[["path",{d:"M15 7.13V6a3 3 0 0 0-5.14-2.1L8 2"}],["path",{d:"M14.12 3.88 16 2"}],["path",{d:"M22 13h-4v-2a4 4 0 0 0-4-4h-1.3"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4"}],["path",{d:"m2 2 20 20"}],["path",{d:"M7.7 7.7A4 4 0 0 0 6 11v3a6 6 0 0 0 11.13 3.13"}],["path",{d:"M12 20v-8"}],["path",{d:"M6 13H2"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=["svg",C,[["path",{d:"M12.765 21.522a.5.5 0 0 1-.765-.424v-8.196a.5.5 0 0 1 .765-.424l5.878 3.674a1 1 0 0 1 0 1.696z"}],["path",{d:"M14.12 3.88 16 2"}],["path",{d:"M18 11a4 4 0 0 0-4-4h-4a4 4 0 0 0-4 4v3a6.1 6.1 0 0 0 2 4.5"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4"}],["path",{d:"M6 13H2"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5"}],["path",{d:"m8 2 1.88 1.88"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=["svg",C,[["path",{d:"m8 2 1.88 1.88"}],["path",{d:"M14.12 3.88 16 2"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"}],["path",{d:"M12 20v-9"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5"}],["path",{d:"M6 13H2"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4"}],["path",{d:"M22 13h-4"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=["svg",C,[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"}],["path",{d:"M10 6h4"}],["path",{d:"M10 10h4"}],["path",{d:"M10 14h4"}],["path",{d:"M10 18h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=["svg",C,[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2"}],["path",{d:"M9 22v-4h6v4"}],["path",{d:"M8 6h.01"}],["path",{d:"M16 6h.01"}],["path",{d:"M12 6h.01"}],["path",{d:"M12 10h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M16 10h.01"}],["path",{d:"M16 14h.01"}],["path",{d:"M8 10h.01"}],["path",{d:"M8 14h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=["svg",C,[["path",{d:"M4 6 2 7"}],["path",{d:"M10 6h4"}],["path",{d:"m22 7-2-1"}],["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2"}],["path",{d:"M4 11h16"}],["path",{d:"M8 15h.01"}],["path",{d:"M16 15h.01"}],["path",{d:"M6 19v2"}],["path",{d:"M18 21v-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=["svg",C,[["path",{d:"M8 6v6"}],["path",{d:"M15 6v6"}],["path",{d:"M2 12h19.6"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3"}],["circle",{cx:"7",cy:"18",r:"2"}],["path",{d:"M9 18h5"}],["circle",{cx:"16",cy:"18",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=["svg",C,[["path",{d:"M10 3h.01"}],["path",{d:"M14 2h.01"}],["path",{d:"m2 9 20-5"}],["path",{d:"M12 12V6.5"}],["rect",{width:"16",height:"10",x:"4",y:"12",rx:"3"}],["path",{d:"M9 12v5"}],["path",{d:"M15 12v5"}],["path",{d:"M4 17h16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=["svg",C,[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9"}],["path",{d:"M21 21v-2h-4"}],["path",{d:"M3 5h4V3"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=["svg",C,[["circle",{cx:"9",cy:"7",r:"2"}],["path",{d:"M7.2 7.9 3 11v9c0 .6.4 1 1 1h16c.6 0 1-.4 1-1v-9c0-2-3-6-7-8l-3.6 2.6"}],["path",{d:"M16 13H3"}],["path",{d:"M16 17H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=["svg",C,[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1"}],["path",{d:"M2 21h20"}],["path",{d:"M7 8v3"}],["path",{d:"M12 8v3"}],["path",{d:"M17 8v3"}],["path",{d:"M7 4h.01"}],["path",{d:"M12 4h.01"}],["path",{d:"M17 4h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=["svg",C,[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18"}],["path",{d:"M16 10h.01"}],["path",{d:"M12 10h.01"}],["path",{d:"M8 10h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M8 14h.01"}],["path",{d:"M12 18h.01"}],["path",{d:"M8 18h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=["svg",C,[["path",{d:"M11 14h1v4"}],["path",{d:"M16 2v4"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=["svg",C,[["path",{d:"m14 18 4 4 4-4"}],["path",{d:"M16 2v4"}],["path",{d:"M18 14v8"}],["path",{d:"M21 11.354V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.343"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=["svg",C,[["path",{d:"m14 18 4-4 4 4"}],["path",{d:"M16 2v4"}],["path",{d:"M18 22v-8"}],["path",{d:"M21 11.343V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"}],["path",{d:"M3 10h18"}],["path",{d:"m16 20 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"m9 16 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=["svg",C,[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5"}],["path",{d:"M16 2v4"}],["path",{d:"M8 2v4"}],["path",{d:"M3 10h5"}],["path",{d:"M17.5 17.5 16 16.3V14"}],["circle",{cx:"16",cy:"16",r:"6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=["svg",C,[["path",{d:"m15.2 16.9-.9-.4"}],["path",{d:"m15.2 19.1-.9.4"}],["path",{d:"M16 2v4"}],["path",{d:"m16.9 15.2-.4-.9"}],["path",{d:"m16.9 20.8-.4.9"}],["path",{d:"m19.5 14.3-.4.9"}],["path",{d:"m19.5 21.7-.4-.9"}],["path",{d:"M21 10.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"}],["path",{d:"m21.7 16.5-.9.4"}],["path",{d:"m21.7 19.5-.9-.4"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}],["circle",{cx:"18",cy:"18",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M8 14h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M16 14h.01"}],["path",{d:"M8 18h.01"}],["path",{d:"M12 18h.01"}],["path",{d:"M16 18h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["path",{d:"M21 17V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11Z"}],["path",{d:"M3 10h18"}],["path",{d:"M15 22v-4a2 2 0 0 1 2-2h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=["svg",C,[["path",{d:"M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7"}],["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["path",{d:"M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M10 16h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=["svg",C,[["path",{d:"M16 19h6"}],["path",{d:"M16 2v4"}],["path",{d:"M21 15V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=["svg",C,[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5"}],["path",{d:"M16 2v4"}],["path",{d:"M3 10h7"}],["path",{d:"M21 10h-5.5"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M10 16h4"}],["path",{d:"M12 14v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"}],["path",{d:"M3 10h18"}],["path",{d:"M16 19h6"}],["path",{d:"M19 16v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M16 2v4"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}],["path",{d:"M17 14h-6"}],["path",{d:"M13 18H7"}],["path",{d:"M7 14h.01"}],["path",{d:"M17 18h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=["svg",C,[["path",{d:"M16 2v4"}],["path",{d:"M21 11.75V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.25"}],["path",{d:"m22 22-1.875-1.875"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}],["circle",{cx:"18",cy:"18",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"}],["path",{d:"M3 10h18"}],["path",{d:"m17 22 5-5"}],["path",{d:"m17 17 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"m14 14-4 4"}],["path",{d:"m10 14 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=["svg",C,[["line",{x1:"2",x2:"22",y1:"2",y2:"22"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=["svg",C,[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}],["circle",{cx:"12",cy:"13",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=["svg",C,[["path",{d:"M5.7 21a2 2 0 0 1-3.5-2l8.6-14a6 6 0 0 1 10.4 6 2 2 0 1 1-3.464-2 2 2 0 1 0-3.464-2Z"}],["path",{d:"M17.75 7 15 2.1"}],["path",{d:"M10.9 4.8 13 9"}],["path",{d:"m7.9 9.7 2 4.4"}],["path",{d:"M4.9 14.7 7 18.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=["svg",C,[["path",{d:"m8.5 8.5-1 1a4.95 4.95 0 0 0 7 7l1-1"}],["path",{d:"M11.843 6.187A4.947 4.947 0 0 1 16.5 7.5a4.947 4.947 0 0 1 1.313 4.657"}],["path",{d:"M14 16.5V14"}],["path",{d:"M14 6.5v1.843"}],["path",{d:"M10 10v7.5"}],["path",{d:"m16 7 1-5 1.367.683A3 3 0 0 0 19.708 3H21v1.292a3 3 0 0 0 .317 1.341L22 7l-5 1"}],["path",{d:"m8 17-1 5-1.367-.683A3 3 0 0 0 4.292 21H3v-1.292a3 3 0 0 0-.317-1.341L2 17l5-1"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=["svg",C,[["path",{d:"m9.5 7.5-2 2a4.95 4.95 0 1 0 7 7l2-2a4.95 4.95 0 1 0-7-7Z"}],["path",{d:"M14 6.5v10"}],["path",{d:"M10 7.5v10"}],["path",{d:"m16 7 1-5 1.37.68A3 3 0 0 0 19.7 3H21v1.3c0 .46.1.92.32 1.33L22 7l-5 1"}],["path",{d:"m8 17-1 5-1.37-.68A3 3 0 0 0 4.3 21H3v-1.3a3 3 0 0 0-.32-1.33L2 17l5-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=["svg",C,[["path",{d:"M12 22v-4"}],["path",{d:"M7 12c-1.5 0-4.5 1.5-5 3 3.5 1.5 6 1 6 1-1.5 1.5-2 3.5-2 5 2.5 0 4.5-1.5 6-3 1.5 1.5 3.5 3 6 3 0-1.5-.5-3.5-2-5 0 0 2.5.5 6-1-.5-1.5-3.5-3-5-3 1.5-1 4-4 4-6-2.5 0-5.5 1.5-7 3 0-2.5-.5-5-2-7-1.5 2-2 4.5-2 7-1.5-1.5-4.5-3-7-3 0 2 2.5 5 4 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=["svg",C,[["path",{d:"M10.5 5H19a2 2 0 0 1 2 2v8.5"}],["path",{d:"M17 11h-.5"}],["path",{d:"M19 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2"}],["path",{d:"m2 2 20 20"}],["path",{d:"M7 11h4"}],["path",{d:"M7 15h2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=["svg",C,[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=["svg",C,[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8"}],["path",{d:"M7 14h.01"}],["path",{d:"M17 14h.01"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2"}],["path",{d:"M5 18v2"}],["path",{d:"M19 18v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=["svg",C,[["path",{d:"M10 2h4"}],["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8"}],["path",{d:"M7 14h.01"}],["path",{d:"M17 14h.01"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2"}],["path",{d:"M5 18v2"}],["path",{d:"M19 18v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=["svg",C,[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"}],["circle",{cx:"7",cy:"17",r:"2"}],["path",{d:"M9 17h6"}],["circle",{cx:"17",cy:"17",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=["svg",C,[["path",{d:"M18 19V9a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v8a2 2 0 0 0 2 2h2"}],["path",{d:"M2 9h3a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2"}],["path",{d:"M22 17v1a1 1 0 0 1-1 1H10v-9a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v9"}],["circle",{cx:"8",cy:"19",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=["svg",C,[["path",{d:"M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46"}],["path",{d:"M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z"}],["path",{d:"M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=["svg",C,[["circle",{cx:"7",cy:"12",r:"3"}],["path",{d:"M10 9v6"}],["circle",{cx:"17",cy:"12",r:"3"}],["path",{d:"M14 7v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=["svg",C,[["path",{d:"m3 15 4-8 4 8"}],["path",{d:"M4 13h6"}],["circle",{cx:"18",cy:"12",r:"3"}],["path",{d:"M21 9v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=["svg",C,[["path",{d:"m3 15 4-8 4 8"}],["path",{d:"M4 13h6"}],["path",{d:"M15 11h4.5a2 2 0 0 1 0 4H15V7h4a2 2 0 0 1 0 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=["svg",C,[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["circle",{cx:"8",cy:"10",r:"2"}],["path",{d:"M8 12h8"}],["circle",{cx:"16",cy:"10",r:"2"}],["path",{d:"m6 20 .7-2.9A1.4 1.4 0 0 1 8.1 16h7.8a1.4 1.4 0 0 1 1.4 1l.7 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=["svg",C,[["path",{d:"M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"}],["path",{d:"M2 12a9 9 0 0 1 8 8"}],["path",{d:"M2 16a5 5 0 0 1 4 4"}],["line",{x1:"2",x2:"2.01",y1:"20",y2:"20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=["svg",C,[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z"}],["path",{d:"M18 11V4H6v7"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4"}],["path",{d:"M22 11V9"}],["path",{d:"M2 11V9"}],["path",{d:"M6 4V2"}],["path",{d:"M18 4V2"}],["path",{d:"M10 4V2"}],["path",{d:"M14 4V2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=["svg",C,[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z"}],["path",{d:"M8 14v.5"}],["path",{d:"M16 14v.5"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=["svg",C,[["path",{d:"M16.75 12h3.632a1 1 0 0 1 .894 1.447l-2.034 4.069a1 1 0 0 1-1.708.134l-2.124-2.97"}],["path",{d:"M17.106 9.053a1 1 0 0 1 .447 1.341l-3.106 6.211a1 1 0 0 1-1.342.447L3.61 12.3a2.92 2.92 0 0 1-1.3-3.91L3.69 5.6a2.92 2.92 0 0 1 3.92-1.3z"}],["path",{d:"M2 19h3.76a2 2 0 0 0 1.8-1.1L9 15"}],["path",{d:"M2 21v-4"}],["path",{d:"M7 9h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M7 11h8"}],["path",{d:"M7 16h3"}],["path",{d:"M7 6h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M7 11h8"}],["path",{d:"M7 16h12"}],["path",{d:"M7 6h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=["svg",C,[["path",{d:"M11 13v4"}],["path",{d:"M15 5v4"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M7 16h8"}],["path",{d:"M7 11h12"}],["path",{d:"M7 6h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=["svg",C,[["path",{d:"M9 5v4"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1"}],["path",{d:"M9 15v2"}],["path",{d:"M17 3v2"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1"}],["path",{d:"M17 13v3"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=["svg",C,[["path",{d:"M13 17V9"}],["path",{d:"M18 17v-3"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M8 17V5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=["svg",C,[["path",{d:"M13 17V9"}],["path",{d:"M18 17V5"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M8 17v-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=["svg",C,[["path",{d:"M11 13H7"}],["path",{d:"M19 9h-4"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M18 17V9"}],["path",{d:"M13 17V5"}],["path",{d:"M8 17v-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=["svg",C,[["path",{d:"M10 6h8"}],["path",{d:"M12 16h6"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M8 11h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"m19 9-5 5-4-4-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=["svg",C,[["path",{d:"m13.11 7.664 1.78 2.672"}],["path",{d:"m14.162 12.788-3.324 1.424"}],["path",{d:"m20 4-6.06 1.515"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["circle",{cx:"12",cy:"6",r:"2"}],["circle",{cx:"16",cy:"12",r:"2"}],["circle",{cx:"9",cy:"15",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=["svg",C,[["path",{d:"M12 20V10"}],["path",{d:"M18 20v-4"}],["path",{d:"M6 20V4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=["svg",C,[["line",{x1:"12",x2:"12",y1:"20",y2:"10"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=["svg",C,[["line",{x1:"18",x2:"18",y1:"20",y2:"10"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=["svg",C,[["path",{d:"M12 16v5"}],["path",{d:"M16 14v7"}],["path",{d:"M20 10v11"}],["path",{d:"m22 3-8.646 8.646a.5.5 0 0 1-.708 0L9.354 8.354a.5.5 0 0 0-.707 0L2 15"}],["path",{d:"M4 18v3"}],["path",{d:"M8 14v7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=["svg",C,[["path",{d:"M8 6h10"}],["path",{d:"M6 12h9"}],["path",{d:"M11 18h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=["svg",C,[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=["svg",C,[["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}],["circle",{cx:"18.5",cy:"5.5",r:".5",fill:"currentColor"}],["circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor"}],["circle",{cx:"17.5",cy:"14.5",r:".5",fill:"currentColor"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=["svg",C,[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M7 16c.5-2 1.5-7 4-7 2 0 2 3 4 3 2.5 0 4.5-5 5-7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=["svg",C,[["path",{d:"M18 6 7 17l-5-5"}],["path",{d:"m22 10-7.5 7.5L13 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=["svg",C,[["path",{d:"M20 6 9 17l-5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=["svg",C,[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=["svg",C,[["path",{d:"M2 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z"}],["path",{d:"M12 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z"}],["path",{d:"M7 14c3.22-2.91 4.29-8.75 5-12 1.66 2.38 4.94 9 5 12"}],["path",{d:"M22 9c-4.29 0-7.14-2.33-10-7 5.71 0 10 4.67 10 7Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=["svg",C,[["path",{d:"m6 9 6 6 6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=["svg",C,[["path",{d:"m17 18-6-6 6-6"}],["path",{d:"M7 6v12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=["svg",C,[["path",{d:"m7 18 6-6-6-6"}],["path",{d:"M17 6v12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=["svg",C,[["path",{d:"m15 18-6-6 6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=["svg",C,[["path",{d:"m9 18 6-6-6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=["svg",C,[["path",{d:"m18 15-6-6-6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=["svg",C,[["path",{d:"m7 20 5-5 5 5"}],["path",{d:"m7 4 5 5 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=["svg",C,[["path",{d:"m7 6 5 5 5-5"}],["path",{d:"m7 13 5 5 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=["svg",C,[["path",{d:"m18 8 4 4-4 4"}],["path",{d:"m6 8-4 4 4 4"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=["svg",C,[["path",{d:"m9 7-5 5 5 5"}],["path",{d:"m15 7 5 5-5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=["svg",C,[["path",{d:"m11 17-5-5 5-5"}],["path",{d:"m18 17-5-5 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=["svg",C,[["path",{d:"m20 17-5-5 5-5"}],["path",{d:"m4 17 5-5-5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=["svg",C,[["path",{d:"m6 17 5-5-5-5"}],["path",{d:"m13 17 5-5-5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=["svg",C,[["path",{d:"m7 15 5 5 5-5"}],["path",{d:"m7 9 5-5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=["svg",C,[["path",{d:"m17 11-5-5-5 5"}],["path",{d:"m17 18-5-5-5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"4"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=["svg",C,[["path",{d:"M10 9h4"}],["path",{d:"M12 7v5"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=["svg",C,[["path",{d:"M12 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h13"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5"}],["path",{d:"m2 2 20 20"}],["path",{d:"M21 12a1 1 0 0 1 1 1v2a1 1 0 0 1-.5.866"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5"}],["path",{d:"M7 12v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=["svg",C,[["path",{d:"M17 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h14"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5"}],["path",{d:"M21 16a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5"}],["path",{d:"M7 12v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 8v8"}],["path",{d:"m8 12 4 4 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=["svg",C,[["path",{d:"M2 12a10 10 0 1 1 10 10"}],["path",{d:"m2 22 10-10"}],["path",{d:"M8 22H2v-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=["svg",C,[["path",{d:"M12 22a10 10 0 1 1 10-10"}],["path",{d:"M22 22 12 12"}],["path",{d:"M22 16v6h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=["svg",C,[["path",{d:"M2 8V2h6"}],["path",{d:"m2 2 10 10"}],["path",{d:"M12 2A10 10 0 1 1 2 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=["svg",C,[["path",{d:"M22 12A10 10 0 1 1 12 2"}],["path",{d:"M22 2 12 12"}],["path",{d:"M16 2h6v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"m12 16 4-4-4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m16 12-4-4-4 4"}],["path",{d:"M12 16V8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=["svg",C,[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m9 12 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m16 10-4 4-4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m14 16-4-4 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m10 8 4 4-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m8 14 4-4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=["svg",C,[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=["svg",C,[["line",{x1:"8",x2:"16",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"16",y2:"16"}],["line",{x1:"12",x2:"12",y1:"8",y2:"8"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}],["path",{d:"M12 18V6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=["svg",C,[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69"}],["circle",{cx:"12",cy:"12",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M17 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M7 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=["svg",C,[["path",{d:"M7 10h10"}],["path",{d:"M7 14h10"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=["svg",C,[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75"}],["path",{d:"m16 12-4-4-4 4"}],["path",{d:"M12 16V8"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=["svg",C,[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75"}],["path",{d:"M12 8v8"}],["path",{d:"M16 12H8"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=["svg",C,[["path",{d:"M15.6 2.7a10 10 0 1 0 5.7 5.7"}],["circle",{cx:"12",cy:"12",r:"2"}],["path",{d:"M13.4 10.6 19 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=["svg",C,[["path",{d:"m2 2 20 20"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m5 5 14 14"}],["path",{d:"M13 13a3 3 0 1 0 0-6H9v2"}],["path",{d:"M9 17v-2.34"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"M9 9h.01"}],["path",{d:"M15 15h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polygon",{points:"10 8 16 12 10 16 10 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=["svg",C,[["path",{d:"M12 7v4"}],["path",{d:"M7.998 9.003a5 5 0 1 0 8-.005"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M22 2 2 22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=["svg",C,[["path",{d:"M18 20a6 6 0 0 0-12 0"}],["circle",{cx:"12",cy:"10",r:"4"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4"}],["circle",{cx:"15",cy:"15",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=["svg",C,[["path",{d:"M21.66 17.67a1.08 1.08 0 0 1-.04 1.6A12 12 0 0 1 4.73 2.38a1.1 1.1 0 0 1 1.61-.04z"}],["path",{d:"M19.65 15.66A8 8 0 0 1 8.35 4.34"}],["path",{d:"m14 10-5.5 5.5"}],["path",{d:"M14 17.85V10H6.15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=["svg",C,[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"}],["path",{d:"m6.2 5.3 3.1 3.9"}],["path",{d:"m12.4 3.4 3.1 4"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"m9 14 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4"}],["path",{d:"M21 14H11"}],["path",{d:"m15 10-4 4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M12 11h4"}],["path",{d:"M12 16h4"}],["path",{d:"M8 11h.01"}],["path",{d:"M8 16h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M9 14h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=["svg",C,[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"}],["path",{d:"m17 10 4 4-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.5"}],["path",{d:"M16 4h2a2 2 0 0 1 1.73 1"}],["path",{d:"M8 18h1"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M9 14h6"}],["path",{d:"M12 17v-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M9 12v-1h6v1"}],["path",{d:"M11 17h2"}],["path",{d:"M12 11v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"m15 11-6 6"}],["path",{d:"m9 11 6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=["svg",C,[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 14.5 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 8 10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 9.5 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16.5 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 14.5 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 12 16.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 9.5 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 8 14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 7.5 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=["svg",C,[["path",{d:"M12 6v6l4 2"}],["path",{d:"M16 21.16a10 10 0 1 1 5-13.516"}],["path",{d:"M20 11.5v6"}],["path",{d:"M20 21.5h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=["svg",C,[["path",{d:"M12.338 21.994A10 10 0 1 1 21.925 13.227"}],["path",{d:"M12 6v6l2 1"}],["path",{d:"m14 18 4 4 4-4"}],["path",{d:"M18 14v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=["svg",C,[["path",{d:"M13.228 21.925A10 10 0 1 1 21.994 12.338"}],["path",{d:"M12 6v6l1.562.781"}],["path",{d:"m14 18 4-4 4 4"}],["path",{d:"M18 22v-8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=["svg",C,[["circle",{cx:"12",cy:"17",r:"3"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2"}],["path",{d:"m15.7 18.4-.9-.3"}],["path",{d:"m9.2 15.9-.9-.3"}],["path",{d:"m10.6 20.7.3-.9"}],["path",{d:"m13.1 14.2.3-.9"}],["path",{d:"m13.6 20.7-.4-1"}],["path",{d:"m10.8 14.3-.4-1"}],["path",{d:"m8.3 18.6 1-.4"}],["path",{d:"m14.7 15.8 1-.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=["svg",C,[["path",{d:"M12 13v8l-4-4"}],["path",{d:"m12 21 4-4"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=["svg",C,[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"M8 19v1"}],["path",{d:"M8 14v1"}],["path",{d:"M16 19v1"}],["path",{d:"M16 14v1"}],["path",{d:"M12 21v1"}],["path",{d:"M12 16v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=["svg",C,[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"M16 17H7"}],["path",{d:"M17 21H9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=["svg",C,[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"M16 14v2"}],["path",{d:"M8 14v2"}],["path",{d:"M16 20h.01"}],["path",{d:"M8 20h.01"}],["path",{d:"M12 16v2"}],["path",{d:"M12 22h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=["svg",C,[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"}],["path",{d:"m13 12-3 5h4l-3 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=["svg",C,[["path",{d:"M10.188 8.5A6 6 0 0 1 16 4a1 1 0 0 0 6 6 6 6 0 0 1-3 5.197"}],["path",{d:"M11 20v2"}],["path",{d:"M3 20a5 5 0 1 1 8.9-4H13a3 3 0 0 1 2 5.24"}],["path",{d:"M7 19v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=["svg",C,[["path",{d:"M10.188 8.5A6 6 0 0 1 16 4a1 1 0 0 0 6 6 6 6 0 0 1-3 5.197"}],["path",{d:"M13 16a3 3 0 1 1 0 6H7a5 5 0 1 1 4.9-6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=["svg",C,[["path",{d:"m2 2 20 20"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=["svg",C,[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"m9.2 22 3-7"}],["path",{d:"m9 13-3 7"}],["path",{d:"m17 13-3 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=["svg",C,[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"M16 14v6"}],["path",{d:"M8 14v6"}],["path",{d:"M12 16v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=["svg",C,[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"M8 15h.01"}],["path",{d:"M8 19h.01"}],["path",{d:"M12 17h.01"}],["path",{d:"M12 21h.01"}],["path",{d:"M16 15h.01"}],["path",{d:"M16 19h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=["svg",C,[["path",{d:"M12 2v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"M20 12h2"}],["path",{d:"m19.07 4.93-1.41 1.41"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128"}],["path",{d:"M3 20a5 5 0 1 1 8.9-4H13a3 3 0 0 1 2 5.24"}],["path",{d:"M11 20v2"}],["path",{d:"M7 19v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=["svg",C,[["path",{d:"M12 2v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"M20 12h2"}],["path",{d:"m19.07 4.93-1.41 1.41"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=["svg",C,[["path",{d:"M12 13v8"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"m8 17 4-4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=["svg",C,[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=["svg",C,[["path",{d:"M17.5 21H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}],["path",{d:"M22 10a3 3 0 0 0-3-3h-2.207a5.502 5.502 0 0 0-10.702.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=["svg",C,[["path",{d:"M16.17 7.83 2 22"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12"}],["path",{d:"m7.83 7.83 8.34 8.34"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=["svg",C,[["path",{d:"M17.28 9.05a5.5 5.5 0 1 0-10.56 0A5.5 5.5 0 1 0 12 17.66a5.5 5.5 0 1 0 5.28-8.6Z"}],["path",{d:"M12 17.66L12 22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=["svg",C,[["path",{d:"m18 16 4-4-4-4"}],["path",{d:"m6 8-4 4 4 4"}],["path",{d:"m14.5 4-5 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=["svg",C,[["polyline",{points:"16 18 22 12 16 6"}],["polyline",{points:"8 6 2 12 8 18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=["svg",C,[["polygon",{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"}],["line",{x1:"12",x2:"12",y1:"22",y2:"15.5"}],["polyline",{points:"22 8.5 12 15.5 2 8.5"}],["polyline",{points:"2 15.5 12 8.5 22 15.5"}],["line",{x1:"12",x2:"12",y1:"2",y2:"8.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=["svg",C,[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}],["polyline",{points:"7.5 4.21 12 6.81 16.5 4.21"}],["polyline",{points:"7.5 19.79 7.5 14.6 3 12"}],["polyline",{points:"21 12 16.5 14.6 16.5 19.79"}],["polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}],["line",{x1:"12",x2:"12",y1:"22.08",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=["svg",C,[["path",{d:"M10 2v2"}],["path",{d:"M14 2v2"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1"}],["path",{d:"M6 2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=["svg",C,[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"}],["path",{d:"M12 2v2"}],["path",{d:"M12 22v-2"}],["path",{d:"m17 20.66-1-1.73"}],["path",{d:"M11 10.27 7 3.34"}],["path",{d:"m20.66 17-1.73-1"}],["path",{d:"m3.34 7 1.73 1"}],["path",{d:"M14 12h8"}],["path",{d:"M2 12h2"}],["path",{d:"m20.66 7-1.73 1"}],["path",{d:"m3.34 17 1.73-1"}],["path",{d:"m17 3.34-1 1.73"}],["path",{d:"m11 13.73-4 6.93"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=["svg",C,[["circle",{cx:"8",cy:"8",r:"6"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}],["path",{d:"M7 6h1v4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M12 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7.5 3v18"}],["path",{d:"M12 3v18"}],["path",{d:"M16.5 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=["svg",C,[["path",{d:"M10 18H5a3 3 0 0 1-3-3v-1"}],["path",{d:"M14 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2"}],["path",{d:"M20 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2"}],["path",{d:"m7 21 3-3-3-3"}],["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=["svg",C,[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=["svg",C,[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=["svg",C,[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=["svg",C,[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2"}],["path",{d:"M6 18h2"}],["path",{d:"M12 18h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=["svg",C,[["path",{d:"M3 20a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1Z"}],["path",{d:"M20 16a8 8 0 1 0-16 0"}],["path",{d:"M12 4v4"}],["path",{d:"M10 4h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=["svg",C,[["path",{d:"m20.9 18.55-8-15.98a1 1 0 0 0-1.8 0l-8 15.98"}],["ellipse",{cx:"12",cy:"19",rx:"9",ry:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=["svg",C,[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1"}],["path",{d:"M17 14v7"}],["path",{d:"M7 14v7"}],["path",{d:"M17 3v3"}],["path",{d:"M7 3v3"}],["path",{d:"M10 14 2.3 6.3"}],["path",{d:"m14 6 7.7 7.7"}],["path",{d:"m8 6 8 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=["svg",C,[["path",{d:"M16 2v2"}],["path",{d:"M17.915 22a6 6 0 0 0-12 0"}],["path",{d:"M8 2v2"}],["circle",{cx:"12",cy:"12",r:"4"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=["svg",C,[["path",{d:"M16 2v2"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2"}],["path",{d:"M8 2v2"}],["circle",{cx:"12",cy:"11",r:"3"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=["svg",C,[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z"}],["path",{d:"M10 21.9V14L2.1 9.1"}],["path",{d:"m10 14 11.9-6.9"}],["path",{d:"M14 19.8v-8.1"}],["path",{d:"M18 17.5V9.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=["svg",C,[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"}],["path",{d:"M8.5 8.5v.01"}],["path",{d:"M16 15.5v.01"}],["path",{d:"M12 12v.01"}],["path",{d:"M11 17v.01"}],["path",{d:"M7 14v.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=["svg",C,[["path",{d:"M2 12h20"}],["path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8"}],["path",{d:"m4 8 16-4"}],["path",{d:"m8.86 6.78-.45-1.81a2 2 0 0 1 1.45-2.43l1.94-.48a2 2 0 0 1 2.43 1.46l.45 1.8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=["svg",C,[["path",{d:"m12 15 2 2 4-4"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=["svg",C,[["line",{x1:"12",x2:"18",y1:"15",y2:"15"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=["svg",C,[["line",{x1:"15",x2:"15",y1:"12",y2:"18"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=["svg",C,[["line",{x1:"12",x2:"18",y1:"18",y2:"12"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=["svg",C,[["line",{x1:"12",x2:"18",y1:"12",y2:"18"}],["line",{x1:"12",x2:"18",y1:"18",y2:"12"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=["svg",C,[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.17 14.83a4 4 0 1 0 0-5.66"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M14.83 14.83a4 4 0 1 1 0-5.66"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=["svg",C,[["polyline",{points:"9 10 4 15 9 20"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=["svg",C,[["polyline",{points:"15 10 20 15 15 20"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=["svg",C,[["polyline",{points:"14 15 9 20 4 15"}],["path",{d:"M20 4h-7a4 4 0 0 0-4 4v12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=["svg",C,[["polyline",{points:"14 9 9 4 4 9"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=["svg",C,[["polyline",{points:"10 15 15 20 20 15"}],["path",{d:"M4 4h7a4 4 0 0 1 4 4v12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=["svg",C,[["polyline",{points:"10 9 15 4 20 9"}],["path",{d:"M4 20h7a4 4 0 0 0 4-4V4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=["svg",C,[["polyline",{points:"9 14 4 9 9 4"}],["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=["svg",C,[["polyline",{points:"15 14 20 9 15 4"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=["svg",C,[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1"}],["path",{d:"M15 2v2"}],["path",{d:"M15 20v2"}],["path",{d:"M2 15h2"}],["path",{d:"M2 9h2"}],["path",{d:"M20 15h2"}],["path",{d:"M20 9h2"}],["path",{d:"M9 2v2"}],["path",{d:"M9 20v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M10 9.3a2.8 2.8 0 0 0-3.5 1 3.1 3.1 0 0 0 0 3.4 2.7 2.7 0 0 0 3.5 1"}],["path",{d:"M17 9.3a2.8 2.8 0 0 0-3.5 1 3.1 3.1 0 0 0 0 3.4 2.7 2.7 0 0 0 3.5 1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=["svg",C,[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=["svg",C,[["path",{d:"m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z"}],["path",{d:"m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83"}],["path",{d:"M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4"}],["path",{d:"m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2"}],["path",{d:"M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=["svg",C,[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=["svg",C,[["path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=["svg",C,[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"}],["path",{d:"M5 21h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=["svg",C,[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z"}],["path",{d:"M10 22v-8L2.25 9.15"}],["path",{d:"m10 14 11.77-6.87"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=["svg",C,[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8"}],["path",{d:"M5 8h14"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0"}],["path",{d:"m12 8 1-6h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=["svg",C,[["circle",{cx:"12",cy:"12",r:"8"}],["line",{x1:"3",x2:"6",y1:"3",y2:"6"}],["line",{x1:"21",x2:"18",y1:"3",y2:"6"}],["line",{x1:"3",x2:"6",y1:"21",y2:"18"}],["line",{x1:"21",x2:"18",y1:"21",y2:"18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=["svg",C,[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=["svg",C,[["path",{d:"M11 11.31c1.17.56 1.54 1.69 3.5 1.69 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}],["path",{d:"M11.75 18c.35.5 1.45 1 2.75 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}],["path",{d:"M2 10h4"}],["path",{d:"M2 14h4"}],["path",{d:"M2 18h4"}],["path",{d:"M2 6h4"}],["path",{d:"M7 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1L10 4a1 1 0 0 0-1-1z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=["svg",C,[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69"}],["path",{d:"M21 9.3V5"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88"}],["path",{d:"M12 12v4h4"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=["svg",C,[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84"}],["path",{d:"M21 5V8"}],["path",{d:"M21 12L18 17H22L19 22"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=["svg",C,[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=["svg",C,[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z"}],["path",{d:"m12 9 6 6"}],["path",{d:"m18 9-6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=["svg",C,[["circle",{cx:"12",cy:"4",r:"2"}],["path",{d:"M10.2 3.2C5.5 4 2 8.1 2 13a2 2 0 0 0 4 0v-1a2 2 0 0 1 4 0v4a2 2 0 0 0 4 0v-4a2 2 0 0 1 4 0v1a2 2 0 0 0 4 0c0-4.9-3.5-9-8.2-9.8"}],["path",{d:"M3.2 14.8a9 9 0 0 0 17.6 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=["svg",C,[["circle",{cx:"19",cy:"19",r:"2"}],["circle",{cx:"5",cy:"5",r:"2"}],["path",{d:"M6.48 3.66a10 10 0 0 1 13.86 13.86"}],["path",{d:"m6.41 6.41 11.18 11.18"}],["path",{d:"M3.66 6.48a10 10 0 0 0 13.86 13.86"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=["svg",C,[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41L13.7 2.71a2.41 2.41 0 0 0-3.41 0z"}],["path",{d:"M8 12h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=["svg",C,[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41L13.7 2.71a2.41 2.41 0 0 0-3.41 0Z"}],["path",{d:"M9.2 9.2h.01"}],["path",{d:"m14.5 9.5-5 5"}],["path",{d:"M14.7 14.8h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=["svg",C,[["path",{d:"M12 8v8"}],["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41L13.7 2.71a2.41 2.41 0 0 0-3.41 0z"}],["path",{d:"M8 12h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=["svg",C,[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"M12 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"M15 9h.01"}],["path",{d:"M9 15h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"M16 8h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M8 16h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"M16 8h.01"}],["path",{d:"M8 8h.01"}],["path",{d:"M8 16h.01"}],["path",{d:"M16 16h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"M16 8h.01"}],["path",{d:"M8 8h.01"}],["path",{d:"M8 16h.01"}],["path",{d:"M16 16h.01"}],["path",{d:"M12 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"M16 8h.01"}],["path",{d:"M16 12h.01"}],["path",{d:"M16 16h.01"}],["path",{d:"M8 8h.01"}],["path",{d:"M8 12h.01"}],["path",{d:"M8 16h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=["svg",C,[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6"}],["path",{d:"M6 18h.01"}],["path",{d:"M10 14h.01"}],["path",{d:"M15 6h.01"}],["path",{d:"M18 9h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=["svg",C,[["path",{d:"M12 3v14"}],["path",{d:"M5 10h14"}],["path",{d:"M5 21h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2"}],["circle",{cx:"12",cy:"12",r:"2"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["circle",{cx:"12",cy:"12",r:"5"}],["path",{d:"M12 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=["svg",C,[["circle",{cx:"12",cy:"6",r:"1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12"}],["circle",{cx:"12",cy:"18",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=["svg",C,[["path",{d:"M15 2c-1.35 1.5-2.092 3-2.5 4.5L14 8"}],["path",{d:"m17 6-2.891-2.891"}],["path",{d:"M2 15c3.333-3 6.667-3 10-3"}],["path",{d:"m2 2 20 20"}],["path",{d:"m20 9 .891.891"}],["path",{d:"M22 9c-1.5 1.35-3 2.092-4.5 2.5l-1-1"}],["path",{d:"M3.109 14.109 4 15"}],["path",{d:"m6.5 12.5 1 1"}],["path",{d:"m7 18 2.891 2.891"}],["path",{d:"M9 22c1.35-1.5 2.092-3 2.5-4.5L10 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=["svg",C,[["path",{d:"m10 16 1.5 1.5"}],["path",{d:"m14 8-1.5-1.5"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993"}],["path",{d:"m16.5 10.5 1 1"}],["path",{d:"m17 6-2.891-2.891"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6"}],["path",{d:"m20 9 .891.891"}],["path",{d:"M3.109 14.109 4 15"}],["path",{d:"m6.5 12.5 1 1"}],["path",{d:"m7 18 2.891 2.891"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=["svg",C,[["path",{d:"M2 8h20"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"M6 16h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=["svg",C,[["path",{d:"M11.25 16.25h1.5L12 17z"}],["path",{d:"M16 14v.5"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309"}],["path",{d:"M8 14v.5"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=["svg",C,[["line",{x1:"12",x2:"12",y1:"2",y2:"22"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=["svg",C,[["path",{d:"M20.5 10a2.5 2.5 0 0 1-2.4-3H18a2.95 2.95 0 0 1-2.6-4.4 10 10 0 1 0 6.3 7.1c-.3.2-.8.3-1.2.3"}],["circle",{cx:"12",cy:"12",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=["svg",C,[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14"}],["path",{d:"M2 20h20"}],["path",{d:"M14 12v.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=["svg",C,[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14"}],["path",{d:"M2 20h3"}],["path",{d:"M13 20h9"}],["path",{d:"M10 12v.01"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=["svg",C,[["circle",{cx:"12.1",cy:"12.1",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=["svg",C,[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=["svg",C,[["path",{d:"m12.99 6.74 1.93 3.44"}],["path",{d:"M19.136 12a10 10 0 0 1-14.271 0"}],["path",{d:"m21 21-2.16-3.84"}],["path",{d:"m3 21 8.02-14.26"}],["circle",{cx:"12",cy:"5",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=["svg",C,[["path",{d:"M10 11h.01"}],["path",{d:"M14 6h.01"}],["path",{d:"M18 6h.01"}],["path",{d:"M6.5 13.1h.01"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M19.13 5.09C15.22 9.14 10 10.44 2.25 10.94"}],["path",{d:"M21.75 12.84c-6.62-1.41-12.14 1-16.38 6.32"}],["path",{d:"M8.56 2.75c4.37 6 6 9.42 8 17.72"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=["svg",C,[["path",{d:"M14 9c0 .6-.4 1-1 1H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9c.6 0 1 .4 1 1Z"}],["path",{d:"M18 6h4"}],["path",{d:"M14 4h3a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-3"}],["path",{d:"m5 10-2 8"}],["path",{d:"M12 10v3c0 .6-.4 1-1 1H8"}],["path",{d:"m7 18 2-8"}],["path",{d:"M5 22c-1.7 0-3-1.3-3-3 0-.6.4-1 1-1h7c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=["svg",C,[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=["svg",C,[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=["svg",C,[["path",{d:"m2 2 8 8"}],["path",{d:"m22 2-8 8"}],["ellipse",{cx:"12",cy:"9",rx:"10",ry:"5"}],["path",{d:"M7 13.4v7.9"}],["path",{d:"M12 14v8"}],["path",{d:"M17 13.4v7.9"}],["path",{d:"M2 9v8a10 5 0 0 0 20 0V9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=["svg",C,[["path",{d:"M15.4 15.63a7.875 6 135 1 1 6.23-6.23 4.5 3.43 135 0 0-6.23 6.23"}],["path",{d:"m8.29 12.71-2.6 2.6a2.5 2.5 0 1 0-1.65 4.65A2.5 2.5 0 1 0 8.7 18.3l2.59-2.59"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=["svg",C,[["path",{d:"M14.4 14.4 9.6 9.6"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z"}],["path",{d:"m21.5 21.5-1.4-1.4"}],["path",{d:"M3.9 3.9 2.5 2.5"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=["svg",C,[["path",{d:"M6 18.5a3.5 3.5 0 1 0 7 0c0-1.57.92-2.52 2.04-3.46"}],["path",{d:"M6 8.5c0-.75.13-1.47.36-2.14"}],["path",{d:"M8.8 3.15A6.5 6.5 0 0 1 19 8.5c0 1.63-.44 2.81-1.09 3.76"}],["path",{d:"M12.5 6A2.5 2.5 0 0 1 15 8.5M10 13a2 2 0 0 0 1.82-1.18"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=["svg",C,[["path",{d:"M6 8.5a6.5 6.5 0 1 1 13 0c0 6-6 6-6 10a3.5 3.5 0 1 1-7 0"}],["path",{d:"M15 8.5a2.5 2.5 0 0 0-5 0v1a2 2 0 1 1 0 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=["svg",C,[["path",{d:"M7 3.34V5a3 3 0 0 0 3 3"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2 2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05"}],["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54"}],["path",{d:"M12 2a10 10 0 1 0 9.54 13"}],["path",{d:"M20 6V4a2 2 0 1 0-4 0v2"}],["rect",{width:"8",height:"5",x:"14",y:"6",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=["svg",C,[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a7 7 0 1 0 10 10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=["svg",C,[["circle",{cx:"11.5",cy:"12.5",r:"3.5"}],["path",{d:"M3 8c0-3.5 2.5-6 6.5-6 5 0 4.83 3 7.5 5s5 2 5 6c0 4.5-2.5 6.5-7 6.5-2.5 0-2.5 2.5-6 2.5s-7-2-7-5.5c0-3 1.5-3 1.5-5C3.5 10 3 9 3 8Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=["svg",C,[["path",{d:"M6.399 6.399C5.362 8.157 4.65 10.189 4.5 12c-.37 4.43 1.27 9.95 7.5 10 3.256-.026 5.259-1.547 6.375-3.625"}],["path",{d:"M19.532 13.875A14.07 14.07 0 0 0 19.5 12c-.36-4.34-3.95-9.96-7.5-10-1.04.012-2.082.502-3.046 1.297"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=["svg",C,[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=["svg",C,[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=["svg",C,[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"19",cy:"12",r:"1"}],["circle",{cx:"5",cy:"12",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=["svg",C,[["line",{x1:"5",x2:"19",y1:"9",y2:"9"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15"}],["line",{x1:"19",x2:"5",y1:"5",y2:"19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=["svg",C,[["line",{x1:"5",x2:"19",y1:"9",y2:"9"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=["svg",C,[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}],["path",{d:"M22 21H7"}],["path",{d:"m5 11 9 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=["svg",C,[["path",{d:"m15 20 3-3h2a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h2l3 3z"}],["path",{d:"M6 8v1"}],["path",{d:"M10 8v1"}],["path",{d:"M14 8v1"}],["path",{d:"M18 8v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=["svg",C,[["path",{d:"M4 10h12"}],["path",{d:"M4 14h9"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=["svg",C,[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=["svg",C,[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=["svg",C,[["path",{d:"m15 18-.722-3.25"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0"}],["path",{d:"m20 15-1.726-2.05"}],["path",{d:"m4 15 1.726-2.05"}],["path",{d:"m9 18 .722-3.25"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=["svg",C,[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=["svg",C,[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=["svg",C,[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=["svg",C,[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"M17 18h1"}],["path",{d:"M12 18h1"}],["path",{d:"M7 18h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=["svg",C,[["path",{d:"M10.827 16.379a6.082 6.082 0 0 1-8.618-7.002l5.412 1.45a6.082 6.082 0 0 1 7.002-8.618l-1.45 5.412a6.082 6.082 0 0 1 8.618 7.002l-5.412-1.45a6.082 6.082 0 0 1-7.002 8.618l1.45-5.412Z"}],["path",{d:"M12 12v.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=["svg",C,[["polygon",{points:"13 19 22 12 13 5 13 19"}],["polygon",{points:"2 19 11 12 2 5 2 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=["svg",C,[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z"}],["path",{d:"M16 8 2 22"}],["path",{d:"M17.5 15H9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=["svg",C,[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z"}],["path",{d:"M6 8h4"}],["path",{d:"M6 18h4"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z"}],["path",{d:"M14 8h4"}],["path",{d:"M14 18h4"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=["svg",C,[["circle",{cx:"12",cy:"12",r:"2"}],["path",{d:"M12 2v4"}],["path",{d:"m6.8 15-3.5 2"}],["path",{d:"m20.7 7-3.5 2"}],["path",{d:"M6.8 9 3.3 7"}],["path",{d:"m20.7 17-3.5-2"}],["path",{d:"m9 22 3-8 3 8"}],["path",{d:"M8 22h8"}],["path",{d:"M18 18.7a9 9 0 1 0-12 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=["svg",C,[["path",{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"}],["path",{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"}],["path",{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"}],["path",{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"}],["path",{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=["svg",C,[["path",{d:"M10 12v-1"}],["path",{d:"M10 18v-2"}],["path",{d:"M10 7V6"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01"}],["circle",{cx:"10",cy:"20",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["circle",{cx:"3",cy:"17",r:"1"}],["path",{d:"M2 17v-3a4 4 0 0 1 8 0v3"}],["circle",{cx:"9",cy:"17",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=["svg",C,[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m8 18 4-4"}],["path",{d:"M8 10v8h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m14 12.5 1 5.5-3-1-3 1 1-5.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=["svg",C,[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}],["path",{d:"M7 16.5 8 22l-3-1-3 1 1-5.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=["svg",C,[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z"}],["path",{d:"M7 17v5"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M8 18v-2"}],["path",{d:"M12 18v-4"}],["path",{d:"M16 18v-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M8 18v-1"}],["path",{d:"M12 18v-6"}],["path",{d:"M16 18v-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m16 13-3.5 3.5-2-2L8 17"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=["svg",C,[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.5"}],["path",{d:"M4.017 11.512a6 6 0 1 0 8.466 8.475"}],["path",{d:"M9 16a1 1 0 0 1-1-1v-4c0-.552.45-1.008.995-.917a6 6 0 0 1 4.922 4.922c.091.544-.365.995-.917.995z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m3 15 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m9 15 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=["svg",C,[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["circle",{cx:"8",cy:"16",r:"6"}],["path",{d:"M9.5 17.5 8 16.25V14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m5 12-3 3 3 3"}],["path",{d:"m9 18 3-3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=["svg",C,[["path",{d:"M10 12.5 8 15l2 2.5"}],["path",{d:"m14 12.5 2 2.5-2 2.5"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=["svg",C,[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m3.2 12.9-.9-.4"}],["path",{d:"m3.2 15.1-.9.4"}],["path",{d:"M4.677 21.5a2 2 0 0 0 1.313.5H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2.5"}],["path",{d:"m4.9 11.2-.4-.9"}],["path",{d:"m4.9 16.8-.4.9"}],["path",{d:"m7.5 10.3-.4.9"}],["path",{d:"m7.5 17.7-.4-.9"}],["path",{d:"m9.7 12.5-.9.4"}],["path",{d:"m9.7 15.5-.9-.4"}],["circle",{cx:"6",cy:"14",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M9 10h6"}],["path",{d:"M12 13V7"}],["path",{d:"M9 17h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["rect",{width:"4",height:"6",x:"2",y:"12",rx:"2"}],["path",{d:"M10 12h2v6"}],["path",{d:"M10 18h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M12 18v-6"}],["path",{d:"m9 15 3 3 3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10.29 10.7a2.43 2.43 0 0 0-2.66-.52c-.29.12-.56.3-.78.53l-.35.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L6.5 18l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["circle",{cx:"10",cy:"12",r:"2"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M2 15h10"}],["path",{d:"m9 18 3-3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M4 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}],["path",{d:"M8 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v6"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["circle",{cx:"4",cy:"16",r:"2"}],["path",{d:"m10 10-4.5 4.5"}],["path",{d:"m9 11 1 1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["circle",{cx:"10",cy:"16",r:"2"}],["path",{d:"m16 10-4.5 4.5"}],["path",{d:"m15 11 1 1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["rect",{width:"8",height:"5",x:"2",y:"13",rx:"1"}],["path",{d:"M8 13v-2a2 2 0 1 0-4 0v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["rect",{width:"8",height:"6",x:"8",y:"12",rx:"1"}],["path",{d:"M10 12v-2a2 2 0 1 1 4 0v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M3 15h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M9 15h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=["svg",C,[["circle",{cx:"14",cy:"16",r:"2"}],["circle",{cx:"6",cy:"18",r:"2"}],["path",{d:"M4 12.4V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-7.5"}],["path",{d:"M8 18v-7.7L16 9v7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=["svg",C,[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6"}],["path",{d:"m5 11-3 3"}],["path",{d:"m5 17-3-3h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=["svg",C,[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}],["path",{d:"M8 18h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=["svg",C,[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M3 15h6"}],["path",{d:"M6 12v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M9 15h6"}],["path",{d:"M12 18v-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=["svg",C,[["path",{d:"M12 17h.01"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=["svg",C,[["path",{d:"M20 10V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M16 14a2 2 0 0 0-2 2"}],["path",{d:"M20 14a2 2 0 0 1 2 2"}],["path",{d:"M20 22a2 2 0 0 0 2-2"}],["path",{d:"M16 22a2 2 0 0 1-2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5"}],["path",{d:"M13.3 16.3 15 18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=["svg",C,[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3"}],["path",{d:"m9 18-1.5-1.5"}],["circle",{cx:"5",cy:"14",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M8 12h8"}],["path",{d:"M10 11v2"}],["path",{d:"M8 17h8"}],["path",{d:"M14 16v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M8 13h2"}],["path",{d:"M14 13h2"}],["path",{d:"M8 17h2"}],["path",{d:"M14 17h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=["svg",C,[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=["svg",C,[["path",{d:"m10 18 3-3-3-3"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M4 11V4a2 2 0 0 1 2-2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m8 16 2-2-2-2"}],["path",{d:"M12 18h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M2 13v-1h6v1"}],["path",{d:"M5 12v6"}],["path",{d:"M4 18h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M9 13v-1h6v1"}],["path",{d:"M12 12v6"}],["path",{d:"M11 18h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M12 12v6"}],["path",{d:"m15 15-3-3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=["svg",C,[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M15 18a3 3 0 1 0-6 0"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"}],["circle",{cx:"12",cy:"13",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["rect",{width:"8",height:"6",x:"2",y:"12",rx:"1"}],["path",{d:"m10 15.5 4 2.5v-6l-4 2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m10 11 5 3-5 3v-6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M8 15h.01"}],["path",{d:"M11.5 13.5a2.5 2.5 0 0 1 0 3"}],["path",{d:"M15 12a5 5 0 0 1 0 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=["svg",C,[["path",{d:"M11 11a5 5 0 0 1 0 6"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M4 6.765V4a2 2 0 0 1 2-2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-.93-.23"}],["path",{d:"M7 10.51a.5.5 0 0 0-.826-.38l-1.893 1.628A1 1 0 0 1 3.63 12H2.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1.129a1 1 0 0 1 .652.242l1.893 1.63a.5.5 0 0 0 .826-.38z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=["svg",C,[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m8 12.5-5 5"}],["path",{d:"m3 12.5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m14.5 12.5-5 5"}],["path",{d:"m9.5 12.5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=["svg",C,[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=["svg",C,[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=["svg",C,[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055"}],["path",{d:"m22 3-5 5"}],["path",{d:"m17 3 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=["svg",C,[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=["svg",C,[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02"}],["path",{d:"M2 12a10 10 0 0 1 18-6"}],["path",{d:"M2 16h.01"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=["svg",C,[["path",{d:"M15 6.5V3a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3.5"}],["path",{d:"M9 18h8"}],["path",{d:"M18 3h-3"}],["path",{d:"M11 3a6 6 0 0 0-6 6v11"}],["path",{d:"M5 13h4"}],["path",{d:"M17 10a4 4 0 0 0-8 0v10a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=["svg",C,[["path",{d:"M18 12.47v.03m0-.5v.47m-.475 5.056A6.744 6.744 0 0 1 15 18c-3.56 0-7.56-2.53-8.5-6 .348-1.28 1.114-2.433 2.121-3.38m3.444-2.088A8.802 8.802 0 0 1 15 6c3.56 0 6.06 2.54 7 6-.309 1.14-.786 2.177-1.413 3.058"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33m7.48-4.372A9.77 9.77 0 0 1 16 6.07m0 11.86a9.77 9.77 0 0 1-1.728-3.618"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98M8.53 3h5.27a2 2 0 0 1 1.98 1.67l.23 1.4M2 2l20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=["svg",C,[["path",{d:"M2 16s9-15 20-4C11 23 2 8 2 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=["svg",C,[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z"}],["path",{d:"M18 12v.5"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=["svg",C,[["path",{d:"M8 2c3 0 5 2 8 2s4-1 4-1v11"}],["path",{d:"M4 22V4"}],["path",{d:"M4 15s1-1 4-1 5 2 8 2"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=["svg",C,[["path",{d:"M17 22V2L7 7l10 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=["svg",C,[["path",{d:"M7 22V2l10 5-10 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=["svg",C,[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=["svg",C,[["path",{d:"M12 2c1 3 2.5 3.5 3.5 4.5A5 5 0 0 1 17 10a5 5 0 1 1-10 0c0-.3 0-.6.1-.9a2 2 0 1 0 3.3-2C8 4.5 11 2 12 2Z"}],["path",{d:"m5 22 14-4"}],["path",{d:"m5 18 14 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=["svg",C,[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=["svg",C,[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=["svg",C,[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=["svg",C,[["path",{d:"M10 10 4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-1.272-2.542"}],["path",{d:"M10 2v2.343"}],["path",{d:"M14 2v6.343"}],["path",{d:"M8.5 2h7"}],["path",{d:"M7 16h9"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=["svg",C,[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2"}],["path",{d:"M8.5 2h7"}],["path",{d:"M7 16h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=["svg",C,[["path",{d:"M10 2v7.31"}],["path",{d:"M14 9.3V1.99"}],["path",{d:"M8.5 2h7"}],["path",{d:"M14 9.3a6.5 6.5 0 1 1-4 0"}],["path",{d:"M5.52 16h12.96"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=["svg",C,[["path",{d:"m3 7 5 5-5 5V7"}],["path",{d:"m21 7-5 5 5 5V7"}],["path",{d:"M12 20v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=["svg",C,[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3"}],["path",{d:"M12 20v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=["svg",C,[["path",{d:"m17 3-5 5-5-5h10"}],["path",{d:"m17 21-5-5-5 5h10"}],["path",{d:"M4 12H2"}],["path",{d:"M10 12H8"}],["path",{d:"M16 12h-2"}],["path",{d:"M22 12h-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=["svg",C,[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3"}],["path",{d:"M4 12H2"}],["path",{d:"M10 12H8"}],["path",{d:"M16 12h-2"}],["path",{d:"M22 12h-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=["svg",C,[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1"}],["circle",{cx:"12",cy:"8",r:"2"}],["path",{d:"M12 10v12"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=["svg",C,[["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5"}],["path",{d:"M12 7.5V9"}],["path",{d:"M7.5 12H9"}],["path",{d:"M16.5 12H15"}],["path",{d:"M12 16.5V15"}],["path",{d:"m8 8 1.88 1.88"}],["path",{d:"M14.12 9.88 16 8"}],["path",{d:"m8 16 1.88-1.88"}],["path",{d:"M14.12 14.12 16 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=["svg",C,[["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=["svg",C,[["path",{d:"M2 12h6"}],["path",{d:"M22 12h-6"}],["path",{d:"M12 2v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 20v2"}],["path",{d:"m19 9-3 3 3 3"}],["path",{d:"m5 15 3-3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=["svg",C,[["path",{d:"M12 22v-6"}],["path",{d:"M12 8V2"}],["path",{d:"M4 12H2"}],["path",{d:"M10 12H8"}],["path",{d:"M16 12h-2"}],["path",{d:"M22 12h-2"}],["path",{d:"m15 19-3-3-3 3"}],["path",{d:"m15 5-3 3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=["svg",C,[["circle",{cx:"15",cy:"19",r:"2"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1"}],["path",{d:"M15 11v-1"}],["path",{d:"M15 17v-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=["svg",C,[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"m9 13 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=["svg",C,[["circle",{cx:"16",cy:"16",r:"6"}],["path",{d:"M7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2"}],["path",{d:"M16 14v2l1 1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=["svg",C,[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"M2 10h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=["svg",C,[["path",{d:"M10 10.5 8 13l2 2.5"}],["path",{d:"m14 10.5 2 2.5-2 2.5"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=["svg",C,[["circle",{cx:"18",cy:"18",r:"3"}],["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v3.3"}],["path",{d:"m21.7 19.4-.9-.3"}],["path",{d:"m15.2 16.9-.9-.3"}],["path",{d:"m16.6 21.7.3-.9"}],["path",{d:"m19.1 15.2.3-.9"}],["path",{d:"m19.6 21.7-.4-1"}],["path",{d:"m16.8 15.3-.4-1"}],["path",{d:"m14.3 19.6 1-.4"}],["path",{d:"m20.7 16.8 1-.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=["svg",C,[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}],["circle",{cx:"12",cy:"13",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=["svg",C,[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"M12 10v6"}],["path",{d:"m15 13-3 3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=["svg",C,[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5"}],["circle",{cx:"13",cy:"12",r:"2"}],["path",{d:"M18 19c-2.8 0-5-2.2-5-5v8"}],["circle",{cx:"20",cy:"19",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=["svg",C,[["circle",{cx:"12",cy:"13",r:"2"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"M14 13h3"}],["path",{d:"M7 13h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=["svg",C,[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01c.95.95 1 2.53-.2 3.74L17.5 21Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=["svg",C,[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1"}],["path",{d:"M2 13h10"}],["path",{d:"m9 16 3-3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=["svg",C,[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}],["path",{d:"M8 10v4"}],["path",{d:"M12 10v2"}],["path",{d:"M16 10v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=["svg",C,[["circle",{cx:"16",cy:"20",r:"2"}],["path",{d:"M10 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v2"}],["path",{d:"m22 14-4.5 4.5"}],["path",{d:"m21 15 1 1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=["svg",C,[["rect",{width:"8",height:"5",x:"14",y:"17",rx:"1"}],["path",{d:"M10 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v2.5"}],["path",{d:"M20 17v-2a2 2 0 1 0-4 0v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=["svg",C,[["path",{d:"M9 13h6"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=["svg",C,[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2"}],["circle",{cx:"14",cy:"15",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=["svg",C,[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=["svg",C,[["path",{d:"M2 7.5V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-1.5"}],["path",{d:"M2 13h10"}],["path",{d:"m5 10-3 3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=["svg",C,[["path",{d:"M2 11.5V5a2 2 0 0 1 2-2h3.9c.7 0 1.3.3 1.7.9l.8 1.2c.4.6 1 .9 1.7.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-9.5"}],["path",{d:"M11.378 13.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=["svg",C,[["path",{d:"M12 10v6"}],["path",{d:"M9 13h6"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=["svg",C,[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}],["circle",{cx:"12",cy:"13",r:"2"}],["path",{d:"M12 15v5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=["svg",C,[["circle",{cx:"11.5",cy:"12.5",r:"2.5"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"M13.3 14.3 15 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=["svg",C,[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1"}],["path",{d:"m21 21-1.9-1.9"}],["circle",{cx:"17",cy:"17",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=["svg",C,[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7"}],["path",{d:"m8 16 3-3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=["svg",C,[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5"}],["path",{d:"M12 10v4h4"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5"}],["path",{d:"M22 22v-4h-4"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=["svg",C,[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=["svg",C,[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"M12 10v6"}],["path",{d:"m9 13 3-3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=["svg",C,[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"m9.5 10.5 5 5"}],["path",{d:"m14.5 10.5-5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=["svg",C,[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=["svg",C,[["path",{d:"M20 17a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3.9a2 2 0 0 1-1.69-.9l-.81-1.2a2 2 0 0 0-1.67-.9H8a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2Z"}],["path",{d:"M2 8v11a2 2 0 0 0 2 2h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=["svg",C,[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z"}],["path",{d:"M16 17h4"}],["path",{d:"M4 13h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=["svg",C,[["path",{d:"M12 12H5a2 2 0 0 0-2 2v5"}],["circle",{cx:"13",cy:"19",r:"2"}],["circle",{cx:"5",cy:"19",r:"2"}],["path",{d:"M8 19h3m5-17v17h6M6 12V7c0-1.1.9-2 2-2h3l5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=["svg",C,[["polyline",{points:"15 17 20 12 15 7"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=["svg",C,[["line",{x1:"22",x2:"2",y1:"6",y2:"6"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=["svg",C,[["path",{d:"M5 16V9h14V2H5l14 14h-7m-7 0 7 7v-7m-7 0h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=["svg",C,[["line",{x1:"3",x2:"15",y1:"22",y2:"22"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=["svg",C,[["path",{d:"M2 7v10"}],["path",{d:"M6 5v14"}],["rect",{width:"12",height:"18",x:"10",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=["svg",C,[["path",{d:"M2 3v18"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2"}],["path",{d:"M22 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=["svg",C,[["rect",{width:"18",height:"14",x:"3",y:"3",rx:"2"}],["path",{d:"M4 21h1"}],["path",{d:"M9 21h1"}],["path",{d:"M14 21h1"}],["path",{d:"M19 21h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=["svg",C,[["path",{d:"M7 2h10"}],["path",{d:"M5 6h14"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=["svg",C,[["path",{d:"M3 2h18"}],["rect",{width:"18",height:"12",x:"3",y:"6",rx:"2"}],["path",{d:"M3 22h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=["svg",C,[["line",{x1:"6",x2:"10",y1:"11",y2:"11"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=["svg",C,[["line",{x1:"6",x2:"10",y1:"12",y2:"12"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=["svg",C,[["path",{d:"m12 14 4-4"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=["svg",C,[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8"}],["path",{d:"m16 16 6-6"}],["path",{d:"m8 8 6-6"}],["path",{d:"m9 7 8 8"}],["path",{d:"m21 11-8-8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=["svg",C,[["path",{d:"M6 3h12l4 6-10 13L2 9Z"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6"}],["path",{d:"M2 9h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=["svg",C,[["path",{d:"M9 10h.01"}],["path",{d:"M15 10h.01"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=["svg",C,[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}],["path",{d:"M12 8v13"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=["svg",C,[["path",{d:"M6 3v12"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}],["path",{d:"M15 6a9 9 0 0 0-9 9"}],["path",{d:"M18 15v6"}],["path",{d:"M21 18h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=["svg",C,[["line",{x1:"6",x2:"6",y1:"3",y2:"15"}],["circle",{cx:"18",cy:"6",r:"3"}],["circle",{cx:"6",cy:"18",r:"3"}],["path",{d:"M18 9a9 9 0 0 1-9 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=["svg",C,[["circle",{cx:"12",cy:"12",r:"3"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=["svg",C,[["path",{d:"M12 3v6"}],["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"M12 15v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=["svg",C,[["circle",{cx:"5",cy:"6",r:"3"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7"}],["path",{d:"m15 9-3-3 3-3"}],["circle",{cx:"19",cy:"18",r:"3"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9"}],["path",{d:"m9 15 3 3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=["svg",C,[["circle",{cx:"18",cy:"18",r:"3"}],["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=["svg",C,[["circle",{cx:"12",cy:"18",r:"3"}],["circle",{cx:"6",cy:"6",r:"3"}],["circle",{cx:"18",cy:"6",r:"3"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"}],["path",{d:"M12 12v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=["svg",C,[["circle",{cx:"5",cy:"6",r:"3"}],["path",{d:"M5 9v6"}],["circle",{cx:"5",cy:"18",r:"3"}],["path",{d:"M12 3v18"}],["circle",{cx:"19",cy:"6",r:"3"}],["path",{d:"M16 15.7A9 9 0 0 0 19 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=["svg",C,[["circle",{cx:"18",cy:"18",r:"3"}],["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=["svg",C,[["circle",{cx:"5",cy:"6",r:"3"}],["path",{d:"M5 9v12"}],["circle",{cx:"19",cy:"18",r:"3"}],["path",{d:"m15 9-3-3 3-3"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=["svg",C,[["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M6 9v12"}],["path",{d:"m21 3-6 6"}],["path",{d:"m21 9-6-6"}],["path",{d:"M18 11.5V15"}],["circle",{cx:"18",cy:"18",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=["svg",C,[["circle",{cx:"5",cy:"6",r:"3"}],["path",{d:"M5 9v12"}],["path",{d:"m15 9-3-3 3-3"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v3"}],["path",{d:"M19 15v6"}],["path",{d:"M22 18h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=["svg",C,[["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M6 9v12"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v3"}],["path",{d:"M18 15v6"}],["path",{d:"M21 18h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=["svg",C,[["circle",{cx:"18",cy:"18",r:"3"}],["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M18 6V5"}],["path",{d:"M18 11v-1"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=["svg",C,[["circle",{cx:"18",cy:"18",r:"3"}],["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=["svg",C,[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["path",{d:"M9 18c-4.51 2-5-2-7-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=["svg",C,[["path",{d:"m22 13.29-3.33-10a.42.42 0 0 0-.14-.18.38.38 0 0 0-.22-.11.39.39 0 0 0-.23.07.42.42 0 0 0-.14.18l-2.26 6.67H8.32L6.1 3.26a.42.42 0 0 0-.1-.18.38.38 0 0 0-.26-.08.39.39 0 0 0-.23.07.42.42 0 0 0-.14.18L2 13.29a.74.74 0 0 0 .27.83L12 21l9.69-6.88a.71.71 0 0 0 .31-.83Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=["svg",C,[["path",{d:"M15.2 22H8.8a2 2 0 0 1-2-1.79L5 3h14l-1.81 17.21A2 2 0 0 1 15.2 22Z"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=["svg",C,[["circle",{cx:"6",cy:"15",r:"4"}],["circle",{cx:"18",cy:"15",r:"4"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=["svg",C,[["path",{d:"M15.686 15A14.5 14.5 0 0 1 12 22a14.5 14.5 0 0 1 0-20 10 10 0 1 0 9.542 13"}],["path",{d:"M2 12h8.5"}],["path",{d:"M20 6V4a2 2 0 1 0-4 0v2"}],["rect",{width:"8",height:"5",x:"14",y:"6",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=["svg",C,[["path",{d:"M12 13V2l8 4-8 4"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=["svg",C,[["path",{d:"M18 11.5V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4"}],["path",{d:"M14 10V8a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"}],["path",{d:"M10 9.9V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5"}],["path",{d:"M6 14a2 2 0 0 0-2-2a2 2 0 0 0-2 2"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=["svg",C,[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"}],["path",{d:"M22 10v6"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=["svg",C,[["path",{d:"M22 5V2l-5.89 5.89"}],["circle",{cx:"16.6",cy:"15.89",r:"3"}],["circle",{cx:"8.11",cy:"7.4",r:"3"}],["circle",{cx:"12.35",cy:"11.65",r:"3"}],["circle",{cx:"13.91",cy:"5.85",r:"3"}],["circle",{cx:"18.15",cy:"10.09",r:"3"}],["circle",{cx:"6.56",cy:"13.2",r:"3"}],["circle",{cx:"10.8",cy:"17.44",r:"3"}],["circle",{cx:"5",cy:"19",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=["svg",C,[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3"}],["path",{d:"m16 19 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=["svg",C,[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3"}],["path",{d:"M16 19h6"}],["path",{d:"M19 22v-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=["svg",C,[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3"}],["path",{d:"m16 16 5 5"}],["path",{d:"m16 21 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 12h18"}],["path",{d:"M12 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=["svg",C,[["circle",{cx:"12",cy:"9",r:"1"}],["circle",{cx:"19",cy:"9",r:"1"}],["circle",{cx:"5",cy:"9",r:"1"}],["circle",{cx:"12",cy:"15",r:"1"}],["circle",{cx:"19",cy:"15",r:"1"}],["circle",{cx:"5",cy:"15",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=["svg",C,[["circle",{cx:"9",cy:"12",r:"1"}],["circle",{cx:"9",cy:"5",r:"1"}],["circle",{cx:"9",cy:"19",r:"1"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"15",cy:"5",r:"1"}],["circle",{cx:"15",cy:"19",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=["svg",C,[["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"19",cy:"5",r:"1"}],["circle",{cx:"5",cy:"5",r:"1"}],["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"19",cy:"12",r:"1"}],["circle",{cx:"5",cy:"12",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}],["circle",{cx:"19",cy:"19",r:"1"}],["circle",{cx:"5",cy:"19",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=["svg",C,[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=["svg",C,[["path",{d:"m11.9 12.1 4.514-4.514"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z"}],["path",{d:"m6 16 2 2"}],["path",{d:"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=["svg",C,[["path",{d:"M13.144 21.144A7.274 10.445 45 1 0 2.856 10.856"}],["path",{d:"M13.144 21.144A7.274 4.365 45 0 0 2.856 10.856a7.274 4.365 45 0 0 10.288 10.288"}],["path",{d:"M16.565 10.435 18.6 8.4a2.501 2.501 0 1 0 1.65-4.65 2.5 2.5 0 1 0-4.66 1.66l-2.024 2.025"}],["path",{d:"m8.5 16.5-1-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=["svg",C,[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"}],["path",{d:"m18 15 4-4"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=["svg",C,[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"}],["path",{d:"m2 16 6 6"}],["circle",{cx:"16",cy:"9",r:"2.9"}],["circle",{cx:"6",cy:"5",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=["svg",C,[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"}],["path",{d:"m2 15 6 6"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=["svg",C,[["path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14"}],["path",{d:"m7 18 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"}],["path",{d:"m2 13 6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=["svg",C,[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=["svg",C,[["path",{d:"M12 3V2"}],["path",{d:"M5 10a7.1 7.1 0 0 1 14 0"}],["path",{d:"M4 10h16"}],["path",{d:"M2 14h12a2 2 0 1 1 0 4h-2"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 0 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2L5 18"}],["path",{d:"M5 14v7H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=["svg",C,[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=["svg",C,[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4"}],["path",{d:"m21 3 1 11h-2"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3"}],["path",{d:"M3 4h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=["svg",C,[["path",{d:"M12 2v8"}],["path",{d:"m16 6-4 4-4-4"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2"}],["path",{d:"M6 18h.01"}],["path",{d:"M10 18h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=["svg",C,[["path",{d:"m16 6-4-4-4 4"}],["path",{d:"M12 2v8"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2"}],["path",{d:"M6 18h.01"}],["path",{d:"M10 18h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=["svg",C,[["line",{x1:"22",x2:"2",y1:"12",y2:"12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=["svg",C,[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=["svg",C,[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=["svg",C,[["path",{d:"m5.2 6.2 1.4 1.4"}],["path",{d:"M2 13h2"}],["path",{d:"M20 13h2"}],["path",{d:"m17.4 7.6 1.4-1.4"}],["path",{d:"M22 17H2"}],["path",{d:"M22 21H2"}],["path",{d:"M16 13a4 4 0 0 0-8 0"}],["path",{d:"M12 5V2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=["svg",C,[["path",{d:"M22 9a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h1l2 2h12l2-2h1a1 1 0 0 0 1-1Z"}],["path",{d:"M7.5 12h9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=["svg",C,[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"m17 12 3-2v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=["svg",C,[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=["svg",C,[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=["svg",C,[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M17 10v4h4"}],["path",{d:"M21 10v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=["svg",C,[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M17 13v-3h4"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=["svg",C,[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["circle",{cx:"19",cy:"16",r:"2"}],["path",{d:"M20 10c-2 2-3 3.5-3 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=["svg",C,[["path",{d:"M6 12h12"}],["path",{d:"M6 20V4"}],["path",{d:"M18 20V4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=["svg",C,[["path",{d:"M21 14h-1.343"}],["path",{d:"M9.128 3.47A9 9 0 0 1 21 12v3.343"}],["path",{d:"m2 2 20 20"}],["path",{d:"M20.414 20.414A2 2 0 0 1 19 21h-1a2 2 0 0 1-2-2v-3"}],["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 2.636-6.364"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=["svg",C,[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=["svg",C,[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=["svg",C,[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=["svg",C,[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66"}],["path",{d:"m18 15-2-2"}],["path",{d:"m15 18-2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=["svg",C,[["line",{x1:"2",y1:"2",x2:"22",y2:"22"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=["svg",C,[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=["svg",C,[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=["svg",C,[["path",{d:"M11 8c2-3-2-3 0-6"}],["path",{d:"M15.5 8c2-3-2-3 0-6"}],["path",{d:"M6 10h.01"}],["path",{d:"M6 14h.01"}],["path",{d:"M10 16v-4"}],["path",{d:"M14 16v-4"}],["path",{d:"M18 16v-4"}],["path",{d:"M20 6a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3"}],["path",{d:"M5 20v2"}],["path",{d:"M19 20v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=["svg",C,[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=["svg",C,[["path",{d:"m9 11-6 6v3h9l3-3"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=["svg",C,[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=["svg",C,[["path",{d:"M10.82 16.12c1.69.6 3.91.79 5.18.85.28.01.53-.09.7-.27"}],["path",{d:"M11.14 20.57c.52.24 2.44 1.12 4.08 1.37.46.06.86-.25.9-.71.12-1.52-.3-3.43-.5-4.28"}],["path",{d:"M16.13 21.05c1.65.63 3.68.84 4.87.91a.9.9 0 0 0 .7-.26"}],["path",{d:"M17.99 5.52a20.83 20.83 0 0 1 3.15 4.5.8.8 0 0 1-.68 1.13c-1.17.1-2.5.02-3.9-.25"}],["path",{d:"M20.57 11.14c.24.52 1.12 2.44 1.37 4.08.04.3-.08.59-.31.75"}],["path",{d:"M4.93 4.93a10 10 0 0 0-.67 13.4c.35.43.96.4 1.17-.12.69-1.71 1.07-5.07 1.07-6.71 1.34.45 3.1.9 4.88.62a.85.85 0 0 0 .48-.24"}],["path",{d:"M5.52 17.99c1.05.95 2.91 2.42 4.5 3.15a.8.8 0 0 0 1.13-.68c.2-2.34-.33-5.3-1.57-8.28"}],["path",{d:"M8.35 2.68a10 10 0 0 1 9.98 1.58c.43.35.4.96-.12 1.17-1.5.6-4.3.98-6.07 1.05"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=["svg",C,[["path",{d:"M10.82 16.12c1.69.6 3.91.79 5.18.85.55.03 1-.42.97-.97-.06-1.27-.26-3.5-.85-5.18"}],["path",{d:"M11.5 6.5c1.64 0 5-.38 6.71-1.07.52-.2.55-.82.12-1.17A10 10 0 0 0 4.26 18.33c.35.43.96.4 1.17-.12.69-1.71 1.07-5.07 1.07-6.71 1.34.45 3.1.9 4.88.62a.88.88 0 0 0 .73-.74c.3-2.14-.15-3.5-.61-4.88"}],["path",{d:"M15.62 16.95c.2.85.62 2.76.5 4.28a.77.77 0 0 1-.9.7 16.64 16.64 0 0 1-4.08-1.36"}],["path",{d:"M16.13 21.05c1.65.63 3.68.84 4.87.91a.9.9 0 0 0 .96-.96 17.68 17.68 0 0 0-.9-4.87"}],["path",{d:"M16.94 15.62c.86.2 2.77.62 4.29.5a.77.77 0 0 0 .7-.9 16.64 16.64 0 0 0-1.36-4.08"}],["path",{d:"M17.99 5.52a20.82 20.82 0 0 1 3.15 4.5.8.8 0 0 1-.68 1.13c-2.33.2-5.3-.32-8.27-1.57"}],["path",{d:"M4.93 4.93 3 3a.7.7 0 0 1 0-1"}],["path",{d:"M9.58 12.18c1.24 2.98 1.77 5.95 1.57 8.28a.8.8 0 0 1-1.13.68 20.82 20.82 0 0 1-4.5-3.15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=["svg",C,[["path",{d:"M12 6v4"}],["path",{d:"M14 14h-4"}],["path",{d:"M14 18h-4"}],["path",{d:"M14 8h-4"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=["svg",C,[["path",{d:"M10 22v-6.57"}],["path",{d:"M12 11h.01"}],["path",{d:"M12 7h.01"}],["path",{d:"M14 15.43V22"}],["path",{d:"M15 16a5 5 0 0 0-6 0"}],["path",{d:"M16 11h.01"}],["path",{d:"M16 7h.01"}],["path",{d:"M8 11h.01"}],["path",{d:"M8 7h.01"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=["svg",C,[["path",{d:"M5 22h14"}],["path",{d:"M5 2h14"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=["svg",C,[["path",{d:"M10 12V8.964"}],["path",{d:"M14 12V8.964"}],["path",{d:"M15 12a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-2a1 1 0 0 1 1-1z"}],["path",{d:"M8.5 21H5a2 2 0 0 1-2-2v-9a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=["svg",C,[["path",{d:"M13.22 2.416a2 2 0 0 0-2.511.057l-7 5.999A2 2 0 0 0 3 10v9a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7.354"}],["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M15 6h6"}],["path",{d:"M18 3v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=["svg",C,[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=["svg",C,[["path",{d:"M12 17c5 0 8-2.69 8-6H4c0 3.31 3 6 8 6m-4 4h8m-4-3v3M5.14 11a3.5 3.5 0 1 1 6.71 0"}],["path",{d:"M12.14 11a3.5 3.5 0 1 1 6.71 0"}],["path",{d:"M15.5 6.5a3.5 3.5 0 1 0-7 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=["svg",C,[["path",{d:"m7 11 4.08 10.35a1 1 0 0 0 1.84 0L17 11"}],["path",{d:"M17 7A5 5 0 0 0 7 7"}],["path",{d:"M17 7a2 2 0 0 1 0 4H7a2 2 0 0 1 0-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=["svg",C,[["path",{d:"M16 10h2"}],["path",{d:"M16 14h2"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0"}],["circle",{cx:"9",cy:"11",r:"2"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=["svg",C,[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21"}],["path",{d:"m14 19 3 3v-5.5"}],["path",{d:"m17 22 3-3"}],["circle",{cx:"9",cy:"9",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=["svg",C,[["path",{d:"M21 9v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=["svg",C,[["line",{x1:"2",x2:"22",y1:"2",y2:"22"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=["svg",C,[["path",{d:"m11 16-5 5"}],["path",{d:"M11 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6.5"}],["path",{d:"M15.765 22a.5.5 0 0 1-.765-.424V13.38a.5.5 0 0 1 .765-.424l5.878 3.674a1 1 0 0 1 0 1.696z"}],["circle",{cx:"9",cy:"9",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=["svg",C,[["path",{d:"M16 5h6"}],["path",{d:"M19 2v6"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}],["circle",{cx:"9",cy:"9",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=["svg",C,[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21"}],["path",{d:"m14 19.5 3-3 3 3"}],["path",{d:"M17 22v-5.5"}],["circle",{cx:"9",cy:"9",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=["svg",C,[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18"}],["circle",{cx:"12",cy:"8",r:"2"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=["svg",C,[["path",{d:"M12 3v12"}],["path",{d:"m8 11 4 4 4-4"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=["svg",C,[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=["svg",C,[["path",{d:"M21 12H11"}],["path",{d:"M21 18H11"}],["path",{d:"M21 6H11"}],["path",{d:"m7 8-4 4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=["svg",C,[["path",{d:"M21 12H11"}],["path",{d:"M21 18H11"}],["path",{d:"M21 6H11"}],["path",{d:"m3 8 4 4-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=["svg",C,[["path",{d:"M6 3h12"}],["path",{d:"M6 8h12"}],["path",{d:"m6 13 8.5 8"}],["path",{d:"M6 13h3"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=["svg",C,[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 7h.01"}],["path",{d:"M17 7h.01"}],["path",{d:"M7 17h.01"}],["path",{d:"M17 17h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=["svg",C,[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=["svg",C,[["line",{x1:"19",x2:"10",y1:"4",y2:"4"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=["svg",C,[["path",{d:"M20 10c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8h8"}],["polyline",{points:"16 14 20 18 16 22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=["svg",C,[["path",{d:"M4 10c0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8H4"}],["polyline",{points:"8 22 4 18 8 14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=["svg",C,[["path",{d:"M12 9.5V21m0-11.5L6 3m6 6.5L18 3"}],["path",{d:"M6 15h12"}],["path",{d:"M6 11h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=["svg",C,[["path",{d:"M21 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2Z"}],["path",{d:"M6 15v-2"}],["path",{d:"M12 15V9"}],["circle",{cx:"12",cy:"6",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=["svg",C,[["path",{d:"M6 5v11"}],["path",{d:"M12 5v6"}],["path",{d:"M18 5v14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=["svg",C,[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=["svg",C,[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z"}],["path",{d:"m14 7 3 3"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=["svg",C,[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"}],["path",{d:"m21 2-9.6 9.6"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=["svg",C,[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"M6 8h4"}],["path",{d:"M14 8h.01"}],["path",{d:"M18 8h.01"}],["path",{d:"M2 12h20"}],["path",{d:"M6 12v4"}],["path",{d:"M10 12v4"}],["path",{d:"M14 12v4"}],["path",{d:"M18 12v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=["svg",C,[["path",{d:"M 20 4 A2 2 0 0 1 22 6"}],["path",{d:"M 22 6 L 22 16.41"}],["path",{d:"M 7 16 L 16 16"}],["path",{d:"M 9.69 4 L 20 4"}],["path",{d:"M14 8h.01"}],["path",{d:"M18 8h.01"}],["path",{d:"m2 2 20 20"}],["path",{d:"M20 20H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2"}],["path",{d:"M6 8h.01"}],["path",{d:"M8 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=["svg",C,[["path",{d:"M10 8h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M14 8h.01"}],["path",{d:"M16 12h.01"}],["path",{d:"M18 8h.01"}],["path",{d:"M6 8h.01"}],["path",{d:"M7 16h10"}],["path",{d:"M8 12h.01"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=["svg",C,[["path",{d:"M12 2v5"}],["path",{d:"M6 7h12l4 9H2l4-9Z"}],["path",{d:"M9.17 16a3 3 0 1 0 5.66 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=["svg",C,[["path",{d:"m14 5-3 3 2 7 8-8-7-2Z"}],["path",{d:"m14 5-3 3-3-3 3-3 3 3Z"}],["path",{d:"M9.5 6.5 4 12l3 6"}],["path",{d:"M3 22v-2c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v2H3Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=["svg",C,[["path",{d:"M9 2h6l3 7H6l3-7Z"}],["path",{d:"M12 9v13"}],["path",{d:"M9 22h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=["svg",C,[["path",{d:"M11 13h6l3 7H8l3-7Z"}],["path",{d:"M14 13V8a2 2 0 0 0-2-2H8"}],["path",{d:"M4 9h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H4v6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=["svg",C,[["path",{d:"M11 4h6l3 7H8l3-7Z"}],["path",{d:"M14 11v5a2 2 0 0 1-2 2H8"}],["path",{d:"M4 15h2a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H4v-6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=["svg",C,[["path",{d:"M8 2h8l4 10H4L8 2Z"}],["path",{d:"M12 12v6"}],["path",{d:"M8 22v-2c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v2H8Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=["svg",C,[["path",{d:"m12 8 6-3-6-3v10"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12"}],["path",{d:"m6.49 12.85 11.02 6.3"}],["path",{d:"M17.51 12.85 6.5 19.15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=["svg",C,[["line",{x1:"3",x2:"21",y1:"22",y2:"22"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11"}],["polygon",{points:"12 2 20 7 4 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=["svg",C,[["path",{d:"m5 8 6 6"}],["path",{d:"m4 14 6-6 2-3"}],["path",{d:"M2 5h12"}],["path",{d:"M7 2h1"}],["path",{d:"m22 22-5-10-5 10"}],["path",{d:"M14 18h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=["svg",C,[["rect",{width:"18",height:"12",x:"3",y:"4",rx:"2",ry:"2"}],["line",{x1:"2",x2:"22",y1:"20",y2:"20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=["svg",C,[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=["svg",C,[["path",{d:"M7 22a5 5 0 0 1-2-4"}],["path",{d:"M7 16.93c.96.43 1.96.74 2.99.91"}],["path",{d:"M3.34 14A6.8 6.8 0 0 1 2 10c0-4.42 4.48-8 10-8s10 3.58 10 8a7.19 7.19 0 0 1-.33 2"}],["path",{d:"M5 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}],["path",{d:"M14.33 22h-.09a.35.35 0 0 1-.24-.32v-10a.34.34 0 0 1 .33-.34c.08 0 .15.03.21.08l7.34 6a.33.33 0 0 1-.21.59h-4.49l-2.57 3.85a.35.35 0 0 1-.28.14z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=["svg",C,[["path",{d:"M7 22a5 5 0 0 1-2-4"}],["path",{d:"M3.3 14A6.8 6.8 0 0 1 2 10c0-4.4 4.5-8 10-8s10 3.6 10 8-4.5 8-10 8a12 12 0 0 1-5-1"}],["path",{d:"M5 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=["svg",C,[["path",{d:"m16.02 12 5.48 3.13a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74L7.98 12"}],["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=["svg",C,[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=["svg",C,[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=["svg",C,[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=["svg",C,[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=["svg",C,[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}],["path",{d:"M14 4h7"}],["path",{d:"M14 9h7"}],["path",{d:"M14 15h7"}],["path",{d:"M14 20h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=["svg",C,[["rect",{width:"7",height:"18",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=["svg",C,[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=["svg",C,[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=["svg",C,[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=["svg",C,[["path",{d:"M2 22c1.25-.987 2.27-1.975 3.9-2.2a5.56 5.56 0 0 1 3.8 1.5 4 4 0 0 0 6.187-2.353 3.5 3.5 0 0 0 3.69-5.116A3.5 3.5 0 0 0 20.95 8 3.5 3.5 0 1 0 16 3.05a3.5 3.5 0 0 0-5.831 1.373 3.5 3.5 0 0 0-5.116 3.69 4 4 0 0 0-2.348 6.155C3.499 15.42 4.409 16.712 4.2 18.1 3.926 19.743 3.014 20.732 2 22"}],["path",{d:"M2 22 17 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=["svg",C,[["path",{d:"M16 12h3a2 2 0 0 0 1.902-1.38l1.056-3.333A1 1 0 0 0 21 6H3a1 1 0 0 0-.958 1.287l1.056 3.334A2 2 0 0 0 5 12h3"}],["path",{d:"M18 6V3a1 1 0 0 0-1-1h-3"}],["rect",{width:"8",height:"12",x:"8",y:"10",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=["svg",C,[["path",{d:"M15 12h6"}],["path",{d:"M15 6h6"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13"}],["path",{d:"M3 18h18"}],["path",{d:"M4 11h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=["svg",C,[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1"}],["path",{d:"M7 3v18"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=["svg",C,[["path",{d:"m16 6 4 14"}],["path",{d:"M12 6v14"}],["path",{d:"M8 8v12"}],["path",{d:"M4 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m4.93 4.93 4.24 4.24"}],["path",{d:"m14.83 9.17 4.24-4.24"}],["path",{d:"m14.83 14.83 4.24 4.24"}],["path",{d:"m9.17 14.83-4.24 4.24"}],["circle",{cx:"12",cy:"12",r:"4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=["svg",C,[["path",{d:"M8 20V8c0-2.2 1.8-4 4-4 1.5 0 2.8.8 3.5 2"}],["path",{d:"M6 12h4"}],["path",{d:"M14 12h2v8"}],["path",{d:"M6 20h4"}],["path",{d:"M14 20h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=["svg",C,[["path",{d:"M16.8 11.2c.8-.9 1.2-2 1.2-3.2a6 6 0 0 0-9.3-5"}],["path",{d:"m2 2 20 20"}],["path",{d:"M6.3 6.3a4.67 4.67 0 0 0 1.2 5.2c.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=["svg",C,[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=["svg",C,[["path",{d:"M9 17H7A5 5 0 0 1 7 7"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=["svg",C,[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=["svg",C,[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=["svg",C,[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}],["rect",{width:"4",height:"12",x:"2",y:"9"}],["circle",{cx:"4",cy:"4",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=["svg",C,[["path",{d:"M11 18H3"}],["path",{d:"m15 18 2 2 4-4"}],["path",{d:"M16 12H3"}],["path",{d:"M16 6H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=["svg",C,[["path",{d:"m3 17 2 2 4-4"}],["path",{d:"m3 7 2 2 4-4"}],["path",{d:"M13 6h8"}],["path",{d:"M13 12h8"}],["path",{d:"M13 18h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=["svg",C,[["path",{d:"m3 10 2.5-2.5L3 5"}],["path",{d:"m3 19 2.5-2.5L3 14"}],["path",{d:"M10 6h11"}],["path",{d:"M10 12h11"}],["path",{d:"M10 18h11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=["svg",C,[["path",{d:"M16 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M10 18H3"}],["path",{d:"M21 6v10a2 2 0 0 1-2 2h-5"}],["path",{d:"m16 16-2 2 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=["svg",C,[["path",{d:"M3 6h18"}],["path",{d:"M7 12h10"}],["path",{d:"M10 18h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=["svg",C,[["path",{d:"M11 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M16 18H3"}],["path",{d:"M21 12h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=["svg",C,[["path",{d:"M21 15V6"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"}],["path",{d:"M12 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M12 18H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=["svg",C,[["path",{d:"M10 12h11"}],["path",{d:"M10 18h11"}],["path",{d:"M10 6h11"}],["path",{d:"M4 10h2"}],["path",{d:"M4 6h1v4"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=["svg",C,[["path",{d:"M11 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M16 18H3"}],["path",{d:"M18 9v6"}],["path",{d:"M21 12h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=["svg",C,[["path",{d:"M21 6H3"}],["path",{d:"M7 12H3"}],["path",{d:"M7 18H3"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14"}],["path",{d:"M11 10v4h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=["svg",C,[["path",{d:"M16 12H3"}],["path",{d:"M16 18H3"}],["path",{d:"M10 6H3"}],["path",{d:"M21 18V8a2 2 0 0 0-2-2h-5"}],["path",{d:"m16 8-2-2 2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=["svg",C,[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1"}],["path",{d:"m3 17 2 2 4-4"}],["path",{d:"M13 6h8"}],["path",{d:"M13 12h8"}],["path",{d:"M13 18h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=["svg",C,[["path",{d:"M21 12h-8"}],["path",{d:"M21 6H8"}],["path",{d:"M21 18h-8"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=["svg",C,[["path",{d:"M12 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M12 18H3"}],["path",{d:"m16 12 5 3-5 3v-6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=["svg",C,[["path",{d:"M11 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M16 18H3"}],["path",{d:"m19 10-4 4"}],["path",{d:"m15 10 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=["svg",C,[["path",{d:"M3 12h.01"}],["path",{d:"M3 18h.01"}],["path",{d:"M3 6h.01"}],["path",{d:"M8 12h13"}],["path",{d:"M8 18h13"}],["path",{d:"M8 6h13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=["svg",C,[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=["svg",C,[["path",{d:"M22 12a1 1 0 0 1-10 0 1 1 0 0 0-10 0"}],["path",{d:"M7 20.7a1 1 0 1 1 5-8.7 1 1 0 1 0 5-8.6"}],["path",{d:"M7 3.3a1 1 0 1 1 5 8.6 1 1 0 1 0 5 8.6"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=["svg",C,[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=["svg",C,[["line",{x1:"2",x2:"5",y1:"12",y2:"12"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}],["circle",{cx:"12",cy:"12",r:"7"}],["circle",{cx:"12",cy:"12",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=["svg",C,[["line",{x1:"2",x2:"5",y1:"12",y2:"12"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}],["path",{d:"M7.11 7.11C5.83 8.39 5 10.1 5 12c0 3.87 3.13 7 7 7 1.9 0 3.61-.83 4.89-2.11"}],["path",{d:"M18.71 13.96c.19-.63.29-1.29.29-1.96 0-3.87-3.13-7-7-7-.67 0-1.33.1-1.96.29"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=["svg",C,[["line",{x1:"2",x2:"5",y1:"12",y2:"12"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}],["circle",{cx:"12",cy:"12",r:"7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=["svg",C,[["circle",{cx:"12",cy:"16",r:"1"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2"}],["path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=["svg",C,[["circle",{cx:"12",cy:"16",r:"1"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=["svg",C,[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=["svg",C,[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=["svg",C,[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=["svg",C,[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=["svg",C,[["path",{d:"M13 12h8"}],["path",{d:"M13 18h8"}],["path",{d:"M13 6h8"}],["path",{d:"M3 12h1"}],["path",{d:"M3 18h1"}],["path",{d:"M3 6h1"}],["path",{d:"M8 12h1"}],["path",{d:"M8 18h1"}],["path",{d:"M8 6h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=["svg",C,[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}],["path",{d:"M11 11a2 2 0 0 0 4 0 4 4 0 0 0-8 0 6 6 0 0 0 12 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=["svg",C,[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14"}],["path",{d:"M10 20h4"}],["circle",{cx:"16",cy:"20",r:"2"}],["circle",{cx:"8",cy:"20",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=["svg",C,[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15"}],["path",{d:"m5 8 4 4"}],["path",{d:"m12 15 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=["svg",C,[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],["path",{d:"m16 19 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=["svg",C,[["path",{d:"M22 15V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],["path",{d:"M16 19h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=["svg",C,[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=["svg",C,[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],["path",{d:"M19 16v6"}],["path",{d:"M16 19h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=["svg",C,[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],["path",{d:"M18 15.28c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2"}],["path",{d:"M20 22v.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=["svg",C,[["path",{d:"M22 12.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h7.5"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],["path",{d:"M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}],["circle",{cx:"18",cy:"18",r:"3"}],["path",{d:"m22 22-1.5-1.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=["svg",C,[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],["path",{d:"M20 14v4"}],["path",{d:"M20 22v.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=["svg",C,[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h9"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],["path",{d:"m17 17 4 4"}],["path",{d:"m21 17-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=["svg",C,[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=["svg",C,[["path",{d:"M22 17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.5C2 7 4 5 6.5 5H18c2.2 0 4 1.8 4 4v8Z"}],["polyline",{points:"15,9 18,9 18,11"}],["path",{d:"M6.5 5C9 5 11 7 11 9.5V17a2 2 0 0 1-2 2"}],["line",{x1:"6",x2:"7",y1:"10",y2:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=["svg",C,[["rect",{width:"16",height:"13",x:"6",y:"4",rx:"2"}],["path",{d:"m22 7-7.1 3.78c-.57.3-1.23.3-1.8 0L6 7"}],["path",{d:"M2 8v11c0 1.1.9 2 2 2h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=["svg",C,[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["path",{d:"m9 10 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=["svg",C,[["path",{d:"M19.43 12.935c.357-.967.57-1.955.57-2.935a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32.197 32.197 0 0 0 .813-.728"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"m16 18 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=["svg",C,[["path",{d:"M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z"}],["path",{d:"M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2"}],["path",{d:"M18 22v-3"}],["circle",{cx:"10",cy:"10",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=["svg",C,[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["path",{d:"M9 10h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=["svg",C,[["path",{d:"M18.977 14C19.6 12.701 20 11.343 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M16 18h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=["svg",C,[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568"}],["path",{d:"m2 2 20 20"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=["svg",C,[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["path",{d:"M12 7v6"}],["path",{d:"M9 10h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=["svg",C,[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M16 18h6"}],["path",{d:"M19 15v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=["svg",C,[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["path",{d:"m14.5 7.5-5 5"}],["path",{d:"m9.5 7.5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=["svg",C,[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"m21.5 15.5-5 5"}],["path",{d:"m21.5 20.5-5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=["svg",C,[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=["svg",C,[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0"}],["circle",{cx:"12",cy:"8",r:"2"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=["svg",C,[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=["svg",C,[["path",{d:"M8 22h8"}],["path",{d:"M12 11v11"}],["path",{d:"m19 3-7 8-7-8Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=["svg",C,[["polyline",{points:"15 3 21 3 21 9"}],["polyline",{points:"9 21 3 21 3 15"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=["svg",C,[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=["svg",C,[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15"}],["path",{d:"M11 12 5.12 2.2"}],["path",{d:"m13 12 5.88-9.8"}],["path",{d:"M8 7h8"}],["circle",{cx:"12",cy:"17",r:"5"}],["path",{d:"M12 18v-2h-.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=["svg",C,[["path",{d:"M9.26 9.26 3 11v3l14.14 3.14"}],["path",{d:"M21 15.34V6l-7.31 2.03"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=["svg",C,[["path",{d:"m3 11 18-5v12L3 14v-3z"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=["svg",C,[["path",{d:"M6 19v-3"}],["path",{d:"M10 19v-3"}],["path",{d:"M14 19v-3"}],["path",{d:"M18 19v-3"}],["path",{d:"M8 11V9"}],["path",{d:"M16 11V9"}],["path",{d:"M12 11V9"}],["path",{d:"M2 15h20"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=["svg",C,[["line",{x1:"4",x2:"20",y1:"12",y2:"12"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=["svg",C,[["path",{d:"m8 6 4-4 4 4"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22"}],["path",{d:"m20 22-5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=["svg",C,[["path",{d:"M10 9.5 8 12l2 2.5"}],["path",{d:"m14 9.5 2 2.5-2 2.5"}],["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=["svg",C,[["path",{d:"M13.5 3.1c-.5 0-1-.1-1.5-.1s-1 .1-1.5.1"}],["path",{d:"M19.3 6.8a10.45 10.45 0 0 0-2.1-2.1"}],["path",{d:"M20.9 13.5c.1-.5.1-1 .1-1.5s-.1-1-.1-1.5"}],["path",{d:"M17.2 19.3a10.45 10.45 0 0 0 2.1-2.1"}],["path",{d:"M10.5 20.9c.5.1 1 .1 1.5.1s1-.1 1.5-.1"}],["path",{d:"M3.5 17.5 2 22l4.5-1.5"}],["path",{d:"M3.1 10.5c0 .5-.1 1-.1 1.5s.1 1 .1 1.5"}],["path",{d:"M6.8 4.7a10.45 10.45 0 0 0-2.1 2.1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}],["path",{d:"M15.8 9.2a2.5 2.5 0 0 0-3.5 0l-.3.4-.35-.3a2.42 2.42 0 1 0-3.2 3.6l3.6 3.5 3.6-3.5c1.2-1.2 1.1-2.7.2-3.7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=["svg",C,[["path",{d:"M20.5 14.9A9 9 0 0 0 9.1 3.5"}],["path",{d:"m2 2 20 20"}],["path",{d:"M5.6 5.6C3 8.3 2.2 12.5 4 16l-2 6 6-2c3.4 1.8 7.6 1.1 10.3-1.7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}],["path",{d:"m10 15-3-3 3-3"}],["path",{d:"M7 12h7a2 2 0 0 1 2 2v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}],["path",{d:"M12 8v4"}],["path",{d:"M12 16h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=["svg",C,[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=["svg",C,[["path",{d:"M10 7.5 8 10l2 2.5"}],["path",{d:"m14 7.5 2 2.5-2 2.5"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=["svg",C,[["path",{d:"M10 17H7l-4 4v-7"}],["path",{d:"M14 17h1"}],["path",{d:"M14 3h1"}],["path",{d:"M19 3a2 2 0 0 1 2 2"}],["path",{d:"M21 14v1a2 2 0 0 1-2 2"}],["path",{d:"M21 9v1"}],["path",{d:"M3 9v1"}],["path",{d:"M5 3a2 2 0 0 0-2 2"}],["path",{d:"M9 3h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=["svg",C,[["path",{d:"m5 19-2 2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2"}],["path",{d:"M9 10h6"}],["path",{d:"M12 7v6"}],["path",{d:"M9 17h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=["svg",C,[["path",{d:"M11.7 3H5a2 2 0 0 0-2 2v16l4-4h12a2 2 0 0 0 2-2v-2.7"}],["circle",{cx:"18",cy:"6",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"M14.8 7.5a1.84 1.84 0 0 0-2.6 0l-.2.3-.3-.3a1.84 1.84 0 1 0-2.4 2.8L12 13l2.7-2.7c.9-.9.8-2.1.1-2.8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=["svg",C,[["path",{d:"M19 15v-2a2 2 0 1 0-4 0v2"}],["path",{d:"M9 17H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v3.5"}],["rect",{x:"13",y:"15",width:"8",height:"5",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"M8 10h.01"}],["path",{d:"M12 10h.01"}],["path",{d:"M16 10h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=["svg",C,[["path",{d:"M21 15V5a2 2 0 0 0-2-2H9"}],["path",{d:"m2 2 20 20"}],["path",{d:"M3.6 3.6c-.4.3-.6.8-.6 1.4v16l4-4h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"M12 7v6"}],["path",{d:"M9 10h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"m10 7-3 3 3 3"}],["path",{d:"M17 13v-1a2 2 0 0 0-2-2H7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=["svg",C,[["path",{d:"M21 12v3a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h7"}],["path",{d:"M16 3h5v5"}],["path",{d:"m16 8 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"M13 8H7"}],["path",{d:"M17 12H7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"M12 7v2"}],["path",{d:"M12 13h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"m14.5 7.5-5 5"}],["path",{d:"m9.5 7.5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=["svg",C,[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=["svg",C,[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=["svg",C,[["line",{x1:"2",x2:"22",y1:"2",y2:"22"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=["svg",C,[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5"}],["circle",{cx:"16",cy:"7",r:"5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=["svg",C,[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=["svg",C,[["path",{d:"M18 12h2"}],["path",{d:"M18 16h2"}],["path",{d:"M18 20h2"}],["path",{d:"M18 4h2"}],["path",{d:"M18 8h2"}],["path",{d:"M4 12h2"}],["path",{d:"M4 16h2"}],["path",{d:"M4 20h2"}],["path",{d:"M4 4h2"}],["path",{d:"M4 8h2"}],["path",{d:"M8 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-1.5c-.276 0-.494.227-.562.495a2 2 0 0 1-3.876 0C9.994 2.227 9.776 2 9.5 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=["svg",C,[["path",{d:"M6 18h8"}],["path",{d:"M3 22h18"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1"}],["path",{d:"M9 14h2"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=["svg",C,[["rect",{width:"20",height:"15",x:"2",y:"4",rx:"2"}],["rect",{width:"8",height:"7",x:"6",y:"8",rx:"1"}],["path",{d:"M18 8v7"}],["path",{d:"M6 19v2"}],["path",{d:"M18 19v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=["svg",C,[["path",{d:"M12 13v8"}],["path",{d:"M12 3v3"}],["path",{d:"M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=["svg",C,[["path",{d:"M8 2h8"}],["path",{d:"M9 2v1.343M15 2v2.789a4 4 0 0 0 .672 2.219l.656.984a4 4 0 0 1 .672 2.22v1.131M7.8 7.8l-.128.192A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.472 6.472 0 0 0 3.435.435"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=["svg",C,[["path",{d:"M8 2h8"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=["svg",C,[["polyline",{points:"4 14 10 14 10 20"}],["polyline",{points:"20 10 14 10 14 4"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=["svg",C,[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=["svg",C,[["path",{d:"M5 12h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=["svg",C,[["path",{d:"m9 10 2 2 4-4"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=["svg",C,[["path",{d:"M12 17v4"}],["path",{d:"m15.2 4.9-.9-.4"}],["path",{d:"m15.2 7.1-.9.4"}],["path",{d:"m16.9 3.2-.4-.9"}],["path",{d:"m16.9 8.8-.4.9"}],["path",{d:"m19.5 2.3-.4.9"}],["path",{d:"m19.5 9.7-.4-.9"}],["path",{d:"m21.7 4.5-.9.4"}],["path",{d:"m21.7 7.5-.9-.4"}],["path",{d:"M22 13v2a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}],["path",{d:"M8 21h8"}],["circle",{cx:"18",cy:"6",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=["svg",C,[["circle",{cx:"19",cy:"6",r:"3"}],["path",{d:"M22 12v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h9"}],["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=["svg",C,[["path",{d:"M12 13V7"}],["path",{d:"m15 10-3 3-3-3"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=["svg",C,[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9"}],["path",{d:"M8 21h8"}],["path",{d:"M12 17v4"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=["svg",C,[["path",{d:"M10 13V7"}],["path",{d:"M14 13V7"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=["svg",C,[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z"}],["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=["svg",C,[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8"}],["path",{d:"M10 19v-3.96 3.15"}],["path",{d:"M7 19h5"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=["svg",C,[["path",{d:"M5.5 20H8"}],["path",{d:"M17 9h.01"}],["rect",{width:"10",height:"16",x:"12",y:"4",rx:"2"}],["path",{d:"M8 6H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4"}],["circle",{cx:"17",cy:"15",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=["svg",C,[["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}],["rect",{x:"9",y:"7",width:"6",height:"6",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=["svg",C,[["path",{d:"m9 10 3-3 3 3"}],["path",{d:"M12 13V7"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=["svg",C,[["path",{d:"m14.5 12.5-5-5"}],["path",{d:"m9.5 12.5 5-5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["path",{d:"M12 17v4"}],["path",{d:"M8 21h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=["svg",C,[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=["svg",C,[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9"}],["path",{d:"M20 3v4"}],["path",{d:"M22 5h-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=["svg",C,[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=["svg",C,[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=["svg",C,[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=["svg",C,[["path",{d:"M12 6v.343"}],["path",{d:"M18.218 18.218A7 7 0 0 1 5 15V9a7 7 0 0 1 .782-3.218"}],["path",{d:"M19 13.343V9A7 7 0 0 0 8.56 2.902"}],["path",{d:"M22 22 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=["svg",C,[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=["svg",C,[["path",{d:"M2.034 2.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.944L8.204 7.545a1 1 0 0 0-.66.66l-1.066 3.443a.5.5 0 0 1-.944.033z"}],["circle",{cx:"16",cy:"16",r:"6"}],["path",{d:"m11.8 11.8 8.4 8.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=["svg",C,[["path",{d:"M14 4.1 12 6"}],["path",{d:"m5.1 8-2.9-.8"}],["path",{d:"m6 12-1.9 2"}],["path",{d:"M7.2 2.2 8 5.1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=["svg",C,[["path",{d:"M12.586 12.586 19 19"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=["svg",C,[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7"}],["path",{d:"M12 6v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=["svg",C,[["path",{d:"M5 3v16h16"}],["path",{d:"m5 19 6-6"}],["path",{d:"m2 6 3-3 3 3"}],["path",{d:"m18 16 3 3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=["svg",C,[["path",{d:"M19 13v6h-6"}],["path",{d:"M5 11V5h6"}],["path",{d:"m5 5 14 14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=["svg",C,[["path",{d:"M11 19H5v-6"}],["path",{d:"M13 5h6v6"}],["path",{d:"M19 5 5 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=["svg",C,[["path",{d:"M11 19H5V13"}],["path",{d:"M19 5L5 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=["svg",C,[["path",{d:"M19 13V19H13"}],["path",{d:"M5 5L19 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=["svg",C,[["path",{d:"M8 18L12 22L16 18"}],["path",{d:"M12 2V22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=["svg",C,[["path",{d:"m18 8 4 4-4 4"}],["path",{d:"M2 12h20"}],["path",{d:"m6 8-4 4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=["svg",C,[["path",{d:"M6 8L2 12L6 16"}],["path",{d:"M2 12H22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=["svg",C,[["path",{d:"M18 8L22 12L18 16"}],["path",{d:"M2 12H22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=["svg",C,[["path",{d:"M5 11V5H11"}],["path",{d:"M5 5L19 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=["svg",C,[["path",{d:"M13 5H19V11"}],["path",{d:"M19 5L5 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=["svg",C,[["path",{d:"M8 6L12 2L16 6"}],["path",{d:"M12 2V22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=["svg",C,[["path",{d:"M12 2v20"}],["path",{d:"m8 18 4 4 4-4"}],["path",{d:"m8 6 4-4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=["svg",C,[["path",{d:"M12 2v20"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m19 9 3 3-3 3"}],["path",{d:"M2 12h20"}],["path",{d:"m5 9-3 3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=["svg",C,[["circle",{cx:"8",cy:"18",r:"4"}],["path",{d:"M12 18V2l7 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=["svg",C,[["circle",{cx:"12",cy:"18",r:"4"}],["path",{d:"M16 18V2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=["svg",C,[["path",{d:"M9 18V5l12-2v13"}],["path",{d:"m9 9 12-2"}],["circle",{cx:"6",cy:"18",r:"3"}],["circle",{cx:"18",cy:"16",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=["svg",C,[["path",{d:"M9 18V5l12-2v13"}],["circle",{cx:"6",cy:"18",r:"3"}],["circle",{cx:"18",cy:"16",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=["svg",C,[["path",{d:"M9.31 9.31 5 21l7-4 7 4-1.17-3.17"}],["path",{d:"M14.53 8.88 12 2l-1.17 3.17"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=["svg",C,[["polygon",{points:"12 2 19 21 12 17 5 21 12 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=["svg",C,[["path",{d:"M8.43 8.43 3 11l8 2 2 8 2.57-5.43"}],["path",{d:"M17.39 11.73 22 2l-9.73 4.61"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=["svg",C,[["polygon",{points:"3 11 22 2 13 21 11 13 3 11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=["svg",C,[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}],["path",{d:"M12 12V8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=["svg",C,[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"}],["path",{d:"M18 14h-8"}],["path",{d:"M15 18h-5"}],["path",{d:"M10 6h8v4h-8V6Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=["svg",C,[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=["svg",C,[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"}],["path",{d:"M2 6h4"}],["path",{d:"M2 10h4"}],["path",{d:"M2 14h4"}],["path",{d:"M2 18h4"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=["svg",C,[["path",{d:"M2 6h4"}],["path",{d:"M2 10h4"}],["path",{d:"M2 14h4"}],["path",{d:"M2 18h4"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2"}],["path",{d:"M15 2v20"}],["path",{d:"M15 7h5"}],["path",{d:"M15 12h5"}],["path",{d:"M15 17h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=["svg",C,[["path",{d:"M2 6h4"}],["path",{d:"M2 10h4"}],["path",{d:"M2 14h4"}],["path",{d:"M2 18h4"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2"}],["path",{d:"M9.5 8h5"}],["path",{d:"M9.5 12H16"}],["path",{d:"M9.5 16H14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=["svg",C,[["path",{d:"M2 6h4"}],["path",{d:"M2 10h4"}],["path",{d:"M2 14h4"}],["path",{d:"M2 18h4"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2"}],["path",{d:"M16 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M12 2v4"}],["path",{d:"M16 2v4"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}],["path",{d:"M20 12v2"}],["path",{d:"M20 18v2a2 2 0 0 1-2 2h-1"}],["path",{d:"M13 22h-2"}],["path",{d:"M7 22H6a2 2 0 0 1-2-2v-2"}],["path",{d:"M4 14v-2"}],["path",{d:"M4 8V6a2 2 0 0 1 2-2h2"}],["path",{d:"M8 10h6"}],["path",{d:"M8 14h8"}],["path",{d:"M8 18h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=["svg",C,[["path",{d:"M8 2v4"}],["path",{d:"M12 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"16",height:"18",x:"4",y:"4",rx:"2"}],["path",{d:"M8 10h6"}],["path",{d:"M8 14h8"}],["path",{d:"M8 18h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=["svg",C,[["path",{d:"M12 4V2"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592a7.01 7.01 0 0 0 4.125-2.939"}],["path",{d:"M19 10v3.343"}],["path",{d:"M12 12c-1.349-.573-1.905-1.005-2.5-2-.546.902-1.048 1.353-2.5 2-1.018-.644-1.46-1.08-2-2-1.028.71-1.69.918-3 1 1.081-1.048 1.757-2.03 2-3 .194-.776.84-1.551 1.79-2.21m11.654 5.997c.887-.457 1.28-.891 1.556-1.787 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4-.74 0-1.461.068-2.15.192"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=["svg",C,[["path",{d:"M12 4V2"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592A7.003 7.003 0 0 0 19 14v-4"}],["path",{d:"M12 4C8 4 4.5 6 4 8c-.243.97-.919 1.952-2 3 1.31-.082 1.972-.29 3-1 .54.92.982 1.356 2 2 1.452-.647 1.954-1.098 2.5-2 .595.995 1.151 1.427 2.5 2 1.31-.621 1.862-1.058 2.5-2 .629.977 1.162 1.423 2.5 2 1.209-.548 1.68-.967 2-2 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=["svg",C,[["path",{d:"M12 16h.01"}],["path",{d:"M12 8v4"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=["svg",C,[["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z"}],["path",{d:"M8 12h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=["svg",C,[["path",{d:"M10 15V9"}],["path",{d:"M14 15V9"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=["svg",C,[["path",{d:"m15 9-6 6"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z"}],["path",{d:"m9 9 6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=["svg",C,[["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=["svg",C,[["path",{d:"M3 20h4.5a.5.5 0 0 0 .5-.5v-.282a.52.52 0 0 0-.247-.437 8 8 0 1 1 8.494-.001.52.52 0 0 0-.247.438v.282a.5.5 0 0 0 .5.5H21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=["svg",C,[["path",{d:"M3 3h6l6 18h6"}],["path",{d:"M14 3h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=["svg",C,[["circle",{cx:"12",cy:"12",r:"3"}],["circle",{cx:"19",cy:"5",r:"2"}],["circle",{cx:"5",cy:"19",r:"2"}],["path",{d:"M10.4 21.9a10 10 0 0 0 9.941-15.416"}],["path",{d:"M13.5 2.1a10 10 0 0 0-9.841 15.416"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=["svg",C,[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=["svg",C,[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"}],["path",{d:"M12 3v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=["svg",C,[["path",{d:"m16 16 2 2 4-4"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}],["path",{d:"m7.5 4.27 9 5.15"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=["svg",C,[["path",{d:"M16 16h6"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}],["path",{d:"m7.5 4.27 9 5.15"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=["svg",C,[["path",{d:"M12 22v-9"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=["svg",C,[["path",{d:"M16 16h6"}],["path",{d:"M19 13v6"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}],["path",{d:"m7.5 4.27 9 5.15"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=["svg",C,[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}],["path",{d:"m7.5 4.27 9 5.15"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5"}],["path",{d:"M20.27 17.27 22 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=["svg",C,[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}],["path",{d:"m7.5 4.27 9 5.15"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12"}],["path",{d:"m17 13 5 5m-5 0 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=["svg",C,[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"}],["path",{d:"M12 22V12"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7"}],["path",{d:"m7.5 4.27 9 5.15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=["svg",C,[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}],["path",{d:"m5 2 5 5"}],["path",{d:"M2 13h15"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=["svg",C,[["rect",{width:"16",height:"6",x:"2",y:"2",rx:"2"}],["path",{d:"M10 16v-2a2 2 0 0 1 2-2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"}],["rect",{width:"4",height:"6",x:"8",y:"16",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=["svg",C,[["path",{d:"M10 2v2"}],["path",{d:"M14 2v4"}],["path",{d:"M17 2a1 1 0 0 1 1 1v9H6V3a1 1 0 0 1 1-1z"}],["path",{d:"M6 12a1 1 0 0 0-1 1v1a2 2 0 0 0 2 2h2a1 1 0 0 1 1 1v2.9a2 2 0 1 0 4 0V17a1 1 0 0 1 1-1h2a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=["svg",C,[["path",{d:"m14.622 17.897-10.68-2.913"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=["svg",C,[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 15h18"}],["path",{d:"m15 8-3 3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M14 15h1"}],["path",{d:"M19 15h2"}],["path",{d:"M3 15h2"}],["path",{d:"M9 15h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 15h18"}],["path",{d:"m9 10 3-3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 15h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}],["path",{d:"m16 15-3-3 3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 14v1"}],["path",{d:"M9 19v2"}],["path",{d:"M9 3v2"}],["path",{d:"M9 9v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}],["path",{d:"m14 9 3 3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M15 3v18"}],["path",{d:"m8 9 3 3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M15 14v1"}],["path",{d:"M15 19v2"}],["path",{d:"M15 3v2"}],["path",{d:"M15 9v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M15 3v18"}],["path",{d:"m10 15-3-3 3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M15 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"m9 16 3-3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M14 9h1"}],["path",{d:"M19 9h2"}],["path",{d:"M3 9h2"}],["path",{d:"M9 9h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"m15 14-3 3-3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}],["path",{d:"M9 15h12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 15h12"}],["path",{d:"M15 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M9 21V9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=["svg",C,[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=["svg",C,[["path",{d:"M8 21s-4-3-4-9 4-9 4-9"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=["svg",C,[["path",{d:"M11 15h2"}],["path",{d:"M12 12v3"}],["path",{d:"M12 19v3"}],["path",{d:"M15.282 19a1 1 0 0 0 .948-.68l2.37-6.988a7 7 0 1 0-13.2 0l2.37 6.988a1 1 0 0 0 .948.68z"}],["path",{d:"M9 9a3 3 0 1 1 6 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=["svg",C,[["path",{d:"M5.8 11.3 2 22l10.7-3.79"}],["path",{d:"M4 3h.01"}],["path",{d:"M22 8h.01"}],["path",{d:"M15 2h.01"}],["path",{d:"M22 20h.01"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=["svg",C,[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=["svg",C,[["circle",{cx:"11",cy:"4",r:"2"}],["circle",{cx:"18",cy:"8",r:"2"}],["circle",{cx:"20",cy:"16",r:"2"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=["svg",C,[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2"}],["path",{d:"M15 14h.01"}],["path",{d:"M9 6h6"}],["path",{d:"M9 10h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=["svg",C,[["path",{d:"M12 20h9"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=["svg",C,[["path",{d:"m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982"}],["path",{d:"m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=["svg",C,[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18"}],["path",{d:"m2.3 2.3 7.286 7.286"}],["circle",{cx:"11",cy:"11",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=["svg",C,[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=["svg",C,[["path",{d:"M12 20h9"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"}],["path",{d:"m15 5 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=["svg",C,[["path",{d:"m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982"}],["path",{d:"m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353"}],["path",{d:"m15 5 4 4"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=["svg",C,[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13"}],["path",{d:"m8 6 2-2"}],["path",{d:"m18 16 2-2"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=["svg",C,[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=["svg",C,[["path",{d:"M10.83 2.38a2 2 0 0 1 2.34 0l8 5.74a2 2 0 0 1 .73 2.25l-3.04 9.26a2 2 0 0 1-1.9 1.37H7.04a2 2 0 0 1-1.9-1.37L2.1 10.37a2 2 0 0 1 .73-2.25z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=["svg",C,[["line",{x1:"19",x2:"5",y1:"5",y2:"19"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=["svg",C,[["circle",{cx:"12",cy:"5",r:"1"}],["path",{d:"m9 20 3-6 3 6"}],["path",{d:"m6 8 6 2 6-2"}],["path",{d:"M12 10v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=["svg",C,[["path",{d:"M20 11H4"}],["path",{d:"M20 7H4"}],["path",{d:"M7 21V4a1 1 0 0 1 1-1h4a1 1 0 0 1 0 12H7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=["svg",C,[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=["svg",C,[["polyline",{points:"18 2 22 6 18 10"}],["line",{x1:"14",x2:"22",y1:"6",y2:"6"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=["svg",C,[["polyline",{points:"16 2 16 8 22 8"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=["svg",C,[["line",{x1:"22",x2:"16",y1:"2",y2:"8"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=["svg",C,[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=["svg",C,[["polyline",{points:"22 8 22 2 16 2"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=["svg",C,[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=["svg",C,[["line",{x1:"9",x2:"9",y1:"4",y2:"20"}],["path",{d:"M4 7c0-1.7 1.3-3 3-3h13"}],["path",{d:"M18 20c-1.7 0-3-1.3-3-3V4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=["svg",C,[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8"}],["path",{d:"M2 14h20"}],["path",{d:"M6 14v4"}],["path",{d:"M10 14v4"}],["path",{d:"M14 14v4"}],["path",{d:"M18 14v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=["svg",C,[["path",{d:"M14.531 12.469 6.619 20.38a1 1 0 1 1-3-3l7.912-7.912"}],["path",{d:"M15.686 4.314A12.5 12.5 0 0 0 5.461 2.958 1 1 0 0 0 5.58 4.71a22 22 0 0 1 6.318 3.393"}],["path",{d:"M17.7 3.7a1 1 0 0 0-1.4 0l-4.6 4.6a1 1 0 0 0 0 1.4l2.6 2.6a1 1 0 0 0 1.4 0l4.6-4.6a1 1 0 0 0 0-1.4z"}],["path",{d:"M19.686 8.314a12.501 12.501 0 0 1 1.356 10.225 1 1 0 0 1-1.751-.119 22 22 0 0 0-3.393-6.319"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=["svg",C,[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=["svg",C,[["path",{d:"M8 4.5v5H3m-1-6 6 6m13 0v-3c0-1.16-.84-2-2-2h-7m-9 9v2c0 1.05.95 2 2 2h3"}],["rect",{width:"10",height:"7",x:"12",y:"13.5",ry:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=["svg",C,[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1"}],["path",{d:"M16 11h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=["svg",C,[["path",{d:"M14 3v11"}],["path",{d:"M14 9h-3a3 3 0 0 1 0-6h9"}],["path",{d:"M18 3v11"}],["path",{d:"M22 18H2l4-4"}],["path",{d:"m6 22-4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=["svg",C,[["path",{d:"M10 3v11"}],["path",{d:"M10 9H7a1 1 0 0 1 0-6h8"}],["path",{d:"M14 3v11"}],["path",{d:"m18 14 4 4H2"}],["path",{d:"m22 18-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=["svg",C,[["path",{d:"M13 4v16"}],["path",{d:"M17 4v16"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=["svg",C,[["path",{d:"M18 11h-4a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h4"}],["path",{d:"M6 7v13a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7"}],["rect",{width:"16",height:"5",x:"4",y:"2",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=["svg",C,[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z"}],["path",{d:"m8.5 8.5 7 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=["svg",C,[["path",{d:"M12 17v5"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"}],["path",{d:"m2 2 20 20"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=["svg",C,[["path",{d:"M12 17v5"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=["svg",C,[["path",{d:"m2 22 1-1h3l9-9"}],["path",{d:"M3 21v-3l9-9"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=["svg",C,[["path",{d:"M15 11h.01"}],["path",{d:"M11 15h.01"}],["path",{d:"M16 16h.01"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=["svg",C,[["path",{d:"M2 22h20"}],["path",{d:"M3.77 10.77 2 9l2-4.5 1.1.55c.55.28.9.84.9 1.45s.35 1.17.9 1.45L8 8.5l3-6 1.05.53a2 2 0 0 1 1.09 1.52l.72 5.4a2 2 0 0 0 1.09 1.52l4.4 2.2c.42.22.78.55 1.01.96l.6 1.03c.49.88-.06 1.98-1.06 2.1l-1.18.15c-.47.06-.95-.02-1.37-.24L4.29 11.15a2 2 0 0 1-.52-.38Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=["svg",C,[["path",{d:"M2 22h20"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=["svg",C,[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=["svg",C,[["polygon",{points:"6 3 20 12 6 21 6 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=["svg",C,[["path",{d:"M9 2v6"}],["path",{d:"M15 2v6"}],["path",{d:"M12 17v5"}],["path",{d:"M5 8h14"}],["path",{d:"M6 11V8h12v3a6 6 0 1 1-12 0Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=["svg",C,[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z"}],["path",{d:"m2 22 3-3"}],["path",{d:"M7.5 13.5 10 11"}],["path",{d:"M10.5 16.5 13 14"}],["path",{d:"m18 3-4 4h6l-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=["svg",C,[["path",{d:"M12 22v-5"}],["path",{d:"M9 8V2"}],["path",{d:"M15 8V2"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=["svg",C,[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=["svg",C,[["path",{d:"M3 2v1c0 1 2 1 2 2S3 6 3 7s2 1 2 2-2 1-2 2 2 1 2 2"}],["path",{d:"M18 6h.01"}],["path",{d:"M6 18h.01"}],["path",{d:"M20.83 8.83a4 4 0 0 0-5.66-5.66l-12 12a4 4 0 1 0 5.66 5.66Z"}],["path",{d:"M18 11.66V22a4 4 0 0 0 4-4V6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=["svg",C,[["path",{d:"M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"}],["polyline",{points:"8 10 12 14 16 10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=["svg",C,[["path",{d:"M16.85 18.58a9 9 0 1 0-9.7 0"}],["path",{d:"M8 14a5 5 0 1 1 8 0"}],["circle",{cx:"12",cy:"11",r:"1"}],["path",{d:"M13 17a1 1 0 1 0-2 0l.5 4.5a.5.5 0 1 0 1 0Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=["svg",C,[["path",{d:"M10 4.5V4a2 2 0 0 0-2.41-1.957"}],["path",{d:"M13.9 8.4a2 2 0 0 0-1.26-1.295"}],["path",{d:"M21.7 16.2A8 8 0 0 0 22 14v-3a2 2 0 1 0-4 0v-1a2 2 0 0 0-3.63-1.158"}],["path",{d:"m7 15-1.8-1.8a2 2 0 0 0-2.79 2.86L6 19.7a7.74 7.74 0 0 0 6 2.3h2a8 8 0 0 0 5.657-2.343"}],["path",{d:"M6 6v8"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=["svg",C,[["path",{d:"M22 14a8 8 0 0 1-8 8"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=["svg",C,[["path",{d:"M18 8a2 2 0 0 0 0-4 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0 0 4"}],["path",{d:"M10 22 9 8"}],["path",{d:"m14 22 1-14"}],["path",{d:"M20 8c.5 0 .9.4.8 1l-2.6 12c-.1.5-.7 1-1.2 1H7c-.6 0-1.1-.4-1.2-1L3.2 9c-.1-.6.3-1 .8-1Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=["svg",C,[["path",{d:"M18.6 14.4c.8-.8.8-2 0-2.8l-8.1-8.1a4.95 4.95 0 1 0-7.1 7.1l8.1 8.1c.9.7 2.1.7 2.9-.1Z"}],["path",{d:"m22 22-5.5-5.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=["svg",C,[["path",{d:"M18 7c0-5.333-8-5.333-8 0"}],["path",{d:"M10 7v14"}],["path",{d:"M6 21h12"}],["path",{d:"M6 13h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=["svg",C,[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68"}],["path",{d:"M12 2v4"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=["svg",C,[["path",{d:"M12 2v10"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=["svg",C,[["path",{d:"M2 3h20"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3"}],["path",{d:"m7 21 5-5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=["svg",C,[["path",{d:"M13.5 22H7a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v.5"}],["path",{d:"m16 19 2 2 4-4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=["svg",C,[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=["svg",C,[["path",{d:"M5 7 3 5"}],["path",{d:"M9 6V3"}],["path",{d:"m13 7 2-2"}],["circle",{cx:"9",cy:"13",r:"3"}],["path",{d:"M11.83 12H20a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h2.17"}],["path",{d:"M16 16h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=["svg",C,[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"M12 9v11"}],["path",{d:"M2 9h13a2 2 0 0 1 2 2v9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=["svg",C,[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=["svg",C,[["path",{d:"M2.5 16.88a1 1 0 0 1-.32-1.43l9-13.02a1 1 0 0 1 1.64 0l9 13.01a1 1 0 0 1-.32 1.44l-8.51 4.86a2 2 0 0 1-1.98 0Z"}],["path",{d:"M12 2v20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=["svg",C,[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}],["path",{d:"M21 21v.01"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}],["path",{d:"M3 12h.01"}],["path",{d:"M12 3h.01"}],["path",{d:"M12 16v.01"}],["path",{d:"M16 12h1"}],["path",{d:"M21 12v.01"}],["path",{d:"M12 21v-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=["svg",C,[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=["svg",C,[["path",{d:"M13 16a3 3 0 0 1 2.24 5"}],["path",{d:"M18 12h.01"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=["svg",C,[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34"}],["path",{d:"M4 6h.01"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67"}],["path",{d:"M12 18h.01"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67"}],["circle",{cx:"12",cy:"12",r:"2"}],["path",{d:"m13.41 10.59 5.66-5.66"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=["svg",C,[["path",{d:"M12 12h.01"}],["path",{d:"M7.5 4.2c-.3-.5-.9-.7-1.3-.4C3.9 5.5 2.3 8.1 2 11c-.1.5.4 1 1 1h5c0-1.5.8-2.8 2-3.4-1.1-1.9-2-3.5-2.5-4.4z"}],["path",{d:"M21 12c.6 0 1-.4 1-1-.3-2.9-1.8-5.5-4.1-7.1-.4-.3-1.1-.2-1.3.3-.6.9-1.5 2.5-2.6 4.3 1.2.7 2 2 2 3.5h5z"}],["path",{d:"M7.5 19.8c-.3.5-.1 1.1.4 1.3 2.6 1.2 5.6 1.2 8.2 0 .5-.2.7-.8.4-1.3-.5-.9-1.4-2.5-2.5-4.3-1.2.7-2.8.7-4 0-1.1 1.8-2 3.4-2.5 4.3z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=["svg",C,[["path",{d:"M3 12h3.28a1 1 0 0 1 .948.684l2.298 7.934a.5.5 0 0 0 .96-.044L13.82 4.771A1 1 0 0 1 14.792 4H21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=["svg",C,[["path",{d:"M5 16v2"}],["path",{d:"M19 16v2"}],["rect",{width:"20",height:"8",x:"2",y:"8",rx:"2"}],["path",{d:"M18 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=["svg",C,[["path",{d:"M4.9 16.1C1 12.2 1 5.8 4.9 1.9"}],["path",{d:"M7.8 4.7a6.14 6.14 0 0 0-.8 7.5"}],["circle",{cx:"12",cy:"9",r:"2"}],["path",{d:"M16.2 4.8c2 2 2.26 5.11.8 7.47"}],["path",{d:"M19.1 1.9a9.96 9.96 0 0 1 0 14.1"}],["path",{d:"M9.5 18h5"}],["path",{d:"m8 22 4-11 4 11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=["svg",C,[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5"}],["circle",{cx:"12",cy:"12",r:"2"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=["svg",C,[["path",{d:"M20.34 17.52a10 10 0 1 0-2.82 2.82"}],["circle",{cx:"19",cy:"19",r:"2"}],["path",{d:"m13.41 13.41 4.18 4.18"}],["circle",{cx:"12",cy:"12",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=["svg",C,[["path",{d:"M5 15h14"}],["path",{d:"M5 9h14"}],["path",{d:"m14 20-5-5 6-6-5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=["svg",C,[["path",{d:"M22 17a10 10 0 0 0-20 0"}],["path",{d:"M6 17a6 6 0 0 1 12 0"}],["path",{d:"M10 17a2 2 0 0 1 4 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=["svg",C,[["path",{d:"M17 5c0-1.7-1.3-3-3-3s-3 1.3-3 3c0 .8.3 1.5.8 2H11c-3.9 0-7 3.1-7 7c0 2.2 1.8 4 4 4"}],["path",{d:"M16.8 3.9c.3-.3.6-.5 1-.7 1.5-.6 3.3.1 3.9 1.6.6 1.5-.1 3.3-1.6 3.9l1.6 2.8c.2.3.2.7.2 1-.2.8-.9 1.2-1.7 1.1 0 0-1.6-.3-2.7-.6H17c-1.7 0-3 1.3-3 3"}],["path",{d:"M13.2 18a3 3 0 0 0-2.2-5"}],["path",{d:"M13 22H4a2 2 0 0 1 0-4h12"}],["path",{d:"M16 9h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=["svg",C,[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M12 6.5v11"}],["path",{d:"M15 9.4a4 4 0 1 0 0 5.2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M8 12h5"}],["path",{d:"M16 9.5a4 4 0 1 0 0 5.2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M8 7h8"}],["path",{d:"M12 17.5 8 15h1a4 4 0 0 0 0-8"}],["path",{d:"M8 11h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"m12 10 3-3"}],["path",{d:"m9 7 3 3v7.5"}],["path",{d:"M9 11h6"}],["path",{d:"M9 15h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M8 13h5"}],["path",{d:"M10 17V9.5a2.5 2.5 0 0 1 5 0"}],["path",{d:"M8 17h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M8 15h5"}],["path",{d:"M8 11h5a2 2 0 1 0 0-4h-3v10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M10 17V7h5"}],["path",{d:"M10 11h4"}],["path",{d:"M8 15h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M14 8H8"}],["path",{d:"M16 12H8"}],["path",{d:"M13 16H8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=["svg",C,[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}],["path",{d:"M12 17.5v-11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=["svg",C,[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}],["path",{d:"M12 12h.01"}],["path",{d:"M17 12h.01"}],["path",{d:"M7 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=["svg",C,[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=["svg",C,[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=["svg",C,[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12"}],["path",{d:"m14 16-3 3 3 3"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=["svg",C,[["path",{d:"m15 14 5-5-5-5"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=["svg",C,[["circle",{cx:"12",cy:"17",r:"1"}],["path",{d:"M21 7v6h-6"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=["svg",C,[["path",{d:"M21 7v6h-6"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=["svg",C,[["path",{d:"M3 2v6h6"}],["path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8"}],["path",{d:"M21 22v-6h-6"}],["path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7"}],["circle",{cx:"12",cy:"12",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=["svg",C,[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=["svg",C,[["path",{d:"M21 8L18.74 5.74A9.75 9.75 0 0 0 12 3C11 3 10.03 3.16 9.13 3.47"}],["path",{d:"M8 16H3v5"}],["path",{d:"M3 12C3 9.51 4 7.26 5.64 5.64"}],["path",{d:"m3 16 2.26 2.26A9.75 9.75 0 0 0 12 21c2.49 0 4.74-1 6.36-2.64"}],["path",{d:"M21 12c0 1-.16 1.97-.47 2.87"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M22 22 2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=["svg",C,[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=["svg",C,[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z"}],["path",{d:"M5 10h14"}],["path",{d:"M15 7v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=["svg",C,[["path",{d:"M17 3v10"}],["path",{d:"m12.67 5.5 8.66 5"}],["path",{d:"m12.67 10.5 8.66-5"}],["path",{d:"M9 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=["svg",C,[["path",{d:"M4 7V4h16v3"}],["path",{d:"M5 20h6"}],["path",{d:"M13 4 8 20"}],["path",{d:"m15 15 5 5"}],["path",{d:"m20 15-5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=["svg",C,[["path",{d:"m17 2 4 4-4 4"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}],["path",{d:"m7 22-4-4 4-4"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3"}],["path",{d:"M11 10h1v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=["svg",C,[["path",{d:"m2 9 3-3 3 3"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6"}],["path",{d:"m22 15-3 3-3-3"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=["svg",C,[["path",{d:"m17 2 4 4-4 4"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}],["path",{d:"m7 22-4-4 4-4"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=["svg",C,[["path",{d:"M14 14a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2"}],["path",{d:"M14 4a2 2 0 0 1 2-2"}],["path",{d:"M16 10a2 2 0 0 1-2-2"}],["path",{d:"M20 14a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2"}],["path",{d:"M20 2a2 2 0 0 1 2 2"}],["path",{d:"M22 8a2 2 0 0 1-2 2"}],["path",{d:"m3 7 3 3 3-3"}],["path",{d:"M6 10V5a 3 3 0 0 1 3-3h1"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=["svg",C,[["path",{d:"M14 4a2 2 0 0 1 2-2"}],["path",{d:"M16 10a2 2 0 0 1-2-2"}],["path",{d:"M20 2a2 2 0 0 1 2 2"}],["path",{d:"M22 8a2 2 0 0 1-2 2"}],["path",{d:"m3 7 3 3 3-3"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=["svg",C,[["polyline",{points:"7 17 2 12 7 7"}],["polyline",{points:"12 17 7 12 12 7"}],["path",{d:"M22 18v-2a4 4 0 0 0-4-4H7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=["svg",C,[["polyline",{points:"9 17 4 12 9 7"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=["svg",C,[["polygon",{points:"11 19 2 12 11 5 11 19"}],["polygon",{points:"22 19 13 12 22 5 22 19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=["svg",C,[["path",{d:"M12 11.22C11 9.997 10 9 10 8a2 2 0 0 1 4 0c0 1-.998 2.002-2.01 3.22"}],["path",{d:"m12 18 2.57-3.5"}],["path",{d:"M6.243 9.016a7 7 0 0 1 11.507-.009"}],["path",{d:"M9.35 14.53 12 11.22"}],["path",{d:"M9.35 14.53C7.728 12.246 6 10.221 6 7a6 5 0 0 1 12 0c-.005 3.22-1.778 5.235-3.43 7.5l3.557 4.527a1 1 0 0 1-.203 1.43l-1.894 1.36a1 1 0 0 1-1.384-.215L12 18l-2.679 3.593a1 1 0 0 1-1.39.213l-1.865-1.353a1 1 0 0 1-.203-1.422z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=["svg",C,[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=["svg",C,[["polyline",{points:"3.5 2 6.5 12.5 18 12.5"}],["line",{x1:"9.5",x2:"5.5",y1:"12.5",y2:"20"}],["line",{x1:"15",x2:"18.5",y1:"12.5",y2:"20"}],["path",{d:"M2.75 18a13 13 0 0 0 18.5 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=["svg",C,[["path",{d:"M6 19V5"}],["path",{d:"M10 19V6.8"}],["path",{d:"M14 19v-7.8"}],["path",{d:"M18 5v4"}],["path",{d:"M18 19v-6"}],["path",{d:"M22 19V9"}],["path",{d:"M2 19V9a4 4 0 0 1 4-4c2 0 4 1.33 6 4s4 4 6 4a4 4 0 1 0-3-6.65"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=["svg",C,[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=["svg",C,[["path",{d:"M20 9V7a2 2 0 0 0-2-2h-6"}],["path",{d:"m15 2-3 3 3 3"}],["path",{d:"M20 13v5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=["svg",C,[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=["svg",C,[["path",{d:"M12 5H6a2 2 0 0 0-2 2v3"}],["path",{d:"m9 8 3-3-3-3"}],["path",{d:"M4 14v4a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=["svg",C,[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=["svg",C,[["circle",{cx:"6",cy:"19",r:"3"}],["path",{d:"M9 19h8.5c.4 0 .9-.1 1.3-.2"}],["path",{d:"M5.2 5.2A3.5 3.53 0 0 0 6.5 12H12"}],["path",{d:"m2 2 20 20"}],["path",{d:"M21 15.3a3.5 3.5 0 0 0-3.3-3.3"}],["path",{d:"M15 5h-4.3"}],["circle",{cx:"18",cy:"5",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=["svg",C,[["circle",{cx:"6",cy:"19",r:"3"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15"}],["circle",{cx:"18",cy:"5",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=["svg",C,[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2"}],["path",{d:"M6.01 18H6"}],["path",{d:"M10.01 18H10"}],["path",{d:"M15 10v4"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 12h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M21 9H3"}],["path",{d:"M21 15H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M21 7.5H3"}],["path",{d:"M21 12H3"}],["path",{d:"M21 16.5H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=["svg",C,[["path",{d:"M4 11a9 9 0 0 1 9 9"}],["path",{d:"M4 4a16 16 0 0 1 16 16"}],["circle",{cx:"5",cy:"19",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=["svg",C,[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"}],["path",{d:"m14.5 12.5 2-2"}],["path",{d:"m11.5 9.5 2-2"}],["path",{d:"m8.5 6.5 2-2"}],["path",{d:"m17.5 15.5 2-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=["svg",C,[["path",{d:"M6 11h8a4 4 0 0 0 0-8H9v18"}],["path",{d:"M6 15h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=["svg",C,[["path",{d:"M22 18H2a4 4 0 0 0 4 4h12a4 4 0 0 0 4-4Z"}],["path",{d:"M21 14 10 2 3 14h18Z"}],["path",{d:"M10 2v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=["svg",C,[["path",{d:"M7 21h10"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1"}],["path",{d:"m13 12 4-4"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=["svg",C,[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=["svg",C,[["path",{d:"M4 10a7.31 7.31 0 0 0 10 10Z"}],["path",{d:"m9 15 3-3"}],["path",{d:"M17 13a6 6 0 0 0-6-6"}],["path",{d:"M21 13A10 10 0 0 0 11 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=["svg",C,[["path",{d:"M13 7 9 3 5 7l4 4"}],["path",{d:"m17 11 4 4-4 4-4-4"}],["path",{d:"m8 12 4 4 6-6-4-4Z"}],["path",{d:"m16 8 3-3"}],["path",{d:"M9 21a6 6 0 0 0-6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=["svg",C,[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=["svg",C,[["path",{d:"M13 13H8a1 1 0 0 0-1 1v7"}],["path",{d:"M14 8h1"}],["path",{d:"M17 21v-4"}],["path",{d:"m2 2 20 20"}],["path",{d:"M20.41 20.41A2 2 0 0 1 19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 .59-1.41"}],["path",{d:"M29.5 11.5s5 5 4 5"}],["path",{d:"M9 3h6.2a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=["svg",C,[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=["svg",C,[["circle",{cx:"19",cy:"19",r:"2"}],["circle",{cx:"5",cy:"5",r:"2"}],["path",{d:"M5 7v12h12"}],["path",{d:"m5 19 6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=["svg",C,[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}],["path",{d:"M7 21h10"}],["path",{d:"M12 3v18"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=["svg",C,[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M14 15H9v-5"}],["path",{d:"M16 3h5v5"}],["path",{d:"M21 3 9 15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["path",{d:"M8 7v10"}],["path",{d:"M12 7v10"}],["path",{d:"M17 7v10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["circle",{cx:"12",cy:"12",r:"1"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}],["path",{d:"M9 9h.01"}],["path",{d:"M15 9h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["path",{d:"M7 12h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=["svg",C,[["path",{d:"M17 12v4a1 1 0 0 1-1 1h-4"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M17 8V7"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M7 17h.01"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["rect",{x:"7",y:"7",width:"5",height:"5",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"m16 16-1.9-1.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["path",{d:"M7 8h8"}],["path",{d:"M7 12h10"}],["path",{d:"M7 16h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=["svg",C,[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=["svg",C,[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2"}],["path",{d:"M18 5v17"}],["path",{d:"m4 6 8-4 8 4"}],["path",{d:"M6 5v17"}],["circle",{cx:"12",cy:"9",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=["svg",C,[["path",{d:"M5.42 9.42 8 12"}],["circle",{cx:"4",cy:"8",r:"2"}],["path",{d:"m14 6-8.58 8.58"}],["circle",{cx:"4",cy:"16",r:"2"}],["path",{d:"M10.8 14.8 14 18"}],["path",{d:"M16 12h-2"}],["path",{d:"M22 12h-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=["svg",C,[["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M8.12 8.12 12 12"}],["path",{d:"M20 4 8.12 15.88"}],["circle",{cx:"6",cy:"18",r:"3"}],["path",{d:"M14.8 14.8 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=["svg",C,[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3"}],["path",{d:"M8 21h8"}],["path",{d:"M12 17v4"}],["path",{d:"m22 3-5 5"}],["path",{d:"m17 3 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=["svg",C,[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3"}],["path",{d:"M8 21h8"}],["path",{d:"M12 17v4"}],["path",{d:"m17 8 5-5"}],["path",{d:"M17 3h5v5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=["svg",C,[["path",{d:"M15 12h-5"}],["path",{d:"M15 8h-5"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=["svg",C,[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=["svg",C,[["path",{d:"m8 11 2 2 4-4"}],["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=["svg",C,[["path",{d:"m13 13.5 2-2.5-2-2.5"}],["path",{d:"m21 21-4.3-4.3"}],["path",{d:"M9 8.5 7 11l2 2.5"}],["circle",{cx:"11",cy:"11",r:"8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=["svg",C,[["path",{d:"m13.5 8.5-5 5"}],["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=["svg",C,[["path",{d:"m13.5 8.5-5 5"}],["path",{d:"m8.5 8.5 5 5"}],["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=["svg",C,[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=["svg",C,[["path",{d:"M16 5a4 3 0 0 0-8 0c0 4 8 3 8 7a4 3 0 0 1-8 0"}],["path",{d:"M8 19a4 3 0 0 0 8 0c0-4-8-3-8-7a4 3 0 0 1 8 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=["svg",C,[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z"}],["path",{d:"M6 12h16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=["svg",C,[["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2"}],["path",{d:"M7 14v1a2 2 0 0 0 2 2h1"}],["path",{d:"M14 7h1a2 2 0 0 1 2 2v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=["svg",C,[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}],["path",{d:"m21.854 2.147-10.94 10.939"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=["svg",C,[["line",{x1:"3",x2:"21",y1:"12",y2:"12"}],["polyline",{points:"8 8 12 4 16 8"}],["polyline",{points:"16 16 12 20 8 16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=["svg",C,[["line",{x1:"12",x2:"12",y1:"3",y2:"21"}],["polyline",{points:"8 8 4 12 8 16"}],["polyline",{points:"16 16 20 12 16 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=["svg",C,[["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5"}],["path",{d:"M6 6h.01"}],["path",{d:"M6 18h.01"}],["path",{d:"m15.7 13.4-.9-.3"}],["path",{d:"m9.2 10.9-.9-.3"}],["path",{d:"m10.6 15.7.3-.9"}],["path",{d:"m13.6 15.7-.4-1"}],["path",{d:"m10.8 9.3-.4-1"}],["path",{d:"m8.3 13.6 1-.4"}],["path",{d:"m14.7 10.8 1-.4"}],["path",{d:"m13.4 8.3-.3.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=["svg",C,[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2"}],["path",{d:"M6 6h.01"}],["path",{d:"M6 18h.01"}],["path",{d:"m13 6-4 6h6l-4 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=["svg",C,[["path",{d:"M7 2h13a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5"}],["path",{d:"M10 10 2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 0 0 2 2h6z"}],["path",{d:"M22 17v-1a2 2 0 0 0-2-2h-1"}],["path",{d:"M4 14a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16.5l1-.5.5.5-8-8H4z"}],["path",{d:"M6 18h.01"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=["svg",C,[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=["svg",C,[["path",{d:"M20 7h-9"}],["path",{d:"M14 17H5"}],["circle",{cx:"17",cy:"17",r:"3"}],["circle",{cx:"7",cy:"7",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=["svg",C,[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=["svg",C,[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=["svg",C,[["circle",{cx:"18",cy:"5",r:"3"}],["circle",{cx:"6",cy:"12",r:"3"}],["circle",{cx:"18",cy:"19",r:"3"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=["svg",C,[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}],["polyline",{points:"16 6 12 2 8 6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=["svg",C,[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M12 8v4"}],["path",{d:"M12 16h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"m4.243 5.21 14.39 12.472"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"m9 12 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M12 22V2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M9 12h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=["svg",C,[["path",{d:"m2 2 20 20"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M9 12h6"}],["path",{d:"M12 9v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"m14.5 9.5-5 5"}],["path",{d:"m9.5 9.5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=["svg",C,[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=["svg",C,[["circle",{cx:"12",cy:"12",r:"8"}],["path",{d:"M12 2v7.5"}],["path",{d:"m19 5-5.23 5.23"}],["path",{d:"M22 12h-7.5"}],["path",{d:"m19 19-5.23-5.23"}],["path",{d:"M12 14.5V22"}],["path",{d:"M10.23 13.77 5 19"}],["path",{d:"M9.5 12H2"}],["path",{d:"M10.23 10.23 5 5"}],["circle",{cx:"12",cy:"12",r:"2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=["svg",C,[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6"}],["path",{d:"M12 10v4"}],["path",{d:"M12 2v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=["svg",C,[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=["svg",C,[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}],["path",{d:"M3 6h18"}],["path",{d:"M16 10a4 4 0 0 1-8 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=["svg",C,[["path",{d:"m15 11-1 9"}],["path",{d:"m19 11-4-7"}],["path",{d:"M2 11h20"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4"}],["path",{d:"M4.5 15.5h15"}],["path",{d:"m5 11 4-7"}],["path",{d:"m9 11 1 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=["svg",C,[["circle",{cx:"8",cy:"21",r:"1"}],["circle",{cx:"19",cy:"21",r:"1"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=["svg",C,[["path",{d:"M2 22v-5l5-5 5 5-5 5z"}],["path",{d:"M9.5 14.5 16 8"}],["path",{d:"m17 2 5 5-.5.5a3.53 3.53 0 0 1-5 0s0 0 0 0a3.53 3.53 0 0 1 0-5L17 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=["svg",C,[["path",{d:"m4 4 2.5 2.5"}],["path",{d:"M13.5 6.5a4.95 4.95 0 0 0-7 7"}],["path",{d:"M15 5 5 15"}],["path",{d:"M14 17v.01"}],["path",{d:"M10 16v.01"}],["path",{d:"M13 13v.01"}],["path",{d:"M16 10v.01"}],["path",{d:"M11 20v.01"}],["path",{d:"M17 14v.01"}],["path",{d:"M20 11v.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=["svg",C,[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=["svg",C,[["path",{d:"M12 22v-7l-2-2"}],["path",{d:"M17 8v.8A6 6 0 0 1 13.8 20H10A6.5 6.5 0 0 1 7 8a5 5 0 0 1 10 0Z"}],["path",{d:"m14 14-2 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=["svg",C,[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"}],["path",{d:"m18 2 4 4-4 4"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"}],["path",{d:"m18 14 4 4-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=["svg",C,[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=["svg",C,[["path",{d:"M2 20h.01"}],["path",{d:"M7 20v-4"}],["path",{d:"M12 20v-8"}],["path",{d:"M17 20V8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=["svg",C,[["path",{d:"M2 20h.01"}],["path",{d:"M7 20v-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=["svg",C,[["path",{d:"M2 20h.01"}],["path",{d:"M7 20v-4"}],["path",{d:"M12 20v-8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=["svg",C,[["path",{d:"M2 20h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=["svg",C,[["path",{d:"M2 20h.01"}],["path",{d:"M7 20v-4"}],["path",{d:"M12 20v-8"}],["path",{d:"M17 20V8"}],["path",{d:"M22 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=["svg",C,[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284"}],["path",{d:"M3 21h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=["svg",C,[["path",{d:"M10 9H4L2 7l2-2h6"}],["path",{d:"M14 5h6l2 2-2 2h-6"}],["path",{d:"M10 22V4a2 2 0 1 1 4 0v18"}],["path",{d:"M8 22h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=["svg",C,[["path",{d:"M12 13v8"}],["path",{d:"M12 3v3"}],["path",{d:"M18 6a2 2 0 0 1 1.387.56l2.307 2.22a1 1 0 0 1 0 1.44l-2.307 2.22A2 2 0 0 1 18 13H6a2 2 0 0 1-1.387-.56l-2.306-2.22a1 1 0 0 1 0-1.44l2.306-2.22A2 2 0 0 1 6 6z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=["svg",C,[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z"}],["path",{d:"M21 12h1"}],["path",{d:"M18.5 4.5 18 5"}],["path",{d:"M2 12h1"}],["path",{d:"M12 2v1"}],["path",{d:"m4.929 4.929.707.707"}],["path",{d:"M12 12v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=["svg",C,[["polygon",{points:"19 20 9 12 19 4 19 20"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=["svg",C,[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=["svg",C,[["path",{d:"m12.5 17-.5-1-.5 1h1z"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"9",cy:"12",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=["svg",C,[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=["svg",C,[["path",{d:"M22 2 2 22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=["svg",C,[["path",{d:"m8 14-6 6h9v-3"}],["path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=["svg",C,[["line",{x1:"21",x2:"14",y1:"4",y2:"4"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=["svg",C,[["line",{x1:"4",x2:"4",y1:"21",y2:"14"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=["svg",C,[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2"}],["path",{d:"M12.667 8 10 12h4l-2.667 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=["svg",C,[["rect",{width:"7",height:"12",x:"2",y:"6",rx:"1"}],["path",{d:"M13 8.32a7.43 7.43 0 0 1 0 7.36"}],["path",{d:"M16.46 6.21a11.76 11.76 0 0 1 0 11.58"}],["path",{d:"M19.91 4.1a15.91 15.91 0 0 1 .01 15.8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=["svg",C,[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2"}],["path",{d:"M12 18h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=["svg",C,[["path",{d:"M22 11v1a10 10 0 1 1-9-10"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}],["path",{d:"M16 5h6"}],["path",{d:"M19 2v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=["svg",C,[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0"}],["circle",{cx:"10",cy:"13",r:"8"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6"}],["path",{d:"M18 3 19.1 5.2"}],["path",{d:"M22 3 20.9 5.2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=["svg",C,[["line",{x1:"2",x2:"22",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22"}],["path",{d:"m20 16-4-4 4-4"}],["path",{d:"m4 8 4 4-4 4"}],["path",{d:"m16 4-4 4-4-4"}],["path",{d:"m8 20 4-4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=["svg",C,[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z"}],["path",{d:"M4 18v2"}],["path",{d:"M20 18v2"}],["path",{d:"M12 4v9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=["svg",C,[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z"}],["path",{d:"M7 21h10"}],["path",{d:"M19.5 12 22 6"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=["svg",C,[["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=["svg",C,[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z"}],["path",{d:"M12 18v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=["svg",C,[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=["svg",C,[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}],["path",{d:"M20 3v4"}],["path",{d:"M22 5h-4"}],["path",{d:"M4 17v2"}],["path",{d:"M5 18H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=["svg",C,[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2"}],["path",{d:"M12 6h.01"}],["circle",{cx:"12",cy:"14",r:"4"}],["path",{d:"M12 14h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=["svg",C,[["path",{d:"M8.8 20v-4.1l1.9.2a2.3 2.3 0 0 0 2.164-2.1V8.3A5.37 5.37 0 0 0 2 8.25c0 2.8.656 3.054 1 4.55a5.77 5.77 0 0 1 .029 2.758L2 20"}],["path",{d:"M19.8 17.8a7.5 7.5 0 0 0 .003-10.603"}],["path",{d:"M17 15a3.5 3.5 0 0 0-.025-4.975"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=["svg",C,[["path",{d:"m6 16 6-12 6 12"}],["path",{d:"M8 12h8"}],["path",{d:"M4 21c1.1 0 1.1-1 2.3-1s1.1 1 2.3 1c1.1 0 1.1-1 2.3-1 1.1 0 1.1 1 2.3 1 1.1 0 1.1-1 2.3-1 1.1 0 1.1 1 2.3 1 1.1 0 1.1-1 2.3-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=["svg",C,[["path",{d:"m6 16 6-12 6 12"}],["path",{d:"M8 12h8"}],["path",{d:"m16 20 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=["svg",C,[["circle",{cx:"19",cy:"5",r:"2"}],["circle",{cx:"5",cy:"19",r:"2"}],["path",{d:"M5 17A12 12 0 0 1 17 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=["svg",C,[["path",{d:"M16 3h5v5"}],["path",{d:"M8 3H3v5"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3"}],["path",{d:"m15 9 6-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=["svg",C,[["path",{d:"M3 3h.01"}],["path",{d:"M7 5h.01"}],["path",{d:"M11 7h.01"}],["path",{d:"M3 7h.01"}],["path",{d:"M7 9h.01"}],["path",{d:"M3 11h.01"}],["rect",{width:"4",height:"4",x:"15",y:"5"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2"}],["path",{d:"m13 14 8-2"}],["path",{d:"m13 19 8-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=["svg",C,[["path",{d:"M7 20h10"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m16 8-8 8"}],["path",{d:"M16 16H8V8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m8 8 8 8"}],["path",{d:"M16 8v8H8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M12 8v8"}],["path",{d:"m8 12 4 4 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m12 8-4 4 4 4"}],["path",{d:"M16 12H8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=["svg",C,[["path",{d:"M13 21h6a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6"}],["path",{d:"m3 21 9-9"}],["path",{d:"M9 21H3v-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=["svg",C,[["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"}],["path",{d:"m21 21-9-9"}],["path",{d:"M21 15v6h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=["svg",C,[["path",{d:"M13 3h6a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-6"}],["path",{d:"m3 3 9 9"}],["path",{d:"M3 9V3h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=["svg",C,[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"}],["path",{d:"m21 3-9 9"}],["path",{d:"M15 3h6v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}],["path",{d:"m12 16 4-4-4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 16V8h8"}],["path",{d:"M16 16 8 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 8h8v8"}],["path",{d:"m8 16 8-8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m16 12-4-4-4 4"}],["path",{d:"M12 16V8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M12 8v8"}],["path",{d:"m8.5 14 7-4"}],["path",{d:"m8.5 10 7 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=["svg",C,[["path",{d:"M4 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2"}],["path",{d:"M10 22H8"}],["path",{d:"M16 22h-2"}],["circle",{cx:"8",cy:"8",r:"2"}],["path",{d:"M9.414 9.414 12 12"}],["path",{d:"M14.8 14.8 18 18"}],["circle",{cx:"8",cy:"16",r:"2"}],["path",{d:"m18 6-8.586 8.586"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 8h7"}],["path",{d:"M8 12h6"}],["path",{d:"M11 16h5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=["svg",C,[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5"}],["path",{d:"m9 11 3 3L22 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 12 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m16 10-4 4-4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m14 16-4-4 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m10 8 4 4-4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m8 14 4-4 4 4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=["svg",C,[["path",{d:"M10 9.5 8 12l2 2.5"}],["path",{d:"m14 9.5 2 2.5-2 2.5"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=["svg",C,[["path",{d:"M10 9.5 8 12l2 2.5"}],["path",{d:"M14 21h1"}],["path",{d:"m14 9.5 2 2.5-2 2.5"}],["path",{d:"M5 21a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2"}],["path",{d:"M9 21h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=["svg",C,[["path",{d:"M5 21a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2"}],["path",{d:"M9 21h1"}],["path",{d:"M14 21h1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=["svg",C,[["path",{d:"M8 7v7"}],["path",{d:"M12 7v4"}],["path",{d:"M16 7v9"}],["path",{d:"M5 3a2 2 0 0 0-2 2"}],["path",{d:"M9 3h1"}],["path",{d:"M14 3h1"}],["path",{d:"M19 3a2 2 0 0 1 2 2"}],["path",{d:"M21 9v1"}],["path",{d:"M21 14v1"}],["path",{d:"M21 19a2 2 0 0 1-2 2"}],["path",{d:"M14 21h1"}],["path",{d:"M9 21h1"}],["path",{d:"M5 21a2 2 0 0 1-2-2"}],["path",{d:"M3 14v1"}],["path",{d:"M3 9v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=["svg",C,[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z"}],["path",{d:"M5 3a2 2 0 0 0-2 2"}],["path",{d:"M19 3a2 2 0 0 1 2 2"}],["path",{d:"M5 21a2 2 0 0 1-2-2"}],["path",{d:"M9 3h1"}],["path",{d:"M9 21h2"}],["path",{d:"M14 3h1"}],["path",{d:"M3 9v1"}],["path",{d:"M21 9v2"}],["path",{d:"M3 14v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=["svg",C,[["path",{d:"M5 3a2 2 0 0 0-2 2"}],["path",{d:"M19 3a2 2 0 0 1 2 2"}],["path",{d:"M21 19a2 2 0 0 1-2 2"}],["path",{d:"M5 21a2 2 0 0 1-2-2"}],["path",{d:"M9 3h1"}],["path",{d:"M9 21h1"}],["path",{d:"M14 3h1"}],["path",{d:"M14 21h1"}],["path",{d:"M3 9v1"}],["path",{d:"M21 9v1"}],["path",{d:"M3 14v1"}],["path",{d:"M21 14v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"16",y2:"16"}],["line",{x1:"12",x2:"12",y1:"8",y2:"8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["circle",{cx:"12",cy:"12",r:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 10h10"}],["path",{d:"M7 14h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3"}],["path",{d:"M9 11.2h5.7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 7v7"}],["path",{d:"M12 7v4"}],["path",{d:"M16 7v9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 7v10"}],["path",{d:"M11 7v10"}],["path",{d:"m15 7 2 10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 16V8l4 4 4-4v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 8h10"}],["path",{d:"M7 12h10"}],["path",{d:"M7 16h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=["svg",C,[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z"}],["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=["svg",C,[["path",{d:"M3.6 3.6A2 2 0 0 1 5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-.59 1.41"}],["path",{d:"M3 8.7V19a2 2 0 0 0 2 2h10.3"}],["path",{d:"m2 2 20 20"}],["path",{d:"M13 13a3 3 0 1 0 0-6H9v2"}],["path",{d:"M9 17v-2.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=["svg",C,[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m15 9-6 6"}],["path",{d:"M9 9h.01"}],["path",{d:"M15 15h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 7h10"}],["path",{d:"M10 7v10"}],["path",{d:"M16 17a2 2 0 0 1-2-2V7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M12 12H9.5a2.5 2.5 0 0 1 0-5H17"}],["path",{d:"M12 7v10"}],["path",{d:"M16 7v10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 8 6 4-6 4Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=["svg",C,[["path",{d:"M12 7v4"}],["path",{d:"M7.998 9.003a5 5 0 1 0 8-.005"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=["svg",C,[["path",{d:"M7 12h2l2 5 2-10h4"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=["svg",C,[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2"}],["circle",{cx:"8",cy:"8",r:"2"}],["path",{d:"M9.414 9.414 12 12"}],["path",{d:"M14.8 14.8 18 18"}],["circle",{cx:"8",cy:"16",r:"2"}],["path",{d:"m18 6-8.586 8.586"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M16 8.9V7H8l4 5-4 5h8v-1.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=["svg",C,[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=["svg",C,[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=["svg",C,[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=["svg",C,[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=["svg",C,[["path",{d:"m7 11 2-2-2-2"}],["path",{d:"M11 13h4"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=["svg",C,[["path",{d:"M18 21a6 6 0 0 0-12 0"}],["circle",{cx:"12",cy:"11",r:"4"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=["svg",C,[["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=["svg",C,[["path",{d:"M15.236 22a3 3 0 0 0-2.2-5"}],["path",{d:"M16 20a3 3 0 0 1 3-3h1a2 2 0 0 0 2-2v-2a4 4 0 0 0-4-4V4"}],["path",{d:"M18 13h.01"}],["path",{d:"M18 6a4 4 0 0 0-4 4 7 7 0 0 0-7 7c0-5 4-5 4-10.5a4.5 4.5 0 1 0-9 0 2.5 2.5 0 0 0 5 0C7 10 3 11 3 17c0 2.8 2.2 5 5 5h10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=["svg",C,[["path",{d:"M5 22h14"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=["svg",C,[["path",{d:"M12 17.8 5.8 21 7 14.1 2 9.3l7-1L12 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=["svg",C,[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=["svg",C,[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=["svg",C,[["line",{x1:"18",x2:"18",y1:"20",y2:"4"}],["polygon",{points:"14,20 4,12 14,4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=["svg",C,[["line",{x1:"6",x2:"6",y1:"4",y2:"20"}],["polygon",{points:"10,4 20,12 10,20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=["svg",C,[["path",{d:"M11 2v2"}],["path",{d:"M5 2v2"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3"}],["circle",{cx:"20",cy:"10",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=["svg",C,[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4"}],["path",{d:"M8 13h.01"}],["path",{d:"M16 13h.01"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=["svg",C,[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=["svg",C,[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}],["path",{d:"M2 7h20"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=["svg",C,[["rect",{width:"20",height:"6",x:"2",y:"4",rx:"2"}],["rect",{width:"20",height:"6",x:"2",y:"14",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=["svg",C,[["rect",{width:"6",height:"20",x:"4",y:"2",rx:"2"}],["rect",{width:"6",height:"20",x:"14",y:"2",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=["svg",C,[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=["svg",C,[["path",{d:"m4 5 8 8"}],["path",{d:"m12 5-8 8"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=["svg",C,[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 4h.01"}],["path",{d:"M20 12h.01"}],["path",{d:"M12 20h.01"}],["path",{d:"M4 12h.01"}],["path",{d:"M17.657 6.343h.01"}],["path",{d:"M17.657 17.657h.01"}],["path",{d:"M6.343 17.657h.01"}],["path",{d:"M6.343 6.343h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=["svg",C,[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 3v1"}],["path",{d:"M12 20v1"}],["path",{d:"M3 12h1"}],["path",{d:"M20 12h1"}],["path",{d:"m18.364 5.636-.707.707"}],["path",{d:"m6.343 17.657-.707.707"}],["path",{d:"m5.636 5.636.707.707"}],["path",{d:"m17.657 17.657.707.707"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=["svg",C,[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.9 4.9 1.4 1.4"}],["path",{d:"m17.7 17.7 1.4 1.4"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.3 17.7-1.4 1.4"}],["path",{d:"m19.1 4.9-1.4 1.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=["svg",C,[["path",{d:"M10 9a3 3 0 1 0 0 6"}],["path",{d:"M2 12h1"}],["path",{d:"M14 21V3"}],["path",{d:"M10 4V3"}],["path",{d:"M10 21v-1"}],["path",{d:"m3.64 18.36.7-.7"}],["path",{d:"m4.34 6.34-.7-.7"}],["path",{d:"M14 12h8"}],["path",{d:"m17 4-3 3"}],["path",{d:"m14 17 3 3"}],["path",{d:"m21 15-3-3 3-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=["svg",C,[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=["svg",C,[["path",{d:"M12 2v8"}],["path",{d:"m4.93 10.93 1.41 1.41"}],["path",{d:"M2 18h2"}],["path",{d:"M20 18h2"}],["path",{d:"m19.07 10.93-1.41 1.41"}],["path",{d:"M22 22H2"}],["path",{d:"m8 6 4-4 4 4"}],["path",{d:"M16 18a4 4 0 0 0-8 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=["svg",C,[["path",{d:"M12 10V2"}],["path",{d:"m4.93 10.93 1.41 1.41"}],["path",{d:"M2 18h2"}],["path",{d:"M20 18h2"}],["path",{d:"m19.07 10.93-1.41 1.41"}],["path",{d:"M22 22H2"}],["path",{d:"m16 6-4 4-4-4"}],["path",{d:"M16 18a4 4 0 0 0-8 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=["svg",C,[["path",{d:"m4 19 8-8"}],["path",{d:"m12 19-8-8"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=["svg",C,[["path",{d:"M11 17a4 4 0 0 1-8 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2Z"}],["path",{d:"M16.7 13H19a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7"}],["path",{d:"M 7 17h.01"}],["path",{d:"m11 8 2.3-2.3a2.4 2.4 0 0 1 3.404.004L18.6 7.6a2.4 2.4 0 0 1 .026 3.434L9.9 19.8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=["svg",C,[["path",{d:"M10 21V3h8"}],["path",{d:"M6 16h9"}],["path",{d:"M10 9.5h7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=["svg",C,[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5"}],["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"m18 22-3-3 3-3"}],["path",{d:"m6 2 3 3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=["svg",C,[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=["svg",C,[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=["svg",C,[["path",{d:"m18 2 4 4"}],["path",{d:"m17 7 3-3"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5"}],["path",{d:"m9 11 4 4"}],["path",{d:"m5 19-3 3"}],["path",{d:"m14 4 6 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=["svg",C,[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=["svg",C,[["path",{d:"M12 21v-6"}],["path",{d:"M12 9V3"}],["path",{d:"M3 15h18"}],["path",{d:"M3 9h18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=["svg",C,[["path",{d:"M12 15V9"}],["path",{d:"M3 15h18"}],["path",{d:"M3 9h18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=["svg",C,[["path",{d:"M14 14v2"}],["path",{d:"M14 20v2"}],["path",{d:"M14 2v2"}],["path",{d:"M14 8v2"}],["path",{d:"M2 15h8"}],["path",{d:"M2 3h6a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2"}],["path",{d:"M2 9h8"}],["path",{d:"M22 15h-4"}],["path",{d:"M22 3h-2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h2"}],["path",{d:"M22 9h-4"}],["path",{d:"M5 3v18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=["svg",C,[["path",{d:"M16 12H3"}],["path",{d:"M16 18H3"}],["path",{d:"M16 6H3"}],["path",{d:"M21 12h.01"}],["path",{d:"M21 18h.01"}],["path",{d:"M21 6h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=["svg",C,[["path",{d:"M15 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M21 9H3"}],["path",{d:"M21 15H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=["svg",C,[["path",{d:"M14 10h2"}],["path",{d:"M15 22v-8"}],["path",{d:"M15 2v4"}],["path",{d:"M2 10h2"}],["path",{d:"M20 10h2"}],["path",{d:"M3 19h18"}],["path",{d:"M3 22v-6a2 2 135 0 1 2-2h14a2 2 45 0 1 2 2v6"}],["path",{d:"M3 2v2a2 2 45 0 0 2 2h14a2 2 135 0 0 2-2V2"}],["path",{d:"M8 10h2"}],["path",{d:"M9 22v-8"}],["path",{d:"M9 2v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=["svg",C,[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=["svg",C,[["rect",{width:"10",height:"14",x:"3",y:"8",rx:"2"}],["path",{d:"M5 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-2.4"}],["path",{d:"M8 18h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=["svg",C,[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=["svg",C,[["circle",{cx:"7",cy:"7",r:"5"}],["circle",{cx:"17",cy:"17",r:"5"}],["path",{d:"M12 17h10"}],["path",{d:"m3.46 10.54 7.08-7.08"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=["svg",C,[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=["svg",C,[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=["svg",C,[["path",{d:"M4 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=["svg",C,[["path",{d:"M4 4v16"}],["path",{d:"M9 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=["svg",C,[["path",{d:"M4 4v16"}],["path",{d:"M9 4v16"}],["path",{d:"M14 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=["svg",C,[["path",{d:"M4 4v16"}],["path",{d:"M9 4v16"}],["path",{d:"M14 4v16"}],["path",{d:"M19 4v16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=["svg",C,[["path",{d:"M4 4v16"}],["path",{d:"M9 4v16"}],["path",{d:"M14 4v16"}],["path",{d:"M19 4v16"}],["path",{d:"M22 6 2 18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=["svg",C,[["circle",{cx:"17",cy:"4",r:"2"}],["path",{d:"M15.59 5.41 5.41 15.59"}],["circle",{cx:"4",cy:"17",r:"2"}],["path",{d:"M12 22s-4-9-1.5-11.5S22 12 22 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=["svg",C,[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"6"}],["circle",{cx:"12",cy:"12",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=["svg",C,[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44"}],["path",{d:"m13.56 11.747 4.332-.924"}],["path",{d:"m16 21-3.105-6.21"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z"}],["path",{d:"m6.158 8.633 1.114 4.456"}],["path",{d:"m8 21 3.105-6.21"}],["circle",{cx:"12",cy:"13",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=["svg",C,[["circle",{cx:"4",cy:"4",r:"2"}],["path",{d:"m14 5 3-3 3 3"}],["path",{d:"m14 10 3-3 3 3"}],["path",{d:"M17 14V2"}],["path",{d:"M17 14H7l-5 8h20Z"}],["path",{d:"M8 14v8"}],["path",{d:"m9 14 5 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=["svg",C,[["path",{d:"M3.5 21 14 3"}],["path",{d:"M20.5 21 10 3"}],["path",{d:"M15.5 21 12 15l-3.5 6"}],["path",{d:"M2 21h20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=["svg",C,[["polyline",{points:"4 17 10 11 4 5"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=["svg",C,[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3"}],["path",{d:"m16 2 6 6"}],["path",{d:"M12 16H4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=["svg",C,[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2"}],["path",{d:"M8.5 2h7"}],["path",{d:"M14.5 16h-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=["svg",C,[["path",{d:"M9 2v17.5A2.5 2.5 0 0 1 6.5 22A2.5 2.5 0 0 1 4 19.5V2"}],["path",{d:"M20 2v17.5a2.5 2.5 0 0 1-2.5 2.5a2.5 2.5 0 0 1-2.5-2.5V2"}],["path",{d:"M3 2h7"}],["path",{d:"M14 2h7"}],["path",{d:"M9 16H4"}],["path",{d:"M20 16h-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=["svg",C,[["path",{d:"M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1"}],["path",{d:"M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5"}],["path",{d:"M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1"}],["path",{d:"M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7"}],["path",{d:"M9 7v10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=["svg",C,[["path",{d:"M17 22h-1a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h1"}],["path",{d:"M7 22h1a4 4 0 0 0 4-4v-1"}],["path",{d:"M7 2h1a4 4 0 0 1 4 4v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=["svg",C,[["path",{d:"M17 6H3"}],["path",{d:"M21 12H8"}],["path",{d:"M21 18H8"}],["path",{d:"M3 12v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=["svg",C,[["path",{d:"M21 6H3"}],["path",{d:"M10 12H3"}],["path",{d:"M10 18H3"}],["circle",{cx:"17",cy:"15",r:"3"}],["path",{d:"m21 19-1.9-1.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=["svg",C,[["path",{d:"M5 3a2 2 0 0 0-2 2"}],["path",{d:"M19 3a2 2 0 0 1 2 2"}],["path",{d:"M21 19a2 2 0 0 1-2 2"}],["path",{d:"M5 21a2 2 0 0 1-2-2"}],["path",{d:"M9 3h1"}],["path",{d:"M9 21h1"}],["path",{d:"M14 3h1"}],["path",{d:"M14 21h1"}],["path",{d:"M3 9v1"}],["path",{d:"M21 9v1"}],["path",{d:"M3 14v1"}],["path",{d:"M21 14v1"}],["line",{x1:"7",x2:"15",y1:"8",y2:"8"}],["line",{x1:"7",x2:"17",y1:"12",y2:"12"}],["line",{x1:"7",x2:"13",y1:"16",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=["svg",C,[["path",{d:"M17 6.1H3"}],["path",{d:"M21 12.1H3"}],["path",{d:"M15.1 18H3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=["svg",C,[["path",{d:"M2 10s3-3 3-8"}],["path",{d:"M22 10s-3-3-3-8"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8"}],["path",{d:"M2 10s2 2 2 5"}],["path",{d:"M22 10s-2 2-2 5"}],["path",{d:"M8 15h8"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=["svg",C,[["path",{d:"M2 12h10"}],["path",{d:"M9 4v16"}],["path",{d:"m3 9 3 3-3 3"}],["path",{d:"M12 6 9 9 6 6"}],["path",{d:"m6 18 3-3 1.5 1.5"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=["svg",C,[["path",{d:"M12 9a4 4 0 0 0-2 7.5"}],["path",{d:"M12 3v2"}],["path",{d:"m6.6 18.4-1.4 1.4"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"}],["path",{d:"M4 13H2"}],["path",{d:"M6.34 7.34 4.93 5.93"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=["svg",C,[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=["svg",C,[["path",{d:"M17 14V2"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=["svg",C,[["path",{d:"M7 10v12"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=["svg",C,[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"m9 12 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=["svg",C,[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"M9 12h6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=["svg",C,[["path",{d:"M2 9a3 3 0 1 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"M9 9h.01"}],["path",{d:"m15 9-6 6"}],["path",{d:"M15 15h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=["svg",C,[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"M9 12h6"}],["path",{d:"M12 9v6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=["svg",C,[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"m9.5 14.5 5-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=["svg",C,[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"m9.5 14.5 5-5"}],["path",{d:"m9.5 9.5 5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=["svg",C,[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}],["path",{d:"M13 5v2"}],["path",{d:"M13 17v2"}],["path",{d:"M13 11v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=["svg",C,[["path",{d:"M10.5 17h1.227a2 2 0 0 0 1.345-.52L18 12"}],["path",{d:"m12 13.5 3.75.5"}],["path",{d:"m4.5 8 10.58-5.06a1 1 0 0 1 1.342.488L18.5 8"}],["path",{d:"M6 10V8"}],["path",{d:"M6 14v1"}],["path",{d:"M6 19v2"}],["rect",{x:"2",y:"8",width:"20",height:"13",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=["svg",C,[["path",{d:"m4.5 8 10.58-5.06a1 1 0 0 1 1.342.488L18.5 8"}],["path",{d:"M6 10V8"}],["path",{d:"M6 14v1"}],["path",{d:"M6 19v2"}],["rect",{x:"2",y:"8",width:"20",height:"13",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=["svg",C,[["path",{d:"M10 2h4"}],["path",{d:"M4.6 11a8 8 0 0 0 1.7 8.7 8 8 0 0 0 8.7 1.7"}],["path",{d:"M7.4 7.4a8 8 0 0 1 10.3 1 8 8 0 0 1 .9 10.2"}],["path",{d:"m2 2 20 20"}],["path",{d:"M12 12v-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=["svg",C,[["path",{d:"M10 2h4"}],["path",{d:"M12 14v-4"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"}],["path",{d:"M9 17H4v5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=["svg",C,[["line",{x1:"10",x2:"14",y1:"2",y2:"2"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11"}],["circle",{cx:"12",cy:"14",r:"8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=["svg",C,[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"8",cy:"12",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=["svg",C,[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"16",cy:"12",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=["svg",C,[["path",{d:"M21 4H3"}],["path",{d:"M18 8H6"}],["path",{d:"M19 12H9"}],["path",{d:"M16 16h-6"}],["path",{d:"M11 20H9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=["svg",C,[["ellipse",{cx:"12",cy:"11",rx:"3",ry:"2"}],["ellipse",{cx:"12",cy:"12.5",rx:"10",ry:"8.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=["svg",C,[["path",{d:"M4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16"}],["path",{d:"M2 14h12"}],["path",{d:"M22 14h-2"}],["path",{d:"M12 20v-6"}],["path",{d:"m2 2 20 20"}],["path",{d:"M22 16V6a2 2 0 0 0-2-2H10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=["svg",C,[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"M2 14h20"}],["path",{d:"M12 20v-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=["svg",C,[["path",{d:"M18.2 12.27 20 6H4l1.8 6.27a1 1 0 0 0 .95.73h10.5a1 1 0 0 0 .96-.73Z"}],["path",{d:"M8 13v9"}],["path",{d:"M16 22v-9"}],["path",{d:"m9 6 1 7"}],["path",{d:"m15 6-1 7"}],["path",{d:"M12 6V2"}],["path",{d:"M13 2h-2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=["svg",C,[["rect",{width:"18",height:"12",x:"3",y:"8",rx:"1"}],["path",{d:"M10 8V5c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v3"}],["path",{d:"M19 8V5c0-.6-.4-1-1-1h-3a1 1 0 0 0-1 1v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=["svg",C,[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20"}],["path",{d:"M16 18h-5"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246"}],["path",{d:"M4 11V4"}],["path",{d:"M7 15h.01"}],["path",{d:"M8 10.1V4"}],["circle",{cx:"18",cy:"18",r:"2"}],["circle",{cx:"7",cy:"15",r:"5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=["svg",C,[["path",{d:"M9.3 6.2a4.55 4.55 0 0 0 5.4 0"}],["path",{d:"M7.9 10.7c.9.8 2.4 1.3 4.1 1.3s3.2-.5 4.1-1.3"}],["path",{d:"M13.9 3.5a1.93 1.93 0 0 0-3.8-.1l-3 10c-.1.2-.1.4-.1.6 0 1.7 2.2 3 5 3s5-1.3 5-3c0-.2 0-.4-.1-.5Z"}],["path",{d:"m7.5 12.2-4.7 2.7c-.5.3-.8.7-.8 1.1s.3.8.8 1.1l7.6 4.5c.9.5 2.1.5 3 0l7.6-4.5c.7-.3 1-.7 1-1.1s-.3-.8-.8-1.1l-4.7-2.8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=["svg",C,[["path",{d:"M2 22V12a10 10 0 1 1 20 0v10"}],["path",{d:"M15 6.8v1.4a3 2.8 0 1 1-6 0V6.8"}],["path",{d:"M10 15h.01"}],["path",{d:"M14 15h.01"}],["path",{d:"M10 19a4 4 0 0 1-4-4v-3a6 6 0 1 1 12 0v3a4 4 0 0 1-4 4Z"}],["path",{d:"m9 19-2 3"}],["path",{d:"m15 19 2 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=["svg",C,[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1"}],["path",{d:"m9 15-1-1"}],["path",{d:"m15 15 1-1"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z"}],["path",{d:"m8 19-2 3"}],["path",{d:"m16 19 2 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=["svg",C,[["path",{d:"M2 17 17 2"}],["path",{d:"m2 14 8 8"}],["path",{d:"m5 11 8 8"}],["path",{d:"m8 8 8 8"}],["path",{d:"m11 5 8 8"}],["path",{d:"m14 2 8 8"}],["path",{d:"M7 22 22 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=["svg",C,[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2"}],["path",{d:"M4 11h16"}],["path",{d:"M12 3v8"}],["path",{d:"m8 19-2 3"}],["path",{d:"m18 22-2-3"}],["path",{d:"M8 15h.01"}],["path",{d:"M16 15h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=["svg",C,[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=["svg",C,[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=["svg",C,[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z"}],["path",{d:"M12 19v3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=["svg",C,[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=["svg",C,[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z"}],["path",{d:"M12 22v-3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=["svg",C,[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z"}],["path",{d:"M7 16v6"}],["path",{d:"M13 19v3"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["rect",{width:"3",height:"9",x:"7",y:"7"}],["rect",{width:"3",height:"5",x:"14",y:"7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=["svg",C,[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}],["polyline",{points:"16 17 22 17 22 11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=["svg",C,[["path",{d:"M14.828 14.828 21 21"}],["path",{d:"M21 16v5h-5"}],["path",{d:"m21 3-9 9-4-4-6 6"}],["path",{d:"M21 8V3h-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=["svg",C,[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}],["polyline",{points:"16 7 22 7 22 13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=["svg",C,[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=["svg",C,[["path",{d:"M22 18a2 2 0 0 1-2 2H3c-1.1 0-1.3-.6-.4-1.3L20.4 4.3c.9-.7 1.6-.4 1.6.7Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=["svg",C,[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=["svg",C,[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}],["path",{d:"M4 22h16"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=["svg",C,[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"}],["path",{d:"M15 18H9"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"}],["circle",{cx:"17",cy:"18",r:"2"}],["circle",{cx:"7",cy:"18",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=["svg",C,[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z"}],["path",{d:"M4.82 7.9 8 10"}],["path",{d:"M15.18 7.9 12 10"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=["svg",C,[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z"}],["path",{d:"M7 21h10"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=["svg",C,[["path",{d:"M7 21h10"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=["svg",C,[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2"}],["polyline",{points:"17 2 12 7 7 2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=["svg",C,[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=["svg",C,[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=["svg",C,[["path",{d:"M14 16.5a.5.5 0 0 0 .5.5h.5a2 2 0 0 1 0 4H9a2 2 0 0 1 0-4h.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V8a2 2 0 0 1-4 0V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v3a2 2 0 0 1-4 0v-.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=["svg",C,[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=["svg",C,[["path",{d:"M12 2v1"}],["path",{d:"M15.5 21a1.85 1.85 0 0 1-3.5-1v-8H2a10 10 0 0 1 3.428-6.575"}],["path",{d:"M17.5 12H22A10 10 0 0 0 9.004 3.455"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=["svg",C,[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0"}],["path",{d:"M12 2v1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=["svg",C,[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=["svg",C,[["path",{d:"M9 14 4 9l5-5"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=["svg",C,[["circle",{cx:"12",cy:"17",r:"1"}],["path",{d:"M3 7v6h6"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=["svg",C,[["path",{d:"M3 7v6h6"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=["svg",C,[["path",{d:"M16 12h6"}],["path",{d:"M8 12H2"}],["path",{d:"M12 2v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 20v2"}],["path",{d:"m19 15 3-3-3-3"}],["path",{d:"m5 9-3 3 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=["svg",C,[["path",{d:"M12 22v-6"}],["path",{d:"M12 8V2"}],["path",{d:"M4 12H2"}],["path",{d:"M10 12H8"}],["path",{d:"M16 12h-2"}],["path",{d:"M22 12h-2"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m15 5-3-3-3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=["svg",C,[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=["svg",C,[["circle",{cx:"12",cy:"10",r:"1"}],["path",{d:"M22 20V8h-4l-6-4-6 4H2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2"}],["path",{d:"M6 17v.01"}],["path",{d:"M6 13v.01"}],["path",{d:"M18 17v.01"}],["path",{d:"M18 13v.01"}],["path",{d:"M14 22v-5a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=["svg",C,[["path",{d:"M15 7h2a5 5 0 0 1 0 10h-2m-6 0H7A5 5 0 0 1 7 7h2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=["svg",C,[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=["svg",C,[["path",{d:"m19 5 3-3"}],["path",{d:"m2 22 3-3"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z"}],["path",{d:"M7.5 13.5 10 11"}],["path",{d:"M10.5 16.5 13 14"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=["svg",C,[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=["svg",C,[["circle",{cx:"10",cy:"7",r:"1"}],["circle",{cx:"4",cy:"20",r:"1"}],["path",{d:"M4.7 19.3 19 5"}],["path",{d:"m21 3-3 1 2 2Z"}],["path",{d:"M9.26 7.68 5 12l2 5"}],["path",{d:"m10 14 5 2 3.5-3.5"}],["path",{d:"m18 12 1-1 1 1-1 1Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=["svg",C,[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["polyline",{points:"16 11 18 13 22 9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=["svg",C,[["circle",{cx:"18",cy:"15",r:"3"}],["circle",{cx:"9",cy:"7",r:"4"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2"}],["path",{d:"m21.7 16.4-.9-.3"}],["path",{d:"m15.2 13.9-.9-.3"}],["path",{d:"m16.6 18.7.3-.9"}],["path",{d:"m19.1 12.2.3-.9"}],["path",{d:"m19.6 18.7-.4-1"}],["path",{d:"m16.8 12.3-.4-1"}],["path",{d:"m14.3 16.6 1-.4"}],["path",{d:"m20.7 13.8 1-.4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=["svg",C,[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=["svg",C,[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}],["circle",{cx:"10",cy:"7",r:"4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=["svg",C,[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=["svg",C,[["path",{d:"M2 21a8 8 0 0 1 13.292-6"}],["circle",{cx:"10",cy:"8",r:"5"}],["path",{d:"m16 19 2 2 4-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=["svg",C,[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62"}],["circle",{cx:"10",cy:"8",r:"5"}],["circle",{cx:"18",cy:"18",r:"3"}],["path",{d:"m19.5 14.3-.4.9"}],["path",{d:"m16.9 20.8-.4.9"}],["path",{d:"m21.7 19.5-.9-.4"}],["path",{d:"m15.2 16.9-.9-.4"}],["path",{d:"m21.7 16.5-.9.4"}],["path",{d:"m15.2 19.1-.9.4"}],["path",{d:"m19.5 21.7-.4-.9"}],["path",{d:"m16.9 15.2-.4-.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=["svg",C,[["path",{d:"M2 21a8 8 0 0 1 13.292-6"}],["circle",{cx:"10",cy:"8",r:"5"}],["path",{d:"M22 19h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=["svg",C,[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}],["circle",{cx:"10",cy:"8",r:"5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=["svg",C,[["path",{d:"M2 21a8 8 0 0 1 13.292-6"}],["circle",{cx:"10",cy:"8",r:"5"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19h-6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=["svg",C,[["circle",{cx:"10",cy:"8",r:"5"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62"}],["circle",{cx:"18",cy:"18",r:"3"}],["path",{d:"m22 22-1.9-1.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=["svg",C,[["path",{d:"M2 21a8 8 0 0 1 11.873-7"}],["circle",{cx:"10",cy:"8",r:"5"}],["path",{d:"m17 17 5 5"}],["path",{d:"m22 17-5 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=["svg",C,[["circle",{cx:"12",cy:"8",r:"5"}],["path",{d:"M20 21a8 8 0 0 0-16 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=["svg",C,[["circle",{cx:"10",cy:"7",r:"4"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2"}],["circle",{cx:"17",cy:"17",r:"3"}],["path",{d:"m21 21-1.9-1.9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=["svg",C,[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=["svg",C,[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=["svg",C,[["path",{d:"M18 21a8 8 0 0 0-16 0"}],["circle",{cx:"10",cy:"8",r:"5"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=["svg",C,[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=["svg",C,[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7"}],["path",{d:"m2.1 21.8 6.4-6.3"}],["path",{d:"m19 5-7 7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=["svg",C,[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=["svg",C,[["path",{d:"M12 2v20"}],["path",{d:"M2 5h20"}],["path",{d:"M3 3v2"}],["path",{d:"M7 3v2"}],["path",{d:"M17 3v2"}],["path",{d:"M21 3v2"}],["path",{d:"m19 5-7 7-7-7"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=["svg",C,[["path",{d:"M8 21s-4-3-4-9 4-9 4-9"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}],["path",{d:"m7.9 7.9 2.7 2.7"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"}],["path",{d:"m13.4 10.6 2.7-2.7"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor"}],["path",{d:"m7.9 16.1 2.7-2.7"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor"}],["path",{d:"m13.4 13.4 2.7 2.7"}],["circle",{cx:"12",cy:"12",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=["svg",C,[["path",{d:"M2 2a26.6 26.6 0 0 1 10 20c.9-6.82 1.5-9.5 4-14"}],["path",{d:"M16 8c4 0 6-2 6-6-4 0-6 2-6 6"}],["path",{d:"M17.41 3.6a10 10 0 1 0 3 3"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=["svg",C,[["path",{d:"M2 12a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V7h-5a8 8 0 0 0-5 2 8 8 0 0 0-5-2H2Z"}],["path",{d:"M6 11c1.5 0 3 .5 3 2-2 0-3 0-3-2Z"}],["path",{d:"M18 11c-1.5 0-3 .5-3 2 2 0 3 0 3-2Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=["svg",C,[["path",{d:"m2 8 2 2-2 2 2 2-2 2"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2"}],["path",{d:"M8 8v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2"}],["path",{d:"M16 10.34V6c0-.55-.45-1-1-1h-4.34"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=["svg",C,[["path",{d:"m2 8 2 2-2 2 2 2-2 2"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=["svg",C,[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=["svg",C,[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=["svg",C,[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"M2 8h20"}],["circle",{cx:"8",cy:"14",r:"2"}],["path",{d:"M8 12h8"}],["circle",{cx:"16",cy:"14",r:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=["svg",C,[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2"}],["circle",{cx:"12",cy:"12",r:"1"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=["svg",C,[["circle",{cx:"6",cy:"12",r:"4"}],["circle",{cx:"18",cy:"12",r:"4"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=["svg",C,[["path",{d:"M11.1 7.1a16.55 16.55 0 0 1 10.9 4"}],["path",{d:"M12 12a12.6 12.6 0 0 1-8.7 5"}],["path",{d:"M16.8 13.6a16.55 16.55 0 0 1-9 7.5"}],["path",{d:"M20.7 17a12.8 12.8 0 0 0-8.7-5 13.3 13.3 0 0 1 0-10"}],["path",{d:"M6.3 3.8a16.55 16.55 0 0 0 1.9 11.5"}],["circle",{cx:"12",cy:"12",r:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=["svg",C,[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=["svg",C,[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=["svg",C,[["path",{d:"M16 9a5 5 0 0 1 .95 2.293"}],["path",{d:"M19.364 5.636a9 9 0 0 1 1.889 9.96"}],["path",{d:"m2 2 20 20"}],["path",{d:"m7 7-.587.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298V11"}],["path",{d:"M9.828 4.172A.686.686 0 0 1 11 4.657v.686"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=["svg",C,[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=["svg",C,[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=["svg",C,[["path",{d:"m9 12 2 2 4-4"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z"}],["path",{d:"M22 19H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=["svg",C,[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=["svg",C,[["path",{d:"M17 14h.01"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=["svg",C,[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=["svg",C,[["circle",{cx:"8",cy:"9",r:"2"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2"}],["path",{d:"M8 21h8"}],["path",{d:"M12 17v4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=["svg",C,[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72"}],["path",{d:"m14 7 3 3"}],["path",{d:"M5 6v4"}],["path",{d:"M19 14v4"}],["path",{d:"M10 2v2"}],["path",{d:"M7 8H3"}],["path",{d:"M21 16h-4"}],["path",{d:"M11 3H9"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=["svg",C,[["path",{d:"M15 4V2"}],["path",{d:"M15 16v-2"}],["path",{d:"M8 9h2"}],["path",{d:"M20 9h2"}],["path",{d:"M17.8 11.8 19 13"}],["path",{d:"M15 9h.01"}],["path",{d:"M17.8 6.2 19 5"}],["path",{d:"m3 21 9-9"}],["path",{d:"M12.2 6.2 11 5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=["svg",C,[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z"}],["path",{d:"M6 18h12"}],["path",{d:"M6 14h12"}],["rect",{width:"12",height:"12",x:"6",y:"10"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=["svg",C,[["path",{d:"M3 6h3"}],["path",{d:"M17 6h.01"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2"}],["circle",{cx:"12",cy:"13",r:"5"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=["svg",C,[["circle",{cx:"12",cy:"12",r:"6"}],["polyline",{points:"12 10 12 12 13 13"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=["svg",C,[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=["svg",C,[["circle",{cx:"12",cy:"4.5",r:"2.5"}],["path",{d:"m10.2 6.3-3.9 3.9"}],["circle",{cx:"4.5",cy:"12",r:"2.5"}],["path",{d:"M7 12h10"}],["circle",{cx:"19.5",cy:"12",r:"2.5"}],["path",{d:"m13.8 17.7 3.9-3.9"}],["circle",{cx:"12",cy:"19.5",r:"2.5"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=["svg",C,[["circle",{cx:"12",cy:"10",r:"8"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M7 22h10"}],["path",{d:"M12 22v-4"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=["svg",C,[["path",{d:"M17 17h-5c-1.09-.02-1.94.92-2.5 1.9A3 3 0 1 1 2.57 15"}],["path",{d:"M9 3.4a4 4 0 0 1 6.52.66"}],["path",{d:"m6 17 3.1-5.8a2.5 2.5 0 0 0 .057-2.05"}],["path",{d:"M20.3 20.3a4 4 0 0 1-2.3.7"}],["path",{d:"M18.6 13a4 4 0 0 1 3.357 3.414"}],["path",{d:"m12 6 .6 1"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=["svg",C,[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=["svg",C,[["circle",{cx:"12",cy:"5",r:"3"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=["svg",C,[["path",{d:"m2 22 10-10"}],["path",{d:"m16 8-1.17 1.17"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z"}],["path",{d:"m8 8-.53.53a3.5 3.5 0 0 0 0 4.94L9 15l1.53-1.53c.55-.55.88-1.25.98-1.97"}],["path",{d:"M10.91 5.26c.15-.26.34-.51.56-.73L13 3l1.53 1.53a3.5 3.5 0 0 1 .28 4.62"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z"}],["path",{d:"m16 16-.53.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.49 3.49 0 0 1 1.97-.98"}],["path",{d:"M18.74 13.09c.26-.15.51-.34.73-.56L21 11l-1.53-1.53a3.5 3.5 0 0 0-4.62-.28"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=["svg",C,[["path",{d:"M2 22 16 8"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=["svg",C,[["circle",{cx:"7",cy:"12",r:"3"}],["path",{d:"M10 9v6"}],["circle",{cx:"17",cy:"12",r:"3"}],["path",{d:"M14 7v8"}],["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=["svg",C,[["path",{d:"M12 20h.01"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=["svg",C,[["path",{d:"M12 20h.01"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=["svg",C,[["path",{d:"M12 20h.01"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=["svg",C,[["path",{d:"M12 20h.01"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=["svg",C,[["path",{d:"M12 20h.01"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=["svg",C,[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=["svg",C,[["path",{d:"M8 22h8"}],["path",{d:"M7 10h3m7 0h-1.343"}],["path",{d:"M12 15v7"}],["path",{d:"M7.307 7.307A12.33 12.33 0 0 0 7 10a5 5 0 0 0 7.391 4.391M8.638 2.981C8.75 2.668 8.872 2.34 9 2h6c1.5 4 2 6 2 8 0 .407-.05.809-.145 1.198"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=["svg",C,[["path",{d:"M8 22h8"}],["path",{d:"M7 10h10"}],["path",{d:"M12 15v7"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=["svg",C,[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=["svg",C,[["path",{d:"m19 12-1.5 3"}],["path",{d:"M19.63 18.81 22 20"}],["path",{d:"M6.47 8.23a1.68 1.68 0 0 1 2.44 1.93l-.64 2.08a6.76 6.76 0 0 0 10.16 7.67l.42-.27a1 1 0 1 0-2.73-4.21l-.42.27a1.76 1.76 0 0 1-2.63-1.99l.64-2.08A6.66 6.66 0 0 0 3.94 3.9l-.7.4a1 1 0 1 0 2.55 4.34z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=["svg",C,[["line",{x1:"3",x2:"21",y1:"6",y2:"6"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4"}],["polyline",{points:"16 16 14 18 16 20"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=["svg",C,[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=["svg",C,[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=["svg",C,[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}],["path",{d:"m10 15 5-3-5-3z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=["svg",C,[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643"}],["path",{d:"m2 2 20 20"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=["svg",C,[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=["svg",C,[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=["svg",C,[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]]];/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=Object.freeze(Object.defineProperty({__proto__:null,AArrowDown:z9,AArrowUp:F9,ALargeSmall:B9,Accessibility:N9,Activity:V9,ActivitySquare:MT,AirVent:H9,Airplay:U9,AlarmCheck:u5,AlarmClock:q9,AlarmClockCheck:u5,AlarmClockMinus:d5,AlarmClockOff:j9,AlarmClockPlus:p5,AlarmMinus:d5,AlarmPlus:p5,AlarmSmoke:$9,Album:G9,AlertCircle:V5,AlertOctagon:QS,AlertTriangle:T6,AlignCenter:Y9,AlignCenterHorizontal:W9,AlignCenterVertical:Z9,AlignEndHorizontal:X9,AlignEndVertical:K9,AlignHorizontalDistributeCenter:J9,AlignHorizontalDistributeEnd:Q9,AlignHorizontalDistributeStart:ez,AlignHorizontalJustifyCenter:tz,AlignHorizontalJustifyEnd:iz,AlignHorizontalJustifyStart:nz,AlignHorizontalSpaceAround:rz,AlignHorizontalSpaceBetween:sz,AlignJustify:az,AlignLeft:oz,AlignRight:lz,AlignStartHorizontal:cz,AlignStartVertical:hz,AlignVerticalDistributeCenter:uz,AlignVerticalDistributeEnd:dz,AlignVerticalDistributeStart:pz,AlignVerticalJustifyCenter:fz,AlignVerticalJustifyEnd:mz,AlignVerticalJustifyStart:gz,AlignVerticalSpaceAround:_z,AlignVerticalSpaceBetween:yz,Ambulance:vz,Ampersand:xz,Ampersands:bz,Amphora:wz,Anchor:Mz,Angry:Sz,Annoyed:Tz,Antenna:Ez,Anvil:Cz,Aperture:Az,AppWindow:Pz,AppWindowMac:Iz,Apple:Dz,Archive:Oz,ArchiveRestore:Lz,ArchiveX:kz,AreaChart:C5,Armchair:Rz,ArrowBigDown:Fz,ArrowBigDownDash:zz,ArrowBigLeft:Nz,ArrowBigLeftDash:Bz,ArrowBigRight:Hz,ArrowBigRightDash:Vz,ArrowBigUp:jz,ArrowBigUpDash:Uz,ArrowDown:Qz,ArrowDown01:qz,ArrowDown10:$z,ArrowDownAZ:f5,ArrowDownAz:f5,ArrowDownCircle:H5,ArrowDownFromLine:Gz,ArrowDownLeft:Wz,ArrowDownLeftFromCircle:j5,ArrowDownLeftFromSquare:AT,ArrowDownLeftSquare:ST,ArrowDownNarrowWide:Zz,ArrowDownRight:Yz,ArrowDownRightFromCircle:q5,ArrowDownRightFromSquare:IT,ArrowDownRightSquare:TT,ArrowDownSquare:ET,ArrowDownToDot:Xz,ArrowDownToLine:Kz,ArrowDownUp:Jz,ArrowDownWideNarrow:m5,ArrowDownZA:g5,ArrowDownZa:g5,ArrowLeft:nF,ArrowLeftCircle:U5,ArrowLeftFromLine:eF,ArrowLeftRight:tF,ArrowLeftSquare:CT,ArrowLeftToLine:iF,ArrowRight:oF,ArrowRightCircle:W5,ArrowRightFromLine:rF,ArrowRightLeft:sF,ArrowRightSquare:LT,ArrowRightToLine:aF,ArrowUp:_F,ArrowUp01:lF,ArrowUp10:cF,ArrowUpAZ:_5,ArrowUpAz:_5,ArrowUpCircle:Z5,ArrowUpDown:hF,ArrowUpFromDot:uF,ArrowUpFromLine:dF,ArrowUpLeft:pF,ArrowUpLeftFromCircle:$5,ArrowUpLeftFromSquare:PT,ArrowUpLeftSquare:kT,ArrowUpNarrowWide:y5,ArrowUpRight:fF,ArrowUpRightFromCircle:G5,ArrowUpRightFromSquare:DT,ArrowUpRightSquare:OT,ArrowUpSquare:RT,ArrowUpToLine:mF,ArrowUpWideNarrow:gF,ArrowUpZA:v5,ArrowUpZa:v5,ArrowsUpFromLine:yF,Asterisk:vF,AsteriskSquare:zT,AtSign:xF,Atom:bF,AudioLines:wF,AudioWaveform:MF,Award:SF,Axe:TF,Axis3D:x5,Axis3d:x5,Baby:EF,Backpack:CF,Badge:jF,BadgeAlert:AF,BadgeCent:IF,BadgeCheck:b5,BadgeDollarSign:PF,BadgeEuro:DF,BadgeHelp:LF,BadgeIndianRupee:kF,BadgeInfo:OF,BadgeJapaneseYen:RF,BadgeMinus:zF,BadgePercent:FF,BadgePlus:BF,BadgePoundSterling:NF,BadgeRussianRuble:VF,BadgeSwissFranc:HF,BadgeX:UF,BaggageClaim:qF,Ban:$F,Banana:GF,Bandage:WF,Banknote:ZF,BarChart:R5,BarChart2:z5,BarChart3:k5,BarChart4:L5,BarChartBig:D5,BarChartHorizontal:I5,BarChartHorizontalBig:A5,Barcode:YF,Baseline:XF,Bath:KF,Battery:nB,BatteryCharging:JF,BatteryFull:QF,BatteryLow:eB,BatteryMedium:tB,BatteryWarning:iB,Beaker:rB,Bean:aB,BeanOff:sB,Bed:cB,BedDouble:oB,BedSingle:lB,Beef:hB,Beer:dB,BeerOff:uB,Bell:vB,BellDot:pB,BellElectric:fB,BellMinus:mB,BellOff:gB,BellPlus:_B,BellRing:yB,BetweenHorizonalEnd:w5,BetweenHorizonalStart:M5,BetweenHorizontalEnd:w5,BetweenHorizontalStart:M5,BetweenVerticalEnd:xB,BetweenVerticalStart:bB,BicepsFlexed:wB,Bike:MB,Binary:SB,Binoculars:TB,Biohazard:EB,Bird:CB,Bitcoin:AB,Blend:IB,Blinds:PB,Blocks:DB,Bluetooth:RB,BluetoothConnected:LB,BluetoothOff:kB,BluetoothSearching:OB,Bold:zB,Bolt:FB,Bomb:BB,Bone:NB,Book:lN,BookA:VB,BookAudio:HB,BookCheck:UB,BookCopy:jB,BookDashed:S5,BookDown:qB,BookHeadphones:$B,BookHeart:GB,BookImage:WB,BookKey:ZB,BookLock:YB,BookMarked:XB,BookMinus:KB,BookOpen:eN,BookOpenCheck:JB,BookOpenText:QB,BookPlus:tN,BookTemplate:S5,BookText:iN,BookType:nN,BookUp:sN,BookUp2:rN,BookUser:aN,BookX:oN,Bookmark:pN,BookmarkCheck:cN,BookmarkMinus:hN,BookmarkPlus:uN,BookmarkX:dN,BoomBox:fN,Bot:_N,BotMessageSquare:mN,BotOff:gN,Box:yN,BoxSelect:WT,Boxes:vN,Braces:T5,Brackets:xN,Brain:MN,BrainCircuit:bN,BrainCog:wN,BrickWall:SN,Briefcase:AN,BriefcaseBusiness:TN,BriefcaseConveyorBelt:EN,BriefcaseMedical:CN,BringToFront:IN,Brush:PN,Bug:kN,BugOff:DN,BugPlay:LN,Building:RN,Building2:ON,Bus:FN,BusFront:zN,Cable:NN,CableCar:BN,Cake:HN,CakeSlice:VN,Calculator:UN,Calendar:lV,Calendar1:jN,CalendarArrowDown:qN,CalendarArrowUp:$N,CalendarCheck:WN,CalendarCheck2:GN,CalendarClock:ZN,CalendarCog:YN,CalendarDays:XN,CalendarFold:KN,CalendarHeart:JN,CalendarMinus:eV,CalendarMinus2:QN,CalendarOff:tV,CalendarPlus:nV,CalendarPlus2:iV,CalendarRange:rV,CalendarSearch:sV,CalendarX:oV,CalendarX2:aV,Camera:hV,CameraOff:cV,CandlestickChart:P5,Candy:pV,CandyCane:uV,CandyOff:dV,Cannabis:fV,Captions:E5,CaptionsOff:mV,Car:yV,CarFront:gV,CarTaxiFront:_V,Caravan:vV,Carrot:xV,CaseLower:bV,CaseSensitive:wV,CaseUpper:MV,CassetteTape:SV,Cast:TV,Castle:EV,Cat:CV,Cctv:AV,ChartArea:C5,ChartBar:I5,ChartBarBig:A5,ChartBarDecreasing:IV,ChartBarIncreasing:PV,ChartBarStacked:DV,ChartCandlestick:P5,ChartColumn:k5,ChartColumnBig:D5,ChartColumnDecreasing:LV,ChartColumnIncreasing:L5,ChartColumnStacked:kV,ChartGantt:OV,ChartLine:O5,ChartNetwork:RV,ChartNoAxesColumn:z5,ChartNoAxesColumnDecreasing:zV,ChartNoAxesColumnIncreasing:R5,ChartNoAxesCombined:FV,ChartNoAxesGantt:F5,ChartPie:B5,ChartScatter:N5,ChartSpline:BV,Check:VV,CheckCheck:NV,CheckCircle:Y5,CheckCircle2:X5,CheckSquare:BT,CheckSquare2:NT,ChefHat:HV,Cherry:UV,ChevronDown:jV,ChevronDownCircle:K5,ChevronDownSquare:VT,ChevronFirst:qV,ChevronLast:$V,ChevronLeft:GV,ChevronLeftCircle:J5,ChevronLeftSquare:HT,ChevronRight:WV,ChevronRightCircle:Q5,ChevronRightSquare:UT,ChevronUp:ZV,ChevronUpCircle:eS,ChevronUpSquare:jT,ChevronsDown:XV,ChevronsDownUp:YV,ChevronsLeft:QV,ChevronsLeftRight:JV,ChevronsLeftRightEllipsis:KV,ChevronsRight:tH,ChevronsRightLeft:eH,ChevronsUp:nH,ChevronsUpDown:iH,Chrome:rH,Church:sH,Cigarette:oH,CigaretteOff:aH,Circle:yH,CircleAlert:V5,CircleArrowDown:H5,CircleArrowLeft:U5,CircleArrowOutDownLeft:j5,CircleArrowOutDownRight:q5,CircleArrowOutUpLeft:$5,CircleArrowOutUpRight:G5,CircleArrowRight:W5,CircleArrowUp:Z5,CircleCheck:X5,CircleCheckBig:Y5,CircleChevronDown:K5,CircleChevronLeft:J5,CircleChevronRight:Q5,CircleChevronUp:eS,CircleDashed:lH,CircleDivide:tS,CircleDollarSign:cH,CircleDot:uH,CircleDotDashed:hH,CircleEllipsis:dH,CircleEqual:pH,CircleFadingArrowUp:fH,CircleFadingPlus:mH,CircleGauge:iS,CircleHelp:nS,CircleMinus:rS,CircleOff:gH,CircleParking:aS,CircleParkingOff:sS,CirclePause:oS,CirclePercent:lS,CirclePlay:cS,CirclePlus:hS,CirclePower:uS,CircleSlash:_H,CircleSlash2:dS,CircleSlashed:dS,CircleStop:pS,CircleUser:mS,CircleUserRound:fS,CircleX:gS,CircuitBoard:vH,Citrus:xH,Clapperboard:bH,Clipboard:PH,ClipboardCheck:wH,ClipboardCopy:MH,ClipboardEdit:yS,ClipboardList:SH,ClipboardMinus:TH,ClipboardPaste:EH,ClipboardPen:yS,ClipboardPenLine:_S,ClipboardPlus:CH,ClipboardSignature:_S,ClipboardType:AH,ClipboardX:IH,Clock:GH,Clock1:DH,Clock10:LH,Clock11:kH,Clock12:OH,Clock2:RH,Clock3:zH,Clock4:FH,Clock5:BH,Clock6:NH,Clock7:VH,Clock8:HH,Clock9:UH,ClockAlert:jH,ClockArrowDown:qH,ClockArrowUp:$H,Cloud:aU,CloudCog:WH,CloudDownload:vS,CloudDrizzle:ZH,CloudFog:YH,CloudHail:XH,CloudLightning:KH,CloudMoon:QH,CloudMoonRain:JH,CloudOff:eU,CloudRain:iU,CloudRainWind:tU,CloudSnow:nU,CloudSun:sU,CloudSunRain:rU,CloudUpload:xS,Cloudy:oU,Clover:lU,Club:cU,Code:hU,Code2:bS,CodeSquare:qT,CodeXml:bS,Codepen:uU,Codesandbox:dU,Coffee:pU,Cog:fU,Coins:mU,Columns:wS,Columns2:wS,Columns3:MS,Columns4:gU,Combine:_U,Command:yU,Compass:vU,Component:xU,Computer:bU,ConciergeBell:wU,Cone:MU,Construction:SU,Contact:TU,Contact2:SS,ContactRound:SS,Container:EU,Contrast:CU,Cookie:AU,CookingPot:IU,Copy:RU,CopyCheck:PU,CopyMinus:DU,CopyPlus:LU,CopySlash:kU,CopyX:OU,Copyleft:zU,Copyright:FU,CornerDownLeft:BU,CornerDownRight:NU,CornerLeftDown:VU,CornerLeftUp:HU,CornerRightDown:UU,CornerRightUp:jU,CornerUpLeft:qU,CornerUpRight:$U,Cpu:GU,CreativeCommons:WU,CreditCard:ZU,Croissant:YU,Crop:XU,Cross:KU,Crosshair:JU,Crown:QU,Cuboid:ej,CupSoda:tj,CurlyBraces:T5,Currency:ij,Cylinder:nj,Dam:rj,Database:oj,DatabaseBackup:sj,DatabaseZap:aj,Delete:lj,Dessert:cj,Diameter:hj,Diamond:pj,DiamondMinus:uj,DiamondPercent:TS,DiamondPlus:dj,Dice1:fj,Dice2:mj,Dice3:gj,Dice4:_j,Dice5:yj,Dice6:vj,Dices:xj,Diff:bj,Disc:Tj,Disc2:wj,Disc3:Mj,DiscAlbum:Sj,Divide:Ej,DivideCircle:tS,DivideSquare:ZT,Dna:Aj,DnaOff:Cj,Dock:Ij,Dog:Pj,DollarSign:Dj,Donut:Lj,DoorClosed:kj,DoorOpen:Oj,Dot:Rj,DotSquare:YT,Download:zj,DownloadCloud:vS,DraftingCompass:Fj,Drama:Bj,Dribbble:Nj,Drill:Vj,Droplet:Hj,Droplets:Uj,Drum:jj,Drumstick:qj,Dumbbell:$j,Ear:Wj,EarOff:Gj,Earth:ES,EarthLock:Zj,Eclipse:Yj,Edit:Ig,Edit2:dT,Edit3:uT,Egg:Jj,EggFried:Xj,EggOff:Kj,Ellipsis:AS,EllipsisVertical:CS,Equal:eq,EqualNot:Qj,EqualSquare:XT,Eraser:tq,EthernetPort:iq,Euro:nq,Expand:rq,ExternalLink:sq,Eye:lq,EyeClosed:aq,EyeOff:oq,Facebook:cq,Factory:hq,Fan:uq,FastForward:dq,Feather:pq,Fence:fq,FerrisWheel:mq,Figma:gq,File:p$,FileArchive:_q,FileAudio:vq,FileAudio2:yq,FileAxis3D:IS,FileAxis3d:IS,FileBadge:bq,FileBadge2:xq,FileBarChart:PS,FileBarChart2:DS,FileBox:wq,FileChartColumn:DS,FileChartColumnIncreasing:PS,FileChartLine:LS,FileChartPie:kS,FileCheck:Sq,FileCheck2:Mq,FileClock:Tq,FileCode:Cq,FileCode2:Eq,FileCog:OS,FileCog2:OS,FileDiff:Aq,FileDigit:Iq,FileDown:Pq,FileEdit:zS,FileHeart:Dq,FileImage:Lq,FileInput:kq,FileJson:Rq,FileJson2:Oq,FileKey:Fq,FileKey2:zq,FileLineChart:LS,FileLock:Nq,FileLock2:Bq,FileMinus:Hq,FileMinus2:Vq,FileMusic:Uq,FileOutput:jq,FilePen:zS,FilePenLine:RS,FilePieChart:kS,FilePlus:$q,FilePlus2:qq,FileQuestion:Gq,FileScan:Wq,FileSearch:Yq,FileSearch2:Zq,FileSignature:RS,FileSliders:Xq,FileSpreadsheet:Kq,FileStack:Jq,FileSymlink:Qq,FileTerminal:e$,FileText:t$,FileType:n$,FileType2:i$,FileUp:r$,FileUser:s$,FileVideo:o$,FileVideo2:a$,FileVolume:c$,FileVolume2:l$,FileWarning:h$,FileX:d$,FileX2:u$,Files:f$,Film:m$,Filter:_$,FilterX:g$,Fingerprint:y$,FireExtinguisher:v$,Fish:w$,FishOff:x$,FishSymbol:b$,Flag:E$,FlagOff:M$,FlagTriangleLeft:S$,FlagTriangleRight:T$,Flame:A$,FlameKindling:C$,Flashlight:P$,FlashlightOff:I$,FlaskConical:L$,FlaskConicalOff:D$,FlaskRound:k$,FlipHorizontal:R$,FlipHorizontal2:O$,FlipVertical:F$,FlipVertical2:z$,Flower:N$,Flower2:B$,Focus:V$,FoldHorizontal:H$,FoldVertical:U$,Folder:gG,FolderArchive:j$,FolderCheck:q$,FolderClock:$$,FolderClosed:G$,FolderCode:W$,FolderCog:FS,FolderCog2:FS,FolderDot:Z$,FolderDown:Y$,FolderEdit:BS,FolderGit:K$,FolderGit2:X$,FolderHeart:J$,FolderInput:Q$,FolderKanban:eG,FolderKey:tG,FolderLock:iG,FolderMinus:nG,FolderOpen:sG,FolderOpenDot:rG,FolderOutput:aG,FolderPen:BS,FolderPlus:oG,FolderRoot:lG,FolderSearch:hG,FolderSearch2:cG,FolderSymlink:uG,FolderSync:dG,FolderTree:pG,FolderUp:fG,FolderX:mG,Folders:_G,Footprints:yG,ForkKnife:z6,ForkKnifeCrossed:R6,Forklift:vG,FormInput:fT,Forward:xG,Frame:bG,Framer:wG,Frown:MG,Fuel:SG,Fullscreen:TG,FunctionSquare:KT,GalleryHorizontal:CG,GalleryHorizontalEnd:EG,GalleryThumbnails:AG,GalleryVertical:PG,GalleryVerticalEnd:IG,Gamepad:LG,Gamepad2:DG,GanttChart:F5,GanttChartSquare:Av,Gauge:kG,GaugeCircle:iS,Gavel:OG,Gem:RG,Ghost:zG,Gift:FG,GitBranch:NG,GitBranchPlus:BG,GitCommit:NS,GitCommitHorizontal:NS,GitCommitVertical:VG,GitCompare:UG,GitCompareArrows:HG,GitFork:jG,GitGraph:qG,GitMerge:$G,GitPullRequest:KG,GitPullRequestArrow:GG,GitPullRequestClosed:WG,GitPullRequestCreate:YG,GitPullRequestCreateArrow:ZG,GitPullRequestDraft:XG,Github:JG,Gitlab:QG,GlassWater:eW,Glasses:tW,Globe:nW,Globe2:ES,GlobeLock:iW,Goal:rW,Grab:sW,GraduationCap:aW,Grape:oW,Grid:Cv,Grid2X2:VS,Grid2x2:VS,Grid2x2Check:lW,Grid2x2Plus:cW,Grid2x2X:hW,Grid3X3:Cv,Grid3x3:Cv,Grip:pW,GripHorizontal:uW,GripVertical:dW,Group:fW,Guitar:mW,Ham:gW,Hammer:_W,Hand:wW,HandCoins:yW,HandHeart:vW,HandHelping:HS,HandMetal:xW,HandPlatter:bW,Handshake:MW,HardDrive:EW,HardDriveDownload:SW,HardDriveUpload:TW,HardHat:CW,Hash:AW,Haze:IW,HdmiPort:PW,Heading:FW,Heading1:DW,Heading2:LW,Heading3:kW,Heading4:OW,Heading5:RW,Heading6:zW,HeadphoneOff:BW,Headphones:NW,Headset:VW,Heart:$W,HeartCrack:HW,HeartHandshake:UW,HeartOff:jW,HeartPulse:qW,Heater:GW,HelpCircle:nS,HelpingHand:HS,Hexagon:WW,Highlighter:ZW,History:YW,Home:US,Hop:KW,HopOff:XW,Hospital:JW,Hotel:QW,Hourglass:eZ,House:US,HousePlug:tZ,HousePlus:iZ,IceCream:qS,IceCream2:jS,IceCreamBowl:jS,IceCreamCone:qS,IdCard:nZ,Image:hZ,ImageDown:rZ,ImageMinus:sZ,ImageOff:aZ,ImagePlay:oZ,ImagePlus:lZ,ImageUp:cZ,Images:uZ,Import:dZ,Inbox:pZ,Indent:GS,IndentDecrease:$S,IndentIncrease:GS,IndianRupee:fZ,Infinity:mZ,Info:gZ,Inspect:n6,InspectionPanel:_Z,Instagram:yZ,Italic:vZ,IterationCcw:xZ,IterationCw:bZ,JapaneseYen:wZ,Joystick:MZ,Kanban:SZ,KanbanSquare:JT,KanbanSquareDashed:$T,Key:CZ,KeyRound:TZ,KeySquare:EZ,Keyboard:PZ,KeyboardMusic:AZ,KeyboardOff:IZ,Lamp:zZ,LampCeiling:DZ,LampDesk:LZ,LampFloor:kZ,LampWallDown:OZ,LampWallUp:RZ,LandPlot:FZ,Landmark:BZ,Languages:NZ,Laptop:VZ,Laptop2:WS,LaptopMinimal:WS,Lasso:UZ,LassoSelect:HZ,Laugh:jZ,Layers:GZ,Layers2:qZ,Layers3:$Z,Layout:hT,LayoutDashboard:WZ,LayoutGrid:ZZ,LayoutList:YZ,LayoutPanelLeft:XZ,LayoutPanelTop:KZ,LayoutTemplate:JZ,Leaf:QZ,LeafyGreen:eY,Lectern:tY,LetterText:iY,Library:rY,LibraryBig:nY,LibrarySquare:QT,LifeBuoy:sY,Ligature:aY,Lightbulb:lY,LightbulbOff:oY,LineChart:O5,Link:uY,Link2:hY,Link2Off:cY,Linkedin:dY,List:AY,ListCheck:pY,ListChecks:fY,ListCollapse:mY,ListEnd:gY,ListFilter:_Y,ListMinus:yY,ListMusic:vY,ListOrdered:xY,ListPlus:bY,ListRestart:wY,ListStart:MY,ListTodo:SY,ListTree:TY,ListVideo:EY,ListX:CY,Loader:PY,Loader2:ZS,LoaderCircle:ZS,LoaderPinwheel:IY,Locate:kY,LocateFixed:DY,LocateOff:LY,Lock:RY,LockKeyhole:OY,LockKeyholeOpen:YS,LockOpen:XS,LogIn:zY,LogOut:FY,Logs:BY,Lollipop:NY,Luggage:VY,MSquare:e6,Magnet:HY,Mail:XY,MailCheck:UY,MailMinus:jY,MailOpen:qY,MailPlus:$Y,MailQuestion:GY,MailSearch:WY,MailWarning:ZY,MailX:YY,Mailbox:KY,Mails:JY,Map:uX,MapPin:cX,MapPinCheck:eX,MapPinCheckInside:QY,MapPinHouse:tX,MapPinMinus:nX,MapPinMinusInside:iX,MapPinOff:rX,MapPinPlus:aX,MapPinPlusInside:sX,MapPinX:lX,MapPinXInside:oX,MapPinned:hX,Martini:dX,Maximize:fX,Maximize2:pX,Medal:mX,Megaphone:_X,MegaphoneOff:gX,Meh:yX,MemoryStick:vX,Menu:xX,MenuSquare:t6,Merge:bX,MessageCircle:LX,MessageCircleCode:wX,MessageCircleDashed:MX,MessageCircleHeart:SX,MessageCircleMore:TX,MessageCircleOff:EX,MessageCirclePlus:CX,MessageCircleQuestion:AX,MessageCircleReply:IX,MessageCircleWarning:PX,MessageCircleX:DX,MessageSquare:ZX,MessageSquareCode:kX,MessageSquareDashed:OX,MessageSquareDiff:RX,MessageSquareDot:zX,MessageSquareHeart:FX,MessageSquareLock:BX,MessageSquareMore:NX,MessageSquareOff:VX,MessageSquarePlus:HX,MessageSquareQuote:UX,MessageSquareReply:jX,MessageSquareShare:qX,MessageSquareText:$X,MessageSquareWarning:GX,MessageSquareX:WX,MessagesSquare:YX,Mic:KX,Mic2:KS,MicOff:XX,MicVocal:KS,Microchip:JX,Microscope:QX,Microwave:eK,Milestone:tK,Milk:nK,MilkOff:iK,Minimize:sK,Minimize2:rK,Minus:aK,MinusCircle:rS,MinusSquare:i6,Monitor:vK,MonitorCheck:oK,MonitorCog:lK,MonitorDot:cK,MonitorDown:hK,MonitorOff:uK,MonitorPause:dK,MonitorPlay:pK,MonitorSmartphone:fK,MonitorSpeaker:mK,MonitorStop:gK,MonitorUp:_K,MonitorX:yK,Moon:bK,MoonStar:xK,MoreHorizontal:AS,MoreVertical:CS,Mountain:MK,MountainSnow:wK,Mouse:IK,MouseOff:SK,MousePointer:AK,MousePointer2:TK,MousePointerBan:EK,MousePointerClick:CK,MousePointerSquareDashed:GT,Move:UK,Move3D:JS,Move3d:JS,MoveDiagonal:DK,MoveDiagonal2:PK,MoveDown:OK,MoveDownLeft:LK,MoveDownRight:kK,MoveHorizontal:RK,MoveLeft:zK,MoveRight:FK,MoveUp:VK,MoveUpLeft:BK,MoveUpRight:NK,MoveVertical:HK,Music:GK,Music2:jK,Music3:qK,Music4:$K,Navigation:XK,Navigation2:ZK,Navigation2Off:WK,NavigationOff:YK,Network:KK,Newspaper:JK,Nfc:QK,Notebook:nJ,NotebookPen:eJ,NotebookTabs:tJ,NotebookText:iJ,NotepadText:sJ,NotepadTextDashed:rJ,Nut:oJ,NutOff:aJ,Octagon:cJ,OctagonAlert:QS,OctagonMinus:lJ,OctagonPause:eT,OctagonX:tT,Omega:hJ,Option:uJ,Orbit:dJ,Origami:pJ,Outdent:$S,Package:bJ,Package2:fJ,PackageCheck:mJ,PackageMinus:gJ,PackageOpen:_J,PackagePlus:yJ,PackageSearch:vJ,PackageX:xJ,PaintBucket:wJ,PaintRoller:MJ,Paintbrush:SJ,Paintbrush2:iT,PaintbrushVertical:iT,Palette:TJ,Palmtree:S6,PanelBottom:AJ,PanelBottomClose:EJ,PanelBottomDashed:nT,PanelBottomInactive:nT,PanelBottomOpen:CJ,PanelLeft:oT,PanelLeftClose:rT,PanelLeftDashed:sT,PanelLeftInactive:sT,PanelLeftOpen:aT,PanelRight:DJ,PanelRightClose:IJ,PanelRightDashed:lT,PanelRightInactive:lT,PanelRightOpen:PJ,PanelTop:OJ,PanelTopClose:LJ,PanelTopDashed:cT,PanelTopInactive:cT,PanelTopOpen:kJ,PanelsLeftBottom:RJ,PanelsLeftRight:MS,PanelsRightBottom:zJ,PanelsTopBottom:_T,PanelsTopLeft:hT,Paperclip:FJ,Parentheses:BJ,ParkingCircle:aS,ParkingCircleOff:sS,ParkingMeter:NJ,ParkingSquare:s6,ParkingSquareOff:r6,PartyPopper:VJ,Pause:HJ,PauseCircle:oS,PauseOctagon:eT,PawPrint:UJ,PcCase:jJ,Pen:dT,PenBox:Ig,PenLine:uT,PenOff:qJ,PenSquare:Ig,PenTool:$J,Pencil:YJ,PencilLine:GJ,PencilOff:WJ,PencilRuler:ZJ,Pentagon:XJ,Percent:KJ,PercentCircle:lS,PercentDiamond:TS,PercentSquare:a6,PersonStanding:JJ,PhilippinePeso:QJ,Phone:aQ,PhoneCall:eQ,PhoneForwarded:tQ,PhoneIncoming:iQ,PhoneMissed:nQ,PhoneOff:rQ,PhoneOutgoing:sQ,Pi:oQ,PiSquare:o6,Piano:lQ,Pickaxe:cQ,PictureInPicture:uQ,PictureInPicture2:hQ,PieChart:B5,PiggyBank:dQ,Pilcrow:mQ,PilcrowLeft:pQ,PilcrowRight:fQ,PilcrowSquare:l6,Pill:_Q,PillBottle:gQ,Pin:vQ,PinOff:yQ,Pipette:xQ,Pizza:bQ,Plane:SQ,PlaneLanding:wQ,PlaneTakeoff:MQ,Play:TQ,PlayCircle:cS,PlaySquare:c6,Plug:CQ,Plug2:EQ,PlugZap:pT,PlugZap2:pT,Plus:AQ,PlusCircle:hS,PlusSquare:h6,Pocket:PQ,PocketKnife:IQ,Podcast:DQ,Pointer:kQ,PointerOff:LQ,Popcorn:OQ,Popsicle:RQ,PoundSterling:zQ,Power:BQ,PowerCircle:uS,PowerOff:FQ,PowerSquare:u6,Presentation:NQ,Printer:HQ,PrinterCheck:VQ,Projector:UQ,Proportions:jQ,Puzzle:qQ,Pyramid:$Q,QrCode:GQ,Quote:WQ,Rabbit:ZQ,Radar:YQ,Radiation:XQ,Radical:KQ,Radio:eee,RadioReceiver:JQ,RadioTower:QQ,Radius:tee,RailSymbol:iee,Rainbow:nee,Rat:ree,Ratio:see,Receipt:fee,ReceiptCent:aee,ReceiptEuro:oee,ReceiptIndianRupee:lee,ReceiptJapaneseYen:cee,ReceiptPoundSterling:hee,ReceiptRussianRuble:uee,ReceiptSwissFranc:dee,ReceiptText:pee,RectangleEllipsis:fT,RectangleHorizontal:mee,RectangleVertical:gee,Recycle:_ee,Redo:xee,Redo2:yee,RedoDot:vee,RefreshCcw:wee,RefreshCcwDot:bee,RefreshCw:See,RefreshCwOff:Mee,Refrigerator:Tee,Regex:Eee,RemoveFormatting:Cee,Repeat:Pee,Repeat1:Aee,Repeat2:Iee,Replace:Lee,ReplaceAll:Dee,Reply:Oee,ReplyAll:kee,Rewind:Ree,Ribbon:zee,Rocket:Fee,RockingChair:Bee,RollerCoaster:Nee,Rotate3D:mT,Rotate3d:mT,RotateCcw:Hee,RotateCcwSquare:Vee,RotateCw:jee,RotateCwSquare:Uee,Route:$ee,RouteOff:qee,Router:Gee,Rows:gT,Rows2:gT,Rows3:_T,Rows4:Wee,Rss:Zee,Ruler:Yee,RussianRuble:Xee,Sailboat:Kee,Salad:Jee,Sandwich:Qee,Satellite:tte,SatelliteDish:ete,Save:rte,SaveAll:ite,SaveOff:nte,Scale:ste,Scale3D:yT,Scale3d:yT,Scaling:ate,Scan:fte,ScanBarcode:ote,ScanEye:lte,ScanFace:cte,ScanLine:hte,ScanQrCode:ute,ScanSearch:dte,ScanText:pte,ScatterChart:N5,School:mte,School2:C6,Scissors:_te,ScissorsLineDashed:gte,ScissorsSquare:d6,ScissorsSquareDashedBottom:FT,ScreenShare:vte,ScreenShareOff:yte,Scroll:bte,ScrollText:xte,Search:Ete,SearchCheck:wte,SearchCode:Mte,SearchSlash:Ste,SearchX:Tte,Section:Cte,Send:Ite,SendHorizonal:vT,SendHorizontal:vT,SendToBack:Ate,SeparatorHorizontal:Pte,SeparatorVertical:Dte,Server:Rte,ServerCog:Lte,ServerCrash:kte,ServerOff:Ote,Settings:Fte,Settings2:zte,Shapes:Bte,Share:Vte,Share2:Nte,Sheet:Hte,Shell:Ute,Shield:Jte,ShieldAlert:jte,ShieldBan:qte,ShieldCheck:$te,ShieldClose:xT,ShieldEllipsis:Gte,ShieldHalf:Wte,ShieldMinus:Zte,ShieldOff:Yte,ShieldPlus:Xte,ShieldQuestion:Kte,ShieldX:xT,Ship:eie,ShipWheel:Qte,Shirt:tie,ShoppingBag:iie,ShoppingBasket:nie,ShoppingCart:rie,Shovel:sie,ShowerHead:aie,Shrink:oie,Shrub:lie,Shuffle:cie,Sidebar:oT,SidebarClose:rT,SidebarOpen:aT,Sigma:hie,SigmaSquare:p6,Signal:mie,SignalHigh:uie,SignalLow:die,SignalMedium:pie,SignalZero:fie,Signature:gie,Signpost:yie,SignpostBig:_ie,Siren:vie,SkipBack:xie,SkipForward:bie,Skull:wie,Slack:Mie,Slash:Sie,SlashSquare:f6,Slice:Tie,Sliders:bT,SlidersHorizontal:Eie,SlidersVertical:bT,Smartphone:Iie,SmartphoneCharging:Cie,SmartphoneNfc:Aie,Smile:Die,SmilePlus:Pie,Snail:Lie,Snowflake:kie,Sofa:Oie,SortAsc:y5,SortDesc:m5,Soup:Rie,Space:zie,Spade:Fie,Sparkle:Bie,Sparkles:wT,Speaker:Nie,Speech:Vie,SpellCheck:Uie,SpellCheck2:Hie,Spline:jie,Split:qie,SplitSquareHorizontal:m6,SplitSquareVertical:g6,SprayCan:$ie,Sprout:Gie,Square:Jie,SquareActivity:MT,SquareArrowDown:ET,SquareArrowDownLeft:ST,SquareArrowDownRight:TT,SquareArrowLeft:CT,SquareArrowOutDownLeft:AT,SquareArrowOutDownRight:IT,SquareArrowOutUpLeft:PT,SquareArrowOutUpRight:DT,SquareArrowRight:LT,SquareArrowUp:RT,SquareArrowUpLeft:kT,SquareArrowUpRight:OT,SquareAsterisk:zT,SquareBottomDashedScissors:FT,SquareChartGantt:Av,SquareCheck:NT,SquareCheckBig:BT,SquareChevronDown:VT,SquareChevronLeft:HT,SquareChevronRight:UT,SquareChevronUp:jT,SquareCode:qT,SquareDashed:WT,SquareDashedBottom:Zie,SquareDashedBottomCode:Wie,SquareDashedKanban:$T,SquareDashedMousePointer:GT,SquareDivide:ZT,SquareDot:YT,SquareEqual:XT,SquareFunction:KT,SquareGanttChart:Av,SquareKanban:JT,SquareLibrary:QT,SquareM:e6,SquareMenu:t6,SquareMinus:i6,SquareMousePointer:n6,SquareParking:s6,SquareParkingOff:r6,SquarePen:Ig,SquarePercent:a6,SquarePi:o6,SquarePilcrow:l6,SquarePlay:c6,SquarePlus:h6,SquarePower:u6,SquareRadical:Yie,SquareScissors:d6,SquareSigma:p6,SquareSlash:f6,SquareSplitHorizontal:m6,SquareSplitVertical:g6,SquareSquare:Xie,SquareStack:Kie,SquareTerminal:_6,SquareUser:v6,SquareUserRound:y6,SquareX:x6,Squircle:Qie,Squirrel:ene,Stamp:tne,Star:rne,StarHalf:ine,StarOff:nne,Stars:wT,StepBack:sne,StepForward:ane,Stethoscope:one,Sticker:lne,StickyNote:cne,StopCircle:pS,Store:hne,StretchHorizontal:une,StretchVertical:dne,Strikethrough:pne,Subscript:fne,Subtitles:E5,Sun:vne,SunDim:mne,SunMedium:gne,SunMoon:_ne,SunSnow:yne,Sunrise:xne,Sunset:bne,Superscript:wne,SwatchBook:Mne,SwissFranc:Sne,SwitchCamera:Tne,Sword:Ene,Swords:Cne,Syringe:Ane,Table:zne,Table2:Ine,TableCellsMerge:Pne,TableCellsSplit:Dne,TableColumnsSplit:Lne,TableOfContents:kne,TableProperties:One,TableRowsSplit:Rne,Tablet:Bne,TabletSmartphone:Fne,Tablets:Nne,Tag:Vne,Tags:Hne,Tally1:Une,Tally2:jne,Tally3:qne,Tally4:$ne,Tally5:Gne,Tangent:Wne,Target:Zne,Telescope:Yne,Tent:Kne,TentTree:Xne,Terminal:Jne,TerminalSquare:_6,TestTube:Qne,TestTube2:b6,TestTubeDiagonal:b6,TestTubes:ere,Text:sre,TextCursor:ire,TextCursorInput:tre,TextQuote:nre,TextSearch:rre,TextSelect:w6,TextSelection:w6,Theater:are,Thermometer:cre,ThermometerSnowflake:ore,ThermometerSun:lre,ThumbsDown:hre,ThumbsUp:ure,Ticket:yre,TicketCheck:dre,TicketMinus:pre,TicketPercent:fre,TicketPlus:mre,TicketSlash:gre,TicketX:_re,Tickets:xre,TicketsPlane:vre,Timer:Mre,TimerOff:bre,TimerReset:wre,ToggleLeft:Sre,ToggleRight:Tre,Tornado:Ere,Torus:Cre,Touchpad:Ire,TouchpadOff:Are,TowerControl:Pre,ToyBrick:Dre,Tractor:Lre,TrafficCone:kre,Train:M6,TrainFront:Rre,TrainFrontTunnel:Ore,TrainTrack:zre,TramFront:M6,Trash:Bre,Trash2:Fre,TreeDeciduous:Nre,TreePalm:S6,TreePine:Vre,Trees:Hre,Trello:Ure,TrendingDown:jre,TrendingUp:$re,TrendingUpDown:qre,Triangle:Wre,TriangleAlert:T6,TriangleRight:Gre,Trophy:Zre,Truck:Yre,Turtle:Xre,Tv:Jre,Tv2:E6,TvMinimal:E6,TvMinimalPlay:Kre,Twitch:Qre,Twitter:ese,Type:ise,TypeOutline:tse,Umbrella:rse,UmbrellaOff:nse,Underline:sse,Undo:lse,Undo2:ase,UndoDot:ose,UnfoldHorizontal:cse,UnfoldVertical:hse,Ungroup:use,University:C6,Unlink:pse,Unlink2:dse,Unlock:XS,UnlockKeyhole:YS,Unplug:fse,Upload:mse,UploadCloud:xS,Usb:gse,User:Ese,User2:k6,UserCheck:_se,UserCheck2:A6,UserCircle:mS,UserCircle2:fS,UserCog:yse,UserCog2:I6,UserMinus:vse,UserMinus2:P6,UserPen:xse,UserPlus:bse,UserPlus2:D6,UserRound:k6,UserRoundCheck:A6,UserRoundCog:I6,UserRoundMinus:P6,UserRoundPen:wse,UserRoundPlus:D6,UserRoundSearch:Mse,UserRoundX:L6,UserSearch:Sse,UserSquare:v6,UserSquare2:y6,UserX:Tse,UserX2:L6,Users:Cse,Users2:O6,UsersRound:O6,Utensils:z6,UtensilsCrossed:R6,UtilityPole:Ase,Variable:Ise,Vault:Pse,Vegan:Dse,VenetianMask:Lse,Verified:b5,Vibrate:Ose,VibrateOff:kse,Video:zse,VideoOff:Rse,Videotape:Fse,View:Bse,Voicemail:Nse,Volleyball:Vse,Volume:$se,Volume1:Hse,Volume2:Use,VolumeOff:jse,VolumeX:qse,Vote:Gse,Wallet:Zse,Wallet2:F6,WalletCards:Wse,WalletMinimal:F6,Wallpaper:Yse,Wand:Xse,Wand2:B6,WandSparkles:B6,Warehouse:Kse,WashingMachine:Jse,Watch:Qse,Waves:eae,Waypoints:tae,Webcam:iae,Webhook:rae,WebhookOff:nae,Weight:sae,Wheat:oae,WheatOff:aae,WholeWord:lae,Wifi:pae,WifiHigh:cae,WifiLow:hae,WifiOff:uae,WifiZero:dae,Wind:fae,Wine:gae,WineOff:mae,Workflow:_ae,Worm:yae,WrapText:vae,Wrench:xae,X:bae,XCircle:gS,XOctagon:tT,XSquare:x6,Youtube:wae,Zap:Sae,ZapOff:Mae,ZoomIn:Tae,ZoomOut:Eae},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=({icons:i={},nameAttr:e="data-lucide",attrs:t={}}={})=>{if(!Object.values(i).length)throw new Error(`Please provide an icons object.
If you want to use all the icons you can import it like:
 \`import { createIcons, icons } from 'lucide';
lucide.createIcons({icons});\``);if(typeof document>"u")throw new Error("`createIcons()` only works in a browser environment.");const a=document.querySelectorAll(`[${e}]`);if(Array.from(a).forEach(c=>h5(c,{nameAttr:e,icons:i,attrs:t})),e==="data-lucide"){const c=document.querySelectorAll("[icon-name]");c.length>0&&(console.warn("[Lucide] Some icons were found with the now deprecated icon-name attribute. These will still be replaced for backwards compatibility, but will no longer be supported in v1.0 and you should switch to data-lucide"),Array.from(c).forEach(p=>h5(p,{nameAttr:"icon-name",icons:i,attrs:t})))}};class Iae extends hr{connect(){Aae({icons:Cae})}}const Pae=Object.freeze(Object.defineProperty({__proto__:null,default:Iae},Symbol.toStringTag,{value:"Module"}));var e8={exports:{}};(function(i,e){(function(t,a){i.exports=a()})(eb,function(){var t,a,c;function p(s,L){if(!t)t=L;else if(!a)a=L;else{var R="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+t+")(sharedChunk); ("+a+")(sharedChunk); self.onerror = null;",V={};t(V),c=L(V),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(c.workerUrl=window.URL.createObjectURL(new Blob([R],{type:"text/javascript"})))}}p(["exports"],function(s){function L(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var R,V={},q={};function Z(){if(R)return q;R=1,Object.defineProperty(q,"__esModule",{value:!0}),q.setMatrixArrayType=function(g){q.ARRAY_TYPE=n=g},q.toRadian=function(g){return g*u},q.equals=function(g,d){return Math.abs(g-d)<=h*Math.max(1,Math.abs(g),Math.abs(d))},q.RANDOM=q.ARRAY_TYPE=q.EPSILON=void 0;var h=1e-6;q.EPSILON=h;var n=typeof Float32Array<"u"?Float32Array:Array;q.ARRAY_TYPE=n;var o=Math.random;q.RANDOM=o;var u=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var g=0,d=arguments.length;d--;)g+=arguments[d]*arguments[d];return Math.sqrt(g)}),q}var ee,se={};function he(){if(ee)return se;function h(d){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(d)}ee=1,Object.defineProperty(se,"__esModule",{value:!0}),se.create=function(){var d=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(d[1]=0,d[2]=0),d[0]=1,d[3]=1,d},se.clone=function(d){var _=new n.ARRAY_TYPE(4);return _[0]=d[0],_[1]=d[1],_[2]=d[2],_[3]=d[3],_},se.copy=function(d,_){return d[0]=_[0],d[1]=_[1],d[2]=_[2],d[3]=_[3],d},se.identity=function(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d},se.fromValues=function(d,_,w,T){var D=new n.ARRAY_TYPE(4);return D[0]=d,D[1]=_,D[2]=w,D[3]=T,D},se.set=function(d,_,w,T,D){return d[0]=_,d[1]=w,d[2]=T,d[3]=D,d},se.transpose=function(d,_){if(d===_){var w=_[1];d[1]=_[2],d[2]=w}else d[0]=_[0],d[1]=_[2],d[2]=_[1],d[3]=_[3];return d},se.invert=function(d,_){var w=_[0],T=_[1],D=_[2],b=_[3],E=w*b-D*T;return E?(d[0]=b*(E=1/E),d[1]=-T*E,d[2]=-D*E,d[3]=w*E,d):null},se.adjoint=function(d,_){var w=_[0];return d[0]=_[3],d[1]=-_[1],d[2]=-_[2],d[3]=w,d},se.determinant=function(d){return d[0]*d[3]-d[2]*d[1]},se.multiply=u,se.rotate=function(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=Math.sin(w),S=Math.cos(w);return d[0]=T*S+b*I,d[1]=D*S+E*I,d[2]=T*-I+b*S,d[3]=D*-I+E*S,d},se.scale=function(d,_,w){var T=_[1],D=_[2],b=_[3],E=w[0],I=w[1];return d[0]=_[0]*E,d[1]=T*E,d[2]=D*I,d[3]=b*I,d},se.fromRotation=function(d,_){var w=Math.sin(_),T=Math.cos(_);return d[0]=T,d[1]=w,d[2]=-w,d[3]=T,d},se.fromScaling=function(d,_){return d[0]=_[0],d[1]=0,d[2]=0,d[3]=_[1],d},se.str=function(d){return"mat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},se.frob=function(d){return Math.hypot(d[0],d[1],d[2],d[3])},se.LDU=function(d,_,w,T){return d[2]=T[2]/T[0],w[0]=T[0],w[1]=T[1],w[3]=T[3]-d[2]*w[1],[d,_,w]},se.add=function(d,_,w){return d[0]=_[0]+w[0],d[1]=_[1]+w[1],d[2]=_[2]+w[2],d[3]=_[3]+w[3],d},se.subtract=g,se.exactEquals=function(d,_){return d[0]===_[0]&&d[1]===_[1]&&d[2]===_[2]&&d[3]===_[3]},se.equals=function(d,_){var w=d[0],T=d[1],D=d[2],b=d[3],E=_[0],I=_[1],S=_[2],A=_[3];return Math.abs(w-E)<=n.EPSILON*Math.max(1,Math.abs(w),Math.abs(E))&&Math.abs(T-I)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(I))&&Math.abs(D-S)<=n.EPSILON*Math.max(1,Math.abs(D),Math.abs(S))&&Math.abs(b-A)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(A))},se.multiplyScalar=function(d,_,w){return d[0]=_[0]*w,d[1]=_[1]*w,d[2]=_[2]*w,d[3]=_[3]*w,d},se.multiplyScalarAndAdd=function(d,_,w,T){return d[0]=_[0]+w[0]*T,d[1]=_[1]+w[1]*T,d[2]=_[2]+w[2]*T,d[3]=_[3]+w[3]*T,d},se.sub=se.mul=void 0;var n=function(d,_){if(d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var w=o(void 0);if(w&&w.has(d))return w.get(d);var T={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in d)if(b!=="default"&&Object.prototype.hasOwnProperty.call(d,b)){var E=D?Object.getOwnPropertyDescriptor(d,b):null;E&&(E.get||E.set)?Object.defineProperty(T,b,E):T[b]=d[b]}return T.default=d,w&&w.set(d,T),T}(Z());function o(d){if(typeof WeakMap!="function")return null;var _=new WeakMap,w=new WeakMap;return(o=function(T){return T?w:_})(d)}function u(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=w[0],S=w[1],A=w[2],k=w[3];return d[0]=T*I+b*S,d[1]=D*I+E*S,d[2]=T*A+b*k,d[3]=D*A+E*k,d}function g(d,_,w){return d[0]=_[0]-w[0],d[1]=_[1]-w[1],d[2]=_[2]-w[2],d[3]=_[3]-w[3],d}return se.mul=u,se.sub=g,se}var we,De={};function Ze(){if(we)return De;function h(d){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(d)}we=1,Object.defineProperty(De,"__esModule",{value:!0}),De.create=function(){var d=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(d[1]=0,d[2]=0,d[4]=0,d[5]=0),d[0]=1,d[3]=1,d},De.clone=function(d){var _=new n.ARRAY_TYPE(6);return _[0]=d[0],_[1]=d[1],_[2]=d[2],_[3]=d[3],_[4]=d[4],_[5]=d[5],_},De.copy=function(d,_){return d[0]=_[0],d[1]=_[1],d[2]=_[2],d[3]=_[3],d[4]=_[4],d[5]=_[5],d},De.identity=function(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d[4]=0,d[5]=0,d},De.fromValues=function(d,_,w,T,D,b){var E=new n.ARRAY_TYPE(6);return E[0]=d,E[1]=_,E[2]=w,E[3]=T,E[4]=D,E[5]=b,E},De.set=function(d,_,w,T,D,b,E){return d[0]=_,d[1]=w,d[2]=T,d[3]=D,d[4]=b,d[5]=E,d},De.invert=function(d,_){var w=_[0],T=_[1],D=_[2],b=_[3],E=_[4],I=_[5],S=w*b-T*D;return S?(d[0]=b*(S=1/S),d[1]=-T*S,d[2]=-D*S,d[3]=w*S,d[4]=(D*I-b*E)*S,d[5]=(T*E-w*I)*S,d):null},De.determinant=function(d){return d[0]*d[3]-d[1]*d[2]},De.multiply=u,De.rotate=function(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=_[4],S=_[5],A=Math.sin(w),k=Math.cos(w);return d[0]=T*k+b*A,d[1]=D*k+E*A,d[2]=T*-A+b*k,d[3]=D*-A+E*k,d[4]=I,d[5]=S,d},De.scale=function(d,_,w){var T=_[1],D=_[2],b=_[3],E=_[4],I=_[5],S=w[0],A=w[1];return d[0]=_[0]*S,d[1]=T*S,d[2]=D*A,d[3]=b*A,d[4]=E,d[5]=I,d},De.translate=function(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=_[4],S=_[5],A=w[0],k=w[1];return d[0]=T,d[1]=D,d[2]=b,d[3]=E,d[4]=T*A+b*k+I,d[5]=D*A+E*k+S,d},De.fromRotation=function(d,_){var w=Math.sin(_),T=Math.cos(_);return d[0]=T,d[1]=w,d[2]=-w,d[3]=T,d[4]=0,d[5]=0,d},De.fromScaling=function(d,_){return d[0]=_[0],d[1]=0,d[2]=0,d[3]=_[1],d[4]=0,d[5]=0,d},De.fromTranslation=function(d,_){return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d[4]=_[0],d[5]=_[1],d},De.str=function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"},De.frob=function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],1)},De.add=function(d,_,w){return d[0]=_[0]+w[0],d[1]=_[1]+w[1],d[2]=_[2]+w[2],d[3]=_[3]+w[3],d[4]=_[4]+w[4],d[5]=_[5]+w[5],d},De.subtract=g,De.multiplyScalar=function(d,_,w){return d[0]=_[0]*w,d[1]=_[1]*w,d[2]=_[2]*w,d[3]=_[3]*w,d[4]=_[4]*w,d[5]=_[5]*w,d},De.multiplyScalarAndAdd=function(d,_,w,T){return d[0]=_[0]+w[0]*T,d[1]=_[1]+w[1]*T,d[2]=_[2]+w[2]*T,d[3]=_[3]+w[3]*T,d[4]=_[4]+w[4]*T,d[5]=_[5]+w[5]*T,d},De.exactEquals=function(d,_){return d[0]===_[0]&&d[1]===_[1]&&d[2]===_[2]&&d[3]===_[3]&&d[4]===_[4]&&d[5]===_[5]},De.equals=function(d,_){var w=d[0],T=d[1],D=d[2],b=d[3],E=d[4],I=d[5],S=_[0],A=_[1],k=_[2],B=_[3],N=_[4],$=_[5];return Math.abs(w-S)<=n.EPSILON*Math.max(1,Math.abs(w),Math.abs(S))&&Math.abs(T-A)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(A))&&Math.abs(D-k)<=n.EPSILON*Math.max(1,Math.abs(D),Math.abs(k))&&Math.abs(b-B)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(B))&&Math.abs(E-N)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs(N))&&Math.abs(I-$)<=n.EPSILON*Math.max(1,Math.abs(I),Math.abs($))},De.sub=De.mul=void 0;var n=function(d,_){if(d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var w=o(void 0);if(w&&w.has(d))return w.get(d);var T={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in d)if(b!=="default"&&Object.prototype.hasOwnProperty.call(d,b)){var E=D?Object.getOwnPropertyDescriptor(d,b):null;E&&(E.get||E.set)?Object.defineProperty(T,b,E):T[b]=d[b]}return T.default=d,w&&w.set(d,T),T}(Z());function o(d){if(typeof WeakMap!="function")return null;var _=new WeakMap,w=new WeakMap;return(o=function(T){return T?w:_})(d)}function u(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=_[4],S=_[5],A=w[0],k=w[1],B=w[2],N=w[3],$=w[4],W=w[5];return d[0]=T*A+b*k,d[1]=D*A+E*k,d[2]=T*B+b*N,d[3]=D*B+E*N,d[4]=T*$+b*W+I,d[5]=D*$+E*W+S,d}function g(d,_,w){return d[0]=_[0]-w[0],d[1]=_[1]-w[1],d[2]=_[2]-w[2],d[3]=_[3]-w[3],d[4]=_[4]-w[4],d[5]=_[5]-w[5],d}return De.mul=u,De.sub=g,De}var ct,rt={};function gt(){if(ct)return rt;function h(d){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(d)}ct=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.create=function(){var d=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0),d[0]=1,d[4]=1,d[8]=1,d},rt.fromMat4=function(d,_){return d[0]=_[0],d[1]=_[1],d[2]=_[2],d[3]=_[4],d[4]=_[5],d[5]=_[6],d[6]=_[8],d[7]=_[9],d[8]=_[10],d},rt.clone=function(d){var _=new n.ARRAY_TYPE(9);return _[0]=d[0],_[1]=d[1],_[2]=d[2],_[3]=d[3],_[4]=d[4],_[5]=d[5],_[6]=d[6],_[7]=d[7],_[8]=d[8],_},rt.copy=function(d,_){return d[0]=_[0],d[1]=_[1],d[2]=_[2],d[3]=_[3],d[4]=_[4],d[5]=_[5],d[6]=_[6],d[7]=_[7],d[8]=_[8],d},rt.fromValues=function(d,_,w,T,D,b,E,I,S){var A=new n.ARRAY_TYPE(9);return A[0]=d,A[1]=_,A[2]=w,A[3]=T,A[4]=D,A[5]=b,A[6]=E,A[7]=I,A[8]=S,A},rt.set=function(d,_,w,T,D,b,E,I,S,A){return d[0]=_,d[1]=w,d[2]=T,d[3]=D,d[4]=b,d[5]=E,d[6]=I,d[7]=S,d[8]=A,d},rt.identity=function(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,d},rt.transpose=function(d,_){if(d===_){var w=_[1],T=_[2],D=_[5];d[1]=_[3],d[2]=_[6],d[3]=w,d[5]=_[7],d[6]=T,d[7]=D}else d[0]=_[0],d[1]=_[3],d[2]=_[6],d[3]=_[1],d[4]=_[4],d[5]=_[7],d[6]=_[2],d[7]=_[5],d[8]=_[8];return d},rt.invert=function(d,_){var w=_[0],T=_[1],D=_[2],b=_[3],E=_[4],I=_[5],S=_[6],A=_[7],k=_[8],B=k*E-I*A,N=-k*b+I*S,$=A*b-E*S,W=w*B+T*N+D*$;return W?(d[0]=B*(W=1/W),d[1]=(-k*T+D*A)*W,d[2]=(I*T-D*E)*W,d[3]=N*W,d[4]=(k*w-D*S)*W,d[5]=(-I*w+D*b)*W,d[6]=$*W,d[7]=(-A*w+T*S)*W,d[8]=(E*w-T*b)*W,d):null},rt.adjoint=function(d,_){var w=_[0],T=_[1],D=_[2],b=_[3],E=_[4],I=_[5],S=_[6],A=_[7],k=_[8];return d[0]=E*k-I*A,d[1]=D*A-T*k,d[2]=T*I-D*E,d[3]=I*S-b*k,d[4]=w*k-D*S,d[5]=D*b-w*I,d[6]=b*A-E*S,d[7]=T*S-w*A,d[8]=w*E-T*b,d},rt.determinant=function(d){var _=d[3],w=d[4],T=d[5],D=d[6],b=d[7],E=d[8];return d[0]*(E*w-T*b)+d[1]*(-E*_+T*D)+d[2]*(b*_-w*D)},rt.multiply=u,rt.translate=function(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=_[4],S=_[5],A=_[6],k=_[7],B=_[8],N=w[0],$=w[1];return d[0]=T,d[1]=D,d[2]=b,d[3]=E,d[4]=I,d[5]=S,d[6]=N*T+$*E+A,d[7]=N*D+$*I+k,d[8]=N*b+$*S+B,d},rt.rotate=function(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=_[4],S=_[5],A=_[6],k=_[7],B=_[8],N=Math.sin(w),$=Math.cos(w);return d[0]=$*T+N*E,d[1]=$*D+N*I,d[2]=$*b+N*S,d[3]=$*E-N*T,d[4]=$*I-N*D,d[5]=$*S-N*b,d[6]=A,d[7]=k,d[8]=B,d},rt.scale=function(d,_,w){var T=w[0],D=w[1];return d[0]=T*_[0],d[1]=T*_[1],d[2]=T*_[2],d[3]=D*_[3],d[4]=D*_[4],d[5]=D*_[5],d[6]=_[6],d[7]=_[7],d[8]=_[8],d},rt.fromTranslation=function(d,_){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=_[0],d[7]=_[1],d[8]=1,d},rt.fromRotation=function(d,_){var w=Math.sin(_),T=Math.cos(_);return d[0]=T,d[1]=w,d[2]=0,d[3]=-w,d[4]=T,d[5]=0,d[6]=0,d[7]=0,d[8]=1,d},rt.fromScaling=function(d,_){return d[0]=_[0],d[1]=0,d[2]=0,d[3]=0,d[4]=_[1],d[5]=0,d[6]=0,d[7]=0,d[8]=1,d},rt.fromMat2d=function(d,_){return d[0]=_[0],d[1]=_[1],d[2]=0,d[3]=_[2],d[4]=_[3],d[5]=0,d[6]=_[4],d[7]=_[5],d[8]=1,d},rt.fromQuat=function(d,_){var w=_[0],T=_[1],D=_[2],b=_[3],E=w+w,I=T+T,S=D+D,A=w*E,k=T*E,B=T*I,N=D*E,$=D*I,W=D*S,j=b*E,Y=b*I,K=b*S;return d[0]=1-B-W,d[3]=k-K,d[6]=N+Y,d[1]=k+K,d[4]=1-A-W,d[7]=$-j,d[2]=N-Y,d[5]=$+j,d[8]=1-A-B,d},rt.normalFromMat4=function(d,_){var w=_[0],T=_[1],D=_[2],b=_[3],E=_[4],I=_[5],S=_[6],A=_[7],k=_[8],B=_[9],N=_[10],$=_[11],W=_[12],j=_[13],Y=_[14],K=_[15],te=w*I-T*E,ue=w*S-D*E,ce=w*A-b*E,oe=T*S-D*I,Me=T*A-b*I,pe=D*A-b*S,Te=k*j-B*W,Pe=k*Y-N*W,Ae=k*K-$*W,ke=B*Y-N*j,Ve=B*K-$*j,He=N*K-$*Y,Be=te*He-ue*Ve+ce*ke+oe*Ae-Me*Pe+pe*Te;return Be?(d[0]=(I*He-S*Ve+A*ke)*(Be=1/Be),d[1]=(S*Ae-E*He-A*Pe)*Be,d[2]=(E*Ve-I*Ae+A*Te)*Be,d[3]=(D*Ve-T*He-b*ke)*Be,d[4]=(w*He-D*Ae+b*Pe)*Be,d[5]=(T*Ae-w*Ve-b*Te)*Be,d[6]=(j*pe-Y*Me+K*oe)*Be,d[7]=(Y*ce-W*pe-K*ue)*Be,d[8]=(W*Me-j*ce+K*te)*Be,d):null},rt.projection=function(d,_,w){return d[0]=2/_,d[1]=0,d[2]=0,d[3]=0,d[4]=-2/w,d[5]=0,d[6]=-1,d[7]=1,d[8]=1,d},rt.str=function(d){return"mat3("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+")"},rt.frob=function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},rt.add=function(d,_,w){return d[0]=_[0]+w[0],d[1]=_[1]+w[1],d[2]=_[2]+w[2],d[3]=_[3]+w[3],d[4]=_[4]+w[4],d[5]=_[5]+w[5],d[6]=_[6]+w[6],d[7]=_[7]+w[7],d[8]=_[8]+w[8],d},rt.subtract=g,rt.multiplyScalar=function(d,_,w){return d[0]=_[0]*w,d[1]=_[1]*w,d[2]=_[2]*w,d[3]=_[3]*w,d[4]=_[4]*w,d[5]=_[5]*w,d[6]=_[6]*w,d[7]=_[7]*w,d[8]=_[8]*w,d},rt.multiplyScalarAndAdd=function(d,_,w,T){return d[0]=_[0]+w[0]*T,d[1]=_[1]+w[1]*T,d[2]=_[2]+w[2]*T,d[3]=_[3]+w[3]*T,d[4]=_[4]+w[4]*T,d[5]=_[5]+w[5]*T,d[6]=_[6]+w[6]*T,d[7]=_[7]+w[7]*T,d[8]=_[8]+w[8]*T,d},rt.exactEquals=function(d,_){return d[0]===_[0]&&d[1]===_[1]&&d[2]===_[2]&&d[3]===_[3]&&d[4]===_[4]&&d[5]===_[5]&&d[6]===_[6]&&d[7]===_[7]&&d[8]===_[8]},rt.equals=function(d,_){var w=d[0],T=d[1],D=d[2],b=d[3],E=d[4],I=d[5],S=d[6],A=d[7],k=d[8],B=_[0],N=_[1],$=_[2],W=_[3],j=_[4],Y=_[5],K=_[6],te=_[7],ue=_[8];return Math.abs(w-B)<=n.EPSILON*Math.max(1,Math.abs(w),Math.abs(B))&&Math.abs(T-N)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(N))&&Math.abs(D-$)<=n.EPSILON*Math.max(1,Math.abs(D),Math.abs($))&&Math.abs(b-W)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(W))&&Math.abs(E-j)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs(j))&&Math.abs(I-Y)<=n.EPSILON*Math.max(1,Math.abs(I),Math.abs(Y))&&Math.abs(S-K)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(K))&&Math.abs(A-te)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(te))&&Math.abs(k-ue)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(ue))},rt.sub=rt.mul=void 0;var n=function(d,_){if(d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var w=o(void 0);if(w&&w.has(d))return w.get(d);var T={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in d)if(b!=="default"&&Object.prototype.hasOwnProperty.call(d,b)){var E=D?Object.getOwnPropertyDescriptor(d,b):null;E&&(E.get||E.set)?Object.defineProperty(T,b,E):T[b]=d[b]}return T.default=d,w&&w.set(d,T),T}(Z());function o(d){if(typeof WeakMap!="function")return null;var _=new WeakMap,w=new WeakMap;return(o=function(T){return T?w:_})(d)}function u(d,_,w){var T=_[0],D=_[1],b=_[2],E=_[3],I=_[4],S=_[5],A=_[6],k=_[7],B=_[8],N=w[0],$=w[1],W=w[2],j=w[3],Y=w[4],K=w[5],te=w[6],ue=w[7],ce=w[8];return d[0]=N*T+$*E+W*A,d[1]=N*D+$*I+W*k,d[2]=N*b+$*S+W*B,d[3]=j*T+Y*E+K*A,d[4]=j*D+Y*I+K*k,d[5]=j*b+Y*S+K*B,d[6]=te*T+ue*E+ce*A,d[7]=te*D+ue*I+ce*k,d[8]=te*b+ue*S+ce*B,d}function g(d,_,w){return d[0]=_[0]-w[0],d[1]=_[1]-w[1],d[2]=_[2]-w[2],d[3]=_[3]-w[3],d[4]=_[4]-w[4],d[5]=_[5]-w[5],d[6]=_[6]-w[6],d[7]=_[7]-w[7],d[8]=_[8]-w[8],d}return rt.mul=u,rt.sub=g,rt}var Tt,it={};function _t(){if(Tt)return it;function h(b){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(b)}Tt=1,Object.defineProperty(it,"__esModule",{value:!0}),it.create=function(){var b=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0),b[0]=1,b[5]=1,b[10]=1,b[15]=1,b},it.clone=function(b){var E=new n.ARRAY_TYPE(16);return E[0]=b[0],E[1]=b[1],E[2]=b[2],E[3]=b[3],E[4]=b[4],E[5]=b[5],E[6]=b[6],E[7]=b[7],E[8]=b[8],E[9]=b[9],E[10]=b[10],E[11]=b[11],E[12]=b[12],E[13]=b[13],E[14]=b[14],E[15]=b[15],E},it.copy=function(b,E){return b[0]=E[0],b[1]=E[1],b[2]=E[2],b[3]=E[3],b[4]=E[4],b[5]=E[5],b[6]=E[6],b[7]=E[7],b[8]=E[8],b[9]=E[9],b[10]=E[10],b[11]=E[11],b[12]=E[12],b[13]=E[13],b[14]=E[14],b[15]=E[15],b},it.fromValues=function(b,E,I,S,A,k,B,N,$,W,j,Y,K,te,ue,ce){var oe=new n.ARRAY_TYPE(16);return oe[0]=b,oe[1]=E,oe[2]=I,oe[3]=S,oe[4]=A,oe[5]=k,oe[6]=B,oe[7]=N,oe[8]=$,oe[9]=W,oe[10]=j,oe[11]=Y,oe[12]=K,oe[13]=te,oe[14]=ue,oe[15]=ce,oe},it.set=function(b,E,I,S,A,k,B,N,$,W,j,Y,K,te,ue,ce,oe){return b[0]=E,b[1]=I,b[2]=S,b[3]=A,b[4]=k,b[5]=B,b[6]=N,b[7]=$,b[8]=W,b[9]=j,b[10]=Y,b[11]=K,b[12]=te,b[13]=ue,b[14]=ce,b[15]=oe,b},it.identity=u,it.transpose=function(b,E){if(b===E){var I=E[1],S=E[2],A=E[3],k=E[6],B=E[7],N=E[11];b[1]=E[4],b[2]=E[8],b[3]=E[12],b[4]=I,b[6]=E[9],b[7]=E[13],b[8]=S,b[9]=k,b[11]=E[14],b[12]=A,b[13]=B,b[14]=N}else b[0]=E[0],b[1]=E[4],b[2]=E[8],b[3]=E[12],b[4]=E[1],b[5]=E[5],b[6]=E[9],b[7]=E[13],b[8]=E[2],b[9]=E[6],b[10]=E[10],b[11]=E[14],b[12]=E[3],b[13]=E[7],b[14]=E[11],b[15]=E[15];return b},it.invert=function(b,E){var I=E[0],S=E[1],A=E[2],k=E[3],B=E[4],N=E[5],$=E[6],W=E[7],j=E[8],Y=E[9],K=E[10],te=E[11],ue=E[12],ce=E[13],oe=E[14],Me=E[15],pe=I*N-S*B,Te=I*$-A*B,Pe=I*W-k*B,Ae=S*$-A*N,ke=S*W-k*N,Ve=A*W-k*$,He=j*ce-Y*ue,Be=j*oe-K*ue,Ke=j*Me-te*ue,ft=Y*oe-K*ce,Qe=Y*Me-te*ce,St=K*Me-te*oe,Mt=pe*St-Te*Qe+Pe*ft+Ae*Ke-ke*Be+Ve*He;return Mt?(b[0]=(N*St-$*Qe+W*ft)*(Mt=1/Mt),b[1]=(A*Qe-S*St-k*ft)*Mt,b[2]=(ce*Ve-oe*ke+Me*Ae)*Mt,b[3]=(K*ke-Y*Ve-te*Ae)*Mt,b[4]=($*Ke-B*St-W*Be)*Mt,b[5]=(I*St-A*Ke+k*Be)*Mt,b[6]=(oe*Pe-ue*Ve-Me*Te)*Mt,b[7]=(j*Ve-K*Pe+te*Te)*Mt,b[8]=(B*Qe-N*Ke+W*He)*Mt,b[9]=(S*Ke-I*Qe-k*He)*Mt,b[10]=(ue*ke-ce*Pe+Me*pe)*Mt,b[11]=(Y*Pe-j*ke-te*pe)*Mt,b[12]=(N*Be-B*ft-$*He)*Mt,b[13]=(I*ft-S*Be+A*He)*Mt,b[14]=(ce*Te-ue*Ae-oe*pe)*Mt,b[15]=(j*Ae-Y*Te+K*pe)*Mt,b):null},it.adjoint=function(b,E){var I=E[0],S=E[1],A=E[2],k=E[3],B=E[4],N=E[5],$=E[6],W=E[7],j=E[8],Y=E[9],K=E[10],te=E[11],ue=E[12],ce=E[13],oe=E[14],Me=E[15];return b[0]=N*(K*Me-te*oe)-Y*($*Me-W*oe)+ce*($*te-W*K),b[1]=-(S*(K*Me-te*oe)-Y*(A*Me-k*oe)+ce*(A*te-k*K)),b[2]=S*($*Me-W*oe)-N*(A*Me-k*oe)+ce*(A*W-k*$),b[3]=-(S*($*te-W*K)-N*(A*te-k*K)+Y*(A*W-k*$)),b[4]=-(B*(K*Me-te*oe)-j*($*Me-W*oe)+ue*($*te-W*K)),b[5]=I*(K*Me-te*oe)-j*(A*Me-k*oe)+ue*(A*te-k*K),b[6]=-(I*($*Me-W*oe)-B*(A*Me-k*oe)+ue*(A*W-k*$)),b[7]=I*($*te-W*K)-B*(A*te-k*K)+j*(A*W-k*$),b[8]=B*(Y*Me-te*ce)-j*(N*Me-W*ce)+ue*(N*te-W*Y),b[9]=-(I*(Y*Me-te*ce)-j*(S*Me-k*ce)+ue*(S*te-k*Y)),b[10]=I*(N*Me-W*ce)-B*(S*Me-k*ce)+ue*(S*W-k*N),b[11]=-(I*(N*te-W*Y)-B*(S*te-k*Y)+j*(S*W-k*N)),b[12]=-(B*(Y*oe-K*ce)-j*(N*oe-$*ce)+ue*(N*K-$*Y)),b[13]=I*(Y*oe-K*ce)-j*(S*oe-A*ce)+ue*(S*K-A*Y),b[14]=-(I*(N*oe-$*ce)-B*(S*oe-A*ce)+ue*(S*$-A*N)),b[15]=I*(N*K-$*Y)-B*(S*K-A*Y)+j*(S*$-A*N),b},it.determinant=function(b){var E=b[0],I=b[1],S=b[2],A=b[3],k=b[4],B=b[5],N=b[6],$=b[7],W=b[8],j=b[9],Y=b[10],K=b[11],te=b[12],ue=b[13],ce=b[14],oe=b[15];return(E*B-I*k)*(Y*oe-K*ce)-(E*N-S*k)*(j*oe-K*ue)+(E*$-A*k)*(j*ce-Y*ue)+(I*N-S*B)*(W*oe-K*te)-(I*$-A*B)*(W*ce-Y*te)+(S*$-A*N)*(W*ue-j*te)},it.multiply=g,it.translate=function(b,E,I){var S,A,k,B,N,$,W,j,Y,K,te,ue,ce=I[0],oe=I[1],Me=I[2];return E===b?(b[12]=E[0]*ce+E[4]*oe+E[8]*Me+E[12],b[13]=E[1]*ce+E[5]*oe+E[9]*Me+E[13],b[14]=E[2]*ce+E[6]*oe+E[10]*Me+E[14],b[15]=E[3]*ce+E[7]*oe+E[11]*Me+E[15]):(A=E[1],k=E[2],B=E[3],N=E[4],$=E[5],W=E[6],j=E[7],Y=E[8],K=E[9],te=E[10],ue=E[11],b[0]=S=E[0],b[1]=A,b[2]=k,b[3]=B,b[4]=N,b[5]=$,b[6]=W,b[7]=j,b[8]=Y,b[9]=K,b[10]=te,b[11]=ue,b[12]=S*ce+N*oe+Y*Me+E[12],b[13]=A*ce+$*oe+K*Me+E[13],b[14]=k*ce+W*oe+te*Me+E[14],b[15]=B*ce+j*oe+ue*Me+E[15]),b},it.scale=function(b,E,I){var S=I[0],A=I[1],k=I[2];return b[0]=E[0]*S,b[1]=E[1]*S,b[2]=E[2]*S,b[3]=E[3]*S,b[4]=E[4]*A,b[5]=E[5]*A,b[6]=E[6]*A,b[7]=E[7]*A,b[8]=E[8]*k,b[9]=E[9]*k,b[10]=E[10]*k,b[11]=E[11]*k,b[12]=E[12],b[13]=E[13],b[14]=E[14],b[15]=E[15],b},it.rotate=function(b,E,I,S){var A,k,B,N,$,W,j,Y,K,te,ue,ce,oe,Me,pe,Te,Pe,Ae,ke,Ve,He,Be,Ke,ft,Qe=S[0],St=S[1],Mt=S[2],Pt=Math.hypot(Qe,St,Mt);return Pt<n.EPSILON?null:(Qe*=Pt=1/Pt,St*=Pt,Mt*=Pt,A=Math.sin(I),k=Math.cos(I),$=E[1],W=E[2],j=E[3],K=E[5],te=E[6],ue=E[7],oe=E[9],Me=E[10],pe=E[11],Te=Qe*Qe*(B=1-k)+k,ke=Qe*St*B-Mt*A,Ve=St*St*B+k,He=Mt*St*B+Qe*A,Be=Qe*Mt*B+St*A,Ke=St*Mt*B-Qe*A,ft=Mt*Mt*B+k,b[0]=(N=E[0])*Te+(Y=E[4])*(Pe=St*Qe*B+Mt*A)+(ce=E[8])*(Ae=Mt*Qe*B-St*A),b[1]=$*Te+K*Pe+oe*Ae,b[2]=W*Te+te*Pe+Me*Ae,b[3]=j*Te+ue*Pe+pe*Ae,b[4]=N*ke+Y*Ve+ce*He,b[5]=$*ke+K*Ve+oe*He,b[6]=W*ke+te*Ve+Me*He,b[7]=j*ke+ue*Ve+pe*He,b[8]=N*Be+Y*Ke+ce*ft,b[9]=$*Be+K*Ke+oe*ft,b[10]=W*Be+te*Ke+Me*ft,b[11]=j*Be+ue*Ke+pe*ft,E!==b&&(b[12]=E[12],b[13]=E[13],b[14]=E[14],b[15]=E[15]),b)},it.rotateX=function(b,E,I){var S=Math.sin(I),A=Math.cos(I),k=E[4],B=E[5],N=E[6],$=E[7],W=E[8],j=E[9],Y=E[10],K=E[11];return E!==b&&(b[0]=E[0],b[1]=E[1],b[2]=E[2],b[3]=E[3],b[12]=E[12],b[13]=E[13],b[14]=E[14],b[15]=E[15]),b[4]=k*A+W*S,b[5]=B*A+j*S,b[6]=N*A+Y*S,b[7]=$*A+K*S,b[8]=W*A-k*S,b[9]=j*A-B*S,b[10]=Y*A-N*S,b[11]=K*A-$*S,b},it.rotateY=function(b,E,I){var S=Math.sin(I),A=Math.cos(I),k=E[0],B=E[1],N=E[2],$=E[3],W=E[8],j=E[9],Y=E[10],K=E[11];return E!==b&&(b[4]=E[4],b[5]=E[5],b[6]=E[6],b[7]=E[7],b[12]=E[12],b[13]=E[13],b[14]=E[14],b[15]=E[15]),b[0]=k*A-W*S,b[1]=B*A-j*S,b[2]=N*A-Y*S,b[3]=$*A-K*S,b[8]=k*S+W*A,b[9]=B*S+j*A,b[10]=N*S+Y*A,b[11]=$*S+K*A,b},it.rotateZ=function(b,E,I){var S=Math.sin(I),A=Math.cos(I),k=E[0],B=E[1],N=E[2],$=E[3],W=E[4],j=E[5],Y=E[6],K=E[7];return E!==b&&(b[8]=E[8],b[9]=E[9],b[10]=E[10],b[11]=E[11],b[12]=E[12],b[13]=E[13],b[14]=E[14],b[15]=E[15]),b[0]=k*A+W*S,b[1]=B*A+j*S,b[2]=N*A+Y*S,b[3]=$*A+K*S,b[4]=W*A-k*S,b[5]=j*A-B*S,b[6]=Y*A-N*S,b[7]=K*A-$*S,b},it.fromTranslation=function(b,E){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=E[0],b[13]=E[1],b[14]=E[2],b[15]=1,b},it.fromScaling=function(b,E){return b[0]=E[0],b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=E[1],b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=E[2],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},it.fromRotation=function(b,E,I){var S,A,k,B=I[0],N=I[1],$=I[2],W=Math.hypot(B,N,$);return W<n.EPSILON?null:(B*=W=1/W,N*=W,$*=W,S=Math.sin(E),A=Math.cos(E),b[0]=B*B*(k=1-A)+A,b[1]=N*B*k+$*S,b[2]=$*B*k-N*S,b[3]=0,b[4]=B*N*k-$*S,b[5]=N*N*k+A,b[6]=$*N*k+B*S,b[7]=0,b[8]=B*$*k+N*S,b[9]=N*$*k-B*S,b[10]=$*$*k+A,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b)},it.fromXRotation=function(b,E){var I=Math.sin(E),S=Math.cos(E);return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=S,b[6]=I,b[7]=0,b[8]=0,b[9]=-I,b[10]=S,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},it.fromYRotation=function(b,E){var I=Math.sin(E),S=Math.cos(E);return b[0]=S,b[1]=0,b[2]=-I,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=I,b[9]=0,b[10]=S,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},it.fromZRotation=function(b,E){var I=Math.sin(E),S=Math.cos(E);return b[0]=S,b[1]=I,b[2]=0,b[3]=0,b[4]=-I,b[5]=S,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},it.fromRotationTranslation=d,it.fromQuat2=function(b,E){var I=new n.ARRAY_TYPE(3),S=-E[0],A=-E[1],k=-E[2],B=E[3],N=E[4],$=E[5],W=E[6],j=E[7],Y=S*S+A*A+k*k+B*B;return Y>0?(I[0]=2*(N*B+j*S+$*k-W*A)/Y,I[1]=2*($*B+j*A+W*S-N*k)/Y,I[2]=2*(W*B+j*k+N*A-$*S)/Y):(I[0]=2*(N*B+j*S+$*k-W*A),I[1]=2*($*B+j*A+W*S-N*k),I[2]=2*(W*B+j*k+N*A-$*S)),d(b,E,I),b},it.getTranslation=function(b,E){return b[0]=E[12],b[1]=E[13],b[2]=E[14],b},it.getScaling=_,it.getRotation=function(b,E){var I=new n.ARRAY_TYPE(3);_(I,E);var S=1/I[0],A=1/I[1],k=1/I[2],B=E[0]*S,N=E[1]*A,$=E[2]*k,W=E[4]*S,j=E[5]*A,Y=E[6]*k,K=E[8]*S,te=E[9]*A,ue=E[10]*k,ce=B+j+ue,oe=0;return ce>0?(oe=2*Math.sqrt(ce+1),b[3]=.25*oe,b[0]=(Y-te)/oe,b[1]=(K-$)/oe,b[2]=(N-W)/oe):B>j&&B>ue?(oe=2*Math.sqrt(1+B-j-ue),b[3]=(Y-te)/oe,b[0]=.25*oe,b[1]=(N+W)/oe,b[2]=(K+$)/oe):j>ue?(oe=2*Math.sqrt(1+j-B-ue),b[3]=(K-$)/oe,b[0]=(N+W)/oe,b[1]=.25*oe,b[2]=(Y+te)/oe):(oe=2*Math.sqrt(1+ue-B-j),b[3]=(N-W)/oe,b[0]=(K+$)/oe,b[1]=(Y+te)/oe,b[2]=.25*oe),b},it.fromRotationTranslationScale=function(b,E,I,S){var A=E[0],k=E[1],B=E[2],N=E[3],$=A+A,W=k+k,j=B+B,Y=A*$,K=A*W,te=A*j,ue=k*W,ce=k*j,oe=B*j,Me=N*$,pe=N*W,Te=N*j,Pe=S[0],Ae=S[1],ke=S[2];return b[0]=(1-(ue+oe))*Pe,b[1]=(K+Te)*Pe,b[2]=(te-pe)*Pe,b[3]=0,b[4]=(K-Te)*Ae,b[5]=(1-(Y+oe))*Ae,b[6]=(ce+Me)*Ae,b[7]=0,b[8]=(te+pe)*ke,b[9]=(ce-Me)*ke,b[10]=(1-(Y+ue))*ke,b[11]=0,b[12]=I[0],b[13]=I[1],b[14]=I[2],b[15]=1,b},it.fromRotationTranslationScaleOrigin=function(b,E,I,S,A){var k=E[0],B=E[1],N=E[2],$=E[3],W=k+k,j=B+B,Y=N+N,K=k*W,te=k*j,ue=k*Y,ce=B*j,oe=B*Y,Me=N*Y,pe=$*W,Te=$*j,Pe=$*Y,Ae=S[0],ke=S[1],Ve=S[2],He=A[0],Be=A[1],Ke=A[2],ft=(1-(ce+Me))*Ae,Qe=(te+Pe)*Ae,St=(ue-Te)*Ae,Mt=(te-Pe)*ke,Pt=(1-(K+Me))*ke,ot=(oe+pe)*ke,Ut=(ue+Te)*Ve,Et=(oe-pe)*Ve,Ht=(1-(K+ce))*Ve;return b[0]=ft,b[1]=Qe,b[2]=St,b[3]=0,b[4]=Mt,b[5]=Pt,b[6]=ot,b[7]=0,b[8]=Ut,b[9]=Et,b[10]=Ht,b[11]=0,b[12]=I[0]+He-(ft*He+Mt*Be+Ut*Ke),b[13]=I[1]+Be-(Qe*He+Pt*Be+Et*Ke),b[14]=I[2]+Ke-(St*He+ot*Be+Ht*Ke),b[15]=1,b},it.fromQuat=function(b,E){var I=E[0],S=E[1],A=E[2],k=E[3],B=I+I,N=S+S,$=A+A,W=I*B,j=S*B,Y=S*N,K=A*B,te=A*N,ue=A*$,ce=k*B,oe=k*N,Me=k*$;return b[0]=1-Y-ue,b[1]=j+Me,b[2]=K-oe,b[3]=0,b[4]=j-Me,b[5]=1-W-ue,b[6]=te+ce,b[7]=0,b[8]=K+oe,b[9]=te-ce,b[10]=1-W-Y,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},it.frustum=function(b,E,I,S,A,k,B){var N=1/(I-E),$=1/(A-S),W=1/(k-B);return b[0]=2*k*N,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*k*$,b[6]=0,b[7]=0,b[8]=(I+E)*N,b[9]=(A+S)*$,b[10]=(B+k)*W,b[11]=-1,b[12]=0,b[13]=0,b[14]=B*k*2*W,b[15]=0,b},it.perspectiveNO=w,it.perspectiveZO=function(b,E,I,S,A){var k,B=1/Math.tan(E/2);return b[0]=B/I,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=B,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,A!=null&&A!==1/0?(b[10]=A*(k=1/(S-A)),b[14]=A*S*k):(b[10]=-1,b[14]=-S),b},it.perspectiveFromFieldOfView=function(b,E,I,S){var A=Math.tan(E.upDegrees*Math.PI/180),k=Math.tan(E.downDegrees*Math.PI/180),B=Math.tan(E.leftDegrees*Math.PI/180),N=Math.tan(E.rightDegrees*Math.PI/180),$=2/(B+N),W=2/(A+k);return b[0]=$,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=W,b[6]=0,b[7]=0,b[8]=-(B-N)*$*.5,b[9]=(A-k)*W*.5,b[10]=S/(I-S),b[11]=-1,b[12]=0,b[13]=0,b[14]=S*I/(I-S),b[15]=0,b},it.orthoNO=T,it.orthoZO=function(b,E,I,S,A,k,B){var N=1/(E-I),$=1/(S-A),W=1/(k-B);return b[0]=-2*N,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*$,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=W,b[11]=0,b[12]=(E+I)*N,b[13]=(A+S)*$,b[14]=k*W,b[15]=1,b},it.lookAt=function(b,E,I,S){var A,k,B,N,$,W,j,Y,K,te,ue=E[0],ce=E[1],oe=E[2],Me=S[0],pe=S[1],Te=S[2],Pe=I[0],Ae=I[1],ke=I[2];return Math.abs(ue-Pe)<n.EPSILON&&Math.abs(ce-Ae)<n.EPSILON&&Math.abs(oe-ke)<n.EPSILON?u(b):(j=ue-Pe,Y=ce-Ae,K=oe-ke,A=pe*(K*=te=1/Math.hypot(j,Y,K))-Te*(Y*=te),k=Te*(j*=te)-Me*K,B=Me*Y-pe*j,(te=Math.hypot(A,k,B))?(A*=te=1/te,k*=te,B*=te):(A=0,k=0,B=0),N=Y*B-K*k,$=K*A-j*B,W=j*k-Y*A,(te=Math.hypot(N,$,W))?(N*=te=1/te,$*=te,W*=te):(N=0,$=0,W=0),b[0]=A,b[1]=N,b[2]=j,b[3]=0,b[4]=k,b[5]=$,b[6]=Y,b[7]=0,b[8]=B,b[9]=W,b[10]=K,b[11]=0,b[12]=-(A*ue+k*ce+B*oe),b[13]=-(N*ue+$*ce+W*oe),b[14]=-(j*ue+Y*ce+K*oe),b[15]=1,b)},it.targetTo=function(b,E,I,S){var A=E[0],k=E[1],B=E[2],N=S[0],$=S[1],W=S[2],j=A-I[0],Y=k-I[1],K=B-I[2],te=j*j+Y*Y+K*K;te>0&&(j*=te=1/Math.sqrt(te),Y*=te,K*=te);var ue=$*K-W*Y,ce=W*j-N*K,oe=N*Y-$*j;return(te=ue*ue+ce*ce+oe*oe)>0&&(ue*=te=1/Math.sqrt(te),ce*=te,oe*=te),b[0]=ue,b[1]=ce,b[2]=oe,b[3]=0,b[4]=Y*oe-K*ce,b[5]=K*ue-j*oe,b[6]=j*ce-Y*ue,b[7]=0,b[8]=j,b[9]=Y,b[10]=K,b[11]=0,b[12]=A,b[13]=k,b[14]=B,b[15]=1,b},it.str=function(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+b[15]+")"},it.frob=function(b){return Math.hypot(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])},it.add=function(b,E,I){return b[0]=E[0]+I[0],b[1]=E[1]+I[1],b[2]=E[2]+I[2],b[3]=E[3]+I[3],b[4]=E[4]+I[4],b[5]=E[5]+I[5],b[6]=E[6]+I[6],b[7]=E[7]+I[7],b[8]=E[8]+I[8],b[9]=E[9]+I[9],b[10]=E[10]+I[10],b[11]=E[11]+I[11],b[12]=E[12]+I[12],b[13]=E[13]+I[13],b[14]=E[14]+I[14],b[15]=E[15]+I[15],b},it.subtract=D,it.multiplyScalar=function(b,E,I){return b[0]=E[0]*I,b[1]=E[1]*I,b[2]=E[2]*I,b[3]=E[3]*I,b[4]=E[4]*I,b[5]=E[5]*I,b[6]=E[6]*I,b[7]=E[7]*I,b[8]=E[8]*I,b[9]=E[9]*I,b[10]=E[10]*I,b[11]=E[11]*I,b[12]=E[12]*I,b[13]=E[13]*I,b[14]=E[14]*I,b[15]=E[15]*I,b},it.multiplyScalarAndAdd=function(b,E,I,S){return b[0]=E[0]+I[0]*S,b[1]=E[1]+I[1]*S,b[2]=E[2]+I[2]*S,b[3]=E[3]+I[3]*S,b[4]=E[4]+I[4]*S,b[5]=E[5]+I[5]*S,b[6]=E[6]+I[6]*S,b[7]=E[7]+I[7]*S,b[8]=E[8]+I[8]*S,b[9]=E[9]+I[9]*S,b[10]=E[10]+I[10]*S,b[11]=E[11]+I[11]*S,b[12]=E[12]+I[12]*S,b[13]=E[13]+I[13]*S,b[14]=E[14]+I[14]*S,b[15]=E[15]+I[15]*S,b},it.exactEquals=function(b,E){return b[0]===E[0]&&b[1]===E[1]&&b[2]===E[2]&&b[3]===E[3]&&b[4]===E[4]&&b[5]===E[5]&&b[6]===E[6]&&b[7]===E[7]&&b[8]===E[8]&&b[9]===E[9]&&b[10]===E[10]&&b[11]===E[11]&&b[12]===E[12]&&b[13]===E[13]&&b[14]===E[14]&&b[15]===E[15]},it.equals=function(b,E){var I=b[0],S=b[1],A=b[2],k=b[3],B=b[4],N=b[5],$=b[6],W=b[7],j=b[8],Y=b[9],K=b[10],te=b[11],ue=b[12],ce=b[13],oe=b[14],Me=b[15],pe=E[0],Te=E[1],Pe=E[2],Ae=E[3],ke=E[4],Ve=E[5],He=E[6],Be=E[7],Ke=E[8],ft=E[9],Qe=E[10],St=E[11],Mt=E[12],Pt=E[13],ot=E[14],Ut=E[15];return Math.abs(I-pe)<=n.EPSILON*Math.max(1,Math.abs(I),Math.abs(pe))&&Math.abs(S-Te)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(Te))&&Math.abs(A-Pe)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(Pe))&&Math.abs(k-Ae)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(Ae))&&Math.abs(B-ke)<=n.EPSILON*Math.max(1,Math.abs(B),Math.abs(ke))&&Math.abs(N-Ve)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ve))&&Math.abs($-He)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(He))&&Math.abs(W-Be)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(Be))&&Math.abs(j-Ke)<=n.EPSILON*Math.max(1,Math.abs(j),Math.abs(Ke))&&Math.abs(Y-ft)<=n.EPSILON*Math.max(1,Math.abs(Y),Math.abs(ft))&&Math.abs(K-Qe)<=n.EPSILON*Math.max(1,Math.abs(K),Math.abs(Qe))&&Math.abs(te-St)<=n.EPSILON*Math.max(1,Math.abs(te),Math.abs(St))&&Math.abs(ue-Mt)<=n.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Mt))&&Math.abs(ce-Pt)<=n.EPSILON*Math.max(1,Math.abs(ce),Math.abs(Pt))&&Math.abs(oe-ot)<=n.EPSILON*Math.max(1,Math.abs(oe),Math.abs(ot))&&Math.abs(Me-Ut)<=n.EPSILON*Math.max(1,Math.abs(Me),Math.abs(Ut))},it.sub=it.mul=it.ortho=it.perspective=void 0;var n=function(b,E){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var I=o(void 0);if(I&&I.has(b))return I.get(b);var S={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in b)if(k!=="default"&&Object.prototype.hasOwnProperty.call(b,k)){var B=A?Object.getOwnPropertyDescriptor(b,k):null;B&&(B.get||B.set)?Object.defineProperty(S,k,B):S[k]=b[k]}return S.default=b,I&&I.set(b,S),S}(Z());function o(b){if(typeof WeakMap!="function")return null;var E=new WeakMap,I=new WeakMap;return(o=function(S){return S?I:E})(b)}function u(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b}function g(b,E,I){var S=E[0],A=E[1],k=E[2],B=E[3],N=E[4],$=E[5],W=E[6],j=E[7],Y=E[8],K=E[9],te=E[10],ue=E[11],ce=E[12],oe=E[13],Me=E[14],pe=E[15],Te=I[0],Pe=I[1],Ae=I[2],ke=I[3];return b[0]=Te*S+Pe*N+Ae*Y+ke*ce,b[1]=Te*A+Pe*$+Ae*K+ke*oe,b[2]=Te*k+Pe*W+Ae*te+ke*Me,b[3]=Te*B+Pe*j+Ae*ue+ke*pe,b[4]=(Te=I[4])*S+(Pe=I[5])*N+(Ae=I[6])*Y+(ke=I[7])*ce,b[5]=Te*A+Pe*$+Ae*K+ke*oe,b[6]=Te*k+Pe*W+Ae*te+ke*Me,b[7]=Te*B+Pe*j+Ae*ue+ke*pe,b[8]=(Te=I[8])*S+(Pe=I[9])*N+(Ae=I[10])*Y+(ke=I[11])*ce,b[9]=Te*A+Pe*$+Ae*K+ke*oe,b[10]=Te*k+Pe*W+Ae*te+ke*Me,b[11]=Te*B+Pe*j+Ae*ue+ke*pe,b[12]=(Te=I[12])*S+(Pe=I[13])*N+(Ae=I[14])*Y+(ke=I[15])*ce,b[13]=Te*A+Pe*$+Ae*K+ke*oe,b[14]=Te*k+Pe*W+Ae*te+ke*Me,b[15]=Te*B+Pe*j+Ae*ue+ke*pe,b}function d(b,E,I){var S=E[0],A=E[1],k=E[2],B=E[3],N=S+S,$=A+A,W=k+k,j=S*N,Y=S*$,K=S*W,te=A*$,ue=A*W,ce=k*W,oe=B*N,Me=B*$,pe=B*W;return b[0]=1-(te+ce),b[1]=Y+pe,b[2]=K-Me,b[3]=0,b[4]=Y-pe,b[5]=1-(j+ce),b[6]=ue+oe,b[7]=0,b[8]=K+Me,b[9]=ue-oe,b[10]=1-(j+te),b[11]=0,b[12]=I[0],b[13]=I[1],b[14]=I[2],b[15]=1,b}function _(b,E){var I=E[4],S=E[5],A=E[6],k=E[8],B=E[9],N=E[10];return b[0]=Math.hypot(E[0],E[1],E[2]),b[1]=Math.hypot(I,S,A),b[2]=Math.hypot(k,B,N),b}function w(b,E,I,S,A){var k,B=1/Math.tan(E/2);return b[0]=B/I,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=B,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,A!=null&&A!==1/0?(b[10]=(A+S)*(k=1/(S-A)),b[14]=2*A*S*k):(b[10]=-1,b[14]=-2*S),b}function T(b,E,I,S,A,k,B){var N=1/(E-I),$=1/(S-A),W=1/(k-B);return b[0]=-2*N,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*$,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=2*W,b[11]=0,b[12]=(E+I)*N,b[13]=(A+S)*$,b[14]=(B+k)*W,b[15]=1,b}function D(b,E,I){return b[0]=E[0]-I[0],b[1]=E[1]-I[1],b[2]=E[2]-I[2],b[3]=E[3]-I[3],b[4]=E[4]-I[4],b[5]=E[5]-I[5],b[6]=E[6]-I[6],b[7]=E[7]-I[7],b[8]=E[8]-I[8],b[9]=E[9]-I[9],b[10]=E[10]-I[10],b[11]=E[11]-I[11],b[12]=E[12]-I[12],b[13]=E[13]-I[13],b[14]=E[14]-I[14],b[15]=E[15]-I[15],b}return it.perspective=w,it.ortho=T,it.mul=g,it.sub=D,it}var Ft,vt={},It={};function Qt(){if(Ft)return It;function h(A){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},h(A)}Ft=1,Object.defineProperty(It,"__esModule",{value:!0}),It.create=u,It.clone=function(A){var k=new n.ARRAY_TYPE(3);return k[0]=A[0],k[1]=A[1],k[2]=A[2],k},It.length=g,It.fromValues=function(A,k,B){var N=new n.ARRAY_TYPE(3);return N[0]=A,N[1]=k,N[2]=B,N},It.copy=function(A,k){return A[0]=k[0],A[1]=k[1],A[2]=k[2],A},It.set=function(A,k,B,N){return A[0]=k,A[1]=B,A[2]=N,A},It.add=function(A,k,B){return A[0]=k[0]+B[0],A[1]=k[1]+B[1],A[2]=k[2]+B[2],A},It.subtract=d,It.multiply=_,It.divide=w,It.ceil=function(A,k){return A[0]=Math.ceil(k[0]),A[1]=Math.ceil(k[1]),A[2]=Math.ceil(k[2]),A},It.floor=function(A,k){return A[0]=Math.floor(k[0]),A[1]=Math.floor(k[1]),A[2]=Math.floor(k[2]),A},It.min=function(A,k,B){return A[0]=Math.min(k[0],B[0]),A[1]=Math.min(k[1],B[1]),A[2]=Math.min(k[2],B[2]),A},It.max=function(A,k,B){return A[0]=Math.max(k[0],B[0]),A[1]=Math.max(k[1],B[1]),A[2]=Math.max(k[2],B[2]),A},It.round=function(A,k){return A[0]=Math.round(k[0]),A[1]=Math.round(k[1]),A[2]=Math.round(k[2]),A},It.scale=function(A,k,B){return A[0]=k[0]*B,A[1]=k[1]*B,A[2]=k[2]*B,A},It.scaleAndAdd=function(A,k,B,N){return A[0]=k[0]+B[0]*N,A[1]=k[1]+B[1]*N,A[2]=k[2]+B[2]*N,A},It.distance=T,It.squaredDistance=D,It.squaredLength=b,It.negate=function(A,k){return A[0]=-k[0],A[1]=-k[1],A[2]=-k[2],A},It.inverse=function(A,k){return A[0]=1/k[0],A[1]=1/k[1],A[2]=1/k[2],A},It.normalize=function(A,k){var B=k[0],N=k[1],$=k[2],W=B*B+N*N+$*$;return W>0&&(W=1/Math.sqrt(W)),A[0]=k[0]*W,A[1]=k[1]*W,A[2]=k[2]*W,A},It.dot=E,It.cross=function(A,k,B){var N=k[0],$=k[1],W=k[2],j=B[0],Y=B[1],K=B[2];return A[0]=$*K-W*Y,A[1]=W*j-N*K,A[2]=N*Y-$*j,A},It.lerp=function(A,k,B,N){var $=k[0],W=k[1],j=k[2];return A[0]=$+N*(B[0]-$),A[1]=W+N*(B[1]-W),A[2]=j+N*(B[2]-j),A},It.hermite=function(A,k,B,N,$,W){var j=W*W,Y=j*(2*W-3)+1,K=j*(W-2)+W,te=j*(W-1),ue=j*(3-2*W);return A[0]=k[0]*Y+B[0]*K+N[0]*te+$[0]*ue,A[1]=k[1]*Y+B[1]*K+N[1]*te+$[1]*ue,A[2]=k[2]*Y+B[2]*K+N[2]*te+$[2]*ue,A},It.bezier=function(A,k,B,N,$,W){var j=1-W,Y=j*j,K=W*W,te=Y*j,ue=3*W*Y,ce=3*K*j,oe=K*W;return A[0]=k[0]*te+B[0]*ue+N[0]*ce+$[0]*oe,A[1]=k[1]*te+B[1]*ue+N[1]*ce+$[1]*oe,A[2]=k[2]*te+B[2]*ue+N[2]*ce+$[2]*oe,A},It.random=function(A,k){k=k||1;var B=2*n.RANDOM()*Math.PI,N=2*n.RANDOM()-1,$=Math.sqrt(1-N*N)*k;return A[0]=Math.cos(B)*$,A[1]=Math.sin(B)*$,A[2]=N*k,A},It.transformMat4=function(A,k,B){var N=k[0],$=k[1],W=k[2],j=B[3]*N+B[7]*$+B[11]*W+B[15];return A[0]=(B[0]*N+B[4]*$+B[8]*W+B[12])/(j=j||1),A[1]=(B[1]*N+B[5]*$+B[9]*W+B[13])/j,A[2]=(B[2]*N+B[6]*$+B[10]*W+B[14])/j,A},It.transformMat3=function(A,k,B){var N=k[0],$=k[1],W=k[2];return A[0]=N*B[0]+$*B[3]+W*B[6],A[1]=N*B[1]+$*B[4]+W*B[7],A[2]=N*B[2]+$*B[5]+W*B[8],A},It.transformQuat=function(A,k,B){var N=B[0],$=B[1],W=B[2],j=k[0],Y=k[1],K=k[2],te=$*K-W*Y,ue=W*j-N*K,ce=N*Y-$*j,oe=$*ce-W*ue,Me=W*te-N*ce,pe=N*ue-$*te,Te=2*B[3];return ue*=Te,ce*=Te,Me*=2,pe*=2,A[0]=j+(te*=Te)+(oe*=2),A[1]=Y+ue+Me,A[2]=K+ce+pe,A},It.rotateX=function(A,k,B,N){var $=[],W=[];return $[0]=k[0]-B[0],$[1]=k[1]-B[1],$[2]=k[2]-B[2],W[0]=$[0],W[1]=$[1]*Math.cos(N)-$[2]*Math.sin(N),W[2]=$[1]*Math.sin(N)+$[2]*Math.cos(N),A[0]=W[0]+B[0],A[1]=W[1]+B[1],A[2]=W[2]+B[2],A},It.rotateY=function(A,k,B,N){var $=[],W=[];return $[0]=k[0]-B[0],$[1]=k[1]-B[1],$[2]=k[2]-B[2],W[0]=$[2]*Math.sin(N)+$[0]*Math.cos(N),W[1]=$[1],W[2]=$[2]*Math.cos(N)-$[0]*Math.sin(N),A[0]=W[0]+B[0],A[1]=W[1]+B[1],A[2]=W[2]+B[2],A},It.rotateZ=function(A,k,B,N){var $=[],W=[];return $[0]=k[0]-B[0],$[1]=k[1]-B[1],$[2]=k[2]-B[2],W[0]=$[0]*Math.cos(N)-$[1]*Math.sin(N),W[1]=$[0]*Math.sin(N)+$[1]*Math.cos(N),W[2]=$[2],A[0]=W[0]+B[0],A[1]=W[1]+B[1],A[2]=W[2]+B[2],A},It.angle=function(A,k){var B=A[0],N=A[1],$=A[2],W=k[0],j=k[1],Y=k[2],K=Math.sqrt(B*B+N*N+$*$)*Math.sqrt(W*W+j*j+Y*Y),te=K&&E(A,k)/K;return Math.acos(Math.min(Math.max(te,-1),1))},It.zero=function(A){return A[0]=0,A[1]=0,A[2]=0,A},It.str=function(A){return"vec3("+A[0]+", "+A[1]+", "+A[2]+")"},It.exactEquals=function(A,k){return A[0]===k[0]&&A[1]===k[1]&&A[2]===k[2]},It.equals=function(A,k){var B=A[0],N=A[1],$=A[2],W=k[0],j=k[1],Y=k[2];return Math.abs(B-W)<=n.EPSILON*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(N-j)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(j))&&Math.abs($-Y)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(Y))},It.forEach=It.sqrLen=It.len=It.sqrDist=It.dist=It.div=It.mul=It.sub=void 0;var n=function(A,k){if(A&&A.__esModule)return A;if(A===null||h(A)!=="object"&&typeof A!="function")return{default:A};var B=o(void 0);if(B&&B.has(A))return B.get(A);var N={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in A)if(W!=="default"&&Object.prototype.hasOwnProperty.call(A,W)){var j=$?Object.getOwnPropertyDescriptor(A,W):null;j&&(j.get||j.set)?Object.defineProperty(N,W,j):N[W]=A[W]}return N.default=A,B&&B.set(A,N),N}(Z());function o(A){if(typeof WeakMap!="function")return null;var k=new WeakMap,B=new WeakMap;return(o=function(N){return N?B:k})(A)}function u(){var A=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0),A}function g(A){return Math.hypot(A[0],A[1],A[2])}function d(A,k,B){return A[0]=k[0]-B[0],A[1]=k[1]-B[1],A[2]=k[2]-B[2],A}function _(A,k,B){return A[0]=k[0]*B[0],A[1]=k[1]*B[1],A[2]=k[2]*B[2],A}function w(A,k,B){return A[0]=k[0]/B[0],A[1]=k[1]/B[1],A[2]=k[2]/B[2],A}function T(A,k){return Math.hypot(k[0]-A[0],k[1]-A[1],k[2]-A[2])}function D(A,k){var B=k[0]-A[0],N=k[1]-A[1],$=k[2]-A[2];return B*B+N*N+$*$}function b(A){var k=A[0],B=A[1],N=A[2];return k*k+B*B+N*N}function E(A,k){return A[0]*k[0]+A[1]*k[1]+A[2]*k[2]}It.sub=d,It.mul=_,It.div=w,It.dist=T,It.sqrDist=D,It.len=g,It.sqrLen=b;var I,S=(I=u(),function(A,k,B,N,$,W){var j,Y;for(k||(k=3),B||(B=0),Y=N?Math.min(N*k+B,A.length):A.length,j=B;j<Y;j+=k)I[0]=A[j],I[1]=A[j+1],I[2]=A[j+2],$(I,I,W),A[j]=I[0],A[j+1]=I[1],A[j+2]=I[2];return A});return It.forEach=S,It}var Oi,Ji,zt={};function Ye(){if(Oi)return zt;function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},h(S)}Oi=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.create=u,zt.clone=function(S){var A=new n.ARRAY_TYPE(4);return A[0]=S[0],A[1]=S[1],A[2]=S[2],A[3]=S[3],A},zt.fromValues=function(S,A,k,B){var N=new n.ARRAY_TYPE(4);return N[0]=S,N[1]=A,N[2]=k,N[3]=B,N},zt.copy=function(S,A){return S[0]=A[0],S[1]=A[1],S[2]=A[2],S[3]=A[3],S},zt.set=function(S,A,k,B,N){return S[0]=A,S[1]=k,S[2]=B,S[3]=N,S},zt.add=function(S,A,k){return S[0]=A[0]+k[0],S[1]=A[1]+k[1],S[2]=A[2]+k[2],S[3]=A[3]+k[3],S},zt.subtract=g,zt.multiply=d,zt.divide=_,zt.ceil=function(S,A){return S[0]=Math.ceil(A[0]),S[1]=Math.ceil(A[1]),S[2]=Math.ceil(A[2]),S[3]=Math.ceil(A[3]),S},zt.floor=function(S,A){return S[0]=Math.floor(A[0]),S[1]=Math.floor(A[1]),S[2]=Math.floor(A[2]),S[3]=Math.floor(A[3]),S},zt.min=function(S,A,k){return S[0]=Math.min(A[0],k[0]),S[1]=Math.min(A[1],k[1]),S[2]=Math.min(A[2],k[2]),S[3]=Math.min(A[3],k[3]),S},zt.max=function(S,A,k){return S[0]=Math.max(A[0],k[0]),S[1]=Math.max(A[1],k[1]),S[2]=Math.max(A[2],k[2]),S[3]=Math.max(A[3],k[3]),S},zt.round=function(S,A){return S[0]=Math.round(A[0]),S[1]=Math.round(A[1]),S[2]=Math.round(A[2]),S[3]=Math.round(A[3]),S},zt.scale=function(S,A,k){return S[0]=A[0]*k,S[1]=A[1]*k,S[2]=A[2]*k,S[3]=A[3]*k,S},zt.scaleAndAdd=function(S,A,k,B){return S[0]=A[0]+k[0]*B,S[1]=A[1]+k[1]*B,S[2]=A[2]+k[2]*B,S[3]=A[3]+k[3]*B,S},zt.distance=w,zt.squaredDistance=T,zt.length=D,zt.squaredLength=b,zt.negate=function(S,A){return S[0]=-A[0],S[1]=-A[1],S[2]=-A[2],S[3]=-A[3],S},zt.inverse=function(S,A){return S[0]=1/A[0],S[1]=1/A[1],S[2]=1/A[2],S[3]=1/A[3],S},zt.normalize=function(S,A){var k=A[0],B=A[1],N=A[2],$=A[3],W=k*k+B*B+N*N+$*$;return W>0&&(W=1/Math.sqrt(W)),S[0]=k*W,S[1]=B*W,S[2]=N*W,S[3]=$*W,S},zt.dot=function(S,A){return S[0]*A[0]+S[1]*A[1]+S[2]*A[2]+S[3]*A[3]},zt.cross=function(S,A,k,B){var N=k[0]*B[1]-k[1]*B[0],$=k[0]*B[2]-k[2]*B[0],W=k[0]*B[3]-k[3]*B[0],j=k[1]*B[2]-k[2]*B[1],Y=k[1]*B[3]-k[3]*B[1],K=k[2]*B[3]-k[3]*B[2],te=A[0],ue=A[1],ce=A[2],oe=A[3];return S[0]=ue*K-ce*Y+oe*j,S[1]=-te*K+ce*W-oe*$,S[2]=te*Y-ue*W+oe*N,S[3]=-te*j+ue*$-ce*N,S},zt.lerp=function(S,A,k,B){var N=A[0],$=A[1],W=A[2],j=A[3];return S[0]=N+B*(k[0]-N),S[1]=$+B*(k[1]-$),S[2]=W+B*(k[2]-W),S[3]=j+B*(k[3]-j),S},zt.random=function(S,A){var k,B,N,$,W,j;A=A||1;do W=(k=2*n.RANDOM()-1)*k+(B=2*n.RANDOM()-1)*B;while(W>=1);do j=(N=2*n.RANDOM()-1)*N+($=2*n.RANDOM()-1)*$;while(j>=1);var Y=Math.sqrt((1-W)/j);return S[0]=A*k,S[1]=A*B,S[2]=A*N*Y,S[3]=A*$*Y,S},zt.transformMat4=function(S,A,k){var B=A[0],N=A[1],$=A[2],W=A[3];return S[0]=k[0]*B+k[4]*N+k[8]*$+k[12]*W,S[1]=k[1]*B+k[5]*N+k[9]*$+k[13]*W,S[2]=k[2]*B+k[6]*N+k[10]*$+k[14]*W,S[3]=k[3]*B+k[7]*N+k[11]*$+k[15]*W,S},zt.transformQuat=function(S,A,k){var B=A[0],N=A[1],$=A[2],W=k[0],j=k[1],Y=k[2],K=k[3],te=K*B+j*$-Y*N,ue=K*N+Y*B-W*$,ce=K*$+W*N-j*B,oe=-W*B-j*N-Y*$;return S[0]=te*K+oe*-W+ue*-Y-ce*-j,S[1]=ue*K+oe*-j+ce*-W-te*-Y,S[2]=ce*K+oe*-Y+te*-j-ue*-W,S[3]=A[3],S},zt.zero=function(S){return S[0]=0,S[1]=0,S[2]=0,S[3]=0,S},zt.str=function(S){return"vec4("+S[0]+", "+S[1]+", "+S[2]+", "+S[3]+")"},zt.exactEquals=function(S,A){return S[0]===A[0]&&S[1]===A[1]&&S[2]===A[2]&&S[3]===A[3]},zt.equals=function(S,A){var k=S[0],B=S[1],N=S[2],$=S[3],W=A[0],j=A[1],Y=A[2],K=A[3];return Math.abs(k-W)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(W))&&Math.abs(B-j)<=n.EPSILON*Math.max(1,Math.abs(B),Math.abs(j))&&Math.abs(N-Y)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(Y))&&Math.abs($-K)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(K))},zt.forEach=zt.sqrLen=zt.len=zt.sqrDist=zt.dist=zt.div=zt.mul=zt.sub=void 0;var n=function(S,A){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var k=o(void 0);if(k&&k.has(S))return k.get(S);var B={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in S)if($!=="default"&&Object.prototype.hasOwnProperty.call(S,$)){var W=N?Object.getOwnPropertyDescriptor(S,$):null;W&&(W.get||W.set)?Object.defineProperty(B,$,W):B[$]=S[$]}return B.default=S,k&&k.set(S,B),B}(Z());function o(S){if(typeof WeakMap!="function")return null;var A=new WeakMap,k=new WeakMap;return(o=function(B){return B?k:A})(S)}function u(){var S=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(S[0]=0,S[1]=0,S[2]=0,S[3]=0),S}function g(S,A,k){return S[0]=A[0]-k[0],S[1]=A[1]-k[1],S[2]=A[2]-k[2],S[3]=A[3]-k[3],S}function d(S,A,k){return S[0]=A[0]*k[0],S[1]=A[1]*k[1],S[2]=A[2]*k[2],S[3]=A[3]*k[3],S}function _(S,A,k){return S[0]=A[0]/k[0],S[1]=A[1]/k[1],S[2]=A[2]/k[2],S[3]=A[3]/k[3],S}function w(S,A){return Math.hypot(A[0]-S[0],A[1]-S[1],A[2]-S[2],A[3]-S[3])}function T(S,A){var k=A[0]-S[0],B=A[1]-S[1],N=A[2]-S[2],$=A[3]-S[3];return k*k+B*B+N*N+$*$}function D(S){return Math.hypot(S[0],S[1],S[2],S[3])}function b(S){var A=S[0],k=S[1],B=S[2],N=S[3];return A*A+k*k+B*B+N*N}zt.sub=g,zt.mul=d,zt.div=_,zt.dist=w,zt.sqrDist=T,zt.len=D,zt.sqrLen=b;var E,I=(E=u(),function(S,A,k,B,N,$){var W,j;for(A||(A=4),k||(k=0),j=B?Math.min(B*A+k,S.length):S.length,W=k;W<j;W+=A)E[0]=S[W],E[1]=S[W+1],E[2]=S[W+2],E[3]=S[W+3],N(E,E,$),S[W]=E[0],S[W+1]=E[1],S[W+2]=E[2],S[W+3]=E[3];return S});return zt.forEach=I,zt}function tt(){if(Ji)return vt;function h(pe){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},h(pe)}Ji=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.create=w,vt.identity=function(pe){return pe[0]=0,pe[1]=0,pe[2]=0,pe[3]=1,pe},vt.setAxisAngle=T,vt.getAxisAngle=function(pe,Te){var Pe=2*Math.acos(Te[3]),Ae=Math.sin(Pe/2);return Ae>n.EPSILON?(pe[0]=Te[0]/Ae,pe[1]=Te[1]/Ae,pe[2]=Te[2]/Ae):(pe[0]=1,pe[1]=0,pe[2]=0),Pe},vt.getAngle=function(pe,Te){var Pe=k(pe,Te);return Math.acos(2*Pe*Pe-1)},vt.multiply=D,vt.rotateX=function(pe,Te,Pe){Pe*=.5;var Ae=Te[0],ke=Te[1],Ve=Te[2],He=Te[3],Be=Math.sin(Pe),Ke=Math.cos(Pe);return pe[0]=Ae*Ke+He*Be,pe[1]=ke*Ke+Ve*Be,pe[2]=Ve*Ke-ke*Be,pe[3]=He*Ke-Ae*Be,pe},vt.rotateY=function(pe,Te,Pe){Pe*=.5;var Ae=Te[0],ke=Te[1],Ve=Te[2],He=Te[3],Be=Math.sin(Pe),Ke=Math.cos(Pe);return pe[0]=Ae*Ke-Ve*Be,pe[1]=ke*Ke+He*Be,pe[2]=Ve*Ke+Ae*Be,pe[3]=He*Ke-ke*Be,pe},vt.rotateZ=function(pe,Te,Pe){Pe*=.5;var Ae=Te[0],ke=Te[1],Ve=Te[2],He=Te[3],Be=Math.sin(Pe),Ke=Math.cos(Pe);return pe[0]=Ae*Ke+ke*Be,pe[1]=ke*Ke-Ae*Be,pe[2]=Ve*Ke+He*Be,pe[3]=He*Ke-Ve*Be,pe},vt.calculateW=function(pe,Te){var Pe=Te[0],Ae=Te[1],ke=Te[2];return pe[0]=Pe,pe[1]=Ae,pe[2]=ke,pe[3]=Math.sqrt(Math.abs(1-Pe*Pe-Ae*Ae-ke*ke)),pe},vt.exp=b,vt.ln=E,vt.pow=function(pe,Te,Pe){return E(pe,Te),A(pe,pe,Pe),b(pe,pe),pe},vt.slerp=I,vt.random=function(pe){var Te=n.RANDOM(),Pe=n.RANDOM(),Ae=n.RANDOM(),ke=Math.sqrt(1-Te),Ve=Math.sqrt(Te);return pe[0]=ke*Math.sin(2*Math.PI*Pe),pe[1]=ke*Math.cos(2*Math.PI*Pe),pe[2]=Ve*Math.sin(2*Math.PI*Ae),pe[3]=Ve*Math.cos(2*Math.PI*Ae),pe},vt.invert=function(pe,Te){var Pe=Te[0],Ae=Te[1],ke=Te[2],Ve=Te[3],He=Pe*Pe+Ae*Ae+ke*ke+Ve*Ve,Be=He?1/He:0;return pe[0]=-Pe*Be,pe[1]=-Ae*Be,pe[2]=-ke*Be,pe[3]=Ve*Be,pe},vt.conjugate=function(pe,Te){return pe[0]=-Te[0],pe[1]=-Te[1],pe[2]=-Te[2],pe[3]=Te[3],pe},vt.fromMat3=S,vt.fromEuler=function(pe,Te,Pe,Ae){var ke=.5*Math.PI/180;Te*=ke,Pe*=ke,Ae*=ke;var Ve=Math.sin(Te),He=Math.cos(Te),Be=Math.sin(Pe),Ke=Math.cos(Pe),ft=Math.sin(Ae),Qe=Math.cos(Ae);return pe[0]=Ve*Ke*Qe-He*Be*ft,pe[1]=He*Be*Qe+Ve*Ke*ft,pe[2]=He*Ke*ft-Ve*Be*Qe,pe[3]=He*Ke*Qe+Ve*Be*ft,pe},vt.str=function(pe){return"quat("+pe[0]+", "+pe[1]+", "+pe[2]+", "+pe[3]+")"},vt.setAxes=vt.sqlerp=vt.rotationTo=vt.equals=vt.exactEquals=vt.normalize=vt.sqrLen=vt.squaredLength=vt.len=vt.length=vt.lerp=vt.dot=vt.scale=vt.mul=vt.add=vt.set=vt.copy=vt.fromValues=vt.clone=void 0;var n=_(Z()),o=_(gt()),u=_(Qt()),g=_(Ye());function d(pe){if(typeof WeakMap!="function")return null;var Te=new WeakMap,Pe=new WeakMap;return(d=function(Ae){return Ae?Pe:Te})(pe)}function _(pe,Te){if(pe&&pe.__esModule)return pe;if(pe===null||h(pe)!=="object"&&typeof pe!="function")return{default:pe};var Pe=d(Te);if(Pe&&Pe.has(pe))return Pe.get(pe);var Ae={},ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ve in pe)if(Ve!=="default"&&Object.prototype.hasOwnProperty.call(pe,Ve)){var He=ke?Object.getOwnPropertyDescriptor(pe,Ve):null;He&&(He.get||He.set)?Object.defineProperty(Ae,Ve,He):Ae[Ve]=pe[Ve]}return Ae.default=pe,Pe&&Pe.set(pe,Ae),Ae}function w(){var pe=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(pe[0]=0,pe[1]=0,pe[2]=0),pe[3]=1,pe}function T(pe,Te,Pe){Pe*=.5;var Ae=Math.sin(Pe);return pe[0]=Ae*Te[0],pe[1]=Ae*Te[1],pe[2]=Ae*Te[2],pe[3]=Math.cos(Pe),pe}function D(pe,Te,Pe){var Ae=Te[0],ke=Te[1],Ve=Te[2],He=Te[3],Be=Pe[0],Ke=Pe[1],ft=Pe[2],Qe=Pe[3];return pe[0]=Ae*Qe+He*Be+ke*ft-Ve*Ke,pe[1]=ke*Qe+He*Ke+Ve*Be-Ae*ft,pe[2]=Ve*Qe+He*ft+Ae*Ke-ke*Be,pe[3]=He*Qe-Ae*Be-ke*Ke-Ve*ft,pe}function b(pe,Te){var Pe=Te[0],Ae=Te[1],ke=Te[2],Ve=Te[3],He=Math.sqrt(Pe*Pe+Ae*Ae+ke*ke),Be=Math.exp(Ve),Ke=He>0?Be*Math.sin(He)/He:0;return pe[0]=Pe*Ke,pe[1]=Ae*Ke,pe[2]=ke*Ke,pe[3]=Be*Math.cos(He),pe}function E(pe,Te){var Pe=Te[0],Ae=Te[1],ke=Te[2],Ve=Te[3],He=Math.sqrt(Pe*Pe+Ae*Ae+ke*ke),Be=He>0?Math.atan2(He,Ve)/He:0;return pe[0]=Pe*Be,pe[1]=Ae*Be,pe[2]=ke*Be,pe[3]=.5*Math.log(Pe*Pe+Ae*Ae+ke*ke+Ve*Ve),pe}function I(pe,Te,Pe,Ae){var ke,Ve,He,Be,Ke,ft=Te[0],Qe=Te[1],St=Te[2],Mt=Te[3],Pt=Pe[0],ot=Pe[1],Ut=Pe[2],Et=Pe[3];return(Ve=ft*Pt+Qe*ot+St*Ut+Mt*Et)<0&&(Ve=-Ve,Pt=-Pt,ot=-ot,Ut=-Ut,Et=-Et),1-Ve>n.EPSILON?(ke=Math.acos(Ve),He=Math.sin(ke),Be=Math.sin((1-Ae)*ke)/He,Ke=Math.sin(Ae*ke)/He):(Be=1-Ae,Ke=Ae),pe[0]=Be*ft+Ke*Pt,pe[1]=Be*Qe+Ke*ot,pe[2]=Be*St+Ke*Ut,pe[3]=Be*Mt+Ke*Et,pe}function S(pe,Te){var Pe,Ae=Te[0]+Te[4]+Te[8];if(Ae>0)Pe=Math.sqrt(Ae+1),pe[3]=.5*Pe,pe[0]=(Te[5]-Te[7])*(Pe=.5/Pe),pe[1]=(Te[6]-Te[2])*Pe,pe[2]=(Te[1]-Te[3])*Pe;else{var ke=0;Te[4]>Te[0]&&(ke=1),Te[8]>Te[3*ke+ke]&&(ke=2);var Ve=(ke+1)%3,He=(ke+2)%3;Pe=Math.sqrt(Te[3*ke+ke]-Te[3*Ve+Ve]-Te[3*He+He]+1),pe[ke]=.5*Pe,pe[3]=(Te[3*Ve+He]-Te[3*He+Ve])*(Pe=.5/Pe),pe[Ve]=(Te[3*Ve+ke]+Te[3*ke+Ve])*Pe,pe[He]=(Te[3*He+ke]+Te[3*ke+He])*Pe}return pe}vt.clone=g.clone,vt.fromValues=g.fromValues,vt.copy=g.copy,vt.set=g.set,vt.add=g.add,vt.mul=D;var A=g.scale;vt.scale=A;var k=g.dot;vt.dot=k,vt.lerp=g.lerp;var B=g.length;vt.length=B,vt.len=B;var N=g.squaredLength;vt.squaredLength=N,vt.sqrLen=N;var $=g.normalize;vt.normalize=$,vt.exactEquals=g.exactEquals,vt.equals=g.equals;var W,j,Y,K=(W=u.create(),j=u.fromValues(1,0,0),Y=u.fromValues(0,1,0),function(pe,Te,Pe){var Ae=u.dot(Te,Pe);return Ae<-.999999?(u.cross(W,j,Te),u.len(W)<1e-6&&u.cross(W,Y,Te),u.normalize(W,W),T(pe,W,Math.PI),pe):Ae>.999999?(pe[0]=0,pe[1]=0,pe[2]=0,pe[3]=1,pe):(u.cross(W,Te,Pe),pe[0]=W[0],pe[1]=W[1],pe[2]=W[2],pe[3]=1+Ae,$(pe,pe))});vt.rotationTo=K;var te,ue,ce=(te=w(),ue=w(),function(pe,Te,Pe,Ae,ke,Ve){return I(te,Te,ke,Ve),I(ue,Pe,Ae,Ve),I(pe,te,ue,2*Ve*(1-Ve)),pe});vt.sqlerp=ce;var oe,Me=(oe=o.create(),function(pe,Te,Pe,Ae){return oe[0]=Pe[0],oe[3]=Pe[1],oe[6]=Pe[2],oe[1]=Ae[0],oe[4]=Ae[1],oe[7]=Ae[2],oe[2]=-Te[0],oe[5]=-Te[1],oe[8]=-Te[2],$(pe,S(pe,oe))});return vt.setAxes=Me,vt}var ut,dt={};function Gt(){if(ut)return dt;function h(I){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(I)}ut=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.create=function(){var I=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0,I[4]=0,I[5]=0,I[6]=0,I[7]=0),I[3]=1,I},dt.clone=function(I){var S=new n.ARRAY_TYPE(8);return S[0]=I[0],S[1]=I[1],S[2]=I[2],S[3]=I[3],S[4]=I[4],S[5]=I[5],S[6]=I[6],S[7]=I[7],S},dt.fromValues=function(I,S,A,k,B,N,$,W){var j=new n.ARRAY_TYPE(8);return j[0]=I,j[1]=S,j[2]=A,j[3]=k,j[4]=B,j[5]=N,j[6]=$,j[7]=W,j},dt.fromRotationTranslationValues=function(I,S,A,k,B,N,$){var W=new n.ARRAY_TYPE(8);W[0]=I,W[1]=S,W[2]=A,W[3]=k;var j=.5*B,Y=.5*N,K=.5*$;return W[4]=j*k+Y*A-K*S,W[5]=Y*k+K*I-j*A,W[6]=K*k+j*S-Y*I,W[7]=-j*I-Y*S-K*A,W},dt.fromRotationTranslation=_,dt.fromTranslation=function(I,S){return I[0]=0,I[1]=0,I[2]=0,I[3]=1,I[4]=.5*S[0],I[5]=.5*S[1],I[6]=.5*S[2],I[7]=0,I},dt.fromRotation=function(I,S){return I[0]=S[0],I[1]=S[1],I[2]=S[2],I[3]=S[3],I[4]=0,I[5]=0,I[6]=0,I[7]=0,I},dt.fromMat4=function(I,S){var A=o.create();u.getRotation(A,S);var k=new n.ARRAY_TYPE(3);return u.getTranslation(k,S),_(I,A,k),I},dt.copy=w,dt.identity=function(I){return I[0]=0,I[1]=0,I[2]=0,I[3]=1,I[4]=0,I[5]=0,I[6]=0,I[7]=0,I},dt.set=function(I,S,A,k,B,N,$,W,j){return I[0]=S,I[1]=A,I[2]=k,I[3]=B,I[4]=N,I[5]=$,I[6]=W,I[7]=j,I},dt.getDual=function(I,S){return I[0]=S[4],I[1]=S[5],I[2]=S[6],I[3]=S[7],I},dt.setDual=function(I,S){return I[4]=S[0],I[5]=S[1],I[6]=S[2],I[7]=S[3],I},dt.getTranslation=function(I,S){var A=S[4],k=S[5],B=S[6],N=S[7],$=-S[0],W=-S[1],j=-S[2],Y=S[3];return I[0]=2*(A*Y+N*$+k*j-B*W),I[1]=2*(k*Y+N*W+B*$-A*j),I[2]=2*(B*Y+N*j+A*W-k*$),I},dt.translate=function(I,S,A){var k=S[0],B=S[1],N=S[2],$=S[3],W=.5*A[0],j=.5*A[1],Y=.5*A[2],K=S[4],te=S[5],ue=S[6],ce=S[7];return I[0]=k,I[1]=B,I[2]=N,I[3]=$,I[4]=$*W+B*Y-N*j+K,I[5]=$*j+N*W-k*Y+te,I[6]=$*Y+k*j-B*W+ue,I[7]=-k*W-B*j-N*Y+ce,I},dt.rotateX=function(I,S,A){var k=-S[0],B=-S[1],N=-S[2],$=S[3],W=S[4],j=S[5],Y=S[6],K=S[7],te=W*$+K*k+j*N-Y*B,ue=j*$+K*B+Y*k-W*N,ce=Y*$+K*N+W*B-j*k,oe=K*$-W*k-j*B-Y*N;return o.rotateX(I,S,A),I[4]=te*($=I[3])+oe*(k=I[0])+ue*(N=I[2])-ce*(B=I[1]),I[5]=ue*$+oe*B+ce*k-te*N,I[6]=ce*$+oe*N+te*B-ue*k,I[7]=oe*$-te*k-ue*B-ce*N,I},dt.rotateY=function(I,S,A){var k=-S[0],B=-S[1],N=-S[2],$=S[3],W=S[4],j=S[5],Y=S[6],K=S[7],te=W*$+K*k+j*N-Y*B,ue=j*$+K*B+Y*k-W*N,ce=Y*$+K*N+W*B-j*k,oe=K*$-W*k-j*B-Y*N;return o.rotateY(I,S,A),I[4]=te*($=I[3])+oe*(k=I[0])+ue*(N=I[2])-ce*(B=I[1]),I[5]=ue*$+oe*B+ce*k-te*N,I[6]=ce*$+oe*N+te*B-ue*k,I[7]=oe*$-te*k-ue*B-ce*N,I},dt.rotateZ=function(I,S,A){var k=-S[0],B=-S[1],N=-S[2],$=S[3],W=S[4],j=S[5],Y=S[6],K=S[7],te=W*$+K*k+j*N-Y*B,ue=j*$+K*B+Y*k-W*N,ce=Y*$+K*N+W*B-j*k,oe=K*$-W*k-j*B-Y*N;return o.rotateZ(I,S,A),I[4]=te*($=I[3])+oe*(k=I[0])+ue*(N=I[2])-ce*(B=I[1]),I[5]=ue*$+oe*B+ce*k-te*N,I[6]=ce*$+oe*N+te*B-ue*k,I[7]=oe*$-te*k-ue*B-ce*N,I},dt.rotateByQuatAppend=function(I,S,A){var k=A[0],B=A[1],N=A[2],$=A[3],W=S[0],j=S[1],Y=S[2],K=S[3];return I[0]=W*$+K*k+j*N-Y*B,I[1]=j*$+K*B+Y*k-W*N,I[2]=Y*$+K*N+W*B-j*k,I[3]=K*$-W*k-j*B-Y*N,I[4]=(W=S[4])*$+(K=S[7])*k+(j=S[5])*N-(Y=S[6])*B,I[5]=j*$+K*B+Y*k-W*N,I[6]=Y*$+K*N+W*B-j*k,I[7]=K*$-W*k-j*B-Y*N,I},dt.rotateByQuatPrepend=function(I,S,A){var k=S[0],B=S[1],N=S[2],$=S[3],W=A[0],j=A[1],Y=A[2],K=A[3];return I[0]=k*K+$*W+B*Y-N*j,I[1]=B*K+$*j+N*W-k*Y,I[2]=N*K+$*Y+k*j-B*W,I[3]=$*K-k*W-B*j-N*Y,I[4]=k*(K=A[7])+$*(W=A[4])+B*(Y=A[6])-N*(j=A[5]),I[5]=B*K+$*j+N*W-k*Y,I[6]=N*K+$*Y+k*j-B*W,I[7]=$*K-k*W-B*j-N*Y,I},dt.rotateAroundAxis=function(I,S,A,k){if(Math.abs(k)<n.EPSILON)return w(I,S);var B=Math.hypot(A[0],A[1],A[2]);k*=.5;var N=Math.sin(k),$=N*A[0]/B,W=N*A[1]/B,j=N*A[2]/B,Y=Math.cos(k),K=S[0],te=S[1],ue=S[2],ce=S[3];I[0]=K*Y+ce*$+te*j-ue*W,I[1]=te*Y+ce*W+ue*$-K*j,I[2]=ue*Y+ce*j+K*W-te*$,I[3]=ce*Y-K*$-te*W-ue*j;var oe=S[4],Me=S[5],pe=S[6],Te=S[7];return I[4]=oe*Y+Te*$+Me*j-pe*W,I[5]=Me*Y+Te*W+pe*$-oe*j,I[6]=pe*Y+Te*j+oe*W-Me*$,I[7]=Te*Y-oe*$-Me*W-pe*j,I},dt.add=function(I,S,A){return I[0]=S[0]+A[0],I[1]=S[1]+A[1],I[2]=S[2]+A[2],I[3]=S[3]+A[3],I[4]=S[4]+A[4],I[5]=S[5]+A[5],I[6]=S[6]+A[6],I[7]=S[7]+A[7],I},dt.multiply=T,dt.scale=function(I,S,A){return I[0]=S[0]*A,I[1]=S[1]*A,I[2]=S[2]*A,I[3]=S[3]*A,I[4]=S[4]*A,I[5]=S[5]*A,I[6]=S[6]*A,I[7]=S[7]*A,I},dt.lerp=function(I,S,A,k){var B=1-k;return D(S,A)<0&&(k=-k),I[0]=S[0]*B+A[0]*k,I[1]=S[1]*B+A[1]*k,I[2]=S[2]*B+A[2]*k,I[3]=S[3]*B+A[3]*k,I[4]=S[4]*B+A[4]*k,I[5]=S[5]*B+A[5]*k,I[6]=S[6]*B+A[6]*k,I[7]=S[7]*B+A[7]*k,I},dt.invert=function(I,S){var A=E(S);return I[0]=-S[0]/A,I[1]=-S[1]/A,I[2]=-S[2]/A,I[3]=S[3]/A,I[4]=-S[4]/A,I[5]=-S[5]/A,I[6]=-S[6]/A,I[7]=S[7]/A,I},dt.conjugate=function(I,S){return I[0]=-S[0],I[1]=-S[1],I[2]=-S[2],I[3]=S[3],I[4]=-S[4],I[5]=-S[5],I[6]=-S[6],I[7]=S[7],I},dt.normalize=function(I,S){var A=E(S);if(A>0){A=Math.sqrt(A);var k=S[0]/A,B=S[1]/A,N=S[2]/A,$=S[3]/A,W=S[4],j=S[5],Y=S[6],K=S[7],te=k*W+B*j+N*Y+$*K;I[0]=k,I[1]=B,I[2]=N,I[3]=$,I[4]=(W-k*te)/A,I[5]=(j-B*te)/A,I[6]=(Y-N*te)/A,I[7]=(K-$*te)/A}return I},dt.str=function(I){return"quat2("+I[0]+", "+I[1]+", "+I[2]+", "+I[3]+", "+I[4]+", "+I[5]+", "+I[6]+", "+I[7]+")"},dt.exactEquals=function(I,S){return I[0]===S[0]&&I[1]===S[1]&&I[2]===S[2]&&I[3]===S[3]&&I[4]===S[4]&&I[5]===S[5]&&I[6]===S[6]&&I[7]===S[7]},dt.equals=function(I,S){var A=I[0],k=I[1],B=I[2],N=I[3],$=I[4],W=I[5],j=I[6],Y=I[7],K=S[0],te=S[1],ue=S[2],ce=S[3],oe=S[4],Me=S[5],pe=S[6],Te=S[7];return Math.abs(A-K)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(K))&&Math.abs(k-te)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(te))&&Math.abs(B-ue)<=n.EPSILON*Math.max(1,Math.abs(B),Math.abs(ue))&&Math.abs(N-ce)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(ce))&&Math.abs($-oe)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(oe))&&Math.abs(W-Me)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(Me))&&Math.abs(j-pe)<=n.EPSILON*Math.max(1,Math.abs(j),Math.abs(pe))&&Math.abs(Y-Te)<=n.EPSILON*Math.max(1,Math.abs(Y),Math.abs(Te))},dt.sqrLen=dt.squaredLength=dt.len=dt.length=dt.dot=dt.mul=dt.setReal=dt.getReal=void 0;var n=d(Z()),o=d(tt()),u=d(_t());function g(I){if(typeof WeakMap!="function")return null;var S=new WeakMap,A=new WeakMap;return(g=function(k){return k?A:S})(I)}function d(I,S){if(I&&I.__esModule)return I;if(I===null||h(I)!=="object"&&typeof I!="function")return{default:I};var A=g(S);if(A&&A.has(I))return A.get(I);var k={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in I)if(N!=="default"&&Object.prototype.hasOwnProperty.call(I,N)){var $=B?Object.getOwnPropertyDescriptor(I,N):null;$&&($.get||$.set)?Object.defineProperty(k,N,$):k[N]=I[N]}return k.default=I,A&&A.set(I,k),k}function _(I,S,A){var k=.5*A[0],B=.5*A[1],N=.5*A[2],$=S[0],W=S[1],j=S[2],Y=S[3];return I[0]=$,I[1]=W,I[2]=j,I[3]=Y,I[4]=k*Y+B*j-N*W,I[5]=B*Y+N*$-k*j,I[6]=N*Y+k*W-B*$,I[7]=-k*$-B*W-N*j,I}function w(I,S){return I[0]=S[0],I[1]=S[1],I[2]=S[2],I[3]=S[3],I[4]=S[4],I[5]=S[5],I[6]=S[6],I[7]=S[7],I}function T(I,S,A){var k=S[0],B=S[1],N=S[2],$=S[3],W=A[4],j=A[5],Y=A[6],K=A[7],te=S[4],ue=S[5],ce=S[6],oe=S[7],Me=A[0],pe=A[1],Te=A[2],Pe=A[3];return I[0]=k*Pe+$*Me+B*Te-N*pe,I[1]=B*Pe+$*pe+N*Me-k*Te,I[2]=N*Pe+$*Te+k*pe-B*Me,I[3]=$*Pe-k*Me-B*pe-N*Te,I[4]=k*K+$*W+B*Y-N*j+te*Pe+oe*Me+ue*Te-ce*pe,I[5]=B*K+$*j+N*W-k*Y+ue*Pe+oe*pe+ce*Me-te*Te,I[6]=N*K+$*Y+k*j-B*W+ce*Pe+oe*Te+te*pe-ue*Me,I[7]=$*K-k*W-B*j-N*Y+oe*Pe-te*Me-ue*pe-ce*Te,I}dt.getReal=o.copy,dt.setReal=o.copy,dt.mul=T;var D=o.dot;dt.dot=D;var b=o.length;dt.length=b,dt.len=b;var E=o.squaredLength;return dt.squaredLength=E,dt.sqrLen=E,dt}var Kt,_i,jt={};function kn(){if(Kt)return jt;function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},h(S)}Kt=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.create=u,jt.clone=function(S){var A=new n.ARRAY_TYPE(2);return A[0]=S[0],A[1]=S[1],A},jt.fromValues=function(S,A){var k=new n.ARRAY_TYPE(2);return k[0]=S,k[1]=A,k},jt.copy=function(S,A){return S[0]=A[0],S[1]=A[1],S},jt.set=function(S,A,k){return S[0]=A,S[1]=k,S},jt.add=function(S,A,k){return S[0]=A[0]+k[0],S[1]=A[1]+k[1],S},jt.subtract=g,jt.multiply=d,jt.divide=_,jt.ceil=function(S,A){return S[0]=Math.ceil(A[0]),S[1]=Math.ceil(A[1]),S},jt.floor=function(S,A){return S[0]=Math.floor(A[0]),S[1]=Math.floor(A[1]),S},jt.min=function(S,A,k){return S[0]=Math.min(A[0],k[0]),S[1]=Math.min(A[1],k[1]),S},jt.max=function(S,A,k){return S[0]=Math.max(A[0],k[0]),S[1]=Math.max(A[1],k[1]),S},jt.round=function(S,A){return S[0]=Math.round(A[0]),S[1]=Math.round(A[1]),S},jt.scale=function(S,A,k){return S[0]=A[0]*k,S[1]=A[1]*k,S},jt.scaleAndAdd=function(S,A,k,B){return S[0]=A[0]+k[0]*B,S[1]=A[1]+k[1]*B,S},jt.distance=w,jt.squaredDistance=T,jt.length=D,jt.squaredLength=b,jt.negate=function(S,A){return S[0]=-A[0],S[1]=-A[1],S},jt.inverse=function(S,A){return S[0]=1/A[0],S[1]=1/A[1],S},jt.normalize=function(S,A){var k=A[0],B=A[1],N=k*k+B*B;return N>0&&(N=1/Math.sqrt(N)),S[0]=A[0]*N,S[1]=A[1]*N,S},jt.dot=function(S,A){return S[0]*A[0]+S[1]*A[1]},jt.cross=function(S,A,k){var B=A[0]*k[1]-A[1]*k[0];return S[0]=S[1]=0,S[2]=B,S},jt.lerp=function(S,A,k,B){var N=A[0],$=A[1];return S[0]=N+B*(k[0]-N),S[1]=$+B*(k[1]-$),S},jt.random=function(S,A){A=A||1;var k=2*n.RANDOM()*Math.PI;return S[0]=Math.cos(k)*A,S[1]=Math.sin(k)*A,S},jt.transformMat2=function(S,A,k){var B=A[0],N=A[1];return S[0]=k[0]*B+k[2]*N,S[1]=k[1]*B+k[3]*N,S},jt.transformMat2d=function(S,A,k){var B=A[0],N=A[1];return S[0]=k[0]*B+k[2]*N+k[4],S[1]=k[1]*B+k[3]*N+k[5],S},jt.transformMat3=function(S,A,k){var B=A[0],N=A[1];return S[0]=k[0]*B+k[3]*N+k[6],S[1]=k[1]*B+k[4]*N+k[7],S},jt.transformMat4=function(S,A,k){var B=A[0],N=A[1];return S[0]=k[0]*B+k[4]*N+k[12],S[1]=k[1]*B+k[5]*N+k[13],S},jt.rotate=function(S,A,k,B){var N=A[0]-k[0],$=A[1]-k[1],W=Math.sin(B),j=Math.cos(B);return S[0]=N*j-$*W+k[0],S[1]=N*W+$*j+k[1],S},jt.angle=function(S,A){var k=S[0],B=S[1],N=A[0],$=A[1],W=Math.sqrt(k*k+B*B)*Math.sqrt(N*N+$*$);return Math.acos(Math.min(Math.max(W&&(k*N+B*$)/W,-1),1))},jt.zero=function(S){return S[0]=0,S[1]=0,S},jt.str=function(S){return"vec2("+S[0]+", "+S[1]+")"},jt.exactEquals=function(S,A){return S[0]===A[0]&&S[1]===A[1]},jt.equals=function(S,A){var k=S[0],B=S[1],N=A[0],$=A[1];return Math.abs(k-N)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(N))&&Math.abs(B-$)<=n.EPSILON*Math.max(1,Math.abs(B),Math.abs($))},jt.forEach=jt.sqrLen=jt.sqrDist=jt.dist=jt.div=jt.mul=jt.sub=jt.len=void 0;var n=function(S,A){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var k=o(void 0);if(k&&k.has(S))return k.get(S);var B={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in S)if($!=="default"&&Object.prototype.hasOwnProperty.call(S,$)){var W=N?Object.getOwnPropertyDescriptor(S,$):null;W&&(W.get||W.set)?Object.defineProperty(B,$,W):B[$]=S[$]}return B.default=S,k&&k.set(S,B),B}(Z());function o(S){if(typeof WeakMap!="function")return null;var A=new WeakMap,k=new WeakMap;return(o=function(B){return B?k:A})(S)}function u(){var S=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(S[0]=0,S[1]=0),S}function g(S,A,k){return S[0]=A[0]-k[0],S[1]=A[1]-k[1],S}function d(S,A,k){return S[0]=A[0]*k[0],S[1]=A[1]*k[1],S}function _(S,A,k){return S[0]=A[0]/k[0],S[1]=A[1]/k[1],S}function w(S,A){return Math.hypot(A[0]-S[0],A[1]-S[1])}function T(S,A){var k=A[0]-S[0],B=A[1]-S[1];return k*k+B*B}function D(S){return Math.hypot(S[0],S[1])}function b(S){var A=S[0],k=S[1];return A*A+k*k}jt.len=D,jt.sub=g,jt.mul=d,jt.div=_,jt.dist=w,jt.sqrDist=T,jt.sqrLen=b;var E,I=(E=u(),function(S,A,k,B,N,$){var W,j;for(A||(A=2),k||(k=0),j=B?Math.min(B*A+k,S.length):S.length,W=k;W<j;W+=A)E[0]=S[W],E[1]=S[W+1],N(E,E,$),S[W]=E[0],S[W+1]=E[1];return S});return jt.forEach=I,jt}function In(){if(_i)return V;function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},h(S)}_i=1,Object.defineProperty(V,"__esModule",{value:!0}),V.vec4=V.vec3=V.vec2=V.quat2=V.quat=V.mat4=V.mat3=V.mat2d=V.mat2=V.glMatrix=void 0;var n=I(Z());V.glMatrix=n;var o=I(he());V.mat2=o;var u=I(Ze());V.mat2d=u;var g=I(gt());V.mat3=g;var d=I(_t());V.mat4=d;var _=I(tt());V.quat=_;var w=I(Gt());V.quat2=w;var T=I(kn());V.vec2=T;var D=I(Qt());V.vec3=D;var b=I(Ye());function E(S){if(typeof WeakMap!="function")return null;var A=new WeakMap,k=new WeakMap;return(E=function(B){return B?k:A})(S)}function I(S,A){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var k=E(A);if(k&&k.has(S))return k.get(S);var B={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in S)if($!=="default"&&Object.prototype.hasOwnProperty.call(S,$)){var W=N?Object.getOwnPropertyDescriptor(S,$):null;W&&(W.get||W.set)?Object.defineProperty(B,$,W):B[$]=S[$]}return B.default=S,k&&k.set(S,B),B}return V.vec4=b,V}var Pi,Hn,sn,ji,Ie=In(),Br=function(){if(Hn)return Pi;function h(n,o,u,g){this.cx=3*n,this.bx=3*(u-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(g-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=o,this.p2x=u,this.p2y=g}return Hn=1,Pi=h,h.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,o){if(o===void 0&&(o=1e-6),n<0)return 0;if(n>1)return 1;for(var u=n,g=0;g<8;g++){var d=this.sampleCurveX(u)-n;if(Math.abs(d)<o)return u;var _=this.sampleCurveDerivativeX(u);if(Math.abs(_)<1e-6)break;u-=d/_}var w=0,T=1;for(u=n,g=0;g<20&&(d=this.sampleCurveX(u),!(Math.abs(d-n)<o));g++)n>d?w=u:T=u,u=.5*(T-w)+w;return u},solve:function(n,o){return this.sampleCurveY(this.solveCurveX(n,o))}},Pi}(),$r=L(Br);function xa(){if(ji)return sn;function h(n,o){this.x=n,this.y=o}return ji=1,sn=h,h.prototype={clone:function(){return new h(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,o){return this.clone()._rotateAround(n,o)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var o=n.x-this.x,u=n.y-this.y;return o*o+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,o){return Math.atan2(this.x*o-this.y*n,this.x*n+this.y*o)},_matMult:function(n){var o=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=o,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var o=Math.cos(n),u=Math.sin(n),g=u*this.x+o*this.y;return this.x=o*this.x-u*this.y,this.y=g,this},_rotateAround:function(n,o){var u=Math.cos(n),g=Math.sin(n),d=o.y+g*(this.x-o.x)+u*(this.y-o.y);return this.x=o.x+u*(this.x-o.x)-g*(this.y-o.y),this.y=d,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},h.convert=function(n){return n instanceof h?n:Array.isArray(n)?new h(n[0],n[1]):n},sn}var Ct=L(xa());function is(h,n){if(Array.isArray(h)){if(!Array.isArray(n)||h.length!==n.length)return!1;for(let o=0;o<h.length;o++)if(!is(h[o],n[o]))return!1;return!0}if(typeof h=="object"&&h!==null&&n!==null){if(typeof n!="object"||Object.keys(h).length!==Object.keys(n).length)return!1;for(const o in h)if(!is(h[o],n[o]))return!1;return!0}return h===n}const yr=Math.PI/180,Is=180/Math.PI;function Mi(h){return h*yr}function Wn(h){return h*Is}const ws=[[0,0],[1,0],[1,1],[0,1]];function za(h){if(h<=0)return 0;if(h>=1)return 1;const n=h*h,o=n*h;return 4*(h<.5?o:3*(h-n)+o-.75)}function Ys(h,n,o,u){const g=new $r(h,n,o,u);return function(d){return g.solve(d)}}const ba=Ys(.25,.1,.25,1);function li(h,n,o){return Math.min(o,Math.max(n,h))}function Xs(h,n,o){return(o=li((o-h)/(n-h),0,1))*o*(3-2*o)}function Ks(h,n,o){const u=o-n,g=((h-n)%u+u)%u+n;return g===n?o:g}function wa(h,n,o){if(!h.length)return o(null,[]);let u=h.length;const g=new Array(h.length);let d=null;h.forEach((_,w)=>{n(_,(T,D)=>{T&&(d=T),g[w]=D,--u==0&&o(d,g)})})}function Sr(h,...n){for(const o of n)for(const u in o)h[u]=o[u];return h}let Gr=1;function $o(){return Gr++}function Go(h){return h<=1?1:Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))}function Fa(h,n){h.forEach(o=>{n[o]&&(n[o]=n[o].bind(n))})}function Js(h,n){return h.indexOf(n,h.length-n.length)!==-1}function Ba(h,n,o){const u={};for(const g in h)u[g]=n.call(this,h[g],g,h);return u}function Tn(h,n,o){const u={};for(const g in h)n.call(this,h[g],g,h)&&(u[g]=h[g]);return u}function Wr(h){return Array.isArray(h)?h.map(Wr):typeof h=="object"&&h?Ba(h,Wr):h}const Na={};function yi(h){Na[h]||(typeof console<"u"&&console.warn(h),Na[h]=!0)}function ns(h,n,o){return(o.y-h.y)*(n.x-h.x)>(n.y-h.y)*(o.x-h.x)}function fo(h){let n=0;for(let o,u,g=0,d=h.length,_=d-1;g<d;_=g++)o=h[g],u=h[_],n+=(u.x-o.x)*(o.y+u.y);return n}function qn([h,n,o]){const u=Mi(n+90),g=Mi(o);return{x:h*Math.cos(u)*Math.sin(g),y:h*Math.sin(u)*Math.sin(g),z:h*Math.cos(g),azimuthal:n,polar:o}}function Va(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Wo(h){const n={};if(h.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,u,g,d)=>{const _=g||d;return n[u]=!_||_.toLowerCase(),""}),n["max-age"]){const o=parseInt(n["max-age"],10);isNaN(o)?delete n["max-age"]:n["max-age"]=o}return n}let Ce=null;function ze(h,n){return[h[4*n],h[4*n+1],h[4*n+2],h[4*n+3]]}function st(h,n,o,u){for(;n<o;){const g=n+o>>1;h[g]<u?n=g+1:o=g}return n}function xe(h,n,o,u){for(;n<o;){const g=n+o>>1;h[g]<=u?n=g+1:o=g}return n}function X(h){return h>0?1/(1.001-h):1+h}function re(h){return h>0?1-1/(1.001-h):-h}const le={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!le.API_URL)return null;try{const h=new URL(le.API_URL);return h.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":h.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function me(h){return le.API_URL_REGEX.test(h)}function ye(h){return le.API_SPRITE_REGEX.test(h)}let Se,Fe,Re,$e,We,Je;function mt(){return Se==null&&(Se=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Se}const Dt={now:()=>$e!==void 0?$e:performance.now(),setNow(h){$e=h},restoreNow(){$e=void 0},frame(h){const n=requestAnimationFrame(h);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(h,n=0){const{width:o,height:u}=h;We||(We=document.createElement("canvas"));const g=We.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return(o>We.width||u>We.height)&&(We.width=o,We.height=u),g.clearRect(-n,-n,o+2*n,u+2*n),g.drawImage(h,0,0,o,u),g.getImageData(-n,-n,o+2*n,u+2*n)},resolveURL:h=>(Fe||(Fe=document.createElement("a")),Fe.href=h,Fe.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(Re==null&&(Re=window.matchMedia("(prefers-reduced-motion: reduce)")),Re.matches)},hasCanvasFingerprintNoise(){if(Je!==void 0)return Je;if(!mt())return Je=!1,!1;const h=new OffscreenCanvas(85,1),n=h.getContext("2d",{willReadFrequently:!0});let o=0;for(let g=0;g<h.width;++g)n.fillStyle=`rgba(${o++},${o++},${o++}, 255)`,n.fillRect(g,0,1,1);const u=n.getImageData(0,0,h.width,h.height);o=0;for(let g=0;g<u.data.length;++g)if(g%4!=3&&o++!==u.data[g])return Je=!0,!0;return Je=!1,!1}};function Lt(h,n){const o=h.indexOf("?");if(o<0)return`${h}?${new URLSearchParams(n).toString()}`;const u=new URLSearchParams(h.slice(o));for(const g in n)u.set(g,n[g]);return`${h.slice(0,o)}?${u.toString()}`}function Jt(h,n={persistentParams:[]}){const o=h.indexOf("?");if(o<0)return h;const u=new URLSearchParams,g=new URLSearchParams(h.slice(o));for(const _ of n.persistentParams){const w=g.get(_);w&&u.set(_,w)}const d=u.toString();return`${h.slice(0,o)}${d.length>0?`?${d}`:""}`}const hi="mapbox-tiles";let ai=500,ii=50;const Zi=["language","worldview","jobid"];let Ri,wi;function $i(){try{return caches}catch{}}function Qi(){const h=$i();h&&Ri==null&&(Ri=h.open(hi))}let Qn=1/0;const Zr={supported:!1,testSupport:function(h){!Zo&&Tr&&(Ma?wu(h):vr=h)}};let vr,Tr,Zo=!1,Ma=!1;const kp=typeof self<"u"?self:{};function wu(h){const n=h.createTexture();h.bindTexture(h.TEXTURE_2D,n);try{if(h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,Tr),h.isContextLost())return;Zr.supported=!0}catch{}h.deleteTexture(n),Zo=!0}kp.document&&(Tr=kp.document.createElement("img"),Tr.onload=function(){vr&&wu(vr),vr=null,Ma=!0},Tr.onerror=function(){Zo=!0,vr=null},Tr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Yo={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Iconset:"Iconset",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(Yo);class Mu extends Error{constructor(n,o,u){o===401&&me(u)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=o,this.url=u}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Vl=Va()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,Ha=function(h,n){if(!(/^file:/.test(o=h.url)||/^file:/.test(Vl())&&!/^\w+:/.test(o))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(u,g){const d=new AbortController,_=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:Vl(),referrerPolicy:u.referrerPolicy,signal:d.signal});let w=!1,T=!1;const D=(b=_.url).indexOf("sku=")>0&&me(b);var b;u.type==="json"&&_.headers.set("Accept","application/json");const E=(S,A,k)=>{if(T)return;if(S&&S.message!=="SecurityError"&&yi(S.toString()),A&&k)return I(A);const B=Date.now();fetch(_).then(N=>{if(N.ok){const $=D?N.clone():null;return I(N,$,B)}return g(new Mu(N.statusText,N.status,u.url))}).catch(N=>{N.name!=="AbortError"&&g(new Error(`${N.message} ${u.url}`))})},I=(S,A,k)=>{(u.type==="arrayBuffer"?S.arrayBuffer():u.type==="json"?S.json():S.text()).then(B=>{T||(A&&k&&function(N,$,W){if(Qi(),Ri==null)return;const j=Wo($.headers.get("Cache-Control")||"");if(j["no-store"])return;const Y={status:$.status,statusText:$.statusText,headers:new Headers};$.headers.forEach((ue,ce)=>Y.headers.set(ce,ue)),j["max-age"]&&Y.headers.set("Expires",new Date(W+1e3*j["max-age"]).toUTCString());const K=Y.headers.get("Expires");if(!K||new Date(K).getTime()-W<42e4)return;let te=Jt(N.url,{persistentParams:Zi});if($.status===206){const ue=N.headers.get("Range");if(!ue)return;Y.status=200,te=Lt(te,{range:ue})}(function(ue,ce){if(wi===void 0)try{new Response(new ReadableStream),wi=!0}catch{wi=!1}wi?ce(ue.body):ue.blob().then(ce)})($,ue=>{const ce=new Response((oe=$.status)!==200&&oe!==404&&[101,103,204,205,304].includes(oe)?null:ue,Y);var oe;Qi(),Ri!=null&&Ri.then(Me=>Me.put(te,ce)).catch(Me=>yi(Me.message))})}(_,A,k),w=!0,g(null,B,S.headers.get("Cache-Control"),S.headers.get("Expires")))}).catch(B=>{T||g(new Error(B.message))})};return D?function(S,A){if(Qi(),Ri==null)return A(null);Ri.then(k=>{let B=Jt(S.url,{persistentParams:Zi});const N=S.headers.get("Range");N&&(B=Lt(B,{range:N})),k.match(B).then($=>{const W=function(j){if(!j)return!1;const Y=new Date(j.headers.get("Expires")||0),K=Wo(j.headers.get("Cache-Control")||"");return Y>Date.now()&&!K["no-cache"]}($);k.delete(B),W&&k.put(B,$.clone()),A(null,$,W)}).catch(A)}).catch(A)}(_,E):E(null,null),{cancel:()=>{T=!0,w||d.abort()}}}(h,n);if(Va()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",h,n,void 0,!0)}var o;return function(u,g){const d=new XMLHttpRequest;d.open(u.method||"GET",u.url,!0),u.type==="arrayBuffer"&&(d.responseType="arraybuffer");for(const _ in u.headers)d.setRequestHeader(_,u.headers[_]);return u.type==="json"&&(d.responseType="text",d.setRequestHeader("Accept","application/json")),d.withCredentials=u.credentials==="include",d.onerror=()=>{g(new Error(d.statusText))},d.onload=()=>{if((d.status>=200&&d.status<300||d.status===0)&&d.response!==null){let _=d.response;if(u.type==="json")try{_=JSON.parse(d.response)}catch(w){return g(w)}g(null,_,d.getResponseHeader("Cache-Control"),d.getResponseHeader("Expires"))}else g(new Mu(d.statusText,d.status,u.url))},d.send(u.body),{cancel:()=>d.abort()}}(h,n)},Xo=function(h,n){return Ha(Sr(h,{type:"arrayBuffer"}),n)};function Op(h){const n=document.createElement("a");return n.href=h,n.protocol===location.protocol&&n.host===location.host}const Rm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Su,Kc;Su=[],Kc=0;const Tu=function(h,n){if(Zr.supported&&(h.headers||(h.headers={}),h.headers.accept="image/webp,*/*"),Kc>=le.MAX_PARALLEL_IMAGE_REQUESTS){const d={requestParameters:h,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return Su.push(d),d}Kc++;let o=!1;const u=()=>{if(!o)for(o=!0,Kc--;Su.length&&Kc<le.MAX_PARALLEL_IMAGE_REQUESTS;){const d=Su.shift(),{requestParameters:_,callback:w,cancelled:T}=d;T||(d.cancel=Tu(_,w).cancel)}},g=Xo(h,(d,_,w,T)=>{u(),d?n(d):_&&(self.createImageBitmap?function(D,b){const E=new Blob([new Uint8Array(D)],{type:"image/png"});createImageBitmap(E).then(I=>{b(null,I)}).catch(I=>{b(new Error(`Could not load image because of ${I.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(_,(D,b)=>n(D,b,w,T)):function(D,b){const E=new Image;E.onload=()=>{b(null,E),URL.revokeObjectURL(E.src),E.onload=null,requestAnimationFrame(()=>{E.src=Rm})},E.onerror=()=>b(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const I=new Blob([new Uint8Array(D)],{type:"image/png"});E.src=D.byteLength?URL.createObjectURL(I):Rm}(_,(D,b)=>n(D,b,w,T)))});return{cancel:()=>{g.cancel(),u()}}};var Rp,Ms,Qs,Ps={exports:{}},ea={exports:{}},Ua={exports:{}},Eu=function(){if(Qs)return Ps.exports;Qs=1;var h=(Rp||(Rp=1,ea.exports=function(o,u){var g,d,_,w,T,D,b,E;for(d=o.length-(g=3&o.length),_=u,T=3432918353,D=461845907,E=0;E<d;)b=255&o.charCodeAt(E)|(255&o.charCodeAt(++E))<<8|(255&o.charCodeAt(++E))<<16|(255&o.charCodeAt(++E))<<24,++E,_=27492+(65535&(w=5*(65535&(_=(_^=b=(65535&(b=(b=(65535&b)*T+(((b>>>16)*T&65535)<<16)&4294967295)<<15|b>>>17))*D+(((b>>>16)*D&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(b=0,g){case 3:b^=(255&o.charCodeAt(E+2))<<16;case 2:b^=(255&o.charCodeAt(E+1))<<8;case 1:_^=b=(65535&(b=(b=(65535&(b^=255&o.charCodeAt(E)))*T+(((b>>>16)*T&65535)<<16)&4294967295)<<15|b>>>17))*D+(((b>>>16)*D&65535)<<16)&4294967295}return _^=o.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0}),ea.exports),n=(Ms||(Ms=1,Ua.exports=function(o,u){for(var g,d=o.length,_=u^d,w=0;d>=4;)g=1540483477*(65535&(g=255&o.charCodeAt(w)|(255&o.charCodeAt(++w))<<8|(255&o.charCodeAt(++w))<<16|(255&o.charCodeAt(++w))<<24))+((1540483477*(g>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),d-=4,++w;switch(d){case 3:_^=(255&o.charCodeAt(w+2))<<16;case 2:_^=(255&o.charCodeAt(w+1))<<8;case 1:_=1540483477*(65535&(_^=255&o.charCodeAt(w)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0}),Ua.exports);return Ps.exports=h,Ps.exports.murmur3=h,Ps.exports.murmur2=n,Ps.exports}(),Jc=L(Eu);class mo{constructor(n,...o){Sr(this,o[0]||{}),this.type=n}}class go extends mo{constructor(n,o={}){super("error",Sr({error:n},o))}}function Cu(h,n,o){o[h]&&o[h].indexOf(n)!==-1||(o[h]=o[h]||[],o[h].push(n))}function zp(h,n,o){if(o&&o[h]){const u=o[h].indexOf(n);u!==-1&&o[h].splice(u,1)}}class Hl{on(n,o){return this._listeners=this._listeners||{},Cu(n,o,this._listeners),this}off(n,o){return zp(n,o,this._listeners),zp(n,o,this._oneTimeListeners),this}once(n,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},Cu(n,o,this._oneTimeListeners),this):new Promise(u=>this.once(n,u))}fire(n,o){const u=typeof n=="string"?new mo(n,o):n,g=u.type;if(this.listens(g)){u.target=this;const d=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const T of d)T.call(this,u);const _=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const T of _)zp(g,T,this._oneTimeListeners),T.call(this,u);const w=this._eventedParent;w&&(Sr(u,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),w.fire(u))}else u instanceof go&&console.error(u.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,o){return this._eventedParent=n,this._eventedParentData=o,this}}var Ds,Au={},Iu=function(){if(Ds)return Au;Ds=1;var h={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(d){return(d=Math.round(d))<0?0:d>255?255:d}function o(d){return n(d[d.length-1]==="%"?parseFloat(d)/100*255:parseInt(d))}function u(d){return(_=d[d.length-1]==="%"?parseFloat(d)/100:parseFloat(d))<0?0:_>1?1:_;var _}function g(d,_,w){return w<0?w+=1:w>1&&(w-=1),6*w<1?d+(_-d)*w*6:2*w<1?_:3*w<2?d+(_-d)*(2/3-w)*6:d}try{Au.parseCSSColor=function(d){var _,w=d.replace(/ /g,"").toLowerCase();if(w in h)return h[w].slice();if(w[0]==="#")return w.length===4?(_=parseInt(w.substr(1),16))>=0&&_<=4095?[(3840&_)>>4|(3840&_)>>8,240&_|(240&_)>>4,15&_|(15&_)<<4,1]:null:w.length===7&&(_=parseInt(w.substr(1),16))>=0&&_<=16777215?[(16711680&_)>>16,(65280&_)>>8,255&_,1]:null;var T=w.indexOf("("),D=w.indexOf(")");if(T!==-1&&D+1===w.length){var b=w.substr(0,T),E=w.substr(T+1,D-(T+1)).split(","),I=1;switch(b){case"rgba":if(E.length!==4)return null;I=u(E.pop());case"rgb":return E.length!==3?null:[o(E[0]),o(E[1]),o(E[2]),I];case"hsla":if(E.length!==4)return null;I=u(E.pop());case"hsl":if(E.length!==3)return null;var S=(parseFloat(E[0])%360+360)%360/360,A=u(E[1]),k=u(E[2]),B=k<=.5?k*(A+1):k+A-k*A,N=2*k-B;return[n(255*g(N,B,S+1/3)),n(255*g(N,B,S)),n(255*g(N,B,S-1/3)),I];default:return null}}return null}}catch{}return Au}();class zi{constructor(n,o,u,g=1){this.r=n,this.g=o,this.b=u,this.a=g}static parse(n){if(!n)return;if(n instanceof zi)return n;if(typeof n!="string")return;const o=Iu.parseCSSColor(n);return o?new zi(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toStringPremultipliedAlpha(){const[n,o,u,g]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(n)},${Math.round(o)},${Math.round(u)},${g})`}toString(){const[n,o,u,g]=[this.r,this.g,this.b,this.a];return`rgba(${Math.round(255*n)},${Math.round(255*o)},${Math.round(255*u)},${g})`}toRenderColor(n){const{r:o,g:u,b:g,a:d}=this;return new x_(n,o,u,g,d)}clone(){return new zi(this.r,this.g,this.b,this.a)}}class x_{constructor(n,o,u,g,d){if(n){const _=n.image.height,w=_*_;o=d===0?0:o/d*(_-1),u=d===0?0:u/d*(_-1),g=d===0?0:g/d*(_-1);const T=Math.floor(o),D=Math.floor(u),b=Math.floor(g),E=Math.ceil(o),I=Math.ceil(u),S=Math.ceil(g),A=o-T,k=u-D,B=g-b,N=n.image.data,$=4*(T+D*w+b*_),W=4*(T+D*w+S*_),j=4*(T+I*w+b*_),Y=4*(T+I*w+S*_),K=4*(E+D*w+b*_),te=4*(E+D*w+S*_),ue=4*(E+I*w+b*_),ce=4*(E+I*w+S*_);if($<0||ce>=N.length)throw new Error("out of range");this.r=ei(ei(ei(N[$],N[W],B),ei(N[j],N[Y],B),k),ei(ei(N[K],N[te],B),ei(N[ue],N[ce],B),k),A)/255*d,this.g=ei(ei(ei(N[$+1],N[W+1],B),ei(N[j+1],N[Y+1],B),k),ei(ei(N[K+1],N[te+1],B),ei(N[ue+1],N[ce+1],B),k),A)/255*d,this.b=ei(ei(ei(N[$+2],N[W+2],B),ei(N[j+2],N[Y+2],B),k),ei(ei(N[K+2],N[te+2],B),ei(N[ue+2],N[ce+2],B),k),A)/255*d,this.a=d}else this.r=o,this.g=u,this.b=g,this.a=d}toArray(){const{r:n,g:o,b:u,a:g}=this;return g===0?[0,0,0,0]:[255*n/g,255*o/g,255*u/g,g]}toHslaArray(){if(this.a===0)return[0,0,0,0];const{r:n,g:o,b:u,a:g}=this,d=Math.min(Math.max(n/g,0),1),_=Math.min(Math.max(o/g,0),1),w=Math.min(Math.max(u/g,0),1),T=Math.min(d,_,w),D=Math.max(d,_,w),b=(T+D)/2;if(T===D)return[0,0,100*b,g];const E=D-T,I=b>.5?E/(2-D-T):E/(D+T);let S=0;return D===d?S=(_-w)/E+(_<w?6:0):D===_?S=(w-d)/E+2:D===w&&(S=(d-_)/E+4),S*=60,[Math.min(Math.max(S,0),360),Math.min(Math.max(100*I,0),100),Math.min(Math.max(100*b,0),100),g]}toArray01(){const{r:n,g:o,b:u,a:g}=this;return g===0?[0,0,0,0]:[n/g,o/g,u/g,g]}toArray01Scaled(n){const{r:o,g:u,b:g,a:d}=this;return d===0?[0,0,0]:[o/d*n,u/d*n,g/d*n]}toArray01PremultipliedAlpha(){const{r:n,g:o,b:u,a:g}=this;return[n,o,u,g]}toArray01Linear(){const{r:n,g:o,b:u,a:g}=this;return g===0?[0,0,0,0]:[Math.pow(n/g,2.2),Math.pow(o/g,2.2),Math.pow(u/g,2.2),g]}}function ei(h,n,o){return h*(1-o)+n*o}function Fp(h,n,o){return h.map((u,g)=>ei(u,n[g],o))}zi.black=new zi(0,0,0,1),zi.white=new zi(1,1,1,1),zi.transparent=new zi(0,0,0,0),zi.red=new zi(1,0,0,1),zi.blue=new zi(0,0,1,1);var Di=Object.freeze({__proto__:null,array:Fp,color:function(h,n,o){return new zi(ei(h.r,n.r,o),ei(h.g,n.g,o),ei(h.b,n.b,o),ei(h.a,n.a,o))},number:ei});function Pu(h,...n){for(const o of n)for(const u in o)h[u]=o[u];return h}class Ls extends Error{constructor(n,o){super(o),this.message=o,this.key=n}}class Bp{constructor(n,o=[]){this.parent=n,this.bindings={};for(const[u,g]of o)this.bindings[u]=g}concat(n){return new Bp(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const Ul={kind:"null"},Bt={kind:"number"},Vi={kind:"string"},Li={kind:"boolean"},os={kind:"color"},Ko={kind:"object"},Ci={kind:"value"},Du={kind:"collator"},ja={kind:"formatted"},Jo={kind:"resolvedImage"};function Nr(h,n){return{kind:"array",itemType:h,N:n}}function dn(h){if(h.kind==="array"){const n=dn(h.itemType);return typeof h.N=="number"?`array<${n}, ${h.N}>`:h.itemType.kind==="value"?"array":`array<${n}>`}return h.kind}const zm=[Ul,Bt,Vi,Li,os,ja,Ko,Nr(Ci),Jo];function Qc(h,n){if(n.kind==="error")return null;if(h.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!Qc(h.itemType,n.itemType))&&(typeof h.N!="number"||h.N===n.N))return null}else{if(h.kind===n.kind)return null;if(h.kind==="value"){for(const o of zm)if(!Qc(o,n))return null}}return`Expected ${dn(h)} but found ${dn(n)} instead.`}function Lu(h,n){return n.some(o=>o.kind===h.kind)}function jl(h,n){return n.some(o=>o==="null"?h===null:o==="array"?Array.isArray(h):o==="object"?h&&!Array.isArray(h)&&typeof h=="object":o===typeof h)}class ku{constructor(n,o,u){this.sensitivity=n?o?"variant":"case":o?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,o){return this.collator.compare(n,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class eh{constructor(n,o,u,g,d){this.text=n.normalize?n.normalize():n,this.image=o,this.scale=u,this.fontStack=g,this.textColor=d}}class Vr{constructor(n){this.sections=n}static fromString(n){return new Vr([new eh(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.namePrimary)}static factory(n){return n instanceof Vr?n:Vr.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const o of this.sections){if(o.image){n.push(["image",o.image.namePrimary]);continue}n.push(o.text);const u={};o.fontStack&&(u["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(u["font-scale"]=o.scale),o.textColor&&(u["text-color"]=["rgba"].concat(o.textColor.toRenderColor(null).toArray())),n.push(u)}return n}}class Sa{constructor(n,o){if(this.id=n,this.options=o||{params:{}},this.options.transform){const{a:u,b:g,c:d,d:_,e:w,f:T}=this.options.transform;this.options.transform=new DOMMatrix([u,g,d,_,w,T])}else this.options.transform=new DOMMatrix([1,0,0,1,0,0])}static deserializeId(n){return JSON.parse(n).id}static deserializeFromString(n){const o=JSON.parse(n),{a:u,b:g,c:d,d:_,e:w,f:T}=o.options.transform;return new DOMMatrix([u,g,d,_,w,T]),new Sa(o.id,o.options)}scaleSelf(n){return this.options.transform=this.options.transform.scale(n),this}serialize(){const n={id:this.id};this.options&&(n.options=this.options);const{a:o,b:u,c:g,d,e:_,f:w}=this.options.transform;return n.options.transform={a:o,b:u,c:g,d,e:_,f:w},JSON.stringify(n)}}class xr{constructor(n){this.namePrimary=n.namePrimary,n.nameSecondary&&(this.nameSecondary=n.nameSecondary),n.optionsPrimary&&(this.optionsPrimary=n.optionsPrimary),n.optionsSecondary&&(this.optionsSecondary=n.optionsSecondary),this.available=n.available}toString(){return this.namePrimary&&this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}getPrimary(){return new Sa(this.namePrimary,{params:this.optionsPrimary&&this.optionsPrimary.params||{}})}getSerializedPrimary(){return this.getPrimary().serialize()}getSecondary(){return this.nameSecondary?new Sa(this.nameSecondary,{params:this.optionsSecondary&&this.optionsSecondary.params||{}}):null}static from(n){return typeof n=="string"?xr.build(n):n}static build(n,o,u,g){return n?new xr({namePrimary:n,nameSecondary:o,optionsPrimary:u,optionsSecondary:g,available:!1}):null}}function Qo(h,n,o,u){return typeof h=="number"&&h>=0&&h<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof o=="number"&&o>=0&&o<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[h,n,o,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[h,n,o,u]:[h,n,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function el(h){if(h===null||typeof h=="string"||typeof h=="boolean"||typeof h=="number"||h instanceof zi||h instanceof ku||h instanceof Vr||h instanceof xr)return!0;if(Array.isArray(h)){for(const n of h)if(!el(n))return!1;return!0}if(typeof h=="object"){for(const n in h)if(!el(h[n]))return!1;return!0}return!1}function xn(h){if(h===null)return Ul;if(typeof h=="string")return Vi;if(typeof h=="boolean")return Li;if(typeof h=="number")return Bt;if(h instanceof zi)return os;if(h instanceof ku)return Du;if(h instanceof Vr)return ja;if(h instanceof xr)return Jo;if(Array.isArray(h)){const n=h.length;let o;for(const u of h){const g=xn(u);if(o){if(o===g)continue;o=Ci;break}o=g}return Nr(o||Ci,n)}return Ko}function ta(h){const n=typeof h;return h===null?"":n==="string"||n==="number"||n==="boolean"?String(h):h instanceof zi?h.toStringPremultipliedAlpha():h instanceof Vr||h instanceof xr?h.toString():JSON.stringify(h)}class ks{constructor(n,o){this.type=n,this.value=o}static parse(n,o){if(n.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!el(n[1]))return o.error("invalid value");const u=n[1];let g=xn(u);const d=o.expectedType;return g.kind!=="array"||g.N!==0||!d||d.kind!=="array"||typeof d.N=="number"&&d.N!==0||(g=d),new ks(g,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof zi?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof Vr?this.value.serialize():this.value}}class Zn{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const th={string:Vi,number:Bt,boolean:Li,object:Ko};class Os{constructor(n,o){this.type=n,this.args=o}static parse(n,o){if(n.length<2)return o.error("Expected at least one argument.");let u,g=1;const d=n[0];if(d==="array"){let w,T;if(n.length>2){const D=n[1];if(typeof D!="string"||!(D in th)||D==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);w=th[D],g++}else w=Ci;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return o.error('The length argument to "array" must be a positive integer literal',2);T=n[2],g++}u=Nr(w,T)}else u=th[d];const _=[];for(;g<n.length;g++){const w=o.parse(n[g],g,Ci);if(!w)return null;_.push(w)}return new Os(u,_)}evaluate(n){for(let o=0;o<this.args.length;o++){const u=this.args[o].evaluate(n);if(!Qc(this.type,xn(u)))return u;if(o===this.args.length-1)throw new Zn(`The expression ${JSON.stringify(this.args[o].serialize())} evaluated to ${dn(xn(u))} but was expected to be of type ${dn(this.type)}.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,o=[n.kind];if(n.kind==="array"){const u=n.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){o.push(u.kind);const g=n.N;(typeof g=="number"||this.args.length>1)&&o.push(g)}}return o.concat(this.args.map(u=>u.serialize()))}}class qa{constructor(n){this.type=ja,this.sections=n}static parse(n,o){if(n.length<2)return o.error("Expected at least one argument.");const u=n[1];if(!Array.isArray(u)&&typeof u=="object")return o.error("First argument must be an image or text section.");const g=[];let d=!1;for(let _=1;_<=n.length-1;++_){const w=n[_];if(d&&typeof w=="object"&&!Array.isArray(w)){d=!1;let T=null;if(w["font-scale"]&&(T=o.parseObjectValue(w["font-scale"],_,"font-scale",Bt),!T))return null;let D=null;if(w["text-font"]&&(D=o.parseObjectValue(w["text-font"],_,"text-font",Nr(Vi)),!D))return null;let b=null;if(w["text-color"]&&(b=o.parseObjectValue(w["text-color"],_,"text-color",os),!b))return null;const E=g[g.length-1];E.scale=T,E.font=D,E.textColor=b}else{const T=o.parse(n[_],_,Ci);if(!T)return null;const D=T.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");d=!0,g.push({content:T,scale:null,font:null,textColor:null})}}return new qa(g)}evaluate(n){return new Vr(this.sections.map(o=>{const u=o.content.evaluate(n);return xn(u)===Jo?new eh("",u,null,null,null):new eh(ta(u),null,o.scale?o.scale.evaluate(n):null,o.font?o.font.evaluate(n).join(","):null,o.textColor?o.textColor.evaluate(n):null)}))}eachChild(n){for(const o of this.sections)n(o.content),o.scale&&n(o.scale),o.font&&n(o.font),o.textColor&&n(o.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const o of this.sections){n.push(o.content.serialize());const u={};o.scale&&(u["font-scale"]=o.scale.serialize()),o.font&&(u["text-font"]=o.font.serialize()),o.textColor&&(u["text-color"]=o.textColor.serialize()),n.push(u)}return n}}class ql{constructor(n,o,u,g){this._imageWarnHistory={},this.type=Jo,this.inputPrimary=n,this.inputSecondary=o,this.inputPrimaryParams=u,this.inputSecondaryParams=g}static parse(n,o){if(n.length<2)return o.error("Expected two or more arguments.");let u=1;const g=[];function d(){if(u<n.length){const w=o.parse(n[u],u++,Vi);return w?(g.push({image:w,options:void 0}),!0):(o.error(g.length?"Secondary image variant is not a string.":"No image name provided."),!1)}return!0}function _(){if(u<n.length){if((w=n[u])===null||typeof w!="object"||Array.isArray(w))return!0;const T=n[u].params,D=o.concat(u);if(!T)return u++,!0;if(typeof T!="object"||T.constructor!==Object)return D.error('Image options "params" should be an object'),!1;const b={},E=D.concat(void 0,"params");for(const I in T){if(!I)return E.error("Image parameter name should be non-empty"),!1;const S=E.concat(void 0,I).parse(T[I],void 0,os,void 0,{typeAnnotation:"coerce"});if(!S)return!1;b[I]=S}return g[g.length-1].options=b,u++,!0}var w;return!0}for(let w=0;w<2;w++)if(!d()||!_())return;return new ql(g[0].image,g[1]?g[1].image:void 0,g[0].options,g[1]?g[1].options:void 0)}evaluateParams(n,o){const u={};if(o){for(const g in o)if(o[g])try{const d=o[g].evaluate(n),_=`Ignoring image parameter "${g}" with semi-transparent color ${d.toString()}`;if(d.a!==1){this._imageWarnHistory[_]||(console.warn(_),this._imageWarnHistory[_]=!0);continue}u[g]=d}catch{continue}if(Object.keys(u).length!==0)return{params:u}}}evaluate(n){const o=xr.build(this.inputPrimary.evaluate(n),this.inputSecondary?this.inputSecondary.evaluate(n):void 0,this.inputPrimaryParams?this.evaluateParams(n,this.inputPrimaryParams):void 0,this.inputSecondaryParams?this.evaluateParams(n,this.inputSecondaryParams):void 0);return o&&n.availableImages&&(o.available=n.availableImages.indexOf(o.namePrimary)>-1,o.nameSecondary&&o.available&&n.availableImages&&(o.available=n.availableImages.indexOf(o.nameSecondary)>-1)),o}eachChild(n){if(n(this.inputPrimary),this.inputPrimaryParams)for(const o in this.inputPrimaryParams)this.inputPrimaryParams[o]&&n(this.inputPrimaryParams[o]);if(this.inputSecondary&&(n(this.inputSecondary),this.inputSecondaryParams))for(const o in this.inputSecondaryParams)this.inputSecondaryParams[o]&&n(this.inputSecondaryParams[o])}outputDefined(){return!1}serializeParams(n){const o={};if(n){for(const u in n)n[u]&&(o[u]=n[u].serialize());return{params:o}}}serialize(){const n=["image",this.inputPrimary.serialize()];return this.inputPrimaryParams&&n.push(this.serializeParams(this.inputPrimaryParams)),this.inputSecondary&&(n.push(this.inputSecondary.serialize()),this.inputSecondaryParams&&n.push(this.serializeParams(this.inputSecondaryParams))),n}}function tl(h){return h instanceof Number?"number":h instanceof String?"string":h instanceof Boolean?"boolean":Array.isArray(h)?"array":h===null?"null":typeof h}const b_={"to-boolean":Li,"to-color":os,"to-number":Bt,"to-string":Vi};class $a{constructor(n,o){this.type=n,this.args=o}static parse(n,o){if(n.length<2)return o.error("Expected at least one argument.");const u=n[0],g=[];let d=Ul;if(u==="to-array"){if(!Array.isArray(n[1]))return null;const _=n[1].length;if(o.expectedType){if(o.expectedType.kind!=="array")return o.error(`Expected ${o.expectedType.kind} but found array.`);d=Nr(o.expectedType.itemType,_)}else{if(!(_>0&&el(n[1][0])))return null;d=Nr(xn(n[1][0]),_)}for(let w=0;w<_;w++){const T=n[1][w];let D;if(tl(T)==="array")D=o.parse(T,void 0,d.itemType);else{const b=tl(T);if(b!==d.itemType.kind)return o.error(`Expected ${d.itemType.kind} but found ${b}.`);D=o.registry.literal.parse(["literal",T===void 0?null:T],o)}if(!D)return null;g.push(D)}}else{if((u==="to-boolean"||u==="to-string")&&n.length!==2)return o.error("Expected one argument.");d=b_[u];for(let _=1;_<n.length;_++){const w=o.parse(n[_],_,Ci);if(!w)return null;g.push(w)}}return new $a(d,g)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let o,u;for(const g of this.args){if(o=g.evaluate(n),u=null,o instanceof zi)return o;if(typeof o=="string"){const d=n.parseColor(o);if(d)return d}else if(Array.isArray(o)&&(u=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:Qo(o[0],o[1],o[2],o[3]),!u))return new zi(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new Zn(u||`Could not parse color from value '${typeof o=="string"?o:String(JSON.stringify(o))}'`)}if(this.type.kind==="number"){let o=null;for(const u of this.args){if(o=u.evaluate(n),o===null)return 0;const g=Number(o);if(!isNaN(g))return g}throw new Zn(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?Vr.fromString(ta(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?xr.build(ta(this.args[0].evaluate(n))):this.type.kind==="array"?this.args.map(o=>o.evaluate(n)):ta(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new qa([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ql(this.args[0]).serialize();const n=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(o=>{n.push(o.serialize())}),n}}const Fm=["Unknown","Point","LineString","Polygon"];class Ou{constructor(n,o){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=n,this.options=o}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Fm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(n){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,o=this.featureDistanceData.scale,{x:u,y:g}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(u*o-n[0])+this.featureDistanceData.bearing[1]*(g*o-n[1])}return 0}parseColor(n){let o=this._parseColorCache[n];return o||(o=this._parseColorCache[n]=zi.parse(n)),o}getConfig(n){return this.options?this.options.get(n):null}}class ls{constructor(n,o,u,g,d){this.name=n,this.type=o,this._evaluate=u,this.args=g,this._overloadIndex=d}evaluate(n){if(!this._evaluate){const o=ls.definitions[this.name];this._evaluate=Array.isArray(o)?o[2]:o.overloads[this._overloadIndex][1]}return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,o){const u=n[0],g=ls.definitions[u];if(!g)return o.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const d=Array.isArray(g)?g[0]:g.type,_=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,w=[];let T=null,D=-1;for(const[b,E]of _){if(Array.isArray(b)&&b.length!==n.length-1)continue;w.push(b),D++,T=new $p(o.registry,o.path,null,o.scope,void 0,o._scope,o.options);const I=[];let S=!1;for(let A=1;A<n.length;A++){const k=n[A],B=Array.isArray(b)?b[A-1]:b.type,N=T.parse(k,1+I.length,B);if(!N){S=!0;break}I.push(N)}if(!S)if(Array.isArray(b)&&b.length!==I.length)T.error(`Expected ${b.length} arguments, but found ${I.length} instead.`);else{for(let A=0;A<I.length;A++){const k=Array.isArray(b)?b[A]:b.type,B=I[A];T.concat(A+1).checkSubtype(k,B.type)}if(T.errors.length===0)return new ls(u,d,E,I,D)}}if(w.length===1)o.errors.push(...T.errors);else{const b=(w.length?w:_.map(([I])=>I)).map(Ru).join(" | "),E=[];for(let I=1;I<n.length;I++){const S=o.parse(n[I],1+E.length);if(!S)return null;E.push(dn(S.type))}o.error(`Expected arguments of type ${b}, but found (${E.join(", ")}) instead.`)}return null}static register(n,o){ls.definitions=o;for(const u in o)n[u]=ls}}function Ru(h){return Array.isArray(h)?`(${h.map(dn).join(", ")})`:`(${dn(h.type)}...)`}class zu{constructor(n,o,u){this.type=Du,this.locale=u,this.caseSensitive=n,this.diacriticSensitive=o}static parse(n,o){if(n.length!==2)return o.error("Expected one argument.");const u=n[1];if(typeof u!="object"||Array.isArray(u))return o.error("Collator options argument must be an object.");const g=u["case-sensitive"]===void 0?o.parse(!1,1,Li):o.parseObjectValue(u["case-sensitive"],1,"case-sensitive",Li);if(!g)return null;const d=u["diacritic-sensitive"]===void 0?o.parse(!1,1,Li):o.parseObjectValue(u["diacritic-sensitive"],1,"diacritic-sensitive",Li);if(!d)return null;let _=null;return u.locale&&(_=o.parseObjectValue(u.locale,1,"locale",Vi),!_)?null:new zu(g,d,_)}evaluate(n){return new ku(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}function Bm(h,n,o=0,u=h.length-1,g=w_){for(;u>o;){if(u-o>600){const T=u-o+1,D=n-o+1,b=Math.log(T),E=.5*Math.exp(2*b/3),I=.5*Math.sqrt(b*E*(T-E)/T)*(D-T/2<0?-1:1);Bm(h,n,Math.max(o,Math.floor(n-D*E/T+I)),Math.min(u,Math.floor(n+(T-D)*E/T+I)),g)}const d=h[n];let _=o,w=u;for(ih(h,o,n),g(h[u],d)>0&&ih(h,o,u);_<w;){for(ih(h,_,w),_++,w--;g(h[_],d)<0;)_++;for(;g(h[w],d)>0;)w--}g(h[o],d)===0?ih(h,o,w):(w++,ih(h,w,u)),w<=n&&(o=w+1),n<=w&&(u=w-1)}}function ih(h,n,o){const u=h[n];h[n]=h[o],h[o]=u}function w_(h,n){return h<n?-1:h>n?1:0}function M_(h){let n=0;for(let o,u,g=0,d=h.length,_=d-1;g<d;_=g++)o=h[g],u=h[_],n+=(u.x-o.x)*(o.y+u.y);return n}function nh(h,n){h[0]=Math.min(h[0],n[0]),h[1]=Math.min(h[1],n[1]),h[2]=Math.max(h[2],n[0]),h[3]=Math.max(h[3],n[1])}function rh(h,n){return!(h[0]<=n[0]||h[2]>=n[2]||h[1]<=n[1]||h[3]>=n[3])}function Nm(h,n,o){const u=h[0]-n[0],g=h[1]-n[1],d=h[0]-o[0],_=h[1]-o[1];return u*_-d*g==0&&u*d<=0&&g*_<=0}function ia(h,n,o=!1){let u=!1;for(let w=0,T=n.length;w<T;w++){const D=n[w];for(let b=0,E=D.length,I=E-1;b<E;I=b++){const S=D[I],A=D[b];if(Nm(h,S,A))return o;(d=S)[1]>(g=h)[1]!=(_=A)[1]>g[1]&&g[0]<(_[0]-d[0])*(g[1]-d[1])/(_[1]-d[1])+d[0]&&(u=!u)}}var g,d,_;return u}function Vm(h,n,o,u){const g=u[0]-o[0],d=u[1]-o[1],_=(h[0]-o[0])*d-g*(h[1]-o[1]),w=(n[0]-o[0])*d-g*(n[1]-o[1]);return _>0&&w<0||_<0&&w>0}function Fu(h,n,o,u){return(g=[u[0]-o[0],u[1]-o[1]])[0]*(d=[n[0]-h[0],n[1]-h[1]])[1]-g[1]*d[0]!=0&&!(!Vm(h,n,o,u)||!Vm(o,u,h,n));var g,d}const Ta=8192;function S_(h,n){const o=(180+h[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h[1]*Math.PI/360)))/360,g=Math.pow(2,n.z);return[Math.round(o*g*Ta),Math.round(u*g*Ta)]}function T_(h,n){for(let o=0;o<n.length;o++)if(ia(h,n[o]))return!0;return!1}function E_(h,n,o){for(const u of o)for(let g=0,d=u.length,_=d-1;g<d;_=g++)if(Fu(h,n,u[_],u[g]))return!0;return!1}function Hm(h,n){for(let o=0;o<h.length;++o)if(!ia(h[o],n))return!1;for(let o=0;o<h.length-1;++o)if(E_(h[o],h[o+1],n))return!1;return!0}function $l(h,n){for(let o=0;o<n.length;o++)if(Hm(h,n[o]))return!0;return!1}function vi(h,n,o){const u=[];for(let g=0;g<h.length;g++){const d=[];for(let _=0;_<h[g].length;_++){const w=S_(h[g][_],o);nh(n,w),d.push(w)}u.push(d)}return u}function Wt(h,n,o){const u=[];for(let g=0;g<h.length;g++){const d=vi(h[g],n,o);u.push(d)}return u}function Bu(h,n,o,u){if(h[0]<o[0]||h[0]>o[2]){const g=.5*u;let d=h[0]-o[0]>g?-u:o[0]-h[0]>g?u:0;d===0&&(d=h[0]-o[2]>g?-u:o[2]-h[0]>g?u:0),h[0]+=d}nh(n,h)}function ci(h,n,o,u){const g=Math.pow(2,u.z)*Ta,d=[u.x*Ta,u.y*Ta],_=[];if(!h)return _;for(const w of h)for(const T of w){const D=[T.x+d[0],T.y+d[1]];Bu(D,n,o,g),_.push(D)}return _}function Nu(h,n,o,u){const g=Math.pow(2,u.z)*Ta,d=[u.x*Ta,u.y*Ta],_=[];if(!h)return _;for(const T of h){const D=[];for(const b of T){const E=[b.x+d[0],b.y+d[1]];nh(n,E),D.push(E)}_.push(D)}if(n[2]-n[0]<=g/2){(w=n)[0]=w[1]=1/0,w[2]=w[3]=-1/0;for(const T of _)for(const D of T)Bu(D,n,o,g)}var w;return _}class Ga{constructor(n,o){this.type=Li,this.geojson=n,this.geometries=o}static parse(n,o){if(n.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(el(n[1])){const u=n[1];if(u.type==="FeatureCollection")for(let g=0;g<u.features.length;++g){const d=u.features[g].geometry.type;if(d==="Polygon"||d==="MultiPolygon")return new Ga(u,u.features[g].geometry)}else if(u.type==="Feature"){const g=u.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Ga(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Ga(u,u)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(o,u){const g=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],_=o.canonicalID();if(!_)return!1;if(u.type==="Polygon"){const w=vi(u.coordinates,d,_),T=ci(o.geometry(),g,d,_);if(!rh(g,d))return!1;for(const D of T)if(!ia(D,w))return!1}if(u.type==="MultiPolygon"){const w=Wt(u.coordinates,d,_),T=ci(o.geometry(),g,d,_);if(!rh(g,d))return!1;for(const D of T)if(!T_(D,w))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(o,u){const g=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],_=o.canonicalID();if(!_)return!1;if(u.type==="Polygon"){const w=vi(u.coordinates,d,_),T=Nu(o.geometry(),g,d,_);if(!rh(g,d))return!1;for(const D of T)if(!Hm(D,w))return!1}if(u.type==="MultiPolygon"){const w=Wt(u.coordinates,d,_),T=Nu(o.geometry(),g,d,_);if(!rh(g,d))return!1;for(const D of T)if(!$l(D,w))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const ti={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},Np=1/298.257223563,Vu=Np*(2-Np),Gl=Math.PI/180;class Wl{static fromTile(n,o,u){const g=Math.PI*(1-2*(n+.5)/Math.pow(2,o)),d=Math.atan(.5*(Math.exp(g)-Math.exp(-g)))/Gl;return new Wl(d,u)}static get units(){return ti}constructor(n,o){if(n===void 0)throw new Error("No latitude given.");if(o&&!ti[o])throw new Error(`Unknown unit ${o}. Use one of: ${Object.keys(ti).join(", ")}`);const u=6378.137*Gl*(o?ti[o]:1),g=Math.cos(n*Gl),d=1/(1-Vu*(1-g*g)),_=Math.sqrt(d);this.kx=u*_*g,this.ky=u*_*d*(1-Vu)}distance(n,o){const u=cs(n[0]-o[0])*this.kx,g=(n[1]-o[1])*this.ky;return Math.sqrt(u*u+g*g)}bearing(n,o){const u=cs(o[0]-n[0])*this.kx;return Math.atan2(u,(o[1]-n[1])*this.ky)/Gl}destination(n,o,u){const g=u*Gl;return this.offset(n,Math.sin(g)*o,Math.cos(g)*o)}offset(n,o,u){return[n[0]+o/this.kx,n[1]+u/this.ky]}lineDistance(n){let o=0;for(let u=0;u<n.length-1;u++)o+=this.distance(n[u],n[u+1]);return o}area(n){let o=0;for(let u=0;u<n.length;u++){const g=n[u];for(let d=0,_=g.length,w=_-1;d<_;w=d++)o+=cs(g[d][0]-g[w][0])*(g[d][1]+g[w][1])*(u?-1:1)}return Math.abs(o)/2*this.kx*this.ky}along(n,o){let u=0;if(o<=0)return n[0];for(let g=0;g<n.length-1;g++){const d=n[g],_=n[g+1],w=this.distance(d,_);if(u+=w,u>o)return Rr(d,_,(o-(u-w))/w)}return n[n.length-1]}pointToSegmentDistance(n,o,u){let[g,d]=o,_=cs(u[0]-g)*this.kx,w=(u[1]-d)*this.ky;if(_!==0||w!==0){const T=(cs(n[0]-g)*this.kx*_+(n[1]-d)*this.ky*w)/(_*_+w*w);T>1?(g=u[0],d=u[1]):T>0&&(g+=_/this.kx*T,d+=w/this.ky*T)}return _=cs(n[0]-g)*this.kx,w=(n[1]-d)*this.ky,Math.sqrt(_*_+w*w)}pointOnLine(n,o){let u=1/0,g=n[0][0],d=n[0][1],_=0,w=0;for(let T=0;T<n.length-1;T++){let D=n[T][0],b=n[T][1],E=cs(n[T+1][0]-D)*this.kx,I=(n[T+1][1]-b)*this.ky,S=0;E===0&&I===0||(S=(cs(o[0]-D)*this.kx*E+(o[1]-b)*this.ky*I)/(E*E+I*I),S>1?(D=n[T+1][0],b=n[T+1][1]):S>0&&(D+=E/this.kx*S,b+=I/this.ky*S)),E=cs(o[0]-D)*this.kx,I=(o[1]-b)*this.ky;const A=E*E+I*I;A<u&&(u=A,g=D,d=b,_=T,w=S)}return{point:[g,d],index:_,t:Math.max(0,Math.min(1,w))}}lineSlice(n,o,u){let g=this.pointOnLine(u,n),d=this.pointOnLine(u,o);if(g.index>d.index||g.index===d.index&&g.t>d.t){const D=g;g=d,d=D}const _=[g.point],w=g.index+1,T=d.index;!sh(u[w],_[0])&&w<=T&&_.push(u[w]);for(let D=w+1;D<=T;D++)_.push(u[D]);return sh(u[T],d.point)||_.push(d.point),_}lineSliceAlong(n,o,u){let g=0;const d=[];for(let _=0;_<u.length-1;_++){const w=u[_],T=u[_+1],D=this.distance(w,T);if(g+=D,g>n&&d.length===0&&d.push(Rr(w,T,(n-(g-D))/D)),g>=o)return d.push(Rr(w,T,(o-(g-D))/D)),d;g>n&&d.push(T)}return d}bufferPoint(n,o){const u=o/this.ky,g=o/this.kx;return[n[0]-g,n[1]-u,n[0]+g,n[1]+u]}bufferBBox(n,o){const u=o/this.ky,g=o/this.kx;return[n[0]-g,n[1]-u,n[2]+g,n[3]+u]}insideBBox(n,o){return cs(n[0]-o[0])>=0&&cs(n[0]-o[2])<=0&&n[1]>=o[1]&&n[1]<=o[3]}}function sh(h,n){return h[0]===n[0]&&h[1]===n[1]}function Rr(h,n,o){const u=cs(n[0]-h[0]);return[h[0]+u*o,h[1]+(n[1]-h[1])*o]}function cs(h){for(;h<-180;)h+=360;for(;h>180;)h-=360;return h}class Hu{constructor(n=[],o=(u,g)=>u<g?-1:u>g?1:0){if(this.data=n,this.length=this.data.length,this.compare=o,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],o=this.data.pop();return--this.length>0&&(this.data[0]=o,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:o,compare:u}=this,g=o[n];for(;n>0;){const d=n-1>>1,_=o[d];if(u(g,_)>=0)break;o[n]=_,n=d}o[n]=g}_down(n){const{data:o,compare:u}=this,g=this.length>>1,d=o[n];for(;n<g;){let _=1+(n<<1);const w=_+1;if(w<this.length&&u(o[w],o[_])<0&&(_=w),u(o[_],d)>=0)break;o[n]=o[_],n=_}o[n]=d}}var At=8192;function Uu(h,n){return n.dist-h.dist}const Wa=100,zr=50;function Um(h){const n=[1/0,1/0,-1/0,-1/0];if(n.length!==h.length)return!1;for(let o=0;o<n.length;o++)if(n[o]!==h[o])return!1;return!0}function ju(h){return h[1]-h[0]+1}function Za(h,n){const o=h[1]>=h[0]&&h[1]<n;return o||console.warn("Distance Expression: Index is out of range"),o}function Zl(h,n){if(h[0]>h[1])return[null,null];const o=ju(h);if(n){if(o===2)return[h,null];const u=Math.floor(o/2);return[[h[0],h[0]+u],[h[0]+u,h[1]]]}{if(o===1)return[h,null];const u=Math.floor(o/2)-1;return[[h[0],h[0]+u],[h[0]+u+1,h[1]]]}}function _o(h,n){const o=[1/0,1/0,-1/0,-1/0];if(!Za(n,h.length))return o;for(let u=n[0];u<=n[1];++u)nh(o,h[u]);return o}function Yl(h){const n=[1/0,1/0,-1/0,-1/0];for(let o=0;o<h.length;++o)for(let u=0;u<h[o].length;++u)nh(n,h[o][u]);return n}function Xl(h,n,o){if(Um(h)||Um(n))return NaN;let u=0,g=0;return h[2]<n[0]&&(u=n[0]-h[2]),h[0]>n[2]&&(u=h[0]-n[2]),h[1]>n[3]&&(g=h[1]-n[3]),h[3]<n[1]&&(g=n[1]-h[3]),o.distance([0,0],[u,g])}function C_(h){return 360*h-180}function A_(h){return 360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90}function Vp(h,n){const o=Math.pow(2,n.z),u=(h.y/At+n.y)/o;return[C_((h.x/At+n.x)/o),A_(u)]}function jm(h,n){const o=[];for(let u=0;u<h.length;++u)o.push(Vp(h[u],n));return o}function qm(h,n,o){const u=o.pointOnLine(n,h).point;return o.distance(h,u)}function $m(h,n,o,u,g){const d=o.slice(u[0],u[1]+1);let _=1/0;for(let w=n[0];w<=n[1];++w)if((_=Math.min(_,qm(h[w],d,g)))===0)return 0;return _}function qu(h,n,o,u,g){const d=Math.min(g.pointToSegmentDistance(h,o,u),g.pointToSegmentDistance(n,o,u)),_=Math.min(g.pointToSegmentDistance(o,h,n),g.pointToSegmentDistance(u,h,n));return Math.min(d,_)}function il(h,n,o,u,g){if(!Za(n,h.length)||!Za(u,o.length))return NaN;let d=1/0;for(let _=n[0];_<n[1];++_)for(let w=u[0];w<u[1];++w){if(Fu(h[_],h[_+1],o[w],o[w+1]))return 0;d=Math.min(d,qu(h[_],h[_+1],o[w],o[w+1],g))}return d}function I_(h,n,o,u,g){if(!Za(n,h.length)||!Za(u,o.length))return NaN;let d=1/0;for(let _=n[0];_<=n[1];++_)for(let w=u[0];w<=u[1];++w)if((d=Math.min(d,g.distance(h[_],o[w])))===0)return d;return d}function P_(h,n,o){if(ia(h,n,!0))return 0;let u=1/0;for(const g of n){const d=g.length;if(d<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(g[0]!==g[d-1]&&(u=Math.min(u,o.pointToSegmentDistance(h,g[d-1],g[0])))===0||(u=Math.min(u,qm(h,g,o)))===0)return u}return u}function Hp(h,n,o,u){if(!Za(n,h.length))return NaN;for(let d=n[0];d<=n[1];++d)if(ia(h[d],o,!0))return 0;let g=1/0;for(let d=n[0];d<n[1];++d)for(const _ of o)for(let w=0,T=_.length,D=T-1;w<T;D=w++){if(Fu(h[d],h[d+1],_[D],_[w]))return 0;g=Math.min(g,qu(h[d],h[d+1],_[D],_[w],u))}return g}function Up(h,n){for(const o of h)for(let u=0;u<=o.length-1;++u)if(ia(o[u],n,!0))return!0;return!1}function Gm(h,n,o,u=1/0){const g=Yl(h),d=Yl(n);if(u!==1/0&&Xl(g,d,o)>=u)return u;if(rh(g,d)){if(Up(h,n))return 0}else if(Up(n,h))return 0;let _=u;for(const w of h)for(let T=0,D=w.length,b=D-1;T<D;b=T++)for(const E of n)for(let I=0,S=E.length,A=S-1;I<S;A=I++){if(Fu(w[b],w[T],E[A],E[I]))return 0;_=Math.min(_,qu(w[b],w[T],E[A],E[I],o))}return _}function hs(h,n,o,u,g,d,_){if(d===null||_===null)return;const w=Xl(_o(u,d),_o(g,_),o);w<n&&h.push({dist:w,range1:d,range2:_})}function Wm(h,n,o,u,g=1/0){let d=Math.min(u.distance(h[0],o[0][0]),g);if(d===0)return d;const _=new Hu([{dist:0,range1:[0,h.length-1],range2:[0,0]}],Uu),w=n?zr:Wa,T=Yl(o);for(;_.length;){const D=_.pop();if(D.dist>=d)continue;const b=D.range1;if(ju(b)<=w){if(!Za(b,h.length))return NaN;if(n){const E=Hp(h,b,o,u);if((d=Math.min(d,E))===0)return d}else for(let E=b[0];E<=b[1];++E){const I=P_(h[E],o,u);if((d=Math.min(d,I))===0)return d}}else{const E=Zl(b,n);if(E[0]!==null){const I=Xl(_o(h,E[0]),T,u);I<d&&_.push({dist:I,range1:E[0],range2:[0,0]})}if(E[1]!==null){const I=Xl(_o(h,E[1]),T,u);I<d&&_.push({dist:I,range1:E[1],range2:[0,0]})}}}return d}function jp(h,n,o,u,g,d=1/0){let _=Math.min(d,g.distance(h[0],o[0]));if(_===0)return _;const w=new Hu([{dist:0,range1:[0,h.length-1],range2:[0,o.length-1]}],Uu),T=n?zr:Wa,D=u?zr:Wa;for(;w.length;){const b=w.pop();if(b.dist>=_)continue;const E=b.range1,I=b.range2;if(ju(E)<=T&&ju(I)<=D){if(!Za(E,h.length)||!Za(I,o.length))return NaN;if(n&&u?_=Math.min(_,il(h,E,o,I,g)):n||u?n&&!u?_=Math.min(_,$m(o,I,h,E,g)):!n&&u&&(_=Math.min(_,$m(h,E,o,I,g))):_=Math.min(_,I_(h,E,o,I,g)),_===0)return _}else{const S=Zl(E,n),A=Zl(I,u);hs(w,_,g,h,o,S[0],A[0]),hs(w,_,g,h,o,S[0],A[1]),hs(w,_,g,h,o,S[1],A[0]),hs(w,_,g,h,o,S[1],A[1])}}return _}function $u(h,n,o,u,g=1/0){let d=g;const _=_o(h,[0,h.length-1]);for(const w of o)if(!(d!==1/0&&Xl(_,_o(w,[0,w.length-1]),u)>=d)&&(d=Math.min(d,jp(h,n,w,!0,u,d)),d===0))return d;return d}function ah(h,n,o,u,g=1/0){let d=g;const _=_o(h,[0,h.length-1]);for(const w of o){if(d!==1/0&&Xl(_,Yl(w),u)>=d)continue;const T=Wm(h,n,w,u,d);if(isNaN(T))return T;if((d=Math.min(d,T))===0)return d}return d}function Gu(h){return h==="Point"||h==="MultiPoint"||h==="LineString"||h==="MultiLineString"||h==="Polygon"||h==="MultiPolygon"}class yo{constructor(n,o){this.type=Bt,this.geojson=n,this.geometries=o}static parse(n,o){if(n.length!==2)return o.error(`'distance' expression requires either one argument, but found ' ${n.length-1} instead.`);if(el(n[1])){const u=n[1];if(u.type==="FeatureCollection"){for(let g=0;g<u.features.length;++g)if(Gu(u.features[g].geometry.type))return new yo(u,u.features[g].geometry)}else if(u.type==="Feature"){if(Gu(u.geometry.type))return new yo(u,u.geometry)}else if(Gu(u.type))return new yo(u,u)}return o.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(n){const o=n.geometry(),u=n.canonicalID();if(o!=null&&u!=null){if(n.geometryType()==="Point")return function(g,d,_){const w=[];for(const D of g)for(const b of D)w.push(Vp(b,d));const T=new Wl(w[0][1],"meters");return _.type==="Point"||_.type==="MultiPoint"||_.type==="LineString"?jp(w,!1,_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",T):_.type==="MultiLineString"?$u(w,!1,_.coordinates,T):_.type==="Polygon"||_.type==="MultiPolygon"?ah(w,!1,_.type==="Polygon"?[_.coordinates]:_.coordinates,T):null}(o,u,this.geometries);if(n.geometryType()==="LineString")return function(g,d,_){const w=[];for(const D of g){const b=[];for(const E of D)b.push(Vp(E,d));w.push(b)}const T=new Wl(w[0][0][1],"meters");if(_.type==="Point"||_.type==="MultiPoint"||_.type==="LineString")return $u(_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",w,T);if(_.type==="MultiLineString"){let D=1/0;for(let b=0;b<_.coordinates.length;b++){const E=$u(_.coordinates[b],!0,w,T,D);if(isNaN(E))return E;if((D=Math.min(D,E))===0)return D}return D}if(_.type==="Polygon"||_.type==="MultiPolygon"){let D=1/0;for(let b=0;b<w.length;b++){const E=ah(w[b],!0,_.type==="Polygon"?[_.coordinates]:_.coordinates,T,D);if(isNaN(E))return E;if((D=Math.min(D,E))===0)return D}return D}return null}(o,u,this.geometries);if(n.geometryType()==="Polygon")return function(g,d,_){const w=[];for(const D of function(b,E){const I=b.length;if(I<=1)return[b];const S=[];let A,k;for(let B=0;B<I;B++){const N=M_(b[B]);N!==0&&(b[B].area=Math.abs(N),k===void 0&&(k=N<0),k===N<0?(A&&S.push(A),A=[b[B]]):A.push(b[B]))}return A&&S.push(A),S}(g)){const b=[];for(let E=0;E<D.length;++E)b.push(jm(D[E],d));w.push(b)}const T=new Wl(w[0][0][0][1],"meters");if(_.type==="Point"||_.type==="MultiPoint"||_.type==="LineString")return ah(_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",w,T);if(_.type==="MultiLineString"){let D=1/0;for(let b=0;b<_.coordinates.length;b++){const E=ah(_.coordinates[b],!0,w,T,D);if(isNaN(E))return E;if((D=Math.min(D,E))===0)return D}return D}return _.type==="Polygon"||_.type==="MultiPolygon"?function(D,b,E){let I=1/0;for(const S of D)for(const A of b){const k=Gm(S,A,E,I);if(isNaN(k))return k;if((I=Math.min(I,k))===0)return I}return I}(_.type==="Polygon"?[_.coordinates]:_.coordinates,w,T):null}(o,u,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function Wu(h,n){switch(h){case"string":return ta(n);case"number":return+n;case"boolean":return!!n;case"color":return zi.parse(n);case"formatted":return Vr.fromString(ta(n));case"resolvedImage":return xr.build(ta(n))}return n}function qp(h,n,o,u){return u!==void 0&&(h=u*Math.round(h/u)),n!==void 0&&h<n&&(h=n),o!==void 0&&h>o&&(h=o),h}class nl{constructor(n,o,u){this.type=n,this.key=o,this.scope=u}static parse(n,o){let u=o.expectedType;if(u==null&&(u=Ci),n.length<2||n.length>3)return o.error("Invalid number of arguments for 'config' expression.");const g=o.parse(n[1],1);if(!(g instanceof ks))return o.error("Key name of 'config' expression must be a string literal.");if(n.length>=3){const d=o.parse(n[2],2);return d instanceof ks?new nl(u,ta(g.value),ta(d.value)):o.error("Scope of 'config' expression must be a string literal.")}return new nl(u,ta(g.value))}evaluate(n){const o=[this.key,this.scope,n.scope].filter(Boolean).join(""),u=n.getConfig(o);if(!u)return null;const{type:g,value:d,values:_,minValue:w,maxValue:T,stepValue:D}=u,b=u.default.evaluate(n);let E=b;if(d){const I=n.scope;n.scope=(I||"").split("").slice(1).join(""),E=d.evaluate(n),n.scope=I}return g&&(E=Wu(g,E)),E===void 0||w===void 0&&T===void 0&&D===void 0||(typeof E=="number"?E=qp(E,w,T,D):Array.isArray(E)&&(E=E.map(I=>typeof I=="number"?qp(I,w,T,D):I))),d!==void 0&&E!==void 0&&_&&!_.includes(E)&&(E=b,g&&(E=Wu(g,E))),(g&&g!==this.type||E!==void 0&&xn(E)!==this.type)&&(E=Wu(this.type.kind,E)),E}eachChild(){}outputDefined(){return!1}serialize(){const n=["config",this.key];return this.scope&&n.concat(this.key),n}}function Kl(h){if(h instanceof ls&&(h.name==="get"&&h.args.length===1||h.name==="feature-state"||h.name==="has"&&h.args.length===1||h.name==="properties"||h.name==="geometry-type"||h.name==="id"||/^filter-/.test(h.name))||h instanceof Ga||h instanceof yo)return!1;let n=!0;return h.eachChild(o=>{n&&!Kl(o)&&(n=!1)}),n}function oh(h){if(h instanceof ls&&h.name==="feature-state")return!1;let n=!0;return h.eachChild(o=>{n&&!oh(o)&&(n=!1)}),n}function rl(h){if(h instanceof nl)return new Set([h.key]);let n=new Set;return h.eachChild(o=>{n=new Set([...n,...rl(o)])}),n}function Ya(h,n){if(h instanceof ls&&n.indexOf(h.name)>=0)return!1;let o=!0;return h.eachChild(u=>{o&&!Ya(u,n)&&(o=!1)}),o}class sl{constructor(n,o){this.type=o.type,this.name=n,this.boundExpression=o}static parse(n,o){if(n.length!==2||typeof n[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const u=n[1];return o.scope.has(u)?new sl(u,o.scope.get(u)):o.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Zu{constructor(n,o=[],u,g=new Bp,d=[],_,w){this.registry=n,this.path=o,this.key=o.map(T=>typeof T=="string"?`['${T}']`:`[${T}]`).join(""),this.scope=g,this.errors=d,this.expectedType=u,this._scope=_,this.options=w}parse(n,o,u,g,d={}){return o||u?this.concat(o,null,u,g)._parse(n,d):this._parse(n,d)}parseObjectValue(n,o,u,g,d,_={}){return this.concat(o,u,g,d)._parse(n,_)}_parse(n,o){function u(g,d,_){return _==="assert"?new Os(d,[g]):_==="coerce"?new $a(d,[g]):g}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=typeof n[0]=="string"?this.registry[n[0]]:void 0;if(g){let d=g.parse(n,this);if(!d)return null;if(this.expectedType){const _=this.expectedType,w=d.type;if(_.kind!=="string"&&_.kind!=="number"&&_.kind!=="boolean"&&_.kind!=="object"&&_.kind!=="array"||w.kind!=="value")if(_.kind!=="color"&&_.kind!=="formatted"&&_.kind!=="resolvedImage"||w.kind!=="value"&&w.kind!=="string"){if(this.checkSubtype(_,w))return null}else d=u(d,_,o.typeAnnotation||"coerce");else d=u(d,_,o.typeAnnotation||"assert")}if(!(d instanceof ks)&&d.type.kind!=="resolvedImage"&&Yu(d)){const _=new Ou(this._scope,this.options);try{d=new ks(d.type,d.evaluate(_))}catch(w){return this.error(w.message),null}}return d}return $a.parse(["to-array",n],this)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,o,u,g){let d=typeof n=="number"?this.path.concat(n):this.path;d=typeof o=="string"?d.concat(o):d;const _=g?this.scope.concat(g):this.scope;return new Zu(this.registry,d,u||null,_,this.errors,this._scope,this.options)}error(n,...o){const u=`${this.key}${o.map(g=>`[${g}]`).join("")}`;this.errors.push(new Ls(u,n))}checkSubtype(n,o){const u=Qc(n,o);return u&&this.error(u),u}}var $p=Zu;function Yu(h){if(h instanceof sl)return Yu(h.boundExpression);if(h instanceof ls&&h.name==="error"||h instanceof zu||h instanceof Ga||h instanceof yo||h instanceof nl)return!1;const n=h instanceof $a||h instanceof Os;let o=!0;return h.eachChild(u=>{o=n?o&&Yu(u):o&&u instanceof ks}),!!o&&Kl(h)&&Ya(h,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function Xa(h,n){const o=h.length-1;let u,g,d=0,_=o,w=0;for(;d<=_;)if(w=Math.floor((d+_)/2),u=h[w],g=h[w+1],u<=n){if(w===o||n<g)return w;d=w+1}else{if(!(u>n))throw new Zn("Input is not a number.");_=w-1}return 0}class Si{constructor(n,o,u){this.type=n,this.input=o,this.labels=[],this.outputs=[];for(const[g,d]of u)this.labels.push(g),this.outputs.push(d)}static parse(n,o){if(n.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return o.error("Expected an even number of arguments.");const u=o.parse(n[1],1,Bt);if(!u)return null;const g=[];let d=null;o.expectedType&&o.expectedType.kind!=="value"&&(d=o.expectedType);for(let _=1;_<n.length;_+=2){const w=_===1?-1/0:n[_],T=n[_+1],D=_,b=_+1;if(typeof w!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(g.length&&g[g.length-1][0]>=w)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',D);const E=o.parse(T,b,d);if(!E)return null;d=d||E.type,g.push([w,E])}return new Si(d,u,g)}evaluate(n){const o=this.labels,u=this.outputs;if(o.length===1)return u[0].evaluate(n);const g=this.input.evaluate(n);if(g<=o[0])return u[0].evaluate(n);const d=o.length;return g>=o[d-1]?u[d-1].evaluate(n):u[Xa(o,g)].evaluate(n)}eachChild(n){n(this.input);for(const o of this.outputs)n(o)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&n.push(this.labels[o]),n.push(this.outputs[o].serialize());return n}}const Zm=.95047,Ym=1.08883,Xm=4/29,al=6/29,Km=3*al*al,_n=al*al*al,D_=Math.PI/180,L_=180/Math.PI;function Gp(h){return h>_n?Math.pow(h,1/3):h/Km+Xm}function Wp(h){return h>al?h*h*h:Km*(h-Xm)}function Zp(h){return 255*(h<=.0031308?12.92*h:1.055*Math.pow(h,1/2.4)-.055)}function Yp(h){return(h/=255)<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)}function Jm(h){const n=Yp(h.r),o=Yp(h.g),u=Yp(h.b),g=Gp((.4124564*n+.3575761*o+.1804375*u)/Zm),d=Gp((.2126729*n+.7151522*o+.072175*u)/1);return{l:116*d-16,a:500*(g-d),b:200*(d-Gp((.0193339*n+.119192*o+.9503041*u)/Ym)),alpha:h.a}}function Qm(h){let n=(h.l+16)/116,o=isNaN(h.a)?n:n+h.a/500,u=isNaN(h.b)?n:n-h.b/200;return n=1*Wp(n),o=Zm*Wp(o),u=Ym*Wp(u),new zi(Zp(3.2404542*o-1.5371385*n-.4985314*u),Zp(-.969266*o+1.8760108*n+.041556*u),Zp(.0556434*o-.2040259*n+1.0572252*u),h.alpha)}function k_(h,n,o){const u=n-h;return h+o*(u>180||u<-180?u-360*Math.round(u/360):u)}const lh={forward:Jm,reverse:Qm,interpolate:function(h,n,o){return{l:ei(h.l,n.l,o),a:ei(h.a,n.a,o),b:ei(h.b,n.b,o),alpha:ei(h.alpha,n.alpha,o)}}},ch={forward:function(h){const{l:n,a:o,b:u}=Jm(h),g=Math.atan2(u,o)*L_;return{h:g<0?g+360:g,c:Math.sqrt(o*o+u*u),l:n,alpha:h.a}},reverse:function(h){const n=h.h*D_,o=h.c;return Qm({l:h.l,a:Math.cos(n)*o,b:Math.sin(n)*o,alpha:h.alpha})},interpolate:function(h,n,o){return{h:k_(h.h,n.h,o),c:ei(h.c,n.c,o),l:ei(h.l,n.l,o),alpha:ei(h.alpha,n.alpha,o)}}};var e0=Object.freeze({__proto__:null,hcl:ch,lab:lh});class us{constructor(n,o,u,g,d,_){this.type=n,this.operator=o,this.interpolation=u,this.input=g,this.dynamicStops=d,this.labels=[],this.outputs=[];for(const[w,T]of _)this.labels.push(w),this.outputs.push(T)}static interpolationFactor(n,o,u,g){let d=0;if(n.name==="exponential")d=Xp(o,n.base,u,g);else if(n.name==="linear")d=Xp(o,1,u,g);else if(n.name==="cubic-bezier"){const _=n.controlPoints;d=new $r(_[0],_[1],_[2],_[3]).solve(Xp(o,1,u,g))}return d}static parse(n,o){let[u,g,d,..._]=n;if(!Array.isArray(g)||g.length===0)return o.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const D=g[1];if(typeof D!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:D}}else{if(g[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const D=g.slice(1);if(D.length!==4||D.some(b=>typeof b!="number"||b<0||b>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:D}}}if(n.length-1<3)return o.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length-1>3&&(n.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(d=o.parse(d,2,Bt),!d)return null;const w=[];let T=null;if(u==="interpolate-hcl"||u==="interpolate-lab"?T=os:o.expectedType&&o.expectedType.kind!=="value"&&(T=o.expectedType),n.length-1==3){const D=o.parse(_[0],3,Ci);return D?new us(T,u,g,d,D,w):null}for(let D=0;D<_.length;D+=2){const b=_[D],E=_[D+1],I=D+3,S=D+4;if(typeof b!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(w.length&&w[w.length-1][0]>=b)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const A=o.parse(E,S,T);if(!A)return null;T=T||A.type,w.push([b,A])}return T.kind==="number"||T.kind==="color"||T.kind==="array"&&T.itemType.kind==="number"&&typeof T.N=="number"?new us(T,u,g,d,null,w):o.error(`Type ${dn(T)} is not interpolatable.`)}evaluate(n){let o=this.labels,u=this.outputs;if(this.dynamicStops){const b=this.dynamicStops.evaluate(n);if(b.length%2!=0)throw new Zn("Expected an even number of arguments.");o=[],u=[];for(let E=0;E<b.length;E+=2){const I=b[E],S=new ks(Bt,b[E+1]);if(typeof I!="number")throw new Zn('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.');if(o.length&&o[o.length-1]>=I)throw new Zn('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.');o.push(I),u.push(S)}if(o.length===0)throw new Zn("Expected at least one input/output pair.")}if(o.length===1)return u[0].evaluate(n);const g=this.input.evaluate(n);if(g<=o[0])return u[0].evaluate(n);const d=o.length;if(g>=o[d-1])return u[d-1].evaluate(n);const _=Xa(o,g),w=us.interpolationFactor(this.interpolation,g,o[_],o[_+1]),T=u[_].evaluate(n),D=u[_+1].evaluate(n);return this.operator==="interpolate"?Di[this.type.kind.toLowerCase()](T,D,w):this.operator==="interpolate-hcl"?ch.reverse(ch.interpolate(ch.forward(T),ch.forward(D),w)):lh.reverse(lh.interpolate(lh.forward(T),lh.forward(D),w))}eachChild(n){n(this.input);for(const o of this.outputs)n(o)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,n,this.input.serialize()];if(this.dynamicStops)o.push(this.dynamicStops.serialize());else for(let u=0;u<this.labels.length;u++)o.push(this.labels[u],this.outputs[u].serialize());return o}}function Xp(h,n,o,u){const g=u-o,d=h-o;return g===0?0:n===1?d/g:(Math.pow(n,d)-1)/(Math.pow(n,g)-1)}class Xu{constructor(n,o){this.type=n,this.args=o}static parse(n,o){if(n.length<2)return o.error("Expectected at least one argument.");let u=null;const g=o.expectedType;g&&g.kind!=="value"&&(u=g);const d=[];for(const w of n.slice(1)){const T=o.parse(w,1+d.length,u,void 0,{typeAnnotation:"omit"});if(!T)return null;u=u||T.type,d.push(T)}const _=g&&d.some(w=>Qc(g,w.type));return new Xu(_?Ci:u,d)}evaluate(n){let o,u=null,g=0;for(const d of this.args){if(g++,u=d.evaluate(n),u&&u instanceof xr&&!u.available&&(o||(o=u),u=null,g===this.args.length))return o;if(u!==null)break}return u}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(o=>{n.push(o.serialize())}),n}}class Ku{constructor(n,o){this.type=o.type,this.bindings=[].concat(n),this.result=o}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const o of this.bindings)n(o[1]);n(this.result)}static parse(n,o){if(n.length<4)return o.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const u=[];for(let d=1;d<n.length-1;d+=2){const _=n[d];if(typeof _!="string")return o.error(`Expected string, but found ${typeof _} instead.`,d);if(/[^a-zA-Z0-9_]/.test(_))return o.error("Variable names must contain only alphanumeric characters or '_'.",d);const w=o.parse(n[d+1],d+1);if(!w)return null;u.push([_,w])}const g=o.parse(n[n.length-1],n.length-1,o.expectedType,u);return g?new Ku(u,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[o,u]of this.bindings)n.push(o,u.serialize());return n.push(this.result.serialize()),n}}class Kp{constructor(n,o,u){this.type=n,this.index=o,this.input=u}static parse(n,o){if(n.length!==3)return o.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const u=o.parse(n[1],1,Bt),g=o.parse(n[2],2,Nr(o.expectedType||Ci));return u&&g?new Kp(g.type.itemType,u,g):null}evaluate(n){const o=this.index.evaluate(n),u=this.input.evaluate(n);if(o<0)throw new Zn(`Array index out of bounds: ${o} < 0.`);if(o>u.length-1)throw new Zn(`Array index out of bounds: ${o} > ${u.length-1}.`);if(o===Math.floor(o))return u[o];const g=Math.floor(o),d=Math.ceil(o),_=u[g],w=u[d];if(typeof _!="number"||typeof w!="number")throw new Zn(`Cannot interpolate between non-number values at index ${o}.`);const T=o-g;return _*(1-T)+w*T}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Jp{constructor(n,o){this.type=Li,this.needle=n,this.haystack=o}static parse(n,o){if(n.length!==3)return o.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const u=o.parse(n[1],1,Ci),g=o.parse(n[2],2,Ci);return u&&g?Lu(u.type,[Li,Vi,Bt,Ul,Ci])?new Jp(u,g):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${dn(u.type)} instead`):null}evaluate(n){const o=this.needle.evaluate(n),u=this.haystack.evaluate(n);if(u==null)return!1;if(!jl(o,["boolean","string","number","null"]))throw new Zn(`Expected first argument to be of type boolean, string, number or null, but found ${dn(xn(o))} instead.`);if(!jl(u,["string","array"]))throw new Zn(`Expected second argument to be of type array or string, but found ${dn(xn(u))} instead.`);return u.indexOf(o)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Ju{constructor(n,o,u){this.type=Bt,this.needle=n,this.haystack=o,this.fromIndex=u}static parse(n,o){if(n.length<=2||n.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const u=o.parse(n[1],1,Ci),g=o.parse(n[2],2,Ci);if(!u||!g)return null;if(!Lu(u.type,[Li,Vi,Bt,Ul,Ci]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${dn(u.type)} instead`);if(n.length===4){const d=o.parse(n[3],3,Bt);return d?new Ju(u,g,d):null}return new Ju(u,g)}evaluate(n){const o=this.needle.evaluate(n),u=this.haystack.evaluate(n);if(!jl(o,["boolean","string","number","null"]))throw new Zn(`Expected first argument to be of type boolean, string, number or null, but found ${dn(xn(o))} instead.`);if(!jl(u,["string","array"]))throw new Zn(`Expected second argument to be of type array or string, but found ${dn(xn(u))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(n);return u.indexOf(o,g)}return u.indexOf(o)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Qp{constructor(n,o,u,g,d,_){this.inputType=n,this.type=o,this.input=u,this.cases=g,this.outputs=d,this.otherwise=_}static parse(n,o){if(n.length<5)return o.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return o.error("Expected an even number of arguments.");let u,g;o.expectedType&&o.expectedType.kind!=="value"&&(g=o.expectedType);const d={},_=[];for(let D=2;D<n.length-1;D+=2){let b=n[D];const E=n[D+1];Array.isArray(b)||(b=[b]);const I=o.concat(D);if(b.length===0)return I.error("Expected at least one branch label.");for(const A of b){if(typeof A!="number"&&typeof A!="string")return I.error("Branch labels must be numbers or strings.");if(typeof A=="number"&&Math.abs(A)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof A=="number"&&Math.floor(A)!==A)return I.error("Numeric branch labels must be integer values.");if(u){if(I.checkSubtype(u,xn(A)))return null}else u=xn(A);if(d[String(A)]!==void 0)return I.error("Branch labels must be unique.");d[String(A)]=_.length}const S=o.parse(E,D,g);if(!S)return null;g=g||S.type,_.push(S)}const w=o.parse(n[1],1,Ci);if(!w)return null;const T=o.parse(n[n.length-1],n.length-1,g);return T?w.type.kind!=="value"&&o.concat(1).checkSubtype(u,w.type)?null:new Qp(u,g,w,d,_,T):null}evaluate(n){const o=this.input.evaluate(n);return(xn(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),u=[],g={};for(const _ of o){const w=g[this.cases[_]];w===void 0?(g[this.cases[_]]=u.length,u.push([this.cases[_],[_]])):u[w][1].push(_)}const d=_=>this.inputType.kind==="number"?Number(_):_;for(const[_,w]of u)n.push(w.length===1?d(w[0]):w.map(d)),n.push(this.outputs[_].serialize());return n.push(this.otherwise.serialize()),n}}class ef{constructor(n,o,u){this.type=n,this.branches=o,this.otherwise=u}static parse(n,o){if(n.length<4)return o.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return o.error("Expected an odd number of arguments.");let u;o.expectedType&&o.expectedType.kind!=="value"&&(u=o.expectedType);const g=[];for(let _=1;_<n.length-1;_+=2){const w=o.parse(n[_],_,Li);if(!w)return null;const T=o.parse(n[_+1],_+1,u);if(!T)return null;g.push([w,T]),u=u||T.type}const d=o.parse(n[n.length-1],n.length-1,u);return d?new ef(u,g,d):null}evaluate(n){for(const[o,u]of this.branches)if(o.evaluate(n))return u.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[o,u]of this.branches)n(o),n(u);n(this.otherwise)}outputDefined(){return this.branches.every(([n,o])=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(o=>{n.push(o.serialize())}),n}}class Qu{constructor(n,o,u,g){this.type=n,this.input=o,this.beginIndex=u,this.endIndex=g}static parse(n,o){if(n.length<=2||n.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const u=o.parse(n[1],1,Ci),g=o.parse(n[2],2,Bt);if(!u||!g)return null;if(!Lu(u.type,[Nr(Ci),Vi,Ci]))return o.error(`Expected first argument to be of type array or string, but found ${dn(u.type)} instead`);if(n.length===4){const d=o.parse(n[3],3,Bt);return d?new Qu(u.type,u,g,d):null}return new Qu(u.type,u,g)}evaluate(n){const o=this.input.evaluate(n),u=this.beginIndex.evaluate(n);if(!jl(o,["string","array"]))throw new Zn(`Expected first argument to be of type array or string, but found ${dn(xn(o))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(n);return o.slice(u,g)}return o.slice(u)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function t0(h,n){return h==="=="||h==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function i0(h,n,o,u){return u.compare(n,o)===0}function Jl(h,n,o){const u=h!=="=="&&h!=="!=";return class t8{constructor(d,_,w){this.type=Li,this.lhs=d,this.rhs=_,this.collator=w,this.hasUntypedArgument=d.type.kind==="value"||_.type.kind==="value"}static parse(d,_){if(d.length!==3&&d.length!==4)return _.error("Expected two or three arguments.");const w=d[0];let T=_.parse(d[1],1,Ci);if(!T)return null;if(!t0(w,T.type))return _.concat(1).error(`"${w}" comparisons are not supported for type '${dn(T.type)}'.`);let D=_.parse(d[2],2,Ci);if(!D)return null;if(!t0(w,D.type))return _.concat(2).error(`"${w}" comparisons are not supported for type '${dn(D.type)}'.`);if(T.type.kind!==D.type.kind&&T.type.kind!=="value"&&D.type.kind!=="value")return _.error(`Cannot compare types '${dn(T.type)}' and '${dn(D.type)}'.`);u&&(T.type.kind==="value"&&D.type.kind!=="value"?T=new Os(D.type,[T]):T.type.kind!=="value"&&D.type.kind==="value"&&(D=new Os(T.type,[D])));let b=null;if(d.length===4){if(T.type.kind!=="string"&&D.type.kind!=="string"&&T.type.kind!=="value"&&D.type.kind!=="value")return _.error("Cannot use collator to compare non-string types.");if(b=_.parse(d[3],3,Du),!b)return null}return new t8(T,D,b)}evaluate(d){const _=this.lhs.evaluate(d),w=this.rhs.evaluate(d);if(u&&this.hasUntypedArgument){const T=xn(_),D=xn(w);if(T.kind!==D.kind||T.kind!=="string"&&T.kind!=="number")throw new Zn(`Expected arguments for "${h}" to be (string, string) or (number, number), but found (${T.kind}, ${D.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const T=xn(_),D=xn(w);if(T.kind!=="string"||D.kind!=="string")return n(d,_,w)}return this.collator?o(d,_,w,this.collator.evaluate(d)):n(d,_,w)}eachChild(d){d(this.lhs),d(this.rhs),this.collator&&d(this.collator)}outputDefined(){return!0}serialize(){const d=[h];return this.eachChild(_=>{d.push(_.serialize())}),d}}}const O_=Jl("==",function(h,n,o){return n===o},i0),R_=Jl("!=",function(h,n,o){return n!==o},function(h,n,o,u){return!i0(0,n,o,u)}),z_=Jl("<",function(h,n,o){return n<o},function(h,n,o,u){return u.compare(n,o)<0}),F_=Jl(">",function(h,n,o){return n>o},function(h,n,o,u){return u.compare(n,o)>0}),B_=Jl("<=",function(h,n,o){return n<=o},function(h,n,o,u){return u.compare(n,o)<=0}),N_=Jl(">=",function(h,n,o){return n>=o},function(h,n,o,u){return u.compare(n,o)>=0});class hh{constructor(n,o,u,g,d,_){this.type=Vi,this.number=n,this.locale=o,this.currency=u,this.unit=g,this.minFractionDigits=d,this.maxFractionDigits=_}static parse(n,o){if(n.length!==3)return o.error("Expected two arguments.");const u=o.parse(n[1],1,Bt);if(!u)return null;const g=n[2];if(typeof g!="object"||Array.isArray(g))return o.error("NumberFormat options argument must be an object.");let d=null;if(g.locale&&(d=o.parseObjectValue(g.locale,2,"locale",Vi),!d))return null;let _=null;if(g.currency&&(_=o.parseObjectValue(g.currency,2,"currency",Vi),!_))return null;let w=null;if(g.unit&&(w=o.parseObjectValue(g.unit,2,"unit",Vi),!w))return null;let T=null;if(g["min-fraction-digits"]&&(T=o.parseObjectValue(g["min-fraction-digits"],2,"min-fraction-digits",Bt),!T))return null;let D=null;return g["max-fraction-digits"]&&(D=o.parseObjectValue(g["max-fraction-digits"],2,"max-fraction-digits",Bt),!D)?null:new hh(u,d,_,w,T,D)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class tf{constructor(n){this.type=Bt,this.input=n}static parse(n,o){if(n.length!==2)return o.error(`Expected 1 argument, but found ${n.length-1} instead.`);const u=o.parse(n[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${dn(u.type)} instead.`):new tf(u):null}evaluate(n){const o=this.input.evaluate(n);if(typeof o=="string"||Array.isArray(o))return o.length;throw new Zn(`Expected value to be of type string or array, but found ${dn(xn(o))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(o=>{n.push(o.serialize())}),n}}function nf(h){return function(){h=1831565813+(h|=0)|0;let n=Math.imul(h^h>>>15,1|h);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const Ql={"==":O_,"!=":R_,">":F_,"<":z_,">=":N_,"<=":B_,array:Os,at:Kp,boolean:Os,case:ef,coalesce:Xu,collator:zu,format:qa,image:ql,in:Jp,"index-of":Ju,interpolate:us,"interpolate-hcl":us,"interpolate-lab":us,length:tf,let:Ku,literal:ks,match:Qp,number:Os,"number-format":hh,object:Os,slice:Qu,step:Si,string:Os,"to-boolean":$a,"to-color":$a,"to-number":$a,"to-string":$a,var:sl,within:Ga,distance:yo,config:nl};function n0(h,[n,o,u,g]){n=n.evaluate(h),o=o.evaluate(h),u=u.evaluate(h);const d=g?g.evaluate(h):1,_=Qo(n,o,u,d);if(_)throw new Zn(_);return new zi(n/255*d,o/255*d,u/255*d,d)}function r0(h,[n,o,u,g]){n=n.evaluate(h),o=o.evaluate(h),u=u.evaluate(h);const d=g?g.evaluate(h):1,_=function(D,b,E,I){return typeof D=="number"&&D>=0&&D<=360?typeof b=="number"&&b>=0&&b<=100&&typeof E=="number"&&E>=0&&E<=100?I===void 0||typeof I=="number"&&I>=0&&I<=1?null:`Invalid hsla value [${[D,b,E,I].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof I=="number"?[D,b,E,I]:[D,b,E]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof I=="number"?[D,b,E,I]:[D,b,E]).join(", ")}]: 'h' must be between 0 and 360.`}(n,o,u,d);if(_)throw new Zn(_);const w=`hsla(${n}, ${o}%, ${u}%, ${d})`,T=zi.parse(w);if(!T)throw new Zn(`Failed to parse HSLA color: ${w}`);return T}function rf(h,n){return h in n}function ed(h,n){const o=n[h];return o===void 0?null:o}function Rs(h){return{type:h}}function sf(h){return{result:"success",value:h}}function Ka(h){return{result:"error",value:h}}function af(h,n){return!!h&&!!h.parameters&&h.parameters.indexOf(n)>-1}function ec(h){return h["property-type"]==="data-driven"}function td(h){return af(h.expression,"measure-light")}function s0(h){return af(h.expression,"zoom")}function of(h){return!!h.expression&&h.expression.interpolated}function id(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)}function a0(h){return h}function o0(h,n){const o=n.type==="color",u=h.stops&&typeof h.stops[0][0]=="object",g=u||!(u||h.property!==void 0),d=h.type||(of(n)?"exponential":"interval");if(o&&((h=Pu({},h)).stops&&(h.stops=h.stops.map(D=>[D[0],zi.parse(D[1])])),h.default=zi.parse(h.default?h.default:n.default)),h.colorSpace&&h.colorSpace!=="rgb"&&!e0[h.colorSpace])throw new Error(`Unknown color space: ${h.colorSpace}`);let _,w,T;if(d==="exponential")_=lf;else if(d==="interval")_=l0;else if(d==="categorical"){_=V_,w=Object.create(null);for(const D of h.stops)w[D[0]]=D[1];T=typeof h.stops[0][0]}else{if(d!=="identity")throw new Error(`Unknown function type "${d}"`);_=nd}if(u){const D={},b=[];for(let S=0;S<h.stops.length;S++){const A=h.stops[S],k=A[0].zoom;D[k]===void 0&&(D[k]={zoom:k,type:h.type,property:h.property,default:h.default,stops:[]},b.push(k)),D[k].stops.push([A[0].value,A[1]])}const E=[];for(const S of b)E.push([D[S].zoom,o0(D[S],n)]);const I={name:"linear"};return{kind:"composite",interpolationType:I,interpolationFactor:us.interpolationFactor.bind(void 0,I),zoomStops:E.map(S=>S[0]),evaluate:({zoom:S},A)=>lf({stops:E,base:h.base},n,S).evaluate(S,A)}}if(g){const D=d==="exponential"?{name:"exponential",base:h.base!==void 0?h.base:1}:null;return{kind:"camera",interpolationType:D,interpolationFactor:us.interpolationFactor.bind(void 0,D),zoomStops:h.stops.map(b=>b[0]),evaluate:({zoom:b})=>_(h,n,b,w,T)}}return{kind:"source",evaluate(D,b){const E=b&&b.properties?b.properties[h.property]:void 0;return E===void 0?uh(h.default,n.default):_(h,n,E,w,T)}}}function uh(h,n,o){return h!==void 0?h:n!==void 0?n:o!==void 0?o:void 0}function V_(h,n,o,u,g){return uh(typeof o===g?u[o]:void 0,h.default,n.default)}function l0(h,n,o){if(tl(o)!=="number")return uh(h.default,n.default);const u=h.stops.length;if(u===1||o<=h.stops[0][0])return h.stops[0][1];if(o>=h.stops[u-1][0])return h.stops[u-1][1];const g=Xa(h.stops.map(d=>d[0]),o);return h.stops[g][1]}function lf(h,n,o){const u=h.base!==void 0?h.base:1;if(tl(o)!=="number")return uh(h.default,n.default);const g=h.stops.length;if(g===1||o<=h.stops[0][0])return h.stops[0][1];if(o>=h.stops[g-1][0])return h.stops[g-1][1];const d=Xa(h.stops.map(b=>b[0]),o),_=function(b,E,I,S){const A=S-I,k=b-I;return A===0?0:E===1?k/A:(Math.pow(E,k)-1)/(Math.pow(E,A)-1)}(o,u,h.stops[d][0],h.stops[d+1][0]),w=h.stops[d][1],T=h.stops[d+1][1];let D=Di[n.type]||a0;if(h.colorSpace&&h.colorSpace!=="rgb"){const b=e0[h.colorSpace];D=(E,I)=>b.reverse(b.interpolate(b.forward(E),b.forward(I),_))}return typeof w.evaluate=="function"?{evaluate(...b){const E=w.evaluate.apply(void 0,b),I=T.evaluate.apply(void 0,b);if(E!==void 0&&I!==void 0)return D(E,I,_)}}:D(w,T,_)}function nd(h,n,o){return n.type==="color"?o=zi.parse(o):n.type==="formatted"?o=Vr.fromString(o.toString()):n.type==="resolvedImage"?o=xr.build(o.toString()):tl(o)===n.type||n.type==="enum"&&n.values[o]||(o=void 0),uh(o,h.default,n.default)}ls.register(Ql,{error:[{kind:"error"},[Vi],(h,[n])=>{throw new Zn(n.evaluate(h))}],typeof:[Vi,[Ci],(h,[n])=>dn(xn(n.evaluate(h)))],"to-rgba":[Nr(Bt,4),[os],(h,[n])=>n.evaluate(h).toRenderColor(null).toArray()],"to-hsla":[Nr(Bt,4),[os],(h,[n])=>n.evaluate(h).toRenderColor(null).toHslaArray()],rgb:[os,[Bt,Bt,Bt],n0],rgba:[os,[Bt,Bt,Bt,Bt],n0],hsl:[os,[Bt,Bt,Bt],r0],hsla:[os,[Bt,Bt,Bt,Bt],r0],has:{type:Li,overloads:[[[Vi],(h,[n])=>rf(n.evaluate(h),h.properties())],[[Vi,Ko],(h,[n,o])=>rf(n.evaluate(h),o.evaluate(h))]]},get:{type:Ci,overloads:[[[Vi],(h,[n])=>ed(n.evaluate(h),h.properties())],[[Vi,Ko],(h,[n,o])=>ed(n.evaluate(h),o.evaluate(h))]]},"feature-state":[Ci,[Vi],(h,[n])=>ed(n.evaluate(h),h.featureState||{})],properties:[Ko,[],h=>h.properties()],"geometry-type":[Vi,[],h=>h.geometryType()],id:[Ci,[],h=>h.id()],zoom:[Bt,[],h=>h.globals.zoom],pitch:[Bt,[],h=>h.globals.pitch||0],"distance-from-center":[Bt,[],h=>h.distanceFromCenter()],"measure-light":[Bt,[Vi],(h,[n])=>h.measureLight(n.evaluate(h))],"heatmap-density":[Bt,[],h=>h.globals.heatmapDensity||0],"line-progress":[Bt,[],h=>h.globals.lineProgress||0],"raster-value":[Bt,[],h=>h.globals.rasterValue||0],"raster-particle-speed":[Bt,[],h=>h.globals.rasterParticleSpeed||0],"sky-radial-progress":[Bt,[],h=>h.globals.skyRadialProgress||0],accumulated:[Ci,[],h=>h.globals.accumulated===void 0?null:h.globals.accumulated],"+":[Bt,Rs(Bt),(h,n)=>{let o=0;for(const u of n)o+=u.evaluate(h);return o}],"*":[Bt,Rs(Bt),(h,n)=>{let o=1;for(const u of n)o*=u.evaluate(h);return o}],"-":{type:Bt,overloads:[[[Bt,Bt],(h,[n,o])=>n.evaluate(h)-o.evaluate(h)],[[Bt],(h,[n])=>-n.evaluate(h)]]},"/":[Bt,[Bt,Bt],(h,[n,o])=>n.evaluate(h)/o.evaluate(h)],"%":[Bt,[Bt,Bt],(h,[n,o])=>n.evaluate(h)%o.evaluate(h)],ln2:[Bt,[],()=>Math.LN2],pi:[Bt,[],()=>Math.PI],e:[Bt,[],()=>Math.E],"^":[Bt,[Bt,Bt],(h,[n,o])=>Math.pow(n.evaluate(h),o.evaluate(h))],sqrt:[Bt,[Bt],(h,[n])=>Math.sqrt(n.evaluate(h))],log10:[Bt,[Bt],(h,[n])=>Math.log(n.evaluate(h))/Math.LN10],ln:[Bt,[Bt],(h,[n])=>Math.log(n.evaluate(h))],log2:[Bt,[Bt],(h,[n])=>Math.log(n.evaluate(h))/Math.LN2],sin:[Bt,[Bt],(h,[n])=>Math.sin(n.evaluate(h))],cos:[Bt,[Bt],(h,[n])=>Math.cos(n.evaluate(h))],tan:[Bt,[Bt],(h,[n])=>Math.tan(n.evaluate(h))],asin:[Bt,[Bt],(h,[n])=>Math.asin(n.evaluate(h))],acos:[Bt,[Bt],(h,[n])=>Math.acos(n.evaluate(h))],atan:[Bt,[Bt],(h,[n])=>Math.atan(n.evaluate(h))],min:[Bt,Rs(Bt),(h,n)=>Math.min(...n.map(o=>o.evaluate(h)))],max:[Bt,Rs(Bt),(h,n)=>Math.max(...n.map(o=>o.evaluate(h)))],abs:[Bt,[Bt],(h,[n])=>Math.abs(n.evaluate(h))],round:[Bt,[Bt],(h,[n])=>{const o=n.evaluate(h);return o<0?-Math.round(-o):Math.round(o)}],floor:[Bt,[Bt],(h,[n])=>Math.floor(n.evaluate(h))],ceil:[Bt,[Bt],(h,[n])=>Math.ceil(n.evaluate(h))],"filter-==":[Li,[Vi,Ci],(h,[n,o])=>h.properties()[n.value]===o.value],"filter-id-==":[Li,[Ci],(h,[n])=>h.id()===n.value],"filter-type-==":[Li,[Vi],(h,[n])=>h.geometryType()===n.value],"filter-<":[Li,[Vi,Ci],(h,[n,o])=>{const u=h.properties()[n.value],g=o.value;return typeof u==typeof g&&u<g}],"filter-id-<":[Li,[Ci],(h,[n])=>{const o=h.id(),u=n.value;return typeof o==typeof u&&o<u}],"filter->":[Li,[Vi,Ci],(h,[n,o])=>{const u=h.properties()[n.value],g=o.value;return typeof u==typeof g&&u>g}],"filter-id->":[Li,[Ci],(h,[n])=>{const o=h.id(),u=n.value;return typeof o==typeof u&&o>u}],"filter-<=":[Li,[Vi,Ci],(h,[n,o])=>{const u=h.properties()[n.value],g=o.value;return typeof u==typeof g&&u<=g}],"filter-id-<=":[Li,[Ci],(h,[n])=>{const o=h.id(),u=n.value;return typeof o==typeof u&&o<=u}],"filter->=":[Li,[Vi,Ci],(h,[n,o])=>{const u=h.properties()[n.value],g=o.value;return typeof u==typeof g&&u>=g}],"filter-id->=":[Li,[Ci],(h,[n])=>{const o=h.id(),u=n.value;return typeof o==typeof u&&o>=u}],"filter-has":[Li,[Ci],(h,[n])=>n.value in h.properties()],"filter-has-id":[Li,[],h=>h.id()!==null&&h.id()!==void 0],"filter-type-in":[Li,[Nr(Vi)],(h,[n])=>n.value.indexOf(h.geometryType())>=0],"filter-id-in":[Li,[Nr(Ci)],(h,[n])=>n.value.indexOf(h.id())>=0],"filter-in-small":[Li,[Vi,Nr(Ci)],(h,[n,o])=>o.value.indexOf(h.properties()[n.value])>=0],"filter-in-large":[Li,[Vi,Nr(Ci)],(h,[n,o])=>function(u,g,d,_){for(;d<=_;){const w=d+_>>1;if(g[w]===u)return!0;g[w]>u?_=w-1:d=w+1}return!1}(h.properties()[n.value],o.value,0,o.value.length-1)],all:{type:Li,overloads:[[[Li,Li],(h,[n,o])=>n.evaluate(h)&&o.evaluate(h)],[Rs(Li),(h,n)=>{for(const o of n)if(!o.evaluate(h))return!1;return!0}]]},any:{type:Li,overloads:[[[Li,Li],(h,[n,o])=>n.evaluate(h)||o.evaluate(h)],[Rs(Li),(h,n)=>{for(const o of n)if(o.evaluate(h))return!0;return!1}]]},"!":[Li,[Li],(h,[n])=>!n.evaluate(h)],"is-supported-script":[Li,[Vi],(h,[n])=>{const o=h.globals&&h.globals.isSupportedScript;return!o||o(n.evaluate(h))}],upcase:[Vi,[Vi],(h,[n])=>n.evaluate(h).toUpperCase()],downcase:[Vi,[Vi],(h,[n])=>n.evaluate(h).toLowerCase()],concat:[Vi,Rs(Ci),(h,n)=>n.map(o=>ta(o.evaluate(h))).join("")],"resolved-locale":[Vi,[Du],(h,[n])=>n.evaluate(h).resolvedLocale()],random:[Bt,[Bt,Bt,Ci],(h,n)=>{const[o,u,g]=n.map(_=>_.evaluate(h));if(o>u||o===u)return o;let d;if(typeof g=="string")d=function(_){let w=0;if(_.length===0)return w;for(let T=0;T<_.length;T++)w=(w<<5)-w+_.charCodeAt(T),w|=0;return w}(g);else{if(typeof g!="number")throw new Zn(`Invalid seed input: ${g}`);d=g}return o+nf(d)()*(u-o)}]});class cf{constructor(n,o,u,g){this.expression=n,this._warningHistory={},this._evaluator=new Ou(u,g),this._defaultValue=o?function(d){return d.type==="color"&&(id(d.default)||Array.isArray(d.default))?new zi(0,0,0,0):d.type==="color"?zi.parse(d.default)||null:d.default===void 0?null:d.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null,this.configDependencies=rl(n)}evaluateWithoutErrorHandling(n,o,u,g,d,_,w,T){return this._evaluator.globals=n,this._evaluator.feature=o,this._evaluator.featureState=u,this._evaluator.canonical=g||null,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=_,this._evaluator.featureTileCoord=w||null,this._evaluator.featureDistanceData=T||null,this.expression.evaluate(this._evaluator)}evaluate(n,o,u,g,d,_,w,T){this._evaluator.globals=n,this._evaluator.feature=o||null,this._evaluator.featureState=u||null,this._evaluator.canonical=g||null,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=_||null,this._evaluator.featureTileCoord=w||null,this._evaluator.featureDistanceData=T||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new Zn(`Expected value to be one of ${Object.keys(this._enumValues).map(b=>JSON.stringify(b)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${D.message}`)),this._defaultValue}}}function rd(h){return Array.isArray(h)&&h.length>0&&typeof h[0]=="string"&&h[0]in Ql}function dh(h,n,o,u){const g=new $p(Ql,[],n?function(_){const w={color:os,string:Vi,number:Bt,enum:Vi,boolean:Li,formatted:ja,resolvedImage:Jo};return _.type==="array"?Nr(w[_.value]||Ci,_.length):w[_.type]}(n):void 0,void 0,void 0,o,u),d=g.parse(h,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?sf(new cf(d,n,o,u)):Ka(g.errors)}class hf{constructor(n,o,u,g){this.kind=n,this._styleExpression=o,this.isLightConstant=u,this.isLineProgressConstant=g,this.isStateDependent=n!=="constant"&&!oh(o.expression),this.configDependencies=rl(o.expression)}evaluateWithoutErrorHandling(n,o,u,g,d,_){return this._styleExpression.evaluateWithoutErrorHandling(n,o,u,g,d,_)}evaluate(n,o,u,g,d,_){return this._styleExpression.evaluate(n,o,u,g,d,_)}}class tc{constructor(n,o,u,g,d,_){this.kind=n,this.zoomStops=u,this._styleExpression=o,this.isStateDependent=n!=="camera"&&!oh(o.expression),this.isLightConstant=d,this.isLineProgressConstant=_,this.configDependencies=rl(o.expression),this.interpolationType=g}evaluateWithoutErrorHandling(n,o,u,g,d,_){return this._styleExpression.evaluateWithoutErrorHandling(n,o,u,g,d,_)}evaluate(n,o,u,g,d,_){return this._styleExpression.evaluate(n,o,u,g,d,_)}interpolationFactor(n,o,u){return this.interpolationType?us.interpolationFactor(this.interpolationType,n,o,u):0}}function uf(h,n,o,u){if((h=dh(h,n,o,u)).result==="error")return h;const g=h.value.expression,d=Kl(g);if(!d&&!ec(n))return Ka([new Ls("","data expressions not supported")]);const _=Ya(g,["zoom","pitch","distance-from-center"]);if(!_&&!s0(n))return Ka([new Ls("","zoom expressions not supported")]);const w=Ya(g,["measure-light"]);if(!w&&!td(n))return Ka([new Ls("","measure-light expression not supported")]);const T=Ya(g,["line-progress"]);if(!T&&!function(E){return af(E.expression,"line-progress")}(n))return Ka([new Ls("","line-progress expression not supported")]);const D=n.expression&&n.expression.relaxZoomRestriction,b=ad(g);return b||_||D?b instanceof Ls?Ka([b]):b instanceof us&&!of(n)?Ka([new Ls("",'"interpolate" expressions cannot be used with this property')]):sf(b?new tc(d&&T?"camera":"composite",h.value,b.labels,b instanceof us?b.interpolation:void 0,w,T):new hf(d&&T?"constant":"source",h.value,w,T)):Ka([new Ls("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class sd{constructor(n,o){this._parameters=n,this._specification=o,Pu(this,o0(this._parameters,this._specification))}static deserialize(n){return new sd(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function ad(h){let n=null;if(h instanceof Ku)n=ad(h.result);else if(h instanceof Xu){for(const o of h.args)if(n=ad(o),n)break}else(h instanceof Si||h instanceof us)&&h.input instanceof ls&&h.input.name==="zoom"&&(n=h);return n instanceof Ls||h.eachChild(o=>{const u=ad(o);u instanceof Ls?n=u:n&&u&&n!==u&&(n=new Ls("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}var df,pf,H_=function(){if(pf)return df;pf=1,df=n;var h=3;function n(o,u,g){var d=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var _=new Int32Array(this.arrayBuffer);o=_[0],this.d=(u=_[1])+2*(g=_[2]);for(var w=0;w<this.d*this.d;w++){var T=_[h+w],D=_[h+w+1];d.push(T===D?null:_.subarray(T,D))}var b=_[h+d.length+1];this.keys=_.subarray(_[h+d.length],b),this.bboxes=_.subarray(b),this.insert=this._insertReadonly}else{this.d=u+2*g;for(var E=0;E<this.d*this.d;E++)d.push([]);this.keys=[],this.bboxes=[]}this.n=u,this.extent=o,this.padding=g,this.scale=u/o,this.uid=0;var I=g/u*o;this.min=-I,this.max=o+I}return n.prototype.insert=function(o,u,g,d,_){this._forEachCell(u,g,d,_,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(u),this.bboxes.push(g),this.bboxes.push(d),this.bboxes.push(_)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(o,u,g,d,_,w){this.cells[_].push(w)},n.prototype.query=function(o,u,g,d,_){var w=this.min,T=this.max;if(o<=w&&u<=w&&T<=g&&T<=d&&!_)return Array.prototype.slice.call(this.keys);var D=[];return this._forEachCell(o,u,g,d,this._queryCell,D,{},_),D},n.prototype._queryCell=function(o,u,g,d,_,w,T,D){var b=this.cells[_];if(b!==null)for(var E=this.keys,I=this.bboxes,S=0;S<b.length;S++){var A=b[S];if(T[A]===void 0){var k=4*A;(D?D(I[k+0],I[k+1],I[k+2],I[k+3]):o<=I[k+2]&&u<=I[k+3]&&g>=I[k+0]&&d>=I[k+1])?(T[A]=!0,w.push(E[A])):T[A]=!1}}},n.prototype._forEachCell=function(o,u,g,d,_,w,T,D){for(var b=this._convertToCellCoord(o),E=this._convertToCellCoord(u),I=this._convertToCellCoord(g),S=this._convertToCellCoord(d),A=b;A<=I;A++)for(var k=E;k<=S;k++){var B=this.d*k+A;if((!D||D(this._convertFromCellCoord(A),this._convertFromCellCoord(k),this._convertFromCellCoord(A+1),this._convertFromCellCoord(k+1)))&&_.call(this,o,u,g,d,B,w,T,D))return}},n.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},n.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,u=h+this.cells.length+1+1,g=0,d=0;d<this.cells.length;d++)g+=this.cells[d].length;var _=new Int32Array(u+g+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;for(var w=u,T=0;T<o.length;T++){var D=o[T];_[h+T]=w,_.set(D,w),w+=D.length}return _[h+o.length]=w,_.set(this.keys,w),_[h+o.length+1]=w+=this.keys.length,_.set(this.bboxes,w),w+=this.bboxes.length,_.buffer},df}(),ic=L(H_);const ph={};function Nt(h,n,o={}){Object.defineProperty(h,"_classRegistryKey",{value:n,writable:!1}),ph[n]={klass:h,omit:o.omit||[]}}Nt(Object,"Object"),ic.serialize=function(h,n){const o=h.toArrayBuffer();return n&&n.add(o),{buffer:o}},ic.deserialize=function(h){return new ic(h.buffer)},Object.defineProperty(ic,"name",{value:"Grid"}),Nt(ic,"Grid"),typeof DOMMatrix<"u"&&Nt(DOMMatrix,"DOMMatrix"),Nt(zi,"Color"),Nt(Error,"Error"),Nt(Vr,"Formatted"),Nt(eh,"FormattedSection"),Nt(Mu,"AJAXError"),Nt(xr,"ResolvedImage"),Nt(sd,"StylePropertyFunction"),Nt(cf,"StyleExpression",{omit:["_evaluator"]}),Nt(Sa,"ImageIdWithOptions"),Nt(tc,"ZoomDependentExpression"),Nt(hf,"ZoomConstantExpression"),Nt(ls,"CompoundExpression",{omit:["_evaluate"]});for(const h in Ql)ph[Ql[h]._classRegistryKey]||Nt(Ql[h],`Expression${h}`);function ff(h){return h&&typeof ArrayBuffer<"u"&&(h instanceof ArrayBuffer||h.constructor&&h.constructor.name==="ArrayBuffer")}function c0(h){return self.ImageBitmap&&h instanceof ImageBitmap}function zs(h,n){if(h==null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||h instanceof Boolean||h instanceof Number||h instanceof String||h instanceof Date||h instanceof RegExp)return h;if(ff(h)||c0(h))return n&&n.add(h),h;if(ArrayBuffer.isView(h))return n&&n.add(h.buffer),h;if(h instanceof ImageData)return n&&n.add(h.data.buffer),h;if(Array.isArray(h)){const o=[];for(const u of h)o.push(zs(u,n));return o}if(h instanceof Map){const o={$name:"Map"};for(const[u,g]of h.entries())o[u]=zs(g);return o}if(h instanceof Set){const o={$name:"Set"};let u=0;for(const g of h.values())o[++u]=zs(g);return o}if(typeof h=="object"){const o=h.constructor,u=o._classRegistryKey;if(!u)throw new Error(`Can't serialize object of unregistered class "${u}".`);const g=o.serialize?o.serialize(h,n):{};if(!o.serialize){for(const d in h)h.hasOwnProperty(d)&&(ph[u].omit.indexOf(d)>=0||(g[d]=zs(h[d],n)));h instanceof Error&&(g.message=h.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(g.$name=u),g}throw new Error("can't serialize object of type "+typeof h)}function ol(h){if(h==null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||h instanceof Boolean||h instanceof Number||h instanceof String||h instanceof Date||h instanceof RegExp||ff(h)||c0(h)||ArrayBuffer.isView(h)||h instanceof ImageData)return h;if(Array.isArray(h))return h.map(ol);if(typeof h=="object"){const n=h.$name||"Object";if(n==="Map"){const g=new Map;for(const d of Object.keys(h))d!=="$name"&&g.set(d,ol(h[d]));return g}if(n==="Set"){const g=new Set;for(const d of Object.keys(h))d!=="$name"&&g.add(ol(h[d]));return g}const{klass:o}=ph[n];if(!o)throw new Error(`Can't deserialize unregistered class "${n}".`);if(o.deserialize)return o.deserialize(h);const u=Object.create(o.prototype);for(const g of Object.keys(h))g!=="$name"&&(u[g]=ol(h[g]));return u}throw new Error("can't deserialize object of type "+typeof h)}const qt={"Latin-1 Supplement":h=>h>=128&&h<=255,Arabic:h=>h>=1536&&h<=1791,"Arabic Supplement":h=>h>=1872&&h<=1919,"Arabic Extended-A":h=>h>=2208&&h<=2303,"Hangul Jamo":h=>h>=4352&&h<=4607,"Unified Canadian Aboriginal Syllabics":h=>h>=5120&&h<=5759,Khmer:h=>h>=6016&&h<=6143,"Unified Canadian Aboriginal Syllabics Extended":h=>h>=6320&&h<=6399,"General Punctuation":h=>h>=8192&&h<=8303,"Letterlike Symbols":h=>h>=8448&&h<=8527,"Number Forms":h=>h>=8528&&h<=8591,"Miscellaneous Technical":h=>h>=8960&&h<=9215,"Control Pictures":h=>h>=9216&&h<=9279,"Optical Character Recognition":h=>h>=9280&&h<=9311,"Enclosed Alphanumerics":h=>h>=9312&&h<=9471,"Geometric Shapes":h=>h>=9632&&h<=9727,"Miscellaneous Symbols":h=>h>=9728&&h<=9983,"Miscellaneous Symbols and Arrows":h=>h>=11008&&h<=11263,"CJK Radicals Supplement":h=>h>=11904&&h<=12031,"Kangxi Radicals":h=>h>=12032&&h<=12255,"Ideographic Description Characters":h=>h>=12272&&h<=12287,"CJK Symbols and Punctuation":h=>h>=12288&&h<=12351,Hiragana:h=>h>=12352&&h<=12447,Katakana:h=>h>=12448&&h<=12543,Bopomofo:h=>h>=12544&&h<=12591,"Hangul Compatibility Jamo":h=>h>=12592&&h<=12687,Kanbun:h=>h>=12688&&h<=12703,"Bopomofo Extended":h=>h>=12704&&h<=12735,"CJK Strokes":h=>h>=12736&&h<=12783,"Katakana Phonetic Extensions":h=>h>=12784&&h<=12799,"Enclosed CJK Letters and Months":h=>h>=12800&&h<=13055,"CJK Compatibility":h=>h>=13056&&h<=13311,"CJK Unified Ideographs Extension A":h=>h>=13312&&h<=19903,"Yijing Hexagram Symbols":h=>h>=19904&&h<=19967,"CJK Unified Ideographs":h=>h>=19968&&h<=40959,"Yi Syllables":h=>h>=40960&&h<=42127,"Yi Radicals":h=>h>=42128&&h<=42191,"Hangul Jamo Extended-A":h=>h>=43360&&h<=43391,"Hangul Syllables":h=>h>=44032&&h<=55215,"Hangul Jamo Extended-B":h=>h>=55216&&h<=55295,"Private Use Area":h=>h>=57344&&h<=63743,"CJK Compatibility Ideographs":h=>h>=63744&&h<=64255,"Arabic Presentation Forms-A":h=>h>=64336&&h<=65023,"Vertical Forms":h=>h>=65040&&h<=65055,"CJK Compatibility Forms":h=>h>=65072&&h<=65103,"Small Form Variants":h=>h>=65104&&h<=65135,"Arabic Presentation Forms-B":h=>h>=65136&&h<=65279,"Halfwidth and Fullwidth Forms":h=>h>=65280&&h<=65519,Osage:h=>h>=66736&&h<=66815,"CJK Unified Ideographs Extension B":h=>h>=131072&&h<=173791};function mf(h){for(const n of h)if(od(n.charCodeAt(0)))return!0;return!1}function h0(h){for(const n of h)if(!u0(n.charCodeAt(0)))return!1;return!0}function u0(h){return!(qt.Arabic(h)||qt["Arabic Supplement"](h)||qt["Arabic Extended-A"](h)||qt["Arabic Presentation Forms-A"](h)||qt["Arabic Presentation Forms-B"](h))}function od(h){return!(h!==746&&h!==747&&(h<4352||!(qt["Bopomofo Extended"](h)||qt.Bopomofo(h)||qt["CJK Compatibility Forms"](h)&&!(h>=65097&&h<=65103)||qt["CJK Compatibility Ideographs"](h)||qt["CJK Compatibility"](h)||qt["CJK Radicals Supplement"](h)||qt["CJK Strokes"](h)||!(!qt["CJK Symbols and Punctuation"](h)||h>=12296&&h<=12305||h>=12308&&h<=12319||h===12336)||qt["CJK Unified Ideographs Extension A"](h)||qt["CJK Unified Ideographs"](h)||qt["Enclosed CJK Letters and Months"](h)||qt["Hangul Compatibility Jamo"](h)||qt["Hangul Jamo Extended-A"](h)||qt["Hangul Jamo Extended-B"](h)||qt["Hangul Jamo"](h)||qt["Hangul Syllables"](h)||qt.Hiragana(h)||qt["Ideographic Description Characters"](h)||qt.Kanbun(h)||qt["Kangxi Radicals"](h)||qt["Katakana Phonetic Extensions"](h)||qt.Katakana(h)&&h!==12540||!(!qt["Halfwidth and Fullwidth Forms"](h)||h===65288||h===65289||h===65293||h>=65306&&h<=65310||h===65339||h===65341||h===65343||h>=65371&&h<=65503||h===65507||h>=65512&&h<=65519)||!(!qt["Small Form Variants"](h)||h>=65112&&h<=65118||h>=65123&&h<=65126)||qt["Unified Canadian Aboriginal Syllabics"](h)||qt["Unified Canadian Aboriginal Syllabics Extended"](h)||qt["Vertical Forms"](h)||qt["Yijing Hexagram Symbols"](h)||qt["Yi Syllables"](h)||qt["Yi Radicals"](h))))}function gf(h){return!(od(h)||function(n){return!!(qt["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||qt["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||qt["Letterlike Symbols"](n)||qt["Number Forms"](n)||qt["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||qt["Control Pictures"](n)&&n!==9251||qt["Optical Character Recognition"](n)||qt["Enclosed Alphanumerics"](n)||qt["Geometric Shapes"](n)||qt["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||qt["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||qt["CJK Symbols and Punctuation"](n)||qt.Katakana(n)||qt["Private Use Area"](n)||qt["CJK Compatibility Forms"](n)||qt["Small Form Variants"](n)||qt["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(h))}function ld(h){return h>=1424&&h<=2303||qt["Arabic Presentation Forms-A"](h)||qt["Arabic Presentation Forms-B"](h)}function _f(h,n){return!(!n&&ld(h)||h>=2304&&h<=3583||h>=3840&&h<=4255||qt.Khmer(h))}function d0(h){for(const n of h)if(ld(n.charCodeAt(0)))return!0;return!1}const yf="deferred",Ea="loading",vf="loaded";let xf=null,rs="unavailable",vo=null;const fh=function(h){h&&typeof h=="string"&&h.indexOf("NetworkError")>-1&&(rs="error"),xf&&xf(h)};function cd(){nc.fire(new mo("pluginStateChange",{pluginStatus:rs,pluginURL:vo}))}const nc=new Hl,hd=function(){return rs},p0=function(){if(rs!==yf||!vo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");rs=Ea,cd(),vo&&Xo({url:vo},h=>{h?fh(h):(rs=vf,cd())})},Fs={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>rs===vf||Fs.applyArabicShaping!=null,isLoading:()=>rs===Ea,setState(h){rs=h.pluginStatus,vo=h.pluginURL},isParsed:()=>Fs.applyArabicShaping!=null&&Fs.processBidirectionalText!=null&&Fs.processStyledBidirectionalText!=null,getPluginURL:()=>vo};class yn{constructor(n,o){this.zoom=n,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch,this.brightness=o.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(n){return function(o,u){for(const g of o)if(!_f(g.charCodeAt(0),u))return!1;return!0}(n,Fs.isLoaded())}}class rc{constructor(n,o,u,g){this.property=n,this.value=o,this.expression=function(d,_,w,T){if(id(d))return new sd(d,_);if(rd(d)||Array.isArray(d)&&d.length>0){const D=uf(d,_,w,T);if(D.result==="error")throw new Error(D.value.map(b=>`${b.key}: ${b.message}`).join(", "));return D.value}{let D=d;return typeof d=="string"&&_.type==="color"&&(D=zi.parse(d)),{kind:"constant",configDependencies:new Set,evaluate:()=>D}}}(o===void 0?n.specification.default:o,n.specification,u,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,o,u){return this.property.possiblyEvaluate(this,n,o,u)}}class ud{constructor(n,o,u){this.property=n,this.value=new rc(n,void 0,o,u)}transitioned(n,o){return new ll(this.property,this.value,o,Sr({},n.transition,this.transition),n.now)}untransitioned(){return new ll(this.property,this.value,null,{},0)}}class mh{constructor(n,o,u){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues),this._scope=o,this._options=u,this.configDependencies=new Set}getValue(n){return Wr(this._values[n].value.value)}setValue(n,o){this._values.hasOwnProperty(n)||(this._values[n]=new ud(this._values[n].property,this._scope,this._options)),this._values[n].value=new rc(this._values[n].property,o===null?void 0:Wr(o),this._scope,this._options),this._values[n].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].value.expression.configDependencies]))}setTransitionOrValue(n,o){o&&(this._options=o);const u=this._properties.properties;if(n)for(const g in n){const d=n[g];if(Js(g,"-transition")){const _=g.slice(0,-11);u[_]&&this.setTransition(_,d)}else u.hasOwnProperty(g)&&this.setValue(g,d)}}getTransition(n){return Wr(this._values[n].transition)}setTransition(n,o){this._values.hasOwnProperty(n)||(this._values[n]=new ud(this._values[n].property)),this._values[n].transition=Wr(o)||void 0}serialize(){const n={};for(const o of Object.keys(this._values)){const u=this.getValue(o);u!==void 0&&(n[o]=u);const g=this.getTransition(o);g!==void 0&&(n[`${o}-transition`]=g)}return n}transitioned(n,o){const u=new f0(this._properties);for(const g of Object.keys(this._values))u._values[g]=this._values[g].transitioned(n,o._values[g]);return u}untransitioned(){const n=new f0(this._properties);for(const o of Object.keys(this._values))n._values[o]=this._values[o].untransitioned();return n}}class ll{constructor(n,o,u,g,d){const _=g.delay||0,w=g.duration||0;d=d||0,this.property=n,this.value=o,this.begin=d+_,this.end=this.begin+w,n.specification.transition&&(g.delay||g.duration)&&(this.prior=u)}possiblyEvaluate(n,o,u){const g=n.now||0,d=this.value.possiblyEvaluate(n,o,u),_=this.prior;if(_){if(g>this.end)return this.prior=null,d;if(this.value.isDataDriven())return this.prior=null,d;if(g<this.begin)return _.possiblyEvaluate(n,o,u);{const w=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(_.possiblyEvaluate(n,o,u),d,za(w))}}return d}}class f0{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,o,u){const g=new ac(this._properties);for(const d of Object.keys(this._values))g._values[d]=this._values[d].possiblyEvaluate(n,o,u);return g}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class U_{constructor(n,o,u){this._properties=n,this._values=Object.create(n.defaultPropertyValues),this._scope=o,this._options=u,this.configDependencies=new Set}getValue(n){return Wr(this._values[n].value)}setValue(n,o){this._values[n]=new rc(this._values[n].property,o===null?void 0:Wr(o),this._scope,this._options),this._values[n].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].expression.configDependencies]))}serialize(){const n={};for(const o of Object.keys(this._values)){const u=this.getValue(o);u!==void 0&&(n[o]=u)}return n}possiblyEvaluate(n,o,u){const g=new ac(this._properties);for(const d of Object.keys(this._values))g._values[d]=this._values[d].possiblyEvaluate(n,o,u);return g}}class sc{constructor(n,o,u){this.property=n,this.value=o,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,o,u,g){return this.property.evaluate(this.value,this.parameters,n,o,u,g)}}class ac{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class xt{constructor(n){this.specification=n}possiblyEvaluate(n,o){return n.expression.evaluate(o)}interpolate(n,o,u){const g=Di[this.specification.type];return g?g(n,o,u):n}}class Rt{constructor(n,o){this.specification=n,this.overrides=o}possiblyEvaluate(n,o,u,g){return new sc(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(o,null,{},u,g)}:n.expression,o)}interpolate(n,o,u){if(n.value.kind!=="constant"||o.value.kind!=="constant")return n;if(n.value.value===void 0||o.value.value===void 0)return new sc(this,{kind:"constant",value:void 0},n.parameters);const g=Di[this.specification.type];return g?new sc(this,{kind:"constant",value:g(n.value.value,o.value.value,u)},n.parameters):n}evaluate(n,o,u,g,d,_){return n.kind==="constant"?n.value:n.evaluate(o,u,g,d,_)}}class xo{constructor(n){this.specification=n}possiblyEvaluate(n,o,u,g){return!!n.expression.evaluate(o,null,{},u,g)}interpolate(){return!1}}class On{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new yn(0,{});for(const u in n){const g=n[u];g.specification.overridable&&this.overridableProperties.push(u);const d=this.defaultPropertyValues[u]=new rc(g,void 0),_=this.defaultTransitionablePropertyValues[u]=new ud(g);this.defaultTransitioningPropertyValues[u]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=d.possiblyEvaluate(o)}}}Nt(Rt,"DataDrivenProperty"),Nt(xt,"DataConstantProperty"),Nt(xo,"ColorRampProperty");var qe=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"snow":{"type":"snow","experimental":true},"rain":{"type":"rain","experimental":true},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"indoor":{"type":"indoor","experimental":true},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"metadata":{"type":"*"},"selectors":{"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"type":"string","required":true},"properties":{"type":"selectorProperty","required":false},"featureNamespace":{"type":"string","required":false}},"selectorProperty":{"experimental":true,"*":{"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"},"color-theme":{"type":"colorTheme","optional":true}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-quality":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"parameters":["zoom"]},"experimental":true},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant"},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-base":1,"hd-road-markup":1},"default":"none","experimental":true,"private":true,"expression":{},"property-type":"data-constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"default":0,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"line-elevation-reference":{"type":"enum","values":{"none":1,"sea":1,"ground":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"line-cross-slope":{"type":"number","experimental":true,"expression":{},"property-type":"constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"line-width-unit":{"type":"enum","values":{"pixels":1,"meters":1},"default":"pixels","experimental":true,"private":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1,"hd-road-markup":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_hillshade":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster-particle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_clip":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_model":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"snow":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.85],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.3],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.4,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,50],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"flake-size":{"type":"number","property-type":"data-constant","default":0.71,"minimum":0,"maximum":5,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"rain":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.5],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#03113d",0.3,"#a8adbc"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,0.88,1,0.7],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,1],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#001736",0.3,"#464646"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.57,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,80],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"droplet-size":{"type":"array","default":[2.6,18.2],"minimum":0,"maximum":50,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"distortion-strength":{"type":"number","property-type":"data-constant","default":0.7,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"indoor":{"floorplanFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}},"buildingFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-height-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"flat","property-type":"data-constant"},"fill-extrusion-base-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"terrain","property-type":"data-constant"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light","line-progress"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"experimental":true,"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"property-type":"data-driven"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function m0(h){return h instanceof Number||h instanceof String||h instanceof Boolean?h.valueOf():h}function dd(h){if(Array.isArray(h))return h.map(dd);if(h instanceof Object&&!(h instanceof Number||h instanceof String||h instanceof Boolean)){const n={};for(const o in h)n[o]=dd(h[o]);return n}return m0(h)}function bf(h){if(h===!0||h===!1)return!0;if(!Array.isArray(h)||h.length===0)return!1;switch(h[0]){case"has":return h.length>=2&&h[1]!=="$id"&&h[1]!=="$type";case"in":return h.length>=3&&(typeof h[1]!="string"||Array.isArray(h[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return h.length!==3||Array.isArray(h[1])||Array.isArray(h[2]);case"any":case"all":for(const n of h.slice(1))if(!bf(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function g0(h,n="",o=null,u="fill"){if(h==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};bf(h)||(h=gh(h));const g=h;let d=!0;try{d=function(b){if(!oc(b))return b;let E=dd(b);return y0(E),E=_0(E),E}(g)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(g,null,2)}
        `)}let _=null,w=null;if(u!=="background"&&u!=="sky"&&u!=="slot"){w=qe[`filter_${u}`];const b=dh(d,w,n,o);if(b.result==="error")throw new Error(b.value.map(E=>`${E.key}: ${E.message}`).join(", "));_=(E,I,S)=>b.value.evaluate(E,I,{},S)}let T=null,D=null;if(d!==g){const b=dh(g,w,n,o);if(b.result==="error")throw new Error(b.value.map(E=>`${E.key}: ${E.message}`).join(", "));T=(E,I,S,A,k)=>b.value.evaluate(E,I,{},S,void 0,void 0,A,k),D=!Kl(b.value.expression)}return{filter:_,dynamicFilter:T||void 0,needGeometry:cl(d),needFeature:!!D}}function _0(h){if(!Array.isArray(h))return h;const n=function(o){if(j_.has(o[0])){for(let u=1;u<o.length;u++)if(oc(o[u]))return!0}return o}(h);return n===!0?n:n.map(o=>_0(o))}function y0(h){let n=!1;const o=[];if(h[0]==="case"){for(let u=1;u<h.length-1;u+=2)n=n||oc(h[u]),o.push(h[u+1]);o.push(h[h.length-1])}else if(h[0]==="match"){n=n||oc(h[1]);for(let u=2;u<h.length-1;u+=2)o.push(h[u+1]);o.push(h[h.length-1])}else if(h[0]==="step"){n=n||oc(h[1]);for(let u=1;u<h.length-1;u+=2)o.push(h[u+1])}n&&(h.length=0,h.push("any",...o));for(let u=1;u<h.length;u++)y0(h[u])}function oc(h){if(!Array.isArray(h))return!1;if((n=h[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let o=1;o<h.length;o++)if(oc(h[o]))return!0;return!1}const j_=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function q_(h,n){return h<n?-1:h>n?1:0}function cl(h){if(!Array.isArray(h))return!1;if(h[0]==="within"||h[0]==="distance")return!0;for(let n=1;n<h.length;n++)if(cl(h[n]))return!0;return!1}function gh(h){if(!h)return!0;const n=h[0];return h.length<=1?n!=="any":n==="=="?pd(h[1],h[2],"=="):n==="!="?fd(pd(h[1],h[2],"==")):n==="<"||n===">"||n==="<="||n===">="?pd(h[1],h[2],n):n==="any"?(o=h.slice(1),["any"].concat(o.map(gh))):n==="all"?["all"].concat(h.slice(1).map(gh)):n==="none"?["all"].concat(h.slice(1).map(gh).map(fd)):n==="in"?_h(h[1],h.slice(2)):n==="!in"?fd(_h(h[1],h.slice(2))):n==="has"?v0(h[1]):n!=="!has"||fd(v0(h[1]));var o}function pd(h,n,o){switch(h){case"$type":return[`filter-type-${o}`,n];case"$id":return[`filter-id-${o}`,n];default:return[`filter-${o}`,h,n]}}function _h(h,n){if(n.length===0)return!1;switch(h){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(o=>typeof o!=typeof n[0])?["filter-in-large",h,["literal",n.sort(q_)]]:["filter-in-small",h,["literal",n]]}}function v0(h){switch(h){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",h]}}function fd(h){return["!",h]}const na="";function ra(h,n){return n?`${h}${na}${n}`:h}const hl="-transition",$_=new Set(["fill","line","background","hillshade","raster"]);class ss extends Hl{constructor(n,o,u,g,d){if(super(),this.id=n.id,this.fqid=ra(this.id,u),this.type=n.type,this.scope=u,this.lut=g,this.options=d,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,n.type!=="custom"){if(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type&&n.type!=="background"&&n.type!=="sky"&&n.type!=="slot"){this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter;const _=dh(this.filter,qe[`filter_${n.type}`]);_.result!=="error"&&(this.configDependencies=new Set([...this.configDependencies,..._.value.configDependencies]))}if(n.slot&&(this.slot=n.slot),o.layout&&(this._unevaluatedLayout=new U_(o.layout,this.scope,d),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),o.paint){this._transitionablePaint=new mh(o.paint,this.scope,d);for(const _ in n.paint)this.setPaintProperty(_,n.paint[_]);for(const _ in n.layout)this.setLayoutProperty(_,n.layout[_]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ac(o.paint)}}}onAdd(n){}onRemove(n){}isDraped(n){return!this.is3D()&&$_.has(this.type)}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,o){if(this.type==="custom"&&n==="visibility")return void(this.visibility=o);const u=this._unevaluatedLayout;u._properties.properties[n]&&(u.setValue(n,o),this.configDependencies=new Set([...this.configDependencies,...u.configDependencies]),n==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this._unevaluatedLayout._values.visibility&&(this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0}))}getPaintProperty(n){return Js(n,hl)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,o){const u=this._transitionablePaint,g=u._properties.properties;if(Js(n,hl)){const E=n.slice(0,-11);return g[E]&&u.setTransition(E,o||void 0),!1}if(!g[n])return!1;const d=u._values[n],_=d.value.isDataDriven(),w=d.value;u.setValue(n,o),this.configDependencies=new Set([...this.configDependencies,...u.configDependencies]),this._handleSpecialPaintPropertyUpdate(n);const T=u._values[n].value,D=T.isDataDriven(),b=Js(n,"pattern")||n==="line-dasharray";return D||_||b||this._handleOverridablePaintPropertyUpdate(n,w,T)}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getDefaultProgramParams(n,o,u){return null}_handleOverridablePaintPropertyUpdate(n,o,u){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,o)}serialize(){return Tn({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(n,o)=>!(n===void 0||o==="layout"&&!Object.keys(n).length||o==="paint"&&!Object.keys(n).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const n in this.paint._values){const o=this.paint.get(n);if(o instanceof sc&&ec(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}compileFilter(n){this._filterCompiled||(this._featureFilter=g0(this.filter,this.scope,n),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(n){this._stats&&(n.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(n){}queryIntersectsFeature(n,o,u,g,d,_,w,T,D){}}const G_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class yh{constructor(n,o){this._structArray=n,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class fn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,o){return n._trim(),o&&(n.isTransferred=!0,o.add(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const o=Object.create(this.prototype);return o.arrayBuffer=n.arrayBuffer,o.length=n.length,o.capacity=n.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...n){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...n){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Hi(h,n=1){let o=0,u=0;return{members:h.map(g=>{const d=G_[g.type].BYTES_PER_ELEMENT,_=o=md(o,Math.max(n,d)),w=g.components||1;return u=Math.max(u,d),o+=d*w,{name:g.name,type:g.type,components:w,offset:_}}),size:md(o,Math.max(u,n)),alignment:n}}function md(h,n){return Math.ceil(h/n)*n}class sa extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o){const u=this.length;return this.resize(u+1),this.emplace(u,n,o)}emplace(n,o,u){const g=2*n;return this.int16[g+0]=o,this.int16[g+1]=u,n}}sa.prototype.bytesPerElement=4,Nt(sa,"StructArrayLayout2i4");class vh extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,u){const g=this.length;return this.resize(g+1),this.emplace(g,n,o,u)}emplace(n,o,u,g){const d=3*n;return this.int16[d+0]=o,this.int16[d+1]=u,this.int16[d+2]=g,n}}vh.prototype.bytesPerElement=6,Nt(vh,"StructArrayLayout3i6");class bo extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,u,g){const d=this.length;return this.resize(d+1),this.emplace(d,n,o,u,g)}emplace(n,o,u,g,d){const _=4*n;return this.int16[_+0]=o,this.int16[_+1]=u,this.int16[_+2]=g,this.int16[_+3]=d,n}}bo.prototype.bytesPerElement=8,Nt(bo,"StructArrayLayout4i8");class wf extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d){const _=this.length;return this.resize(_+1),this.emplace(_,n,o,u,g,d)}emplace(n,o,u,g,d,_){const w=5*n;return this.int16[w+0]=o,this.int16[w+1]=u,this.int16[w+2]=g,this.int16[w+3]=d,this.int16[w+4]=_,n}}wf.prototype.bytesPerElement=10,Nt(wf,"StructArrayLayout5i10");class Bs extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w){const T=this.length;return this.resize(T+1),this.emplace(T,n,o,u,g,d,_,w)}emplace(n,o,u,g,d,_,w,T){const D=6*n,b=12*n,E=3*n;return this.int16[D+0]=o,this.int16[D+1]=u,this.uint8[b+4]=g,this.uint8[b+5]=d,this.uint8[b+6]=_,this.uint8[b+7]=w,this.float32[E+2]=T,n}}Bs.prototype.bytesPerElement=12,Nt(Bs,"StructArrayLayout2i4ub1f12");class wo extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g){const d=this.length;return this.resize(d+1),this.emplace(d,n,o,u,g)}emplace(n,o,u,g,d){const _=4*n;return this.float32[_+0]=o,this.float32[_+1]=u,this.float32[_+2]=g,this.float32[_+3]=d,n}}wo.prototype.bytesPerElement=16,Nt(wo,"StructArrayLayout4f16");class Ja extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u){const g=this.length;return this.resize(g+1),this.emplace(g,n,o,u)}emplace(n,o,u,g){const d=3*n;return this.float32[d+0]=o,this.float32[d+1]=u,this.float32[d+2]=g,n}}Ja.prototype.bytesPerElement=12,Nt(Ja,"StructArrayLayout3f12");class Mo extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d){const _=this.length;return this.resize(_+1),this.emplace(_,n,o,u,g,d)}emplace(n,o,u,g,d,_){const w=6*n,T=3*n;return this.uint16[w+0]=o,this.uint16[w+1]=u,this.uint16[w+2]=g,this.uint16[w+3]=d,this.float32[T+2]=_,n}}Mo.prototype.bytesPerElement=12,Nt(Mo,"StructArrayLayout4ui1f12");class gd extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,u,g){const d=this.length;return this.resize(d+1),this.emplace(d,n,o,u,g)}emplace(n,o,u,g,d){const _=4*n;return this.uint16[_+0]=o,this.uint16[_+1]=u,this.uint16[_+2]=g,this.uint16[_+3]=d,n}}gd.prototype.bytesPerElement=8,Nt(gd,"StructArrayLayout4ui8");class _d extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_){const w=this.length;return this.resize(w+1),this.emplace(w,n,o,u,g,d,_)}emplace(n,o,u,g,d,_,w){const T=6*n;return this.int16[T+0]=o,this.int16[T+1]=u,this.int16[T+2]=g,this.int16[T+3]=d,this.int16[T+4]=_,this.int16[T+5]=w,n}}_d.prototype.bytesPerElement=12,Nt(_d,"StructArrayLayout6i12");class Mf extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w,T,D,b,E,I){const S=this.length;return this.resize(S+1),this.emplace(S,n,o,u,g,d,_,w,T,D,b,E,I)}emplace(n,o,u,g,d,_,w,T,D,b,E,I,S){const A=12*n;return this.int16[A+0]=o,this.int16[A+1]=u,this.int16[A+2]=g,this.int16[A+3]=d,this.uint16[A+4]=_,this.uint16[A+5]=w,this.uint16[A+6]=T,this.uint16[A+7]=D,this.int16[A+8]=b,this.int16[A+9]=E,this.int16[A+10]=I,this.int16[A+11]=S,n}}Mf.prototype.bytesPerElement=24,Nt(Mf,"StructArrayLayout4i4ui4i24");class Sf extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_){const w=this.length;return this.resize(w+1),this.emplace(w,n,o,u,g,d,_)}emplace(n,o,u,g,d,_,w){const T=10*n,D=5*n;return this.int16[T+0]=o,this.int16[T+1]=u,this.int16[T+2]=g,this.float32[D+2]=d,this.float32[D+3]=_,this.float32[D+4]=w,n}}Sf.prototype.bytesPerElement=20,Nt(Sf,"StructArrayLayout3i3f20");class Tf extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.uint32[1*n+0]=o,n}}Tf.prototype.bytesPerElement=4,Nt(Tf,"StructArrayLayout1ul4");class So extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o){const u=this.length;return this.resize(u+1),this.emplace(u,n,o)}emplace(n,o,u){const g=2*n;return this.uint16[g+0]=o,this.uint16[g+1]=u,n}}So.prototype.bytesPerElement=4,Nt(So,"StructArrayLayout2ui4");class Ef extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w,T,D,b,E,I,S){const A=this.length;return this.resize(A+1),this.emplace(A,n,o,u,g,d,_,w,T,D,b,E,I,S)}emplace(n,o,u,g,d,_,w,T,D,b,E,I,S,A){const k=20*n,B=10*n;return this.int16[k+0]=o,this.int16[k+1]=u,this.int16[k+2]=g,this.int16[k+3]=d,this.int16[k+4]=_,this.float32[B+3]=w,this.float32[B+4]=T,this.float32[B+5]=D,this.float32[B+6]=b,this.int16[k+14]=E,this.uint32[B+8]=I,this.uint16[k+18]=S,this.uint16[k+19]=A,n}}Ef.prototype.bytesPerElement=40,Nt(Ef,"StructArrayLayout5i4f1i1ul2ui40");class yd extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w){const T=this.length;return this.resize(T+1),this.emplace(T,n,o,u,g,d,_,w)}emplace(n,o,u,g,d,_,w,T){const D=8*n;return this.int16[D+0]=o,this.int16[D+1]=u,this.int16[D+2]=g,this.int16[D+4]=d,this.int16[D+5]=_,this.int16[D+6]=w,this.int16[D+7]=T,n}}yd.prototype.bytesPerElement=16,Nt(yd,"StructArrayLayout3i2i2i16");class vd extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d){const _=this.length;return this.resize(_+1),this.emplace(_,n,o,u,g,d)}emplace(n,o,u,g,d,_){const w=4*n,T=8*n;return this.float32[w+0]=o,this.float32[w+1]=u,this.float32[w+2]=g,this.int16[T+6]=d,this.int16[T+7]=_,n}}vd.prototype.bytesPerElement=16,Nt(vd,"StructArrayLayout2f1f2i16");class Cf extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_){const w=this.length;return this.resize(w+1),this.emplace(w,n,o,u,g,d,_)}emplace(n,o,u,g,d,_,w){const T=20*n,D=5*n;return this.uint8[T+0]=o,this.uint8[T+1]=u,this.float32[D+1]=g,this.float32[D+2]=d,this.float32[D+3]=_,this.float32[D+4]=w,n}}Cf.prototype.bytesPerElement=20,Nt(Cf,"StructArrayLayout2ub4f20");class Fr extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,u){const g=this.length;return this.resize(g+1),this.emplace(g,n,o,u)}emplace(n,o,u,g){const d=3*n;return this.uint16[d+0]=o,this.uint16[d+1]=u,this.uint16[d+2]=g,n}}Fr.prototype.bytesPerElement=6,Nt(Fr,"StructArrayLayout3ui6");class Af extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N,$,W,j,Y){const K=this.length;return this.resize(K+1),this.emplace(K,n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N,$,W,j,Y)}emplace(n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N,$,W,j,Y,K){const te=30*n,ue=15*n,ce=60*n;return this.int16[te+0]=o,this.int16[te+1]=u,this.int16[te+2]=g,this.float32[ue+2]=d,this.float32[ue+3]=_,this.uint16[te+8]=w,this.uint16[te+9]=T,this.uint32[ue+5]=D,this.uint32[ue+6]=b,this.uint32[ue+7]=E,this.uint16[te+16]=I,this.uint16[te+17]=S,this.uint16[te+18]=A,this.float32[ue+10]=k,this.float32[ue+11]=B,this.uint8[ce+48]=N,this.uint8[ce+49]=$,this.uint8[ce+50]=W,this.uint32[ue+13]=j,this.int16[te+28]=Y,this.uint8[ce+58]=K,n}}Af.prototype.bytesPerElement=60,Nt(Af,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class xd extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N,$,W,j,Y,K,te,ue,ce,oe,Me,pe,Te,Pe,Ae,ke){const Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N,$,W,j,Y,K,te,ue,ce,oe,Me,pe,Te,Pe,Ae,ke)}emplace(n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N,$,W,j,Y,K,te,ue,ce,oe,Me,pe,Te,Pe,Ae,ke,Ve){const He=20*n,Be=40*n,Ke=80*n;return this.float32[He+0]=o,this.float32[He+1]=u,this.int16[Be+4]=g,this.int16[Be+5]=d,this.int16[Be+6]=_,this.int16[Be+7]=w,this.int16[Be+8]=T,this.int16[Be+9]=D,this.int16[Be+10]=b,this.int16[Be+11]=E,this.int16[Be+12]=I,this.uint16[Be+13]=S,this.uint16[Be+14]=A,this.uint16[Be+15]=k,this.uint16[Be+16]=B,this.uint16[Be+17]=N,this.uint16[Be+18]=$,this.uint16[Be+19]=W,this.uint16[Be+20]=j,this.uint16[Be+21]=Y,this.uint16[Be+22]=K,this.uint16[Be+23]=te,this.uint16[Be+24]=ue,this.uint16[Be+25]=ce,this.uint16[Be+26]=oe,this.uint16[Be+27]=Me,this.uint32[He+14]=pe,this.float32[He+15]=Te,this.float32[He+16]=Pe,this.float32[He+17]=Ae,this.float32[He+18]=ke,this.uint8[Ke+76]=Ve,n}}xd.prototype.bytesPerElement=80,Nt(xd,"StructArrayLayout2f9i15ui1ul4f1ub80");class lc extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.float32[1*n+0]=o,n}}lc.prototype.bytesPerElement=4,Nt(lc,"StructArrayLayout1f4");class ds extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d){const _=this.length;return this.resize(_+1),this.emplace(_,n,o,u,g,d)}emplace(n,o,u,g,d,_){const w=5*n;return this.float32[w+0]=o,this.float32[w+1]=u,this.float32[w+2]=g,this.float32[w+3]=d,this.float32[w+4]=_,n}}ds.prototype.bytesPerElement=20,Nt(ds,"StructArrayLayout5f20");class bd extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w){const T=this.length;return this.resize(T+1),this.emplace(T,n,o,u,g,d,_,w)}emplace(n,o,u,g,d,_,w,T){const D=7*n;return this.float32[D+0]=o,this.float32[D+1]=u,this.float32[D+2]=g,this.float32[D+3]=d,this.float32[D+4]=_,this.float32[D+5]=w,this.float32[D+6]=T,n}}bd.prototype.bytesPerElement=28,Nt(bd,"StructArrayLayout7f28");class If extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w,T,D,b,E){const I=this.length;return this.resize(I+1),this.emplace(I,n,o,u,g,d,_,w,T,D,b,E)}emplace(n,o,u,g,d,_,w,T,D,b,E,I){const S=11*n;return this.float32[S+0]=o,this.float32[S+1]=u,this.float32[S+2]=g,this.float32[S+3]=d,this.float32[S+4]=_,this.float32[S+5]=w,this.float32[S+6]=T,this.float32[S+7]=D,this.float32[S+8]=b,this.float32[S+9]=E,this.float32[S+10]=I,n}}If.prototype.bytesPerElement=44,Nt(If,"StructArrayLayout11f44");class Pf extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w,T,D){const b=this.length;return this.resize(b+1),this.emplace(b,n,o,u,g,d,_,w,T,D)}emplace(n,o,u,g,d,_,w,T,D,b){const E=9*n;return this.float32[E+0]=o,this.float32[E+1]=u,this.float32[E+2]=g,this.float32[E+3]=d,this.float32[E+4]=_,this.float32[E+5]=w,this.float32[E+6]=T,this.float32[E+7]=D,this.float32[E+8]=b,n}}Pf.prototype.bytesPerElement=36,Nt(Pf,"StructArrayLayout9f36");class ul extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o){const u=this.length;return this.resize(u+1),this.emplace(u,n,o)}emplace(n,o,u){const g=2*n;return this.float32[g+0]=o,this.float32[g+1]=u,n}}ul.prototype.bytesPerElement=8,Nt(ul,"StructArrayLayout2f8");class xh extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,u,g){const d=this.length;return this.resize(d+1),this.emplace(d,n,o,u,g)}emplace(n,o,u,g,d){const _=6*n;return this.uint32[3*n+0]=o,this.uint16[_+2]=u,this.uint16[_+3]=g,this.uint16[_+4]=d,n}}xh.prototype.bytesPerElement=12,Nt(xh,"StructArrayLayout1ul3ui12");class wd extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.uint16[1*n+0]=o,n}}wd.prototype.bytesPerElement=2,Nt(wd,"StructArrayLayout1ui2");class Df extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B){const N=this.length;return this.resize(N+1),this.emplace(N,n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B)}emplace(n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N){const $=16*n;return this.float32[$+0]=o,this.float32[$+1]=u,this.float32[$+2]=g,this.float32[$+3]=d,this.float32[$+4]=_,this.float32[$+5]=w,this.float32[$+6]=T,this.float32[$+7]=D,this.float32[$+8]=b,this.float32[$+9]=E,this.float32[$+10]=I,this.float32[$+11]=S,this.float32[$+12]=A,this.float32[$+13]=k,this.float32[$+14]=B,this.float32[$+15]=N,n}}Df.prototype.bytesPerElement=64,Nt(Df,"StructArrayLayout16f64");class bh extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,u,g,d,_,w){const T=this.length;return this.resize(T+1),this.emplace(T,n,o,u,g,d,_,w)}emplace(n,o,u,g,d,_,w,T){const D=10*n,b=5*n;return this.uint16[D+0]=o,this.uint16[D+1]=u,this.uint16[D+2]=g,this.uint16[D+3]=d,this.float32[b+2]=_,this.float32[b+3]=w,this.float32[b+4]=T,n}}bh.prototype.bytesPerElement=20,Nt(bh,"StructArrayLayout4ui3f20");class Lf extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.int16[1*n+0]=o,n}}Lf.prototype.bytesPerElement=2,Nt(Lf,"StructArrayLayout1i2");class Md extends fn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.uint8[1*n+0]=o,n}}Md.prototype.bytesPerElement=1,Nt(Md,"StructArrayLayout1ub1");class wh extends yh{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}wh.prototype.size=40;class x0 extends Ef{get(n){return new wh(this,n)}}Nt(x0,"CollisionBoxArray");class b0 extends yh{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}b0.prototype.size=60;class w0 extends Af{get(n){return new b0(this,n)}}Nt(w0,"PlacedSymbolArray");class M0 extends yh{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(n){this._structArray.uint32[this._pos4+14]=n}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(n){this._structArray.float32[this._pos4+18]=n}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}M0.prototype.size=80;class S0 extends xd{get(n){return new M0(this,n)}}Nt(S0,"SymbolInstanceArray");class Mh extends lc{getoffsetX(n){return this.float32[1*n+0]}}Nt(Mh,"GlyphOffsetArray");class Sh extends sa{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}Nt(Sh,"SymbolLineVertexArray");class ps extends yh{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}ps.prototype.size=12;class Th extends xh{get(n){return new ps(this,n)}}Nt(Th,"FeatureIndexArray");class T0 extends So{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}Nt(T0,"FillExtrusionCentroidArray");class E0 extends yh{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}E0.prototype.size=6;class C0 extends vh{get(n){return new E0(this,n)}}Nt(C0,"FillExtrusionWallArray");const W_=Hi([{name:"a_pos",components:2,type:"Int16"}],4),kf=Hi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Un{constructor(n=[]){this.segments=n}_prepareSegment(n,o,u,g){let d=this.segments[this.segments.length-1];return n>Un.MAX_VERTEX_ARRAY_LENGTH&&yi(`Max vertices per segment is ${Un.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!d||d.vertexLength+n>Un.MAX_VERTEX_ARRAY_LENGTH||d.sortKey!==g)&&(d={vertexOffset:o,primitiveOffset:u,vertexLength:0,primitiveLength:0},g!==void 0&&(d.sortKey=g),this.segments.push(d)),d}prepareSegment(n,o,u,g){return this._prepareSegment(n,o.length,u.length,g)}get(){return this.segments}destroy(){for(const n of this.segments)for(const o in n.vaos)n.vaos[o].destroy()}static simpleSegment(n,o,u,g){return new Un([{vertexOffset:n,primitiveOffset:o,vertexLength:u,primitiveLength:g,vaos:{},sortKey:0}])}}function Sd(h,n){return 256*(h=li(Math.floor(h),0,255))+li(Math.floor(n),0,255)}Un.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nt(Un,"SegmentVector");const Z_=Hi([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Y_=Hi([{name:"a_dash",components:4,type:"Uint16"}]);class dl{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(n,o,u,g){this.ids.push(A0(n)),this.positions.push(o,u,g)}eachPosition(n,o){const u=A0(n);let g=0,d=this.ids.length-1;for(;g<d;){const _=g+d>>1;this.ids[_]>=u?d=_:g=_+1}for(;this.ids[g]===u;)o(this.positions[3*g],this.positions[3*g+1],this.positions[3*g+2]),g++}static serialize(n,o){const u=new Float64Array(n.ids),g=new Uint32Array(n.positions);return Td(u,g,0,u.length-1),o&&(o.add(u.buffer),o.add(g.buffer)),{ids:u,positions:g}}static deserialize(n){const o=new dl;let u;o.ids=n.ids,o.positions=n.positions;for(const g of o.ids)g!==u&&o.uniqueIds.push(g),u=g;return o.indexed=!0,o}}function A0(h){const n=+h;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:Jc(String(h))}function Td(h,n,o,u){for(;o<u;){const g=h[o+u>>1];let d=o-1,_=u+1;for(;;){do d++;while(h[d]<g);do _--;while(h[_]>g);if(d>=_)break;Eh(h,d,_),Eh(n,3*d,3*_),Eh(n,3*d+1,3*_+1),Eh(n,3*d+2,3*_+2)}_-o<u-_?(Td(h,n,o,_),o=_+1):(Td(h,n,_+1,u),u=_)}}function Eh(h,n,o){const u=h[n];h[n]=h[o],h[o]=u}Nt(dl,"FeaturePositionMap");class Qa{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,o),this.initialized=!0),!!this.location}set(n,o,u){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class cc extends Qa{constructor(n){super(n),this.current=0}set(n,o,u){this.fetchUniformLocation(n,o)&&this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}}class Rn extends Qa{constructor(n){super(n),this.current=0}set(n,o,u){this.fetchUniformLocation(n,o)&&this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class aa extends Qa{constructor(n){super(n),this.current=[0,0]}set(n,o,u){this.fetchUniformLocation(n,o)&&(u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1])))}}class Of extends Qa{constructor(n){super(n),this.current=[0,0,0]}set(n,o,u){this.fetchUniformLocation(n,o)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2])))}}class Ch extends Qa{constructor(n){super(n),this.current=[0,0,0,0]}set(n,o,u){this.fetchUniformLocation(n,o)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3])))}}class I0 extends Qa{constructor(n){super(n),this.current=zi.transparent.toRenderColor(null)}set(n,o,u){this.fetchUniformLocation(n,o)&&(u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a)))}}const Rf=new Float32Array(16);class Ah extends Qa{constructor(n){super(n),this.current=Rf}set(n,o,u){if(this.fetchUniformLocation(n,o)){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let g=1;g<16;g++)if(u[g]!==this.current[g]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}}}const X_=new Float32Array(9),K_=new Float32Array(4);class zf extends Qa{constructor(n){super(n),this.current=K_}set(n,o,u){if(this.fetchUniformLocation(n,o)){for(let g=0;g<4;g++)if(u[g]!==this.current[g]){this.current=u,this.gl.uniformMatrix2fv(this.location,!1,u);break}}}}function Ed(h){return[Sd(255*h.r,255*h.g),Sd(255*h.b,255*h.a)]}class hc{constructor(n,o,u,g){this.value=n,this.uniformNames=o.map(d=>`u_${d}`),this.type=u,this.context=g}setUniform(n,o,u,g,d){const _=g.constantOr(this.value);o.set(n,d,_ instanceof zi?_.toRenderColor(this.ignoreLut?null:this.context.lut):_)}getBinding(n,o){return this.type==="color"?new I0(n):new Rn(n)}}class uc{constructor(n,o){this.uniformNames=o.map(u=>`u_${u}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,o,u,g,d){const _=d==="u_pattern"||d==="u_dash"?this.pattern:d==="u_pixel_ratio"?this.pixelRatio:null;_&&o.set(n,d,_)}getBinding(n,o){return o==="u_pattern"||o==="u_dash"?new Ch(n):new Rn(n)}}class eo{constructor(n,o,u,g){this.expression=n,this.type=u,this.maxValue=0,this.paintVertexAttributes=o.map(d=>({name:`a_${d}`,type:"Float32",components:u==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(n,o,u,g,d,_,w){const T=this.paintVertexArray.length,D=this.expression.evaluate(new yn(0,{brightness:_}),o,{},d,g,w);this.paintVertexArray.resize(n),this._setPaintValue(T,n,D,this.context)}updatePaintArray(n,o,u,g,d,_,w){const T=this.expression.evaluate({zoom:0,brightness:w},u,g,void 0,d);this._setPaintValue(n,o,T,this.context)}_setPaintValue(n,o,u,g){if(this.type==="color"){const d=Ed(u.toRenderColor(this.ignoreLut?null:g.lut));for(let _=n;_<o;_++)this.paintVertexArray.emplace(_,d[0],d[1])}else{for(let d=n;d<o;d++)this.paintVertexArray.emplace(d,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class oa{constructor(n,o,u,g,d,_){this.expression=n,this.uniformNames=o.map(w=>`u_${w}_t`),this.type=u,this.useIntegerZoom=g,this.context=d,this.maxValue=0,this.paintVertexAttributes=o.map(w=>({name:`a_${w}`,type:"Float32",components:u==="color"?4:2,offset:0})),this.paintVertexArray=new _}populatePaintArray(n,o,u,g,d,_,w){const T=this.expression.evaluate(new yn(this.context.zoom,{brightness:_}),o,{},d,g,w),D=this.expression.evaluate(new yn(this.context.zoom+1,{brightness:_}),o,{},d,g,w),b=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(b,n,T,D,this.context)}updatePaintArray(n,o,u,g,d,_,w){const T=this.expression.evaluate({zoom:this.context.zoom,brightness:w},u,g,void 0,d),D=this.expression.evaluate({zoom:this.context.zoom+1,brightness:w},u,g,void 0,d);this._setPaintValue(n,o,T,D,this.context)}_setPaintValue(n,o,u,g,d){if(this.type==="color"){const _=Ed(u.toRenderColor(this.ignoreLut?null:d.lut)),w=Ed(u.toRenderColor(this.ignoreLut?null:d.lut));for(let T=n;T<o;T++)this.paintVertexArray.emplace(T,_[0],_[1],w[0],w[1])}else{for(let _=n;_<o;_++)this.paintVertexArray.emplace(_,u,g);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(g))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,o,u,g,d){const _=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,w=li(this.expression.interpolationFactor(_,this.context.zoom,this.context.zoom+1),0,1);o.set(n,d,w)}getBinding(n,o){return new Rn(n)}}class To{constructor(n,o,u,g,d){this.expression=n,this.layerId=d,this.paintVertexAttributes=(u==="array"?Y_:Z_).members;for(let _=0;_<o.length;++_);this.paintVertexArray=new g}populatePaintArray(n,o,u,g){const d=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(d,n,o.patterns&&o.patterns[this.layerId],u)}updatePaintArray(n,o,u,g,d,_,w){this._setPaintValues(n,o,u.patterns&&u.patterns[this.layerId],_)}_setPaintValues(n,o,u,g){if(!g||!u)return;const d=g[u];if(!d)return;const{tl:_,br:w,pixelRatio:T}=d;for(let D=n;D<o;D++)this.paintVertexArray.emplace(D,_[0],_[1],w[0],w[1],T)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class pl{constructor(n,o,u=()=>!0){this.binders={},this._buffers=[],this.context=o;const g=[];for(const d in n.paint._values){const _=n.paint.get(d),w=n.paint.get(`${d}-use-theme`);if(d.endsWith("-use-theme")||!u(d)||!(_ instanceof sc&&ec(_.property.specification)))continue;const T=Cd(d,n.type),D=_.value,b=_.property.specification.type,E=!!_.property.useIntegerZoom,I=d==="line-dasharray"||d.endsWith("pattern"),S=d==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant";if(D.kind!=="constant"||S)if(D.kind==="source"||S||I){const A=Ih(d,b,"source");this.binders[d]=I?new To(D,T,b,A,n.id):new eo(D,T,b,A),g.push(`/a_${d}`)}else{const A=Ih(d,b,"composite");this.binders[d]=new oa(D,T,b,E,o,A),g.push(`/z_${d}`)}else this.binders[d]=I?new uc(D.value,T):new hc(D.value,T,b,o),g.push(`/u_${d}`);w&&(this.binders[d].ignoreLut=w.constantOr("default")==="none",this.binders[d].checkUseTheme=!0)}this.cacheKey=g.sort().join("")}getMaxValue(n){const o=this.binders[n];return o instanceof eo||o instanceof oa?o.maxValue:0}populatePaintArrays(n,o,u,g,d,_,w){for(const T in this.binders){const D=this.binders[T];D.context=this.context,(D instanceof eo||D instanceof oa||D instanceof To)&&D.populatePaintArray(n,o,u,g,d,_,w)}}setConstantPatternPositions(n){for(const o in this.binders){const u=this.binders[o];u instanceof uc&&u.setConstantPatternPositions(n)}}updatePaintArrays(n,o,u,g,d,_,w,T,D){let b=!1;const E=Object.keys(n),I=E.length!==0&&!T,S=I?E:o.uniqueIds;this.context.lut=d.lut;for(const A in this.binders){const k=this.binders[A];if(k.context=this.context,(k instanceof eo||k instanceof oa||k instanceof To)&&(k.expression.isStateDependent===!0||k.expression.isLightConstant===!1)){const B=d.paint.get(A);k.expression=B.value;for(const N of S){const $=n[N.toString()];o.eachPosition(N,(W,j,Y)=>{const K=g.feature(W);k.updatePaintArray(j,Y,K,$,_,w,D)})}if(!I)for(const N of u.uniqueIds){const $=n[N.toString()];u.eachPosition(N,(W,j,Y)=>{const K=g.feature(W);k.updatePaintArray(j,Y,K,$,_,w,D)})}b=!0}}return b}defines(){const n=[];for(const o in this.binders){const u=this.binders[o];(u instanceof hc||u instanceof uc)&&n.push(...u.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return n}getBinderAttributes(){const n=[];for(const o in this.binders){const u=this.binders[o];if(u instanceof eo||u instanceof oa||u instanceof To)for(let g=0;g<u.paintVertexAttributes.length;g++)n.push(u.paintVertexAttributes[g].name)}return n}getBinderUniforms(){const n=[];for(const o in this.binders){const u=this.binders[o];if(u instanceof hc||u instanceof uc||u instanceof oa)for(const g of u.uniformNames)n.push(g)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const o=[];for(const u in this.binders){const g=this.binders[u];if(g instanceof hc||g instanceof uc||g instanceof oa)for(const d of g.uniformNames)o.push({name:d,property:u,binding:g.getBinding(n,d)})}return o}setUniforms(n,o,u,g,d){for(const{name:_,property:w,binding:T}of u){if(this.binders[w].checkUseTheme&&this.binders[w]instanceof hc){const D=g.get(`${w}-use-theme`);D.isConstant()&&(this.binders[w].ignoreLut=D.constantOr("default")==="none")}this.binders[w].setUniform(n,T,d,g.get(w),_)}}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const o=this.binders[n];(o instanceof eo||o instanceof oa||o instanceof To)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(n){for(const o in this.binders){const u=this.binders[o];(u instanceof eo||u instanceof oa||u instanceof To)&&u.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const o=this.binders[n];(o instanceof eo||o instanceof oa||o instanceof To)&&o.destroy()}}}class Eo{constructor(n,o,u=()=>!0){this.programConfigurations={};for(const g of n)this.programConfigurations[g.id]=new pl(g,o,u);this.needsUpload=!1,this._featureMap=new dl,this._featureMapWithoutIds=new dl,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(n,o,u,g,d,_,w,T){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(n,o,g,d,_,w,T);o.id!==void 0?this._featureMap.add(o.id,u,this._bufferOffset,n):(this._featureMapWithoutIds.add(this._idlessCounter,u,this._bufferOffset,n),this._idlessCounter+=1),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,o,u,g,d,_,w){for(const T of u)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(n,this._featureMap,this._featureMapWithoutIds,o,T,g,d,_,w||0)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const J_={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Cd(h,n){return J_[h]||[h.replace(`${n}-`,"").replace(/-/g,"_")]}const Q_={"line-pattern":{source:Mo,composite:Mo},"fill-pattern":{source:Mo,composite:Mo},"fill-extrusion-pattern":{source:Mo,composite:Mo},"line-dasharray":{source:gd,composite:gd}},ey={color:{source:ul,composite:wo},number:{source:lc,composite:ul}};function Ih(h,n,o){const u=Q_[h];return u&&u[o]||ey[n][o]}Nt(hc,"ConstantBinder"),Nt(uc,"PatternConstantBinder"),Nt(eo,"SourceExpressionBinder"),Nt(To,"PatternCompositeBinder"),Nt(oa,"CompositeExpressionBinder"),Nt(pl,"ProgramConfiguration",{omit:["_buffers"]}),Nt(Eo,"ProgramConfigurationSet");const Yr=At/Math.PI/2,Ad=5,P0=6,D0=16383,fl=64,Id=[fl,32,16],Ns=-Yr,Vs=Yr;function dc(h,n,o,u=Yr){return o=Mi(o),[h*Math.sin(o)*u,-n*u,h*Math.cos(o)*u]}function Co(h,n,o){return dc(Math.cos(Mi(h)),Math.sin(Mi(h)),n,o)}const pc=63710088e-1,Ff=2*Math.PI*pc;class Fi{constructor(n,o){if(isNaN(n)||isNaN(o))throw new Error(`Invalid LngLat object: (${n}, ${o})`);if(this.lng=+n,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Fi(Ks(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const o=Math.PI/180,u=this.lat*o,g=n.lat*o,d=Math.sin(u)*Math.sin(g)+Math.cos(u)*Math.cos(g)*Math.cos((n.lng-this.lng)*o);return pc*Math.acos(Math.min(d,1))}toBounds(n=0){const o=360*n/40075017,u=o/Math.cos(Math.PI/180*this.lat);return new Ao({lng:this.lng-u,lat:this.lat-o},{lng:this.lng+u,lat:this.lat+o})}toEcef(n){return Co(this.lat,this.lng,Yr+n*Yr/pc)}static convert(n){if(n instanceof Fi)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new Fi(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new Fi(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Ao{constructor(n,o){if(n)if(o)this.setSouthWest(n).setNorthEast(o);else if(n.length===4){const u=n;this.setSouthWest([u[0],u[1]]).setNorthEast([u[2],u[3]])}else{const u=n;this.setSouthWest(u[0]).setNorthEast(u[1])}}setNorthEast(n){return this._ne=n instanceof Fi?new Fi(n.lng,n.lat):Fi.convert(n),this}setSouthWest(n){return this._sw=n instanceof Fi?new Fi(n.lng,n.lat):Fi.convert(n),this}extend(n){const o=this._sw,u=this._ne;let g,d;if(n instanceof Fi)g=n,d=n;else{if(!(n instanceof Ao))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(Ao.convert(n)):this.extend(Fi.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(Fi.convert(n)):this;if(g=n._sw,d=n._ne,!g||!d)return this}return o||u?(o.lng=Math.min(g.lng,o.lng),o.lat=Math.min(g.lat,o.lat),u.lng=Math.max(d.lng,u.lng),u.lat=Math.max(d.lat,u.lat)):(this._sw=new Fi(g.lng,g.lat),this._ne=new Fi(d.lng,d.lat)),this}getCenter(){return new Fi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Fi(this.getWest(),this.getNorth())}getSouthEast(){return new Fi(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:o,lat:u}=Fi.convert(n);let g=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&g}static convert(n){if(n)return n instanceof Ao?n:new Ao(n)}}const ty=0,L0=25.5;function Ph(h){return Ff*Math.cos(h*Math.PI/180)}function Ca(h){return(180+h)/360}function to(h){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h*Math.PI/360)))/360}function Xr(h,n){return h/Ph(n)}function fs(h){return 360*h-180}function Er(h){return 360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90}function k0(h,n){return h*Ph(Er(n))}const zn=85.051129;function iy(h){return Math.cos(Mi(li(h,-zn,zn)))}function f(h,n){const o=li(n,ty,L0),u=Math.pow(2,o);return iy(h)*Ff/(512*u)}function r(h){return 1/Math.cos(h*Math.PI/180)}function l(h,n=0){const o=Math.exp(Math.PI*(1-(h.y+n/At)/(1<<h.z)*2));return 80150034*o/(o*o+1)/At/(1<<h.z)}class m{constructor(n,o,u=0){this.x=+n,this.y=+o,this.z=+u}static fromLngLat(n,o=0){const u=Fi.convert(n);return new m(Ca(u.lng),to(u.lat),Xr(o,u.lat))}toLngLat(){return new Fi(fs(this.x),Er(this.y))}toAltitude(){return k0(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ff*r(Er(this.y))}}function v(h,n,o,u,g,d,_,w,T){const D=(n+u)/2,b=(o+g)/2,E=new Ct(D,b);w(E),function(I,S,A,k,B,N){const $=A-B,W=k-N;return Math.abs((k-S)*$-(A-I)*W)/Math.hypot($,W)}(E.x,E.y,d.x,d.y,_.x,_.y)>=T?(v(h,n,o,D,b,d,E,w,T),v(h,D,b,u,g,E,_,w,T)):h.push(_)}function x(h,n,o){let u=h[0],g=u.x,d=u.y;n(u);const _=[u];for(let w=1;w<h.length;w++){const T=h[w],{x:D,y:b}=T;n(T),v(_,g,d,D,b,u,T,n,o),g=D,d=b,u=T}return _}function M(h,n,o,u){if(u(n,o)){const g=n.add(o)._mult(.5);M(h,n,g,u),M(h,g,o,u)}else h.push(o)}function P(h,n){let o=h[0];const u=[o];for(let g=1;g<h.length;g++){const d=h[g];M(u,o,d,n),o=d}return u}const O=Math.pow(2,14)-1,z=-O-1;function F(h,n){const o=Math.round(h.x*n),u=Math.round(h.y*n);return h.x=li(o,z,O),h.y=li(u,z,O),(o<h.x||o>h.x+1||u<h.y||u>h.y+1)&&yi("Geometry exceeds allowed extent, reduce your vector tile buffer size"),h}function H(h,n,o){const u=h.loadGeometry(),g=h.extent,d=At/g;if(n&&o&&o.projection.isReprojectedInTileSpace){const _=1<<n.z,{scale:w,x:T,y:D,projection:b}=o,E=I=>{const S=fs((n.x+I.x/g)/_),A=Er((n.y+I.y/g)/_),k=b.project(S,A);I.x=(k.x*w-T)*g,I.y=(k.y*w-D)*g};for(let I=0;I<u.length;I++)if(h.type!==1)u[I]=x(u[I],E,1);else{const S=[];for(const A of u[I])A.x<0||A.x>=g||A.y<0||A.y>=g||(E(A),S.push(A));u[I]=S}}for(const _ of u)for(const w of _)F(w,d);return u}function U(h,n){return{type:h.type,id:h.id,properties:h.properties,geometry:n?H(h):[]}}function G(h,n,o,u,g){h.emplaceBack(2*n+(u+1)/2,2*o+(g+1)/2)}function Q(h,n,o){h.emplaceBack(n.x,n.y,n.z,o[0]*16384,o[1]*16384,o[2]*16384)}class J{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.fqid),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new sa,this.indexArray=new Fr,this.segments=new Un,this.programConfigurations=new Eo(n.layers,{zoom:n.zoom,lut:n.lut}),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}updateFootprints(n,o){}populate(n,o,u,g){const d=this.layers[0],_=[];let w=null;d.type==="circle"&&(w=d.layout.get("circle-sort-key"));for(const{feature:D,id:b,index:E,sourceLayerIndex:I}of n){const S=this.layers[0]._featureFilter.needGeometry,A=U(D,S);if(!this.layers[0]._featureFilter.filter(new yn(this.zoom),A,u))continue;const k=w?w.evaluate(A,{},u):void 0,B={id:b,properties:D.properties,type:D.type,sourceLayerIndex:I,index:E,geometry:S?A.geometry:H(D,u,g),patterns:{},sortKey:k};_.push(B)}w&&_.sort((D,b)=>D.sortKey-b.sortKey);let T=null;g.projection.name==="globe"&&(this.globeExtVertexArray=new _d,T=g.projection);for(const D of _){const{geometry:b,index:E,sourceLayerIndex:I}=D,S=n[E].feature;this.addFeature(D,b,E,o.availableImages,u,T,o.brightness),o.featureIndex.insert(S,b,E,I,this.index)}}update(n,o,u,g,d,_,w){this.programConfigurations.updatePaintArrays(n,o,d,u,g,_,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,W_.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,kf.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,o,u,g,d,_,w){for(const T of o)for(const D of T){const b=D.x,E=D.y;if(b<0||b>=At||E<0||E>=At)continue;if(_){const A=_.projectTilePoint(b,E,d),k=_.upVector(d,b,E),B=this.globeExtVertexArray;Q(B,A,k),Q(B,A,k),Q(B,A,k),Q(B,A,k)}const I=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),S=I.vertexLength;G(this.layoutVertexArray,b,E,-1,-1),G(this.layoutVertexArray,b,E,1,-1),G(this.layoutVertexArray,b,E,1,1),G(this.layoutVertexArray,b,E,-1,1),this.indexArray.emplaceBack(S,S+1,S+2),this.indexArray.emplaceBack(S,S+2,S+3),I.vertexLength+=4,I.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,{},g,d,w)}}function ie(h,n){for(let o=0;o<h.length;o++)if(Ee(n,h[o]))return!0;for(let o=0;o<n.length;o++)if(Ee(h,n[o]))return!0;return!!de(h,n)}function ne(h,n,o){return!!Ee(h,n)||!!ge(n,h,o)}function ae(h,n){if(h.length===1)return _e(n,h[0]);for(let o=0;o<n.length;o++){const u=n[o];for(let g=0;g<u.length;g++)if(Ee(h,u[g]))return!0}for(let o=0;o<h.length;o++)if(_e(n,h[o]))return!0;for(let o=0;o<n.length;o++)if(de(h,n[o]))return!0;return!1}function fe(h,n,o){if(h.length>1){if(de(h,n))return!0;for(let u=0;u<n.length;u++)if(ge(n[u],h,o))return!0}for(let u=0;u<h.length;u++)if(ge(h[u],n,o))return!0;return!1}function de(h,n){if(h.length===0||n.length===0)return!1;for(let o=0;o<h.length-1;o++){const u=h[o],g=h[o+1];for(let d=0;d<n.length-1;d++)if(be(u,g,n[d],n[d+1]))return!0}return!1}function be(h,n,o,u){return ns(h,o,u)!==ns(n,o,u)&&ns(h,n,o)!==ns(h,n,u)}function ge(h,n,o){const u=o*o;if(n.length===1)return h.distSqr(n[0])<u;for(let g=1;g<n.length;g++)if(ve(h,n[g-1],n[g])<u)return!0;return!1}function ve(h,n,o){const u=n.distSqr(o);if(u===0)return h.distSqr(n);const g=((h.x-n.x)*(o.x-n.x)+(h.y-n.y)*(o.y-n.y))/u;return h.distSqr(g<0?n:g>1?o:o.sub(n)._mult(g)._add(n))}function _e(h,n){let o,u,g,d=!1;for(let _=0;_<h.length;_++){o=h[_];for(let w=0,T=o.length-1;w<o.length;T=w++)u=o[w],g=o[T],u.y>n.y!=g.y>n.y&&n.x<(g.x-u.x)*(n.y-u.y)/(g.y-u.y)+u.x&&(d=!d)}return d}function Ee(h,n){let o=!1;for(let u=0,g=h.length-1;u<h.length;g=u++){const d=h[u],_=h[g];d.y>n.y!=_.y>n.y&&n.x<(_.x-d.x)*(n.y-d.y)/(_.y-d.y)+d.x&&(o=!o)}return o}function Oe(h,n,o,u,g){for(const _ of h)if(n<=_.x&&o<=_.y&&u>=_.x&&g>=_.y)return!0;const d=[new Ct(n,o),new Ct(n,g),new Ct(u,g),new Ct(u,o)];if(h.length>2){for(const _ of d)if(Ee(h,_))return!0}for(let _=0;_<h.length-1;_++)if(Ge(h[_],h[_+1],d))return!0;return!1}function Ge(h,n,o){const u=o[0],g=o[2];if(h.x<u.x&&n.x<u.x||h.x>g.x&&n.x>g.x||h.y<u.y&&n.y<u.y||h.y>g.y&&n.y>g.y)return!1;const d=ns(h,n,o[0]);return d!==ns(h,n,o[1])||d!==ns(h,n,o[2])||d!==ns(h,n,o[3])}function je(h,n,o,u,g,d){let _=n.y-h.y,w=h.x-n.x;if(d=d||0){const T=_*_+w*w;if(T===0)return!0;const D=Math.sqrt(T);_/=D,w/=D}return!((o.x-h.x)*_+(o.y-h.y)*w-d<0||(u.x-h.x)*_+(u.y-h.y)*w-d<0||(g.x-h.x)*_+(g.y-h.y)*w-d<0)}function Le(h,n,o,u,g,d,_){return!(je(h,n,u,g,d,_)||je(n,o,u,g,d,_)||je(o,h,u,g,d,_)||je(u,g,h,n,o,_)||je(g,d,h,n,o,_)||je(d,u,h,n,o,_))}function Ne(h,n,o){const u=n.paint.get(h).value;return u.kind==="constant"?u.value:o.programConfigurations.get(n.id).getMaxValue(h)}function at(h){return Math.sqrt(h[0]*h[0]+h[1]*h[1])}function pt(h,n,o,u,g){if(!n[0]&&!n[1])return h;const d=Ct.convert(n)._mult(g);o==="viewport"&&d._rotate(-u);const _=[];for(let w=0;w<h.length;w++)_.push(h[w].sub(d));return _}function bt(h,n,o,u){const g=Ct.convert(h)._mult(u);return n==="viewport"&&g._rotate(-o),g}let Ue,lt;Nt(J,"CircleBucket",{omit:["layers"]});var Xe,yt={exports:{}},ht=(Xe||(Xe=1,function(h,n){(function(o){function u(d,_,w){var T=g(256*d,256*(_=Math.pow(2,w)-_-1),w),D=g(256*(d+1),256*(_+1),w);return T[0]+","+T[1]+","+D[0]+","+D[1]}function g(d,_,w){var T=2*Math.PI*6378137/256/Math.pow(2,w);return[d*T-2*Math.PI*6378137/2,_*T-2*Math.PI*6378137/2]}o.getURL=function(d,_,w,T,D,b){return b=b||{},d+"?"+["bbox="+u(w,T,D),"format="+(b.format||"image/png"),"service="+(b.service||"WMS"),"version="+(b.version||"1.1.1"),"request="+(b.request||"GetMap"),"srs="+(b.srs||"EPSG:3857"),"width="+(b.width||256),"height="+(b.height||256),"layers="+_].join("&")},o.getTileBBox=u,o.getMercCoords=g,Object.defineProperty(o,"__esModule",{value:!0})})(n)}(0,yt.exports)),yt.exports);class nt{constructor(n,o,u){this.z=n,this.x=o,this.y=u,this.key=Ot(0,n,n,o,u)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,o){const u=ht.getTileBBox(this.x,this.y,this.z),g=function(d,_,w){let T,D="";for(let b=d;b>0;b--)T=1<<b-1,D+=(_&T?1:0)+(w&T?2:0);return D}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",g).replace("{bbox-epsg-3857}",u)}toString(){return`${this.z}/${this.x}/${this.y}`}}class kt{constructor(n,o){this.wrap=n,this.canonical=o,this.key=Ot(n,o.z,o.z,o.x,o.y)}}class wt{constructor(n,o,u,g,d){this.overscaledZ=n,this.wrap=o,this.canonical=new nt(u,+g,+d),this.key=o===0&&n===u?this.canonical.key:Ot(o,n,u,g,d)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const o=this.canonical.z-n;return n>this.canonical.z?new wt(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new wt(n,this.wrap,n,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(n,o=!0){if(this.overscaledZ===n&&o)return this.key;if(n>this.canonical.z)return Ot(this.wrap*+o,n,this.canonical.z,this.canonical.x,this.canonical.y);{const u=this.canonical.z-n;return Ot(this.wrap*+o,n,n,this.canonical.x>>u,this.canonical.y>>u)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const o=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.z<this.canonical.z&&n.canonical.x===this.canonical.x>>o&&n.canonical.y===this.canonical.y>>o}children(n){if(this.overscaledZ>=n)return[new wt(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,u=2*this.canonical.x,g=2*this.canonical.y;return[new wt(o,this.wrap,o,u,g),new wt(o,this.wrap,o,u+1,g),new wt(o,this.wrap,o,u,g+1),new wt(o,this.wrap,o,u+1,g+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new wt(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new wt(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new kt(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Ot(h,n,o,u,g){const d=1<<Math.min(o,22);let _=d*(g%d)+u%d;return h&&o<22&&(_+=d*d*((h<0?-2*h-1:2*h)%(1<<2*(22-o)))),16*(32*_+o)+(n-o)}const Vt=[h=>{let n=h.canonical.x-1,o=h.wrap;return n<0&&(n=(1<<h.canonical.z)-1,o--),new wt(h.overscaledZ,o,h.canonical.z,n,h.canonical.y)},h=>{let n=h.canonical.x+1,o=h.wrap;return n===1<<h.canonical.z&&(n=0,o++),new wt(h.overscaledZ,o,h.canonical.z,n,h.canonical.y)},h=>new wt(h.overscaledZ,h.wrap,h.canonical.z,h.canonical.x,(h.canonical.y===0?1<<h.canonical.z:h.canonical.y)-1),h=>new wt(h.overscaledZ,h.wrap,h.canonical.z,h.canonical.x,h.canonical.y===(1<<h.canonical.z)-1?0:h.canonical.y+1)];Nt(nt,"CanonicalTileID"),Nt(wt,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const ni=Hi([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:$t}=ni,Zt=Hi([{name:"a_pos_3",components:3,type:"Int16"}]);var ri=Hi([{name:"a_pos",type:"Int16",components:2}]);class Ei{constructor(n,o){this.pos=n,this.dir=o}intersectsPlane(n,o,u){const g=Ie.vec3.dot(o,this.dir);if(Math.abs(g)<1e-6)return!1;const d=((n[0]-this.pos[0])*o[0]+(n[1]-this.pos[1])*o[1]+(n[2]-this.pos[2])*o[2])/g;return u[0]=this.pos[0]+this.dir[0]*d,u[1]=this.pos[1]+this.dir[1]*d,u[2]=this.pos[2]+this.dir[2]*d,!0}closestPointOnSphere(n,o,u){if(Ie.vec3.equals(this.pos,n)||o===0)return u[0]=u[1]=u[2]=0,!1;const[g,d,_]=this.dir,w=this.pos[0]-n[0],T=this.pos[1]-n[1],D=this.pos[2]-n[2],b=g*g+d*d+_*_,E=2*(w*g+T*d+D*_),I=E*E-4*b*(w*w+T*T+D*D-o*o);if(I<0){const S=Math.max(-E/2,0),A=w+g*S,k=T+d*S,B=D+_*S,N=Math.hypot(A,k,B);return u[0]=A*o/N,u[1]=k*o/N,u[2]=B*o/N,!1}{const S=(-E-Math.sqrt(I))/(2*b);if(S<0){const A=Math.hypot(w,T,D);return u[0]=w*o/A,u[1]=T*o/A,u[2]=D*o/A,!1}return u[0]=w+g*S,u[1]=T+d*S,u[2]=D+_*S,!0}}}class gi{constructor(n,o,u,g,d){this.TL=n,this.TR=o,this.BR=u,this.BL=g,this.horizon=d}static fromInvProjectionMatrix(n,o,u){const g=[-1,1,1],d=[1,1,1],_=[1,-1,1],w=[-1,-1,1],T=Ie.vec3.transformMat4(g,g,n),D=Ie.vec3.transformMat4(d,d,n),b=Ie.vec3.transformMat4(_,_,n),E=Ie.vec3.transformMat4(w,w,n);return new gi(T,D,b,E,o/u)}}function hn(h,n,o){let u=1/0,g=-1/0;const d=[];for(const _ of h){Ie.vec3.sub(d,_,n);const w=Ie.vec3.dot(d,o);u=Math.min(u,w),g=Math.max(g,w)}return[u,g]}function vn(h,n){let o=!0;for(let u=0;u<h.planes.length;u++){const g=h.planes[u];let d=0;for(let _=0;_<n.length;_++)d+=Ie.vec3.dot(g,n[_])+g[3]>=0;if(d===0)return 0;d!==n.length&&(o=!1)}return o?2:1}function Gi(h,n){for(const o of h.projections){const u=hn(n,h.points[0],o.axis);if(o.projection[1]<u[0]||o.projection[0]>u[1])return 0}return 1}function en(h,n){let o=0;const u=[0,0,0,0];for(let g=0;g<h.length;g++)u[0]=h[g][0],u[1]=h[g][1],u[2]=h[g][2],u[3]=1,Ie.vec4.dot(u,n)>=0&&o++;return o}class pi{constructor(n,o){this.points=n||new Array(8).fill([0,0,0]),this.planes=o||new Array(6).fill([0,0,0,0]),this.bounds=Yt.fromPoints(this.points),this.projections=[],this.frustumEdges=[Ie.vec3.sub([],this.points[2],this.points[3]),Ie.vec3.sub([],this.points[0],this.points[3]),Ie.vec3.sub([],this.points[4],this.points[0]),Ie.vec3.sub([],this.points[5],this.points[1]),Ie.vec3.sub([],this.points[6],this.points[2]),Ie.vec3.sub([],this.points[7],this.points[3])];for(const u of this.frustumEdges){const g=[0,-u[2],u[1]],d=[u[2],0,-u[0]];this.projections.push({axis:g,projection:hn(this.points,this.points[0],g)}),this.projections.push({axis:d,projection:hn(this.points,this.points[0],d)})}}static fromInvProjectionMatrix(n,o,u,g){const d=Math.pow(2,u),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(D=>{const b=Ie.vec4.transformMat4([],D,n),E=1/b[3]/o*d;return Ie.vec4.mul(b,b,[E,E,g?1/b[3]:E,E])}),w=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(D=>{const b=Ie.vec3.sub([],_[D[0]],_[D[1]]),E=Ie.vec3.sub([],_[D[2]],_[D[1]]),I=Ie.vec3.normalize([],Ie.vec3.cross([],b,E)),S=-Ie.vec3.dot(I,_[D[1]]);return I.concat(S)}),T=[];for(let D=0;D<_.length;D++)T.push([_[D][0],_[D][1],_[D][2]]);return new pi(T,w)}intersectsPrecise(n,o,u){for(let g=0;g<o.length;g++)if(!en(n,o[g]))return 0;for(let g=0;g<this.planes.length;g++)if(!en(n,this.planes[g]))return 0;for(const g of u)for(const d of this.frustumEdges){const _=Ie.vec3.cross([],g,d),w=Ie.vec3.length(_);if(w===0)continue;Ie.vec3.scale(_,_,1/w);const T=hn(this.points,this.points[0],_),D=hn(n,this.points[0],_);if(T[0]>D[1]||D[0]>T[1])return 0}return 1}containsPoint(n){for(const o of this.planes){const u=o[3];if(Ie.vec3.dot([o[0],o[1],o[2]],n)+u<0)return!1}return!0}}class Yt{static fromPoints(n){const o=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];for(const g of n)Ie.vec3.min(o,o,g),Ie.vec3.max(u,u,g);return new Yt(o,u)}static fromTileIdAndHeight(n,o,u){const g=1<<n.canonical.z,d=n.canonical.x,_=n.canonical.y;return new Yt([d/g,_/g,o],[(d+1)/g,(_+1)/g,u])}static applyTransform(n,o){const u=n.getCorners();for(let g=0;g<u.length;++g)Ie.vec3.transformMat4(u[g],u[g],o);return Yt.fromPoints(u)}static applyTransformFast(n,o){const u=[o[12],o[13],o[14]],g=[...u];for(let d=0;d<3;d++)for(let _=0;_<3;_++){const w=o[4*_+d],T=w*n.min[_],D=w*n.max[_];u[d]+=Math.min(T,D),g[d]+=Math.max(T,D)}return new Yt(u,g)}static projectAabbCorners(n,o){const u=n.getCorners();for(let g=0;g<u.length;++g)Ie.vec3.transformMat4(u[g],u[g],o);return u}constructor(n,o){this.min=n,this.max=o,this.center=Ie.vec3.scale([],Ie.vec3.add([],this.min,this.max),.5)}quadrant(n){const o=[n%2==0,n<2],u=Ie.vec3.clone(this.min),g=Ie.vec3.clone(this.max);for(let d=0;d<o.length;d++)u[d]=o[d]?this.min[d]:this.center[d],g[d]=o[d]?this.center[d]:this.max[d];return g[2]=this.max[2],new Yt(u,g)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,o=this.max;return[[n[0],n[1],n[2]],[o[0],n[1],n[2]],[o[0],o[1],n[2]],[n[0],o[1],n[2]],[n[0],n[1],o[2]],[o[0],n[1],o[2]],[o[0],o[1],o[2]],[n[0],o[1],o[2]]]}intersects(n){return this.intersectsAabb(n.bounds)?vn(n,this.getCorners()):0}intersectsFlat(n){return this.intersectsAabb(n.bounds)?vn(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(n,o){return o||this.intersects(n)?Gi(n,this.getCorners()):0}intersectsPreciseFlat(n,o){return o||this.intersectsFlat(n)?Gi(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(n){for(let o=0;o<3;++o)if(this.min[o]>n.max[o]||n.min[o]>this.max[o])return!1;return!0}intersectsAabbXY(n){return!(this.min[0]>n.max[0]||n.min[0]>this.max[0]||this.min[1]>n.max[1]||n.min[1]>this.max[1])}encapsulate(n){for(let o=0;o<3;o++)this.min[o]=Math.min(this.min[o],n.min[o]),this.max[o]=Math.max(this.max[o],n.max[o])}encapsulatePoint(n){for(let o=0;o<3;o++)this.min[o]=Math.min(this.min[o],n[o]),this.max[o]=Math.max(this.max[o],n[o])}closestPoint(n){return[Math.max(Math.min(this.max[0],n[0]),this.min[0]),Math.max(Math.min(this.max[1],n[1]),this.min[1]),Math.max(Math.min(this.max[2],n[2]),this.min[2])]}}function Bi(h){return h*Yr/pc}Nt(Yt,"Aabb");const Wi=[new Yt([Ns,Ns,Ns],[Vs,Vs,Vs]),new Yt([Ns,Ns,Ns],[0,0,Vs]),new Yt([0,Ns,Ns],[Vs,0,Vs]),new Yt([Ns,0,Ns],[0,Vs,Vs]),new Yt([0,0,Ns],[Vs,Vs,Vs])];function En(h,n,o,u=!0){const g=Ie.vec3.scale([],h._camera.position,h.worldSize),d=[n,o,1,1];Ie.vec4.transformMat4(d,d,h.pixelMatrixInverse),Ie.vec4.scale(d,d,1/d[3]);const _=Ie.vec3.sub([],d,g),w=Ie.vec3.normalize([],_),T=h.globeMatrix,D=[T[12],T[13],T[14]],b=Ie.vec3.sub([],D,g),E=Ie.vec3.length(b),I=Ie.vec3.normalize([],b),S=h.worldSize/(2*Math.PI),A=Ie.vec3.dot(I,w),k=Math.asin(S/E);if(k<Math.acos(A)){if(!u)return null;const Me=[],pe=[];Ie.vec3.scale(Me,w,E/A),Ie.vec3.normalize(pe,Ie.vec3.sub(pe,Me,b)),Ie.vec3.normalize(w,Ie.vec3.add(w,b,Ie.vec3.scale(w,pe,Math.tan(k)*E)))}const B=[];new Ei(g,w).closestPointOnSphere(D,S,B);const N=Ie.vec3.normalize([],ze(T,0)),$=Ie.vec3.normalize([],ze(T,1)),W=Ie.vec3.normalize([],ze(T,2)),j=Ie.vec3.dot(N,B),Y=Ie.vec3.dot($,B),K=Ie.vec3.dot(W,B),te=Wn(Math.asin(-Y/S));let ue=Wn(Math.atan2(j,K));ue=h.center.lng+function(Me,pe){const Te=(pe-Me+180)%360-180;return Te<-180?Te+360:Te}(h.center.lng,ue);const ce=Ca(ue),oe=li(to(te),0,1);return new m(ce,oe)}class Cr{constructor(n,o,u){this.a=Ie.vec3.sub([],n,u),this.b=Ie.vec3.sub([],o,u),this.center=u;const g=Ie.vec3.normalize([],this.a),d=Ie.vec3.normalize([],this.b);this.angle=Math.acos(Ie.vec3.dot(g,d))}}function Kr(h,n){if(h.angle===0)return null;let o;return o=h.a[n]===0?1/h.angle*.5*Math.PI:1/h.angle*Math.atan(h.b[n]/h.a[n]/Math.sin(h.angle)-1/Math.tan(h.angle)),o<0||o>1?null:function(u,g,d,_){const w=Math.sin(d);return u*(Math.sin((1-_)*d)/w)+g*(Math.sin(_*d)/w)}(h.a[n],h.b[n],h.angle,li(o,0,1))+h.center[n]}function Yn(h){if(h.z<=1)return Wi[h.z+2*h.y+h.x];const n=un(on(h));return Yt.fromPoints(n)}function br(h,n,o){return Ie.vec3.scale(h,h,1-o),Ie.vec3.scaleAndAdd(h,h,n,o)}function Hr(h,n,o){for(const u of h)Ie.vec3.transformMat4(u,u,n),Ie.vec3.scale(u,u,o)}function Fn(h,n,o,u){const g=n/h.worldSize,d=h.globeMatrix;if(o.z<=1){const ce=Yn(o).getCorners();return Hr(ce,d,g),Yt.fromPoints(ce)}const _=on(o,u),w=un(_,Yr+Bi(h._tileCoverLift));Hr(w,d,g);const T=Number.MAX_VALUE,D=[-T,-T,-T],b=[T,T,T];if(_.contains(h.center)){for(const Me of w)Ie.vec3.min(b,b,Me),Ie.vec3.max(D,D,Me);D[2]=0;const ce=h.point,oe=[ce.x*g,ce.y*g,0];return Ie.vec3.min(b,b,oe),Ie.vec3.max(D,D,oe),new Yt(b,D)}if(h._tileCoverLift>0){for(const ce of w)Ie.vec3.min(b,b,ce),Ie.vec3.max(D,D,ce);return new Yt(b,D)}const E=[d[12]*g,d[13]*g,d[14]*g],I=_.getCenter(),S=li(h.center.lat,-zn,zn),A=li(I.lat,-zn,zn),k=Ca(h.center.lng),B=to(S);let N=k-Ca(I.lng);const $=B-to(A);N>.5?N-=1:N<-.5&&(N+=1);let W=0;if(Math.abs(N)>Math.abs($))W=N>=0?1:3;else{W=$>=0?0:2;const ce=[d[4]*g,d[5]*g,d[6]*g],oe=-Math.sin(Mi($>=0?_.getSouth():_.getNorth()))*Yr;Ie.vec3.scaleAndAdd(E,E,ce,oe)}const j=w[W],Y=w[(W+1)%4],K=new Cr(j,Y,E),te=[Kr(K,0)||j[0],Kr(K,1)||j[1],Kr(K,2)||j[2]],ue=Jr(h.zoom);if(ue>0){const ce=function({x:Me,y:pe,z:Te},Pe,Ae,ke,Ve){const He=1/(1<<Te);let Be=Me*He,Ke=Be+He,ft=pe*He,Qe=ft+He,St=0;const Mt=(Be+Ke)/2-ke;return Mt>.5?St=-1:Mt<-.5&&(St=1),Be=((Be+St)*Pe-(ke*=Pe))*Ae+ke,Ke=((Ke+St)*Pe-ke)*Ae+ke,ft=(ft*Pe-(Ve*=Pe))*Ae+Ve,Qe=(Qe*Pe-Ve)*Ae+Ve,[[Be,Qe,0],[Ke,Qe,0],[Ke,ft,0],[Be,ft,0]]}(o,n,h._pixelsPerMercatorPixel,k,B);for(let Me=0;Me<w.length;Me++)br(w[Me],ce[Me],ue);const oe=Ie.vec3.add([],ce[W],ce[(W+1)%4]);Ie.vec3.scale(oe,oe,.5),br(te,oe,ue)}for(const ce of w)Ie.vec3.min(b,b,ce),Ie.vec3.max(D,D,ce);return b[2]=Math.min(j[2],Y[2]),Ie.vec3.min(b,b,te),Ie.vec3.max(D,D,te),new Yt(b,D)}function on({x:h,y:n,z:o},u=!1){const g=1/(1<<o),d=new Fi(fs(h*g),n===(1<<o)-1&&u?-90:Er((n+1)*g)),_=new Fi(fs((h+1)*g),n===0&&u?90:Er(n*g));return new Ao(d,_)}function un(h,n=Yr){const o=Mi(h.getNorth()),u=Mi(h.getSouth()),g=Math.cos(o),d=Math.cos(u),_=Math.sin(o),w=Math.sin(u),T=h.getWest(),D=h.getEast();return[dc(d,w,T,n),dc(d,w,D,n),dc(g,_,D,n),dc(g,_,T,n)]}function Ai(h,n,o,u){const g=1<<o.z,d=(h/At+o.x)/g;return Co(Er((n/At+o.y)/g),fs(d),u)}function Bn({min:h,max:n}){return D0/Math.max(n[0]-h[0],n[1]-h[1],n[2]-h[2])}const Ar=new Float64Array(16);function an(h){const n=Bn(h),o=Ie.mat4.fromScaling(Ar,[n,n,n]);return Ie.mat4.translate(o,o,Ie.vec3.negate([],h.min))}function Ur(h){const n=Ie.mat4.fromTranslation(Ar,h.min),o=1/Bn(h);return Ie.mat4.scale(n,n,[o,o,o])}function Ss(h){const n=At/(2*Math.PI);return h/(2*Math.PI)/n}function ms(h,n){return At/(512*Math.pow(2,h))*Bn(Yn(n))}function io(h,n,o,u,g){const d=Ss(o),_=[h,n,-o/(2*Math.PI)],w=Ie.mat4.identity(new Float64Array(16));return Ie.mat4.translate(w,w,_),Ie.mat4.scale(w,w,[d,d,d]),Ie.mat4.rotateX(w,w,Mi(-g)),Ie.mat4.rotateY(w,w,Mi(-u)),w}function Jr(h){return Xs(Ad,P0,h)}function la(h,n){const o=Co(n.lat,n.lng),u=function(d){const _=Co(d._center.lat,d._center.lng),w=Ie.vec3.fromValues(0,1,0);let T=Ie.vec3.cross([],w,_);const D=Ie.mat4.fromRotation([],-d.angle,_);T=Ie.vec3.transformMat4(T,T,D),Ie.mat4.fromRotation(D,-d._pitch,T);const b=Ie.vec3.normalize([],_);return Ie.vec3.scale(b,b,Bi(d.cameraToCenterDistance/d.pixelsPerMeter)),Ie.vec3.transformMat4(b,b,D),Ie.vec3.add([],_,b)}(h),g=Ie.vec3.subtract([],u,o);return Ie.vec3.angle(g,o)}function gs(h,n){return la(h,n)>Math.PI/2*1.01}const Io=Mi(85),Aa=Math.cos(Io),ml=Math.sin(Io),Dh=Ie.mat4.create(),Pd=h=>{const n=[];return h.paint.get("circle-pitch-alignment")==="map"&&n.push("PITCH_WITH_MAP"),h.paint.get("circle-pitch-scale")==="map"&&n.push("SCALE_WITH_MAP"),n};function Dd(h,n,o,u,g,d,_,w,T){if(d&&h.queryGeometry.isAboveHorizon)return!1;d&&(T*=h.pixelToTileUnitsFactor);const D=h.tileID.canonical,b=o.projection.upVectorScale(D,o.center.lat,o.worldSize).metersToTile;for(const E of n)for(const I of E){const S=I.add(w),A=g&&o.elevation?o.elevation.exaggeration()*g.getElevationAt(S.x,S.y,!0):0,k=o.projection.projectTilePoint(S.x,S.y,D);if(A>0){const W=o.projection.upVector(D,S.x,S.y);k.x+=W[0]*b*A,k.y+=W[1]*b*A,k.z+=W[2]*b*A}const B=d?S:EP(k.x,k.y,k.z,u),N=d?h.tilespaceRays.map(W=>AP(W,A)):h.queryGeometry.screenGeometry,$=Ie.vec4.transformMat4([],[k.x,k.y,k.z,1],u);if(!_&&d?T*=$[3]/o.cameraToCenterDistance:_&&!d&&(T*=o.cameraToCenterDistance/$[3]),d){const W=Er((I.y/At+D.y)/(1<<D.z));T/=o.projection.pixelsPerMeter(W,1)/Xr(1,W)}if(ne(N,B,T))return!0}return!1}function EP(h,n,o,u){const g=Ie.vec4.transformMat4([],[h,n,o,1],u);return new Ct(g[0]/g[3],g[1]/g[3])}const uw=Ie.vec3.fromValues(0,0,0),CP=Ie.vec3.fromValues(0,0,1);function AP(h,n){const o=Ie.vec3.create();return uw[2]=n,h.intersectsPlane(uw,CP,o),new Ct(o[0],o[1])}class dw extends J{}let pw,fw,mw,gw;function _w(h,{width:n,height:o},u,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==n*o*u)throw new RangeError("mismatched image size")}else g=new Uint8Array(n*o*u);return h.width=n,h.height=o,h.data=g,h}function yw(h,n,o){const{width:u,height:g}=n;u===h.width&&g===h.height||(ny(h,n,{x:0,y:0},{x:0,y:0},{width:Math.min(h.width,u),height:Math.min(h.height,g)},o,null),h.width=u,h.height=g,h.data=n.data)}function ny(h,n,o,u,g,d,_,w){if(g.width===0||g.height===0)return n;if(g.width>h.width||g.height>h.height||o.x>h.width-g.width||o.y>h.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>n.width||g.height>n.height||u.x>n.width-g.width||u.y>n.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const T=h.data,D=n.data,b=d===4&&w;for(let E=0;E<g.height;E++){const I=((o.y+E)*h.width+o.x)*d,S=((u.y+E)*n.width+u.x)*d;if(b)for(let A=0;A<g.width;A++){const k=I+A*d+3,B=S+A*d;D[B+0]=255,D[B+1]=255,D[B+2]=255,D[B+3]=T[k]}else if(_)for(let A=0;A<g.width;A++){const k=I+A*d,B=S+A*d,N=T[k+3],$=new zi(T[k+0]/255*N,T[k+1]/255*N,T[k+2]/255*N,N).toRenderColor(_).toArray();D[B+0]=$[0],D[B+1]=$[1],D[B+2]=$[2],D[B+3]=$[3]}else for(let A=0;A<g.width*d;A++)D[S+A]=T[I+A]}return n}Nt(dw,"HeatmapBucket",{omit:["layers"]});class fc{constructor(n,o){_w(this,n,1,o)}resize(n){yw(this,new fc(n),1)}clone(){return new fc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,o,u,g,d){ny(n,o,u,g,d,1,null)}}class Qr{constructor(n,o){_w(this,n,4,o)}resize(n){yw(this,new Qr(n),4)}replace(n,o){o?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Qr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,o,u,g,d,_,w){ny(n,o,u,g,d,4,_,w)}}class vw{constructor(n,o){this.width=n.width,this.height=n.height,this.data=o instanceof Uint8Array?new Float32Array(o.buffer):o}}function Bf(h){const n={},o=h.resolution||256,u=h.clips?h.clips.length:1,g=h.image||new Qr({width:o,height:u}),d=(_,w,T)=>{n[h.evaluationKey]=T;const D=h.expression.evaluate(n);D&&(g.data[_+w+0]=Math.floor(255*D.r/D.a),g.data[_+w+1]=Math.floor(255*D.g/D.a),g.data[_+w+2]=Math.floor(255*D.b/D.a),g.data[_+w+3]=Math.floor(255*D.a))};if(h.clips)for(let _=0,w=0;_<u;++_,w+=4*o)for(let T=0,D=0;T<o;T++,D+=4){const b=T/(o-1),{start:E,end:I}=h.clips[_];d(w,D,E*(1-b)+I*b)}else for(let _=0,w=0;_<o;_++,w+=4)d(0,w,_/(o-1));return g}Nt(fc,"AlphaImage"),Nt(Qr,"RGBAImage");const IP=Hi([{name:"a_pos",components:2,type:"Int16"}],4),{members:PP}=IP;function Nf(h,n,o=2){const u=n&&n.length,g=u?n[0]*o:h.length;let d=xw(h,0,g,o,!0);const _=[];if(!d||d.next===d.prev)return _;let w,T,D;if(u&&(d=function(b,E,I,S){const A=[];for(let k=0,B=E.length;k<B;k++){const N=xw(b,E[k]*S,k<B-1?E[k+1]*S:b.length,S,!1);N===N.next&&(N.steiner=!0),A.push(BP(N))}A.sort(RP);for(let k=0;k<A.length;k++)I=zP(A[k],I);return I}(h,n,d,o)),h.length>80*o){w=1/0,T=1/0;let b=-1/0,E=-1/0;for(let I=o;I<g;I+=o){const S=h[I],A=h[I+1];S<w&&(w=S),A<T&&(T=A),S>b&&(b=S),A>E&&(E=A)}D=Math.max(b-w,E-T),D=D!==0?32767/D:0}return Vf(d,_,o,w,T,D,0),_}function xw(h,n,o,u,g){let d;if(g===function(_,w,T,D){let b=0;for(let E=w,I=T-D;E<T;E+=D)b+=(_[I]-_[E])*(_[E+1]+_[I+1]),I=E;return b}(h,n,o,u)>0)for(let _=n;_<o;_+=u)d=Mw(_/u|0,h[_],h[_+1],d);else for(let _=o-u;_>=n;_-=u)d=Mw(_/u|0,h[_],h[_+1],d);return d&&O0(d,d.next)&&(Uf(d),d=d.next),d}function Lh(h,n){if(!h)return h;n||(n=h);let o,u=h;do if(o=!1,u.steiner||!O0(u,u.next)&&ur(u.prev,u,u.next)!==0)u=u.next;else{if(Uf(u),u=n=u.prev,u===u.next)break;o=!0}while(o||u!==n);return n}function Vf(h,n,o,u,g,d,_){if(!h)return;!_&&d&&function(T,D,b,E){let I=T;do I.z===0&&(I.z=ry(I.x,I.y,D,b,E)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next;while(I!==T);I.prevZ.nextZ=null,I.prevZ=null,function(S){let A,k=1;do{let B,N=S;S=null;let $=null;for(A=0;N;){A++;let W=N,j=0;for(let K=0;K<k&&(j++,W=W.nextZ,W);K++);let Y=k;for(;j>0||Y>0&&W;)j!==0&&(Y===0||!W||N.z<=W.z)?(B=N,N=N.nextZ,j--):(B=W,W=W.nextZ,Y--),$?$.nextZ=B:S=B,B.prevZ=$,$=B;N=W}$.nextZ=null,k*=2}while(A>1)}(I)}(h,u,g,d);let w=h;for(;h.prev!==h.next;){const T=h.prev,D=h.next;if(d?LP(h,u,g,d):DP(h))n.push(T.i,h.i,D.i),Uf(h),h=D.next,w=D.next;else if((h=D)===w){_?_===1?Vf(h=kP(Lh(h),n),n,o,u,g,d,2):_===2&&OP(h,n,o,u,g,d):Vf(Lh(h),n,o,u,g,d,1);break}}}function DP(h){const n=h.prev,o=h,u=h.next;if(ur(n,o,u)>=0)return!1;const g=n.x,d=o.x,_=u.x,w=n.y,T=o.y,D=u.y,b=g<d?g<_?g:_:d<_?d:_,E=w<T?w<D?w:D:T<D?T:D,I=g>d?g>_?g:_:d>_?d:_,S=w>T?w>D?w:D:T>D?T:D;let A=u.next;for(;A!==n;){if(A.x>=b&&A.x<=I&&A.y>=E&&A.y<=S&&Ld(g,w,d,T,_,D,A.x,A.y)&&ur(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function LP(h,n,o,u){const g=h.prev,d=h,_=h.next;if(ur(g,d,_)>=0)return!1;const w=g.x,T=d.x,D=_.x,b=g.y,E=d.y,I=_.y,S=w<T?w<D?w:D:T<D?T:D,A=b<E?b<I?b:I:E<I?E:I,k=w>T?w>D?w:D:T>D?T:D,B=b>E?b>I?b:I:E>I?E:I,N=ry(S,A,n,o,u),$=ry(k,B,n,o,u);let W=h.prevZ,j=h.nextZ;for(;W&&W.z>=N&&j&&j.z<=$;){if(W.x>=S&&W.x<=k&&W.y>=A&&W.y<=B&&W!==g&&W!==_&&Ld(w,b,T,E,D,I,W.x,W.y)&&ur(W.prev,W,W.next)>=0||(W=W.prevZ,j.x>=S&&j.x<=k&&j.y>=A&&j.y<=B&&j!==g&&j!==_&&Ld(w,b,T,E,D,I,j.x,j.y)&&ur(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;W&&W.z>=N;){if(W.x>=S&&W.x<=k&&W.y>=A&&W.y<=B&&W!==g&&W!==_&&Ld(w,b,T,E,D,I,W.x,W.y)&&ur(W.prev,W,W.next)>=0)return!1;W=W.prevZ}for(;j&&j.z<=$;){if(j.x>=S&&j.x<=k&&j.y>=A&&j.y<=B&&j!==g&&j!==_&&Ld(w,b,T,E,D,I,j.x,j.y)&&ur(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function kP(h,n){let o=h;do{const u=o.prev,g=o.next.next;!O0(u,g)&&bw(u,o,o.next,g)&&Hf(u,g)&&Hf(g,u)&&(n.push(u.i,o.i,g.i),Uf(o),Uf(o.next),o=h=g),o=o.next}while(o!==h);return Lh(o)}function OP(h,n,o,u,g,d){let _=h;do{let w=_.next.next;for(;w!==_.prev;){if(_.i!==w.i&&NP(_,w)){let T=ww(_,w);return _=Lh(_,_.next),T=Lh(T,T.next),Vf(_,n,o,u,g,d,0),void Vf(T,n,o,u,g,d,0)}w=w.next}_=_.next}while(_!==h)}function RP(h,n){return h.x-n.x}function zP(h,n){const o=function(g,d){let _=d;const w=g.x,T=g.y;let D,b=-1/0;do{if(T<=_.y&&T>=_.next.y&&_.next.y!==_.y){const k=_.x+(T-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(k<=w&&k>b&&(b=k,D=_.x<_.next.x?_:_.next,k===w))return D}_=_.next}while(_!==d);if(!D)return null;const E=D,I=D.x,S=D.y;let A=1/0;_=D;do{if(w>=_.x&&_.x>=I&&w!==_.x&&Ld(T<S?w:b,T,I,S,T<S?b:w,T,_.x,_.y)){const k=Math.abs(T-_.y)/(w-_.x);Hf(_,g)&&(k<A||k===A&&(_.x>D.x||_.x===D.x&&FP(D,_)))&&(D=_,A=k)}_=_.next}while(_!==E);return D}(h,n);if(!o)return n;const u=ww(o,h);return Lh(u,u.next),Lh(o,o.next)}function FP(h,n){return ur(h.prev,h,n.prev)<0&&ur(n.next,h,h.next)<0}function ry(h,n,o,u,g){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=(h-o)*g|0)|h<<8))|h<<4))|h<<2))|h<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-u)*g|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function BP(h){let n=h,o=h;do(n.x<o.x||n.x===o.x&&n.y<o.y)&&(o=n),n=n.next;while(n!==h);return o}function Ld(h,n,o,u,g,d,_,w){return(g-_)*(n-w)>=(h-_)*(d-w)&&(h-_)*(u-w)>=(o-_)*(n-w)&&(o-_)*(d-w)>=(g-_)*(u-w)}function NP(h,n){return h.next.i!==n.i&&h.prev.i!==n.i&&!function(o,u){let g=o;do{if(g.i!==o.i&&g.next.i!==o.i&&g.i!==u.i&&g.next.i!==u.i&&bw(g,g.next,o,u))return!0;g=g.next}while(g!==o);return!1}(h,n)&&(Hf(h,n)&&Hf(n,h)&&function(o,u){let g=o,d=!1;const _=(o.x+u.x)/2,w=(o.y+u.y)/2;do g.y>w!=g.next.y>w&&g.next.y!==g.y&&_<(g.next.x-g.x)*(w-g.y)/(g.next.y-g.y)+g.x&&(d=!d),g=g.next;while(g!==o);return d}(h,n)&&(ur(h.prev,h,n.prev)||ur(h,n.prev,n))||O0(h,n)&&ur(h.prev,h,h.next)>0&&ur(n.prev,n,n.next)>0)}function ur(h,n,o){return(n.y-h.y)*(o.x-n.x)-(n.x-h.x)*(o.y-n.y)}function O0(h,n){return h.x===n.x&&h.y===n.y}function bw(h,n,o,u){const g=z0(ur(h,n,o)),d=z0(ur(h,n,u)),_=z0(ur(o,u,h)),w=z0(ur(o,u,n));return g!==d&&_!==w||!(g!==0||!R0(h,o,n))||!(d!==0||!R0(h,u,n))||!(_!==0||!R0(o,h,u))||!(w!==0||!R0(o,n,u))}function R0(h,n,o){return n.x<=Math.max(h.x,o.x)&&n.x>=Math.min(h.x,o.x)&&n.y<=Math.max(h.y,o.y)&&n.y>=Math.min(h.y,o.y)}function z0(h){return h>0?1:h<0?-1:0}function Hf(h,n){return ur(h.prev,h,h.next)<0?ur(h,n,h.next)>=0&&ur(h,h.prev,n)>=0:ur(h,n,h.prev)<0||ur(h,h.next,n)<0}function ww(h,n){const o=sy(h.i,h.x,h.y),u=sy(n.i,n.x,n.y),g=h.next,d=n.prev;return h.next=n,n.prev=h,o.next=g,g.prev=o,u.next=o,o.prev=u,d.next=u,u.prev=d,u}function Mw(h,n,o,u){const g=sy(h,n,o);return u?(g.next=u.next,g.prev=u,u.next.prev=g,u.next=g):(g.prev=g,g.next=g),g}function Uf(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function sy(h,n,o){return{i:h,x:n,y:o,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function F0(h,n){const o=h.length;if(o<=1)return[h];const u=[];let g,d;for(let _=0;_<o;_++){const w=fo(h[_]);w!==0&&(h[_].area=Math.abs(w),d===void 0&&(d=w<0),d===w<0?(g&&u.push(g),g=[h[_]]):g.push(h[_]))}if(g&&u.push(g),n>1)for(let _=0;_<u.length;_++)u[_].length<=n||(Bm(u[_],n,1,u[_].length-1,VP),u[_]=u[_].slice(0,n));return u}function VP(h,n){return n.area-h.area}function Sw(h,n){if(!h)return null;const o=typeof h=="string"?h:h.getPrimary().id;n[o]||(n[o]=[]);const u=xr.from(h).getPrimary();return n[o].push(u),u.serialize()}function ay(h,n,o){const u=o.patternDependencies;let g=!1;for(const d of n){const _=d.paint.get(`${h}-pattern`);_.isConstant()||(g=!0),Sw(_.constantOr(null),u)&&(g=!0)}return g}function oy(h,n,o,u,g){const d=g.patternDependencies;for(const _ of n){const w=_.paint.get(`${h}-pattern`).value;if(w.kind!=="constant"){let T=w.evaluate({zoom:u},o,{},g.availableImages);T=T&&T.name?T.name:T;const D=Sw(T,d);D&&(o.patterns[_.id]=D)}}return o}class ly{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.fqid),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new sa,this.indexArray=new Fr,this.indexArray2=new So,this.programConfigurations=new Eo(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new Un,this.segments2=new Un,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.projection=n.projection}updateFootprints(n,o){}populate(n,o,u,g){this.hasPattern=ay("fill",this.layers,o);const d=this.layers[0].layout.get("fill-sort-key"),_=[];for(const{feature:w,id:T,index:D,sourceLayerIndex:b}of n){const E=this.layers[0]._featureFilter.needGeometry,I=U(w,E);if(!this.layers[0]._featureFilter.filter(new yn(this.zoom),I,u))continue;const S=d?d.evaluate(I,{},u,o.availableImages):void 0,A={id:T,properties:w.properties,type:w.type,sourceLayerIndex:b,index:D,geometry:E?I.geometry:H(w,u,g),patterns:{},sortKey:S};_.push(A)}d&&_.sort((w,T)=>w.sortKey-T.sortKey);for(const w of _){const{geometry:T,index:D,sourceLayerIndex:b}=w;if(this.hasPattern){const E=oy("fill",this.layers,w,this.zoom,o);this.patternFeatures.push(E)}else this.addFeature(w,T,D,u,{},o.availableImages,o.brightness);o.featureIndex.insert(n[D].feature,T,D,b,this.index)}}update(n,o,u,g,d,_,w){this.programConfigurations.updatePaintArrays(n,o,d,u,g,_,w)}addFeatures(n,o,u,g,d,_){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,o,u,g,_)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,PP),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,o,u,g,d,_=[],w){for(const T of F0(o,500)){let D=0;for(const k of T)D+=k.length;const b=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray),E=b.vertexLength,I=[],S=[];for(const k of T){if(k.length===0)continue;k!==T[0]&&S.push(I.length/2);const B=this.segments2.prepareSegment(k.length,this.layoutVertexArray,this.indexArray2),N=B.vertexLength;this.layoutVertexArray.emplaceBack(k[0].x,k[0].y),this.indexArray2.emplaceBack(N+k.length-1,N),I.push(k[0].x),I.push(k[0].y);for(let $=1;$<k.length;$++)this.layoutVertexArray.emplaceBack(k[$].x,k[$].y),this.indexArray2.emplaceBack(N+$-1,N+$),I.push(k[$].x),I.push(k[$].y);B.vertexLength+=k.length,B.primitiveLength+=k.length}const A=Nf(I,S);for(let k=0;k<A.length;k+=3)this.indexArray.emplaceBack(E+A[k],E+A[k+1],E+A[k+2]);b.vertexLength+=D,b.primitiveLength+=A.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,d,_,g,w)}}let Tw,Ew,Cw,Aw;Nt(ly,"FillBucket",{omit:["layers","patternFeatures"]});class cy{constructor(n,o,u,g){if(this.triangleCount=o.length/3,this.min=new Ct(0,0),this.max=new Ct(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||n.length===0)return;const[d,_]=[n[0].clone(),n[0].clone()];for(let E=1;E<n.length;++E){const I=n[E];d.x=Math.min(d.x,I.x),d.y=Math.min(d.y,I.y),_.x=Math.max(_.x,I.x),_.y=Math.max(_.y,I.y)}if(g){const E=Math.ceil(Math.max(_.x-d.x,_.y-d.y)/g);u=Math.max(u,E)}if(u===0)return;this.min=d,this.max=_;const w=this.max.sub(this.min);w.x=Math.max(w.x,1),w.y=Math.max(w.y,1);const T=Math.max(w.x,w.y)/u;this.cellsX=Math.max(1,Math.ceil(w.x/T)),this.cellsY=Math.max(1,Math.ceil(w.y/T)),this.xScale=1/T,this.yScale=1/T;const D=[];for(let E=0;E<this.triangleCount;E++){const I=n[o[3*E+0]].sub(this.min),S=n[o[3*E+1]].sub(this.min),A=n[o[3*E+2]].sub(this.min),k=Po(Math.floor(Math.min(I.x,S.x,A.x)),this.xScale,this.cellsX),B=Po(Math.floor(Math.max(I.x,S.x,A.x)),this.xScale,this.cellsX),N=Po(Math.floor(Math.min(I.y,S.y,A.y)),this.yScale,this.cellsY),$=Po(Math.floor(Math.max(I.y,S.y,A.y)),this.yScale,this.cellsY),W=new Ct(0,0),j=new Ct(0,0),Y=new Ct(0,0),K=new Ct(0,0);for(let te=N;te<=$;++te){W.y=j.y=te*T,Y.y=K.y=(te+1)*T;for(let ue=k;ue<=B;++ue)W.x=Y.x=ue*T,j.x=K.x=(ue+1)*T,(Le(I,S,A,W,j,K)||Le(I,S,A,W,K,Y))&&D.push({cellIdx:te*this.cellsX+ue,triIdx:E})}}if(D.length===0)return;D.sort((E,I)=>E.cellIdx-I.cellIdx||E.triIdx-I.triIdx);let b=0;for(;b<D.length;){const E=D[b].cellIdx,I={start:this.payload.length,len:0};for(;b<D.length&&D[b].cellIdx===E;)++I.len,this.payload.push(D[b++].triIdx);this.cells[E]=I}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(n,o){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>n.x||n.y>this.max.y||this.min.y>n.y)return;const u=Po(n.x-this.min.x,this.xScale,this.cellsX),g=Po(n.y-this.min.y,this.yScale,this.cellsY),d=this.cells[g*this.cellsX+u];if(d){this._lazyInitLookup();for(let _=0;_<d.len;_++){const w=this.payload[d.start+_],T=Math.floor(w/8),D=1<<w%8;if(!(this.lookup[T]&D)&&(this.lookup[T]|=D,o.push(w),o.length===this.triangleCount))return}}}query(n,o,u){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>o.x||n.y>this.max.y||this.min.y>o.y)return;this._lazyInitLookup();const g=Po(n.x-this.min.x,this.xScale,this.cellsX),d=Po(o.x-this.min.x,this.xScale,this.cellsX),_=Po(n.y-this.min.y,this.yScale,this.cellsY),w=Po(o.y-this.min.y,this.yScale,this.cellsY);for(let T=_;T<=w;T++)for(let D=g;D<=d;D++){const b=this.cells[T*this.cellsX+D];if(b)for(let E=0;E<b.len;E++){const I=this.payload[b.start+E],S=Math.floor(I/8),A=1<<I%8;if(!(this.lookup[S]&A)&&(this.lookup[S]|=A,u.push(I),u.length===this.triangleCount))return}}}}function Po(h,n,o){return Math.max(0,Math.min(o-1,Math.floor(h*n)))}Nt(cy,"TriangleGridIndex");class Iw{constructor(n){this.zoom=n.zoom,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.fqid),this.index=n.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.footprints=[]}updateFootprints(n,o){for(const u of this.footprints)o.push({footprint:u,id:n})}populate(n,o,u,g){const d=[];for(const{feature:_,id:w,index:T,sourceLayerIndex:D}of n){const b=this.layers[0]._featureFilter.needGeometry,E=U(_,b);if(!this.layers[0]._featureFilter.filter(new yn(this.zoom),E,u))continue;const I={id:w,properties:_.properties,type:_.type,sourceLayerIndex:D,index:T,geometry:b?E.geometry:H(_,u,g),patterns:{}};d.push(I)}for(const _ of d){const{geometry:w,index:T,sourceLayerIndex:D}=_;this.addFeature(_,w,T,u,{},o.availableImages,o.brightness),o.featureIndex.insert(n[T].feature,w,T,D,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(n){}update(n,o,u,g,d,_,w){}destroy(){}addFeature(n,o,u,g,d,_=[],w){for(const T of F0(o,2)){const D=[],b=[],E=[],I=new Ct(1/0,1/0),S=new Ct(-1/0,-1/0);for(const B of T)if(B.length!==0){B!==T[0]&&E.push(b.length/2);for(let N=0;N<B.length;N++)b.push(B[N].x),b.push(B[N].y),D.push(B[N]),I.x=Math.min(I.x,B[N].x),I.y=Math.min(I.y,B[N].y),S.x=Math.max(S.x,B[N].x),S.y=Math.max(S.y,B[N].y)}const A=Nf(b,E),k=new cy(D,A,8,256);this.footprints.push({vertices:D,indices:A,grid:k,min:I,max:S})}}}Nt(Iw,"ClipBucket",{omit:["layers"]});const HP=Hi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),UP=Hi([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),jP=Hi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),qP=Hi([{name:"a_join_normal_inside",components:3,type:"Int16"}]),$P=Hi([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),GP=Hi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:WP}=HP;var hy,Pw,uy,Dw,dy,Lw,kw,B0={};function Ow(){if(Pw)return hy;Pw=1;var h=xa();function n(g,d,_,w,T){this.properties={},this.extent=_,this.type=0,this._pbf=g,this._geometry=-1,this._keys=w,this._values=T,g.readFields(o,this,d)}function o(g,d,_){g==1?d.id=_.readVarint():g==2?function(w,T){for(var D=w.readVarint()+w.pos;w.pos<D;){var b=T._keys[w.readVarint()],E=T._values[w.readVarint()];T.properties[b]=E}}(_,d):g==3?d.type=_.readVarint():g==4&&(d._geometry=_.pos)}function u(g){for(var d,_,w=0,T=0,D=g.length,b=D-1;T<D;b=T++)w+=((_=g[b]).x-(d=g[T]).x)*(d.y+_.y);return w}return hy=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var d,_=g.readVarint()+g.pos,w=1,T=0,D=0,b=0,E=[];g.pos<_;){if(T<=0){var I=g.readVarint();w=7&I,T=I>>3}if(T--,w===1||w===2)D+=g.readSVarint(),b+=g.readSVarint(),w===1&&(d&&E.push(d),d=[]),d.push(new h(D,b));else{if(w!==7)throw new Error("unknown command "+w);d&&d.push(d[0].clone())}}return d&&E.push(d),E},n.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var d=g.readVarint()+g.pos,_=1,w=0,T=0,D=0,b=1/0,E=-1/0,I=1/0,S=-1/0;g.pos<d;){if(w<=0){var A=g.readVarint();_=7&A,w=A>>3}if(w--,_===1||_===2)(T+=g.readSVarint())<b&&(b=T),T>E&&(E=T),(D+=g.readSVarint())<I&&(I=D),D>S&&(S=D);else if(_!==7)throw new Error("unknown command "+_)}return[b,I,E,S]},n.prototype.toGeoJSON=function(g,d,_){var w,T,D=this.extent*Math.pow(2,_),b=this.extent*g,E=this.extent*d,I=this.loadGeometry(),S=n.types[this.type];function A(N){for(var $=0;$<N.length;$++){var W=N[$];N[$]=[360*(W.x+b)/D-180,360/Math.PI*Math.atan(Math.exp((180-360*(W.y+E)/D)*Math.PI/180))-90]}}switch(this.type){case 1:var k=[];for(w=0;w<I.length;w++)k[w]=I[w][0];A(I=k);break;case 2:for(w=0;w<I.length;w++)A(I[w]);break;case 3:for(I=function(N){var $=N.length;if($<=1)return[N];for(var W,j,Y=[],K=0;K<$;K++){var te=u(N[K]);te!==0&&(j===void 0&&(j=te<0),j===te<0?(W&&Y.push(W),W=[N[K]]):W.push(N[K]))}return W&&Y.push(W),Y}(I),w=0;w<I.length;w++)for(T=0;T<I[w].length;T++)A(I[w][T])}I.length===1?I=I[0]:S="Multi"+S;var B={type:"Feature",geometry:{type:S,coordinates:I},properties:this.properties};return"id"in this&&(B.id=this.id),B},hy}function Rw(){if(Dw)return uy;Dw=1;var h=Ow();function n(u,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(o,this,g),this.length=this._features.length}function o(u,g,d){u===15?g.version=d.readVarint():u===1?g.name=d.readString():u===5?g.extent=d.readVarint():u===2?g._features.push(d.pos):u===3?g._keys.push(d.readString()):u===4&&g._values.push(function(_){for(var w=null,T=_.readVarint()+_.pos;_.pos<T;){var D=_.readVarint()>>3;w=D===1?_.readString():D===2?_.readFloat():D===3?_.readDouble():D===4?_.readVarint64():D===5?_.readVarint():D===6?_.readSVarint():D===7?_.readBoolean():null}return w}(d))}return uy=n,n.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var g=this._pbf.readVarint()+this._pbf.pos;return new h(this._pbf,g,this.extent,this._keys,this._values)},uy}function zw(){return kw||(kw=1,B0.VectorTile=function(){if(Lw)return dy;Lw=1;var h=Rw();function n(o,u,g){if(o===3){var d=new h(g,g.readVarint()+g.pos);d.length&&(u[d.name]=d)}}return dy=function(o,u){this.layers=o.readFields(n,{},u)},dy}(),B0.VectorTileFeature=Ow(),B0.VectorTileLayer=Rw()),B0}var kd=zw();class kh extends Ct{constructor(n,o,u){super(n,o),this.z=u}}class Fw extends kh{constructor(n,o,u,g){super(n,o,u),this.w=g}}function N0(h,n,o,u){const g=[],d=u===0?(_,w,T,D,b,E)=>{_.push(new Ct(E,T+(E-w)/(D-w)*(b-T)))}:(_,w,T,D,b,E)=>{_.push(new Ct(w+(E-T)/(b-T)*(D-w),E))};for(const _ of h){const w=[];for(const T of _){if(T.length<=2)continue;const D=[];for(let I=0;I<T.length-1;I++){const S=T[I].x,A=T[I].y,k=T[I+1].x,B=T[I+1].y,N=u===0?S:A,$=u===0?k:B;N<n?$>n&&d(D,S,A,k,B,n):N>o?$<o&&d(D,S,A,k,B,o):D.push(T[I]),$<n&&N>=n&&d(D,S,A,k,B,n),$>o&&N<=o&&d(D,S,A,k,B,o)}let b=T[T.length-1];const E=u===0?b.x:b.y;E>=n&&E<=o&&D.push(b),D.length&&(b=D[D.length-1],D[0].x===b.x&&D[0].y===b.y||D.push(D[0]),w.push(D))}w.length&&g.push(w)}return g}function Bw(h,n,o,u){const g=o==="x"?"y":"x",d=(u-h[o])/(n[o]-h[o]);h[g]=h[g]+(n[g]-h[g])*d,h[o]=u,h.hasOwnProperty("z")&&(h.z=ei(h.z,n.z,d)),h.hasOwnProperty("w")&&(h.w=ei(h.w,n.w,d))}function Nw(h,n,o,u){const g=o,d=u;for(const _ of["x","y"]){let w=h,T=n;w[_]>=T[_]&&(w=n,T=h),w[_]<g&&T[_]>g&&Bw(w,T,_,g),w[_]<d&&T[_]>d&&Bw(T,w,_,d)}}const V0=Number.MAX_SAFE_INTEGER;function Vw(h,n,o,u){return h.order<n||h.order===V0||!(h.clipMask&o)||function(g,d){return d.length!==0&&d.find(_=>_===g)===void 0}(u,h.clipScope)}function H0(h,n){return h.x-n.x||h.y-n.y}function Hw(h,n){return H0(h.min,n.min)===0&&H0(h.max,n.max)===0}function py(h,n){return!(h.min.x>n.max.x||h.max.x<n.min.x||h.min.y>n.max.y||h.max.y<n.min.y)}function fy(h,n){if(h.length!==n.length)return!1;for(let o=0;o<h.length;o++)if(h[o].sourceId!==n[o].sourceId||!Hw(h[o],n[o])||h[o].order!==n[o].order||h[o].clipMask!==n[o].clipMask||!is(h[o].clipScope,n[o].clipScope))return!1;return!0}function Uw(h,n,o){const u=1/At,g=1/(1<<o.canonical.z),d=(n.x*u+o.canonical.x)*g+o.wrap,_=(n.y*u+o.canonical.y)*g;return{min:new Ct((h.x*u+o.canonical.x)*g+o.wrap,(h.y*u+o.canonical.y)*g),max:new Ct(d,_)}}function ZP(h,n,o){const u=1<<o.canonical.z,g=((n.x-o.wrap)*u-o.canonical.x)*At,d=(n.y*u-o.canonical.y)*At;return{min:new Ct(((h.x-o.wrap)*u-o.canonical.x)*At,(h.y*u-o.canonical.y)*At),max:new Ct(g,d)}}function jw(h,n,o,u,g,d,_){const w=h.indices,T=h.vertices,D=[];for(let b=u;b<u+g;b+=3){const E=n[o[b+0]+d],I=n[o[b+1]+d],S=n[o[b+2]+d],A=Math.min(E.x,I.x,S.x),k=Math.max(E.x,I.x,S.x),B=Math.min(E.y,I.y,S.y),N=Math.max(E.y,I.y,S.y);D.length=0,h.grid.query(new Ct(A,B),new Ct(k,N),D);for(let $=0;$<D.length;$++){const W=D[$];if(Le(T[w[3*W+0]],T[w[3*W+1]],T[w[3*W+2]],E,I,S,_))return!0}}return!1}function qw(h,n,o,u){if(!h||!o)return!1;let g=h.vertices;if(!n.canonical.equals(u.canonical)||n.wrap!==u.wrap){if(o.vertices.length<h.vertices.length)return qw(o,u,h,n);const d=n.canonical,_=u.canonical,w=Math.pow(2,_.z-d.z);g=h.vertices.map(T=>new Ct((T.x+d.x*At)*w-_.x*At,(T.y+d.y*At)*w-_.y*At))}return jw(o,g,h.indices,0,h.indices.length,0,0)}function $w(h,n,o,u){const g=Math.pow(2,u.z-o.z);return new Ct((h+o.x*At)*g-u.x*At,(n+o.y*At)*g-u.y*At)}function Gw(h,n){const o=[];n.grid.queryPoint(h,o);const u=n.indices,g=n.vertices;for(let d=0;d<o.length;d++){const _=o[d];if(Ee([g[u[3*_+0]],g[u[3*_+1]],g[u[3*_+2]]],h))return!0}return!1}const my=[new Ct(0,0),new Ct(At,0),new Ct(At,At),new Ct(0,At)];function Ww(h,n){const o=[];let u=[];if(!n||h.length<2)return[h];if(h.length===2)return Ge(h[0],h[1],my)?[h]:[];for(let g=0;g<h.length+2;g++){const d=h[g%h.length],_=h[(g+1)%h.length],w=Ge(g===0?h[h.length-1]:h[(g-1)%h.length],d,my),T=Ge(d,_,my),D=w||T;D&&u.push(d),D&&T||u.length>0&&(u.length>1&&o.push(u),u=[])}return u.length>1&&o.push(u),o}const gy=kd.VectorTileFeature.types,YP=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],XP=["fill-extrusion-flood-light-ground-radius"],KP=Math.pow(2,13),JP=Math.pow(2,15)-1,Zw=new Ct(0,1),mc=2147483648;function jf(h,n,o,u,g,d,_,w){h.emplaceBack((n<<1)+_,(o<<1)+d,(Math.floor(u*KP)<<1)+g,Math.round(w))}function qf(h,n,o){h.emplaceBack(n.x*At,n.y*At,o?1:0)}function U0(h,n,o,u,g,d){h.emplaceBack(n.x,n.y,(o.x<<1)+u,(o.y<<1)+g,d)}function $f(h,n,o){h.emplaceBack(n.x,n.y,n.z,o[0]*16384,o[1]*16384,o[2]*16384)}class Yw{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class Xw{constructor(){this.centroidXY=new Ct(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new Ct(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new Ct(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new Ct(this.max.x-this.min.x,this.max.y-this.min.y)}}class Kw{constructor(){this.acc=new Ct(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(n,o){n.min.x===Number.MAX_VALUE&&(n.min.x=n.max.x=o.x,n.min.y=n.max.y=o.y)}appendEdge(n,o,u){this.accCount++,this.acc._add(o);let g=!!this.borders;o.x<n.min.x?(n.min.x=o.x,g=!0):o.x>n.max.x&&(n.max.x=o.x,g=!0),o.y<n.min.y?(n.min.y=o.y,g=!0):o.y>n.max.y&&(n.max.y=o.y,g=!0),((o.x===0||o.x===At)&&o.x===u.x)!=((o.y===0||o.y===At)&&o.y===u.y)&&this.processBorderOverlap(o,u),g&&this.checkBorderIntersection(o,u)}checkBorderIntersection(n,o){o.x<0!=n.x<0&&this.addBorderIntersection(0,ei(o.y,n.y,(0-o.x)/(n.x-o.x))),o.x>At!=n.x>At&&this.addBorderIntersection(1,ei(o.y,n.y,(At-o.x)/(n.x-o.x))),o.y<0!=n.y<0&&this.addBorderIntersection(2,ei(o.x,n.x,(0-o.y)/(n.y-o.y))),o.y>At!=n.y>At&&this.addBorderIntersection(3,ei(o.x,n.x,(At-o.y)/(n.y-o.y)))}addBorderIntersection(n,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const u=this.borders[n];o<u[0]&&(u[0]=o),o>u[1]&&(u[1]=o)}processBorderOverlap(n,o){if(n.x===o.x){if(n.y===o.y)return;const u=n.x===0?0:1;this.addBorderIntersection(u,o.y),this.addBorderIntersection(u,n.y)}else{const u=n.y===0?2:3;this.addBorderIntersection(u,o.x),this.addBorderIntersection(u,n.x)}}centroid(){return this.accCount===0?new Ct(0,0):new Ct(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((n,o)=>n+ +(o[0]!==Number.MAX_VALUE),0):0}}function Jw(h,n){const o=h.add(n)._unit(),u=li(h.x*o.x+h.y*o.y,-1,1);var g,d,_;return _=Math.acos(u),Math.min(4,Math.max(-4,Math.tan(_)))/4*JP*((g=h).x*(d=n).y-g.y*d.x<0?-1:1)}const QP=[h=>h.x<0,h=>h.x>At,h=>h.y<0,h=>h.y>At];function eD(h,n,o,u){const g=[4];if(u===0)return g;o._mult(u);const d=h.sub(o),_=n.sub(o),w=[h,n,d,_];for(let T=0;T<4;T++)for(const D of w)if(QP[T](D)){g.push(T);break}return g}class Qw{constructor(n){this.vertexArray=new wf,this.indexArray=new Fr,this.programConfigurations=new Eo(n.layers,{zoom:n.zoom,lut:n.lut},o=>XP.includes(o)),this._segments=new Un,this.hiddenByLandmarkVertexArray=new Md,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new Un}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(n,o,u,g=!1){const d=n.length;if(d>2){let _=Math.max(0,this._segments.get().length-1);const w=this._segments._prepareSegment(4*d,this.vertexArray.length,2*this._segmentToGroundQuads[_].length);let T;_!==this._segments.get().length-1&&(_++,this._segmentToGroundQuads[_]=[],this._segmentToRegionTriCounts[_]=[0,0,0,0,0]);{const D=n[0],b=n[1];T=Jw(D.sub(n[d-1])._perp()._unit(),b.sub(D)._perp()._unit())}for(let D=0;D<d;D++){const b=D===d-1?0:D+1,E=n[D],I=n[b],S=n[b===d-1?0:b+1],A=I.sub(E)._perp()._unit(),k=Jw(A,S.sub(I)._perp()._unit()),B=T,N=k;if(_y(E,I,o)||g&&iM(E,o)&&iM(I,o)){T=k;continue}const $=w.vertexLength;U0(this.vertexArray,E,I,1,1,B),U0(this.vertexArray,E,I,1,0,B),U0(this.vertexArray,E,I,0,1,N),U0(this.vertexArray,E,I,0,0,N),w.vertexLength+=4;const W=eD(E,I,A,u);for(const j of W)this._segmentToGroundQuads[_].push({id:$,region:j}),this._segmentToRegionTriCounts[_][j]+=2,w.primitiveLength+=2;T=k}}}prepareBorderSegments(){if(!this.hasData())return;const n=this._segments.get(),o=n.length;for(let u=0;u<o;u++)this._segmentToGroundQuads[u].sort((g,d)=>g.region-d.region);for(let u=0;u<o;u++){const g=this._segmentToGroundQuads[u],d=n[u],_=this._segmentToRegionTriCounts[u];_.reduce((T,D)=>T+D,0);let w=0;for(let T=0;T<=4;T++){const D=_[T];if(D!==0){let b=this.regionSegments[T];b||(b=this.regionSegments[T]=new Un);const E={vertexOffset:d.vertexOffset,primitiveOffset:d.primitiveOffset+w,vertexLength:d.vertexLength,primitiveLength:D};b.get().push(E)}w+=D}for(let T=0;T<g.length;T++){const D=g[T].id;this.indexArray.emplaceBack(D,D+1,D+3),this.indexArray.emplaceBack(D,D+3,D+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(n,o,u,g,d,_){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,n,o,u,g,d,_)}upload(n){this.hasData()&&(this.vertexBuffer=n.createVertexBuffer(this.vertexArray,UP.members),this.indexBuffer=n.createIndexBuffer(this.indexArray))}uploadPaintProperties(n){this.hasData()&&this.programConfigurations.upload(n)}update(n,o,u,g,d,_,w){this.hasData()&&this.programConfigurations.updatePaintArrays(n,o,u,g,d,_,w)}updateHiddenByLandmark(n){if(!this.hasData())return;const o=n.groundVertexCount+n.groundVertexArrayOffset;if(n.groundVertexCount===0)return;const u=n.flags&mc?1:0;for(let g=n.groundVertexArrayOffset;g<o;++g)this.hiddenByLandmarkVertexArray.emplace(g,u);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(n){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=n.createVertexBuffer(this.hiddenByLandmarkVertexArray,$P.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let n=0;n<=4;n++){const o=this.regionSegments[n];o&&o.destroy()}}}}class j0{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.fqid),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new Fr,this.footprintVertices=new sa,this.footprintSegments=[],this.layoutVertexArray=new bo,this.centroidVertexArray=new T0,this.wallVertexArray=new C0,this.indexArray=new Fr,this.programConfigurations=new Eo(n.layers,{zoom:n.zoom,lut:n.lut},o=>YP.includes(o)),this.segments=new Un,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.groundEffect=new Qw(n),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(n,o){}populate(n,o,u,g){this.features=[],this.hasPattern=ay("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.selfDEMTileTimestamp=Number.MAX_VALUE,this.borderDEMTileTimestamp=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],this.tileToMeter=l(u),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:d,id:_,index:w,sourceLayerIndex:T}of n){const D=this.layers[0]._featureFilter.needGeometry,b=U(d,D);if(!this.layers[0]._featureFilter.filter(new yn(this.zoom),b,u))continue;const E={id:_,sourceLayerIndex:T,index:w,geometry:D?b.geometry:H(d,u,g),properties:d.properties,type:d.type,patterns:{}},I=this.layoutVertexArray.length,S=gy[E.type]==="Polygon";if(this.hasPattern)this.features.push(oy("fill-extrusion",this.layers,E,this.zoom,o));else if(this.wallMode)for(const A of E.geometry)for(const k of Ww(A,S))this.addFeature(E,[k],w,u,{},o.availableImages,g,o.brightness);else this.addFeature(E,E.geometry,w,u,{},o.availableImages,g,o.brightness);o.featureIndex.insert(d,E.geometry,w,T,this.index,I)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(n,o,u,g,d,_){for(const w of this.features){const T=gy[w.type]==="Polygon",{geometry:D}=w;if(this.wallMode)for(const b of D)for(const E of Ww(b,T))this.addFeature(w,[E],w.index,o,u,g,d,_);else this.addFeature(w,D,w.index,o,u,g,d,_)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(n,o,u,g,d,_,w){this.programConfigurations.updatePaintArrays(n,o,d,u,g,_,w),this.groundEffect.update(n,o,d,u,g,_,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,WP),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.wallVertexBuffer=n.createVertexBuffer(this.wallVertexArray,qP.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,GP.members,!0)),this.groundEffect.upload(n)),this.groundEffect.uploadPaintProperties(n),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.groundEffect.uploadHiddenByLandmark(n),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,jP.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,o,u,g,d,_,w,T){const D=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(n,{})/this.tileToMeter,b=[new Ct(0,0),new Ct(At,At)],E=w.projection,I=E.name==="globe",S=this.wallMode||gy[n.type]==="Polygon",A=new Kw;A.centroidDataIndex=this.centroidData.length;const k=new Xw,B=this.layers[0].paint.get("fill-extrusion-base").evaluate(n,{},g)<=0,N=this.layers[0].paint.get("fill-extrusion-height").evaluate(n,{},g);let $;if(k.height=N,k.vertexArrayOffset=this.layoutVertexArray.length,k.groundVertexArrayOffset=this.groundEffect.vertexArray.length,I&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new _d),this.wallMode){if(I)return void yi("Non zero fill-extrusion-line-width is not yet supported on globe.");if(o.length!==1)return;$=function(oe){const Me=oe[0].x===oe[oe.length-1].x&&oe[0].y===oe[oe.length-1].y;(function(Pt){let ot=0;const Ut=Pt.length;for(let Et=0;Et<Ut;Et++)ot+=(Pt[(Et+1)%Ut].x-Pt[Et].x)*(Pt[(Et+1)%Ut].y+Pt[Et].y);return ot>=0})(oe)||(oe=oe.reverse());const Te={geometry:[],joinNormals:[],indices:[]},Pe=[],Ae=[],ke=[];let Ve=oe.length;for(;Ve>=2&&oe[Ve-1].equals(oe[Ve-2]);)Ve--;if(Ve<(Me?3:2))return Te;let He,Be,Ke,ft,Qe,St=0;for(;St<Ve-1&&oe[St].equals(oe[St+1]);)St++;Me&&(He=oe[Ve-2],Qe=oe[St].sub(He)._unit()._perp());for(let Pt=St;Pt<Ve;Pt++){if(Ke=Pt===Ve-1?Me?oe[St+1]:void 0:oe[Pt+1],Ke&&oe[Pt].equals(Ke))continue;Qe&&(ft=Qe),He&&(Be=He),He=oe[Pt],Qe=Ke?Ke.sub(He)._unit()._perp():ft,ft=ft||Qe;let ot=ft.add(Qe);ot.x===0&&ot.y===0||ot._unit();const Ut=ot.x*Qe.x+ot.y*Qe.y,Et=Ut!==0?1/Ut:1/0,Ht=ft.x*Qe.y-ft.y*Qe.x>0;let Xt="miter";const di=2;Xt==="miter"&&Et>di&&(Xt="bevel"),Xt==="bevel"&&(Et>100&&(Xt="flipbevel"),Et<di&&(Xt="miter"));const fi=(bi,mi,Ti,ln)=>{const tn=new Ct(bi.x,bi.y),oi=new Ct(bi.x,bi.y);tn.x+=mi.x*ln,tn.y+=mi.y*ln,oi.x-=mi.x*Math.max(Ti,1),oi.y-=mi.y*Math.max(Ti,1),ke.push(mi),Pe.push(tn),Ae.push(oi)};if(Xt==="miter")ot._mult(Et),fi(He,ot,0,0);else if(Xt==="flipbevel")ot=Qe.mult(-1),fi(He,ot,0,0),fi(He,ot.mult(-1),0,0);else{const bi=-Math.sqrt(Et*Et-1),mi=Ht?bi:0,Ti=Ht?0:bi;Be&&fi(He,ft,mi,Ti),Ke&&fi(He,Qe,mi,Ti)}}Te.geometry=[...Pe,...Ae.reverse(),Pe[0]],Te.joinNormals=[...ke,...ke.reverse(),ke[ke.length-1]];const Mt=Te.geometry.length-1;for(let Pt=0;Pt<Mt/2;Pt++)if(Pt+1<Mt/2){let ot=Pt,Ut=Pt+1,Et=Mt-1-Pt,Ht=Mt-2-Pt;ot=ot===0?Mt-1:ot-1,Ut=Ut===0?Mt-1:Ut-1,Et=Et===0?Mt-1:Et-1,Ht=Ht===0?Mt-1:Ht-1,Te.indices.push(Et),Te.indices.push(Ut),Te.indices.push(ot),Te.indices.push(Et),Te.indices.push(Ht),Te.indices.push(Ut)}return Te}(o[0]),o=[$.geometry]}const W=(oe,Me)=>oe<(Me.length-1)/2||oe===Me.length-1,j=this.wallMode?[o]:F0(o,500);for(let oe=j.length-1;oe>=0;oe--){const Me=j[oe];(Me.length===0||(Y=Me[0]).every(pe=>pe.x<=0)||Y.every(pe=>pe.x>=At)||Y.every(pe=>pe.y<=0)||Y.every(pe=>pe.y>=At))&&j.splice(oe,1)}var Y;let K;if(I)K=aM(j,b,g);else{K=[];for(const oe of j)K.push({polygon:oe,bounds:b})}const te=S?this.edgeRadius:0,ue=te>0&&this.zoom<17,ce=(oe,Me)=>{if(oe.length===0)return!1;const pe=oe[oe.length-1];return Me.x===pe.x&&Me.y===pe.y};for(const{polygon:oe,bounds:Me}of K){let pe=0,Te=0;for(const Ve of oe)S&&!Ve[0].equals(Ve[Ve.length-1])&&Ve.push(Ve[0]),Te+=S?Ve.length-1:Ve.length;const Pe=this.segments.prepareSegment((S?5:4)*Te,this.layoutVertexArray,this.indexArray);k.footprintSegIdx<0&&(k.footprintSegIdx=this.footprintSegments.length),k.polygonSegIdx<0&&(k.polygonSegIdx=this.polygonSegments.length);const Ae={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},ke=new Yw;if(ke.vertexOffset=this.footprintVertices.length,ke.indexOffset=3*this.footprintIndices.length,ke.ringIndices=[],S){const Ve=[],He=[];pe=Pe.vertexLength;for(let Ke=0;Ke<oe.length;Ke++){const ft=oe[Ke];ft.length&&Ke!==0&&He.push(Ve.length/2);const Qe=[];let St,Mt;St=ft[1].sub(ft[0])._perp()._unit(),ke.ringIndices.push(ft.length-1);for(let Pt=1;Pt<ft.length;Pt++){const ot=ft[Pt],Ut=ft[Pt===ft.length-1?1:Pt+1],Et=ot.clone();if(te){Mt=Ut.sub(ot)._perp()._unit();const Ht=St.add(Mt)._unit(),Xt=te*Math.min(4,1/(St.x*Ht.x+St.y*Ht.y));Et.x+=Xt*Ht.x,Et.y+=Xt*Ht.y,Et.x=Math.round(Et.x),Et.y=Math.round(Et.y),St=Mt}if(!B||te!==0&&!ue||ce(Qe,Et)||Qe.push(Et),jf(this.layoutVertexArray,Et.x,Et.y,0,0,1,1,0),this.wallMode){const Ht=W(Pt,ft);qf(this.wallVertexArray,$.joinNormals[Pt],!Ht)}Pe.vertexLength++,this.footprintVertices.emplaceBack(ot.x,ot.y),Ve.push(ot.x,ot.y),I&&$f(this.layoutVertexExtArray,E.projectTilePoint(Et.x,Et.y,g),E.upVector(g,Et.x,Et.y))}B&&(te===0||ue)&&(Qe.length!==0&&ce(Qe,Qe[0])&&Qe.pop(),this.groundEffect.addData(Qe,Me,D))}const Be=this.wallMode?$.indices:Nf(Ve,He);for(let Ke=0;Ke<Be.length;Ke+=3)this.footprintIndices.emplaceBack(ke.vertexOffset+Be[Ke+0],ke.vertexOffset+Be[Ke+1],ke.vertexOffset+Be[Ke+2]),this.indexArray.emplaceBack(pe+Be[Ke],pe+Be[Ke+2],pe+Be[Ke+1]),Pe.primitiveLength++;ke.indexCount+=Be.length,ke.vertexCount+=this.footprintVertices.length-ke.vertexOffset}for(let Ve=0;Ve<oe.length;Ve++){const He=oe[Ve];A.startRing(k,He[0]);let Be=He.length>4&&nM(He[He.length-2],He[0],He[1]),Ke=te?tD(He[He.length-2],He[0],He[1],te):0;const ft=[];let Qe,St,Mt;St=He[1].sub(He[0])._perp()._unit();let Pt=!0;for(let ot=1,Ut=0;ot<He.length;ot++){let Et=He[ot-1],Ht=He[ot];const Xt=He[ot===He.length-1?1:ot+1];if(A.appendEdge(k,Ht,Et),_y(Ht,Et,Me)){te&&(St=Xt.sub(Ht)._perp()._unit(),Pt=!Pt);continue}const di=Ht.sub(Et)._perp(),fi=di.x/(Math.abs(di.x)+Math.abs(di.y)),bi=di.y>0?1:0,mi=Et.dist(Ht);if(Ut+mi>32768&&(Ut=0),te){Mt=Xt.sub(Ht)._perp()._unit();let oi=tM(Et,Ht,Xt,eM(St,Mt),te);isNaN(oi)&&(oi=0);const nn=Ht.sub(Et)._unit();Et=Et.add(nn.mult(Ke))._round(),Ht=Ht.add(nn.mult(-oi))._round(),Ke=oi,St=Mt,B&&this.zoom>=17&&(ce(ft,Et)||ft.push(Et),ce(ft,Ht)||ft.push(Ht))}const Ti=Pe.vertexLength,ln=He.length>4&&nM(Et,Ht,Xt);let tn=rM(Ut,Be,Pt);if(jf(this.layoutVertexArray,Et.x,Et.y,fi,bi,0,0,tn),jf(this.layoutVertexArray,Et.x,Et.y,fi,bi,0,1,tn),this.wallMode){const oi=W(ot-1,He),nn=$.joinNormals[ot-1];qf(this.wallVertexArray,nn,oi),qf(this.wallVertexArray,nn,oi)}if(Ut+=mi,tn=rM(Ut,ln,!Pt),Be=ln,jf(this.layoutVertexArray,Ht.x,Ht.y,fi,bi,0,0,tn),jf(this.layoutVertexArray,Ht.x,Ht.y,fi,bi,0,1,tn),this.wallMode){const oi=W(ot,He),nn=$.joinNormals[ot];qf(this.wallVertexArray,nn,oi),qf(this.wallVertexArray,nn,oi)}if(Pe.vertexLength+=4,this.indexArray.emplaceBack(Ti+0,Ti+1,Ti+2),this.indexArray.emplaceBack(Ti+1,Ti+3,Ti+2),Pe.primitiveLength+=2,te){const oi=pe+(ot===1?He.length-2:ot-2),nn=ot===1?pe:oi+1;if(this.indexArray.emplaceBack(Ti+1,oi,Ti+3),this.indexArray.emplaceBack(oi,nn,Ti+3),Pe.primitiveLength+=2,Qe===void 0&&(Qe=Ti),!_y(Xt,He[ot],Me)){const Xi=ot===He.length-1?Qe:Pe.vertexLength;this.indexArray.emplaceBack(Ti+2,Ti+3,Xi),this.indexArray.emplaceBack(Ti+3,Xi+1,Xi),this.indexArray.emplaceBack(Ti+3,nn,Xi+1),Pe.primitiveLength+=3}Pt=!Pt}if(I){const oi=this.layoutVertexExtArray,nn=E.projectTilePoint(Et.x,Et.y,g),Xi=E.projectTilePoint(Ht.x,Ht.y,g),cn=E.upVector(g,Et.x,Et.y),tr=E.upVector(g,Ht.x,Ht.y);$f(oi,nn,cn),$f(oi,nn,cn),$f(oi,Xi,tr),$f(oi,Xi,tr)}}S&&(pe+=He.length-1),B&&te&&this.zoom>=17&&(ft.length!==0&&ce(ft,ft[0])&&ft.pop(),this.groundEffect.addData(ft,Me,D,te>0))}this.footprintSegments.push(ke),Ae.triangleCount=this.indexArray.length-Ae.triangleArrayOffset,this.polygonSegments.push(Ae),++k.footprintSegLen,++k.polygonSegLen}if(k.vertexCount=this.layoutVertexArray.length-k.vertexArrayOffset,k.groundVertexCount=this.groundEffect.vertexArray.length-k.groundVertexArrayOffset,k.vertexCount!==0){if(k.centroidXY=A.borders?Zw:this.encodeCentroid(A,k),this.centroidData.push(k),A.borders){this.featuresOnBorder.push(A);const oe=this.featuresOnBorder.length-1;for(let Me=0;Me<A.borders.length;Me++)A.borders[Me][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Me].push(oe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,d,_,g,T),this.groundEffect.addPaintPropertiesData(n,u,d,_,g,T),this.maxHeight=Math.max(this.maxHeight,N)}}sortBorders(){for(let n=0;n<this.borderFeatureIndices.length;n++)this.borderFeatureIndices[n].sort((o,u)=>this.featuresOnBorder[o].borders[n][0]-this.featuresOnBorder[u].borders[n][0])}splitToSubtiles(){const n=[];for(let w=0;w<this.centroidData.length;w++){const T=this.centroidData[w],D=+(T.min.y+T.max.y>At),b=2*D+(+(T.min.x+T.max.x>At)^D);for(let E=0;E<T.polygonSegLen;E++){const I=T.polygonSegIdx+E;n.push({centroidIdx:w,subtile:b,polygonSegmentIdx:I,triangleSegmentIdx:this.polygonSegments[I].triangleSegIdx})}}const o=new Fr;n.sort((w,T)=>w.triangleSegmentIdx===T.triangleSegmentIdx?w.subtile-T.subtile:w.triangleSegmentIdx-T.triangleSegmentIdx);let u=0,g=0,d=0;for(const w of n){if(w.triangleSegmentIdx!==u)break;d++}const _=n.length;for(;g!==n.length;){u=n[g].triangleSegmentIdx;let w=0,T=g,D=g;for(let b=T;b<d&&n[b].subtile===w;b++)D++;for(;T!==d;){const b=n[T];w=b.subtile;const E=this.centroidData[b.centroidIdx].min.clone(),I=this.centroidData[b.centroidIdx].max.clone(),S={vertexOffset:this.segments.segments[u].vertexOffset,primitiveOffset:o.length,vertexLength:this.segments.segments[u].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let A=T;A<D;A++){const k=n[A],B=this.polygonSegments[k.polygonSegmentIdx],N=this.centroidData[k.centroidIdx].min,$=this.centroidData[k.centroidIdx].max,W=this.indexArray.uint16;for(let j=B.triangleArrayOffset;j<B.triangleArrayOffset+B.triangleCount;j++)o.emplaceBack(W[3*j],W[3*j+1],W[3*j+2]);S.primitiveLength+=B.triangleCount,E.x=Math.min(E.x,N.x),E.y=Math.min(E.y,N.y),I.x=Math.max(I.x,$.x),I.y=Math.max(I.y,$.y)}S.primitiveLength>0&&this.triangleSubSegments.push({segment:S,min:E,max:I}),T=D;for(let A=T;A<d&&n[A].subtile===n[T].subtile;A++)D++}g=d;for(let b=g;b<_&&n[b].triangleSegmentIdx===n[g].triangleSegmentIdx;b++)d++}o._trim(),this.indexArray=o}getVisibleSegments(n,o,u){const g=new Un;if(this.wallMode){for(const k of this.triangleSubSegments)g.segments.push(k.segment);return g}let d=0,_=0;const w=1<<n.canonical.z;if(o){const k=o.getMinMaxForTile(n);k&&(d=k.min,_=k.max)}_+=this.maxHeight;const T=n.toUnwrapped();let D;const b=[T.canonical.x/w+T.wrap,T.canonical.y/w],E=[(T.canonical.x+1)/w+T.wrap,(T.canonical.y+1)/w],I=(k,B,N)=>[k[0]*(1-N[0])+B[0]*N[0],k[1]*(1-N[1])+B[1]*N[1]],S=[],A=[];for(const k of this.triangleSubSegments){S[0]=k.min.x/At,S[1]=k.min.y/At,A[0]=k.max.x/At,A[1]=k.max.y/At;const B=I(b,E,S),N=I(b,E,A);if(new Yt([B[0],B[1],d],[N[0],N[1],_]).intersectsPrecise(u)===0){D&&(g.segments.push(D),D=void 0);continue}const $=k.segment;D&&D.vertexOffset!==$.vertexOffset&&(g.segments.push(D),D=void 0),D?(D.vertexLength+=$.vertexLength,D.primitiveLength+=$.primitiveLength):D={vertexOffset:$.vertexOffset,primitiveLength:$.primitiveLength,vertexLength:$.vertexLength,primitiveOffset:$.primitiveOffset,sortKey:void 0,vaos:{}}}return D&&g.segments.push(D),g}encodeCentroid(n,o){const u=n.centroid(),g=o.span(),d=Math.min(7,Math.round(g.x*this.tileToMeter/10)),_=Math.min(7,Math.round(g.y*this.tileToMeter/10));return new Ct(li(u.x,1,At-1)<<3|d,li(u.y,1,At-1)<<3|_)}encodeBorderCentroid(n){if(!n.borders)return new Ct(0,0);const o=n.borders,u=Number.MAX_VALUE;if(o[0][0]!==u||o[1][0]!==u){const g=o[0][0]!==u?0:1;return new Ct(6|(o[0][0]!==u?0:65528),(o[g][0]+o[g][1])/2<<3|6)}{const g=o[2][0]!==u?2:3;return new Ct((o[g][0]+o[g][1])/2<<3|6,6|(o[2][0]!==u?0:65528))}}showCentroid(n){const o=this.centroidData[n.centroidDataIndex];o.flags&=mc,o.centroidXY.x=0,o.centroidXY.y=0,this.writeCentroidToBuffer(o)}writeCentroidToBuffer(n){this.groundEffect.updateHiddenByLandmark(n);const o=n.vertexArrayOffset,u=n.vertexCount+n.vertexArrayOffset,g=n.flags&mc?Zw:n.centroidXY,d=this.centroidVertexArray.geta_centroid_pos0(o);if(this.centroidVertexArray.geta_centroid_pos1(o)!==g.y||d!==g.x){for(let _=o;_<u;++_)this.centroidVertexArray.emplace(_,g.x,g.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const n of this.centroidData)this.writeCentroidToBuffer(n)}updateReplacement(n,o,u){if(o.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=o.updateTime;const g=o.getReplacementRegionsForTile(n.toUnwrapped());if(fy(this.activeReplacements,g))return;if(this.activeReplacements=g,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const _ of this.centroidData)_.flags&=2147483647;const d=[];for(const _ of this.activeReplacements){if(_.order<u)continue;const w=Math.max(1,Math.pow(2,_.footprintTileId.canonical.z-n.canonical.z));for(const T of this.centroidData)if(!(T.flags&mc||_.min.x>T.max.x||T.min.x>_.max.x||_.min.y>T.max.y||T.min.y>_.max.y))for(let D=0;D<T.footprintSegLen;D++){const b=this.footprintSegments[T.footprintSegIdx+D];if(d.length=0,iD(this.footprintVertices,b.vertexOffset,b.vertexCount,_.footprintTileId.canonical,n.canonical,d),jw(_.footprint,d,this.footprintIndices.uint16,b.indexOffset,b.indexCount,-b.vertexOffset,-w)){T.flags|=mc;break}}}for(const _ of this.centroidData)this.writeCentroidToBuffer(_);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(n,o,u){let g=!1;for(let d=0;d<u.footprintSegLen;d++){const _=this.footprintSegments[u.footprintSegIdx+d];let w=0;for(const T of _.ringIndices){for(let D=w,b=T+w-1;D<T+w;b=D++){const E=this.footprintVertices.int16[2*(D+_.vertexOffset)+0],I=this.footprintVertices.int16[2*(D+_.vertexOffset)+1],S=this.footprintVertices.int16[2*(b+_.vertexOffset)+1];I>o!=S>o&&n<(this.footprintVertices.int16[2*(b+_.vertexOffset)+0]-E)*(o-I)/(S-I)+E&&(g=!g)}w=T}}return g}getHeightAtTileCoord(n,o){let u=Number.NEGATIVE_INFINITY,g=!0;const d=4*(n+At)*At+(o+At);if(this.partLookup.hasOwnProperty(d)){const _=this.partLookup[d];return _?{height:_.height,hidden:!!(_.flags&mc)}:void 0}for(const _ of this.centroidData)n>_.max.x||_.min.x>n||o>_.max.y||_.min.y>o||this.footprintContainsPoint(n,o,_)&&_&&_.height>u&&(u=_.height,this.partLookup[d]=_,g=!!(_.flags&mc));if(u!==Number.NEGATIVE_INFINITY)return{height:u,hidden:g};this.partLookup[d]=void 0}}function eM(h,n){const o=h.add(n)._unit();return h.x*o.x+h.y*o.y}function tD(h,n,o,u){const g=n.sub(h)._perp()._unit(),d=o.sub(n)._perp()._unit();return tM(h,n,o,eM(g,d),u)}function tM(h,n,o,u,g){const d=Math.sqrt(1-u*u);return Math.min(h.dist(n)/3,n.dist(o)/3,g*d/u)}function _y(h,n,o){return h.x<o[0].x&&n.x<o[0].x||h.x>o[1].x&&n.x>o[1].x||h.y<o[0].y&&n.y<o[0].y||h.y>o[1].y&&n.y>o[1].y}function iM(h,n){return h.x<n[0].x||h.x>n[1].x||h.y<n[0].y||h.y>n[1].y}function nM(h,n,o){if(h.x<0||h.x>=At||n.x<0||n.x>=At||o.x<0||o.x>=At)return!1;const u=o.sub(n),g=u.perp(),d=h.sub(n);return(u.x*d.x+u.y*d.y)/Math.sqrt((u.x*u.x+u.y*u.y)*(d.x*d.x+d.y*d.y))>-.866&&g.x*d.x+g.y*d.y<0}function rM(h,n,o){const u=n?2|h:-3&h;return o?1|u:-2&u}function sM(){const h=Math.PI/32,n=Math.tan(h),o=pc;return o*Math.sqrt(1+2*n*n)-o}function aM(h,n,o){const u=1<<o.z,g=fs(o.x/u),d=fs((o.x+1)/u),_=Er(o.y/u),w=Er((o.y+1)/u);return function(T,D,b,E,I=0,S){const A=[];if(!T.length||!b||!E)return A;const k=(K,te)=>{for(const ue of K)A.push({polygon:ue,bounds:te})},B=Math.ceil(Math.log2(b)),N=Math.ceil(Math.log2(E)),$=B-N,W=[];for(let K=0;K<Math.abs($);K++)W.push($>0?0:1);for(let K=0;K<Math.min(B,N);K++)W.push(0),W.push(1);let j=T;if(j=N0(j,D[0].y-I,D[1].y+I,1),j=N0(j,D[0].x-I,D[1].x+I,0),!j.length)return A;const Y=[];for(W.length?Y.push({polygons:j,bounds:D,depth:0}):k(j,D);Y.length;){const K=Y.pop(),te=K.depth,ue=W[te],ce=K.bounds[0],oe=K.bounds[1],Me=ue===0?ce.x:ce.y,pe=ue===0?oe.x:oe.y,Te=S(ue,Me,pe),Pe=N0(K.polygons,Me-I,Te+I,ue),Ae=N0(K.polygons,Te-I,pe+I,ue);if(Pe.length){const ke=[ce,new Ct(ue===0?Te:oe.x,ue===1?Te:oe.y)];W.length>te+1?Y.push({polygons:Pe,bounds:ke,depth:te+1}):k(Pe,ke)}if(Ae.length){const ke=[new Ct(ue===0?Te:ce.x,ue===1?Te:ce.y),oe];W.length>te+1?Y.push({polygons:Ae,bounds:ke,depth:te+1}):k(Ae,ke)}}return A}(h,n,Math.ceil((d-g)/11.25),Math.ceil((_-w)/11.25),1,(T,D,b)=>{if(T===0)return .5*(D+b);{const E=Er((o.y+D/At)/u);return(to(.5*(Er((o.y+b/At)/u)+E))*u-o.y)*At}})}function iD(h,n,o,u,g,d){const _=Math.pow(2,u.z-g.z);for(let w=0;w<o;w++){let T=h.int16[2*(w+n)+0],D=h.int16[2*(w+n)+1];T=(T+g.x*At)*_-u.x*At,D=(D+g.y*At)*_-u.y*At,d.push(new Ct(T,D))}}let oM,lM;function Gf(h,n){return h.x*n.x+h.y*n.y}function cM(h,n){if(h.length===1){let o=0;const u=n[o++];let g;for(;!g||u.equals(g);)if(g=n[o++],!g)return 1/0;for(;o<n.length;o++){const d=n[o],_=h[0],w=g.sub(u),T=d.sub(u),D=_.sub(u),b=Gf(w,w),E=Gf(w,T),I=Gf(T,T),S=Gf(D,w),A=Gf(D,T),k=b*I-E*E,B=(I*S-E*A)/k,N=(b*A-E*S)/k,$=u.z*(1-B-N)+g.z*B+d.z*N;if(isFinite($))return $}return 1/0}{let o=1/0;for(const u of n)o=Math.min(o,u.z);return o}}function hM(h,n,o,u,g,d,_,w){const T=_*g.getElevationAt(h,n,!0,!0),D=d[0]!==0,b=D?d[1]===0?_*(d[0]/7-450):_*function(E,I,S){const A=Math.floor(I[0]/8),k=Math.floor(I[1]/8),B=10*(I[0]-8*A),N=10*(I[1]-8*k),$=E.getElevationAt(A,k,!0,!0),W=E.getMeterToDEM(S),j=Math.floor(.5*(B*W-1)),Y=Math.floor(.5*(N*W-1)),K=E.tileCoordToPixel(A,k),te=2*j+1,ue=2*Y+1,ce=function(Ae,ke,Ve,He,Be){return[Ae.getElevationAtPixel(ke,Ve,!0),Ae.getElevationAtPixel(ke+Be,Ve,!0),Ae.getElevationAtPixel(ke,Ve+Be,!0),Ae.getElevationAtPixel(ke+He,Ve+Be,!0)]}(E,K.x-j,K.y-Y,te,ue),oe=Math.abs(ce[0]-ce[1]),Me=Math.abs(ce[2]-ce[3]),pe=Math.abs(ce[0]-ce[2])+Math.abs(ce[1]-ce[3]),Te=Math.min(.25,.5*W*(oe+Me)/te),Pe=Math.min(.25,.5*W*pe/ue);return $+Math.max(Te*B,Pe*N)}(g,d,w):T;return{base:T+(o===0?-1:o),top:D?Math.max(b+u,T+o+2):T+u}}Nt(j0,"FillExtrusionBucket",{omit:["layers","features"]}),Nt(Xw,"PartData"),Nt(Yw,"FootprintSegment"),Nt(Kw,"BorderCentroidData"),Nt(Qw,"GroundEffect");const nD=Hi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),rD=Hi([{name:"a_z_offset_width",components:2,type:"Float32"}],4),{members:sD}=nD,aD=Hi([{name:"a_packed",components:4,type:"Float32"}]),{members:oD}=aD,lD=Hi([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:cD}=lD;class uM{constructor(n,o){this.width=n,this.height=o,this.nextRow=0,this.image=new fc({width:n,height:o}),this.positions={},this.uploaded=!1}getDash(n,o){const u=this.getKey(n,o);return this.positions[u]}trim(){const n=this.width,o=this.height=Go(this.nextRow);this.image.resize({width:n,height:o})}getKey(n,o){return n.join(",")+o}getDashRanges(n,o,u){const g=[];let d=n.length%2==1?-n[n.length-1]*u:0,_=n[0]*u,w=!0;g.push({left:d,right:_,isDash:w,zeroLength:n[0]===0});let T=n[0];for(let D=1;D<n.length;D++){w=!w;const b=n[D];d=T*u,T+=b,_=T*u,g.push({left:d,right:_,isDash:w,zeroLength:b===0})}return g}addRoundDash(n,o,u){const g=o/2;for(let d=-u;d<=u;d++){const _=this.width*(this.nextRow+u+d);let w=0,T=n[w];for(let D=0;D<this.width;D++){D/T.right>1&&(T=n[++w]);const b=Math.abs(D-T.left),E=Math.abs(D-T.right),I=Math.min(b,E);let S;const A=d/u*(g+1);if(T.isDash){const k=g-Math.abs(A);S=Math.sqrt(I*I+k*k)}else S=g-Math.sqrt(I*I+A*A);this.image.data[_+D]=Math.max(0,Math.min(255,S+128))}}}addRegularDash(n,o){for(let T=n.length-1;T>=0;--T){const D=n[T],b=n[T+1];D.zeroLength?n.splice(T,1):b&&b.isDash===D.isDash&&(b.left=D.left,n.splice(T,1))}const u=n[0],g=n[n.length-1];u.isDash===g.isDash&&(u.left=g.left-this.width,g.right=u.right+this.width);const d=this.width*this.nextRow;let _=0,w=n[_];for(let T=0;T<this.width;T++){T/w.right>1&&(w=n[++_]);const D=Math.abs(T-w.left),b=Math.abs(T-w.right),E=Math.min(D,b);this.image.data[d+T]=Math.max(0,Math.min(255,(w.isDash?E:-E)+o+128))}}addDash(n,o){const u=this.getKey(n,o);if(this.positions[u])return this.positions[u];const g=o==="round",d=g?7:0,_=2*d+1;if(this.nextRow+_>this.height)return yi("LineAtlas out of space"),null;n.length===0&&n.push(1);let w=0;for(let b=0;b<n.length;b++)n[b]<0&&(yi("Negative value is found in line dasharray, replacing values with 0"),n[b]=0),w+=n[b];if(w!==0){const b=this.width/w,E=this.getDashRanges(n,this.width,b);g?this.addRoundDash(E,b,d):this.addRegularDash(E,o==="square"?.5*b:0)}const T=this.nextRow+d;this.nextRow+=_;const D={tl:[T,d],br:[w,0]};return this.positions[u]=D,D}}Nt(uM,"LineAtlas");const hD=kd.VectorTileFeature.types,uD=Math.cos(Math.PI/180*37.5),dD=Math.cos(Math.PI/180*5);class yy{constructor(n){this.evaluationGlobals={zoom:0,lineProgress:void 0},this.zoom=n.zoom,this.evaluationGlobals.zoom=this.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.fqid),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.hasZOffset=!1,this.hasCrossSlope=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new Bs,this.layoutVertexArray2=new wo,this.patternVertexArray=new Ja,this.indexArray=new Fr,this.programConfigurations=new Eo(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new Un,this.maxLineLength=0,this.zOffsetVertexArray=new ul,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.tessellationStep=n.tessellationStep?n.tessellationStep:At/64}updateFootprints(n,o){}populate(n,o,u,g){this.hasPattern=ay("line",this.layers,o);const d=this.layers[0].layout.get("line-sort-key");this.tileToMeter=l(u),this.hasZOffset=!this.layers[0].isDraped();const _=this.layers[0].layout.get("line-elevation-reference");this.hasZOffset&&_==="none"&&yi(`line-elevation-reference: ground is used for the layer ${this.layerIds[0]} because non-zero line-z-offset value was found.`);const w=this.layers[0].layout.get("line-cross-slope");this.hasCrossSlope=this.hasZOffset&&w!==void 0;const T=[];for(const{feature:I,id:S,index:A,sourceLayerIndex:k}of n){const B=this.layers[0]._featureFilter.needGeometry,N=U(I,B);if(!this.layers[0]._featureFilter.filter(new yn(this.zoom),N,u))continue;const $=d?d.evaluate(N,{},u):void 0,W={id:S,properties:I.properties,type:I.type,sourceLayerIndex:k,index:A,geometry:B?N.geometry:H(I,u,g),patterns:{},sortKey:$};T.push(W)}d&&T.sort((I,S)=>I.sortKey-S.sortKey);const{lineAtlas:D,featureIndex:b}=o,E=this.addConstantDashes(D);for(const I of T){const{geometry:S,index:A,sourceLayerIndex:k}=I;if(E&&this.addFeatureDashes(I,D),this.hasPattern){const B=oy("line",this.layers,I,this.zoom,o);this.patternFeatures.push(B)}else this.addFeature(I,S,A,u,D.positions,o.availableImages,o.brightness);b.insert(n[A].feature,S,A,k,this.index)}}addConstantDashes(n){let o=!1;for(const u of this.layers){const g=u.paint.get("line-dasharray").value,d=u.layout.get("line-cap").value;if(g.kind!=="constant"||d.kind!=="constant")o=!0;else{const _=d.value,w=g.value;if(!w)continue;n.addDash(w,_)}}return o}addFeatureDashes(n,o){const u=this.zoom;for(const g of this.layers){const d=g.paint.get("line-dasharray").value,_=g.layout.get("line-cap").value;if(d.kind==="constant"&&_.kind==="constant")continue;let w,T;if(d.kind==="constant"){if(w=d.value,!w)continue}else w=d.evaluate({zoom:u},n);T=_.kind==="constant"?_.value:_.evaluate({zoom:u},n),o.addDash(w,T),n.patterns[g.id]=o.getKey(w,T)}}update(n,o,u,g,d,_,w){this.programConfigurations.updatePaintArrays(n,o,d,u,g,_,w)}addFeatures(n,o,u,g,d,_){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,o,u,g,_)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,oD)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=n.createVertexBuffer(this.patternVertexArray,cD)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,rD.members,!0)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,sD),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,o,u,g,d,_,w){const T=this.layers[0].layout,D=T.get("line-join").evaluate(n,{}),b=T.get("line-cap").evaluate(n,{}),E=T.get("line-miter-limit"),I=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(n),this.lineFeature=n,this.zOffsetValue=T.get("line-z-offset").value;const S=this.layers[0].paint.get("line-width").value;S.kind!=="constant"&&S.isLineProgressConstant===!1&&(this.variableWidthValue=S);for(const A of o)this.addLine(A,n,g,D,b,E,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,d,_,g,w)}addLine(n,o,u,g,d,_,w){this.distance=0,this.prevDistance=0,this.scaledDistance=0,this.totalDistance=0,this.totalFeatureLength=0,this.lineSoFar=0,this.currentVertex=void 0;const T=g==="none";if(this.patternJoinNone=this.hasPattern&&T,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let W=0;W<n.length-1;W++)this.totalDistance+=n[W].dist(n[W+1]);this.totalFeatureLength=this.totalDistance/(this.lineClips.end-this.lineClips.start),this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const D=hD[o.type]==="Polygon";let b=n.length;for(;b>=2&&n[b-1].equals(n[b-2]);)b--;let E=0;for(;E<b-1&&n[E].equals(n[E+1]);)E++;if(b<(D?3:2))return;g==="bevel"&&(_=1.05);const I=this.segments.prepareSegment(10*b,this.layoutVertexArray,this.indexArray);let S,A,k,B,N,$;this.e1=this.e2=-1,D&&(S=n[b-2],N=n[E].sub(S)._unit()._perp());for(let W=E;W<b;W++){if(k=W===b-1?D?n[E+1]:void 0:n[W+1],k&&n[W].equals(k))continue;N&&(B=N),S&&(A=S),S=n[W],$=this.evaluateLineProgressFeatures(A?A.dist(S):0),N=k?k.sub(S)._unit()._perp():B,B=B||N;const j=A&&k;let Y=j?g:D||T?"butt":d;const K=B.x*N.x+B.y*N.y;if(T){const Pe=function(Ae){if(Ae.patternJoinNone){const ke=Ae.segmentPoints.length/2,Ve=Ae.lineSoFar-Ae.segmentStart;for(let He=0;He<ke;++He){const Be=Ae.segmentPoints[2*He+1],Ke=Math.round(Ae.segmentPoints[2*He])+.5+.25*Be;Ae.patternVertexArray.emplaceBack(Ke,Ve,Ae.segmentStart),Ae.patternVertexArray.emplaceBack(Ke,Ve,Ae.segmentStart)}Ae.segmentPoints.length=0}Ae.e1=Ae.e2=-1};if(j&&K<dD){this.updateDistance(A,S),this.addCurrentVertex(S,B,1,1,I,$),Pe(this),this.addCurrentVertex(S,N,-1,-1,I,$);continue}if(A){if(!k){this.updateDistance(A,S),this.addCurrentVertex(S,B,1,1,I,$),Pe(this);continue}Y="miter"}}let te=B.add(N);te.x===0&&te.y===0||te._unit();const ue=te.x*N.x+te.y*N.y,ce=ue!==0?1/ue:1/0,oe=2*Math.sqrt(2-2*ue),Me=ue<uD&&A&&k,pe=B.x*N.y-B.y*N.x>0,Te=this.overscaling<=16?15*At/(512*this.overscaling):0;if(j&&Y==="round"){if(ce<w)Y="miter";else if(ce<=2){const Pe=vy(S,-10,At+10);Y=this.hasZOffset&&(Pe||this.hasCrossSlope)?"miter":"fakeround"}}if(Y==="miter"&&ce>_&&(Y="bevel"),Y==="bevel"&&(ce>2&&(Y="flipbevel"),ce<_&&(Y="miter")),A&&!(Y==="miter"&&Me)&&this.updateDistance(A,S),Y==="miter")if(Me){const Pe=S.dist(A);if(Pe>2*Te){const ke=S.sub(S.sub(A)._mult(Te/Pe)._round());this.updateDistance(A,ke),this.addCurrentVertex(ke,B,0,0,I,$),A=ke}this.updateDistance(A,S),te._mult(ce),this.addCurrentVertex(S,te,0,0,I,$);const Ae=S.dist(k);if(Ae>2*Te){const ke=S.add(k.sub(S)._mult(Te/Ae)._round());this.updateDistance(S,ke),this.addCurrentVertex(ke,N,0,0,I,$),S=ke}}else te._mult(ce),this.addCurrentVertex(S,te,0,0,I,$);else if(Y==="flipbevel"){if(ce>100)te=N.mult(-1);else{const Pe=ce*B.add(N).mag()/B.sub(N).mag();te._perp()._mult(Pe*(pe?-1:1))}this.addCurrentVertex(S,te,0,0,I,$),this.addCurrentVertex(S,te.mult(-1),0,0,I,$)}else if(Y==="bevel"||Y==="fakeround"){$!=null&&A&&this.addCurrentVertex(S,B,-1,-1,I,$);const Pe=S.dist(A)<=2*Te&&Y!=="bevel",Ae=te.mult(pe?1:-1);Ae._mult(ce);const ke=N.mult(pe?-1:1),Ve=B.mult(pe?-1:1),He=this.evaluateLineProgressFeatures(this.distance);if($==null&&(this.addHalfVertex(S,Ae.x,Ae.y,!1,!pe,0,I,He),Pe||this.addHalfVertex(S,Ae.x+2*Ve.x,Ae.y+2*Ve.y,!1,pe,0,I,He)),Y==="fakeround"){const Be=Math.round(180*oe/Math.PI/20);this.addHalfVertex(S,Ve.x,Ve.y,!1,pe,0,I,He);for(let Ke=0;Ke<Be;Ke++){let ft=Ke/Be;if(ft!==.5){const St=ft-.5;ft+=ft*St*(ft-1)*((1.0904+K*(K*(3.55645-1.43519*K)-3.2452))*St*St+(.848013+K*(.215638*K-1.06021)))}const Qe=ke.sub(Ve)._mult(ft)._add(Ve)._unit();this.addHalfVertex(S,Qe.x,Qe.y,!1,pe,0,I,He)}this.addHalfVertex(S,ke.x,ke.y,!1,pe,0,I,He)}Pe||$!=null||this.addHalfVertex(S,Ae.x+2*ke.x,Ae.y+2*ke.y,!1,pe,0,I,He),$!=null&&k&&this.addCurrentVertex(S,N,1,1,I,$)}else Y==="butt"?this.addCurrentVertex(S,te,0,0,I,$):Y==="square"?(A||this.addCurrentVertex(S,te,-1,-1,I,$),this.addCurrentVertex(S,te,0,0,I,$),A&&this.addCurrentVertex(S,te,1,1,I,$)):Y==="round"&&(A&&(this.addCurrentVertex(S,B,0,0,I,$),this.addCurrentVertex(S,B,1,1,I,$,!0)),k&&(this.addCurrentVertex(S,N,-1,-1,I,$,!0),this.addCurrentVertex(S,N,0,0,I,$)))}}addVerticesTo(n,o,u,g,d,_,w,T,D,b){const E=(o.w-n.w)/this.tessellationStep|0;let I=0;const S=this.scaledDistance;if(E>1){this.lineSoFar=n.w;const k=(o.x-n.x)/E,B=(o.y-n.y)/E,N=(o.z-n.z)/E,$=(o.w-n.w)/E;for(let W=1;W<E;++W){n.x+=k,n.y+=B,n.z+=N,this.lineSoFar+=$,I+=$;const j=this.evaluateLineProgressFeatures(this.prevDistance+I);this.scaledDistance=(this.prevDistance+I)/this.totalDistance,this.addHalfVertex(n,u,g,b,!1,w,D,j),this.addHalfVertex(n,d,_,b,!0,-T,D,j)}}this.lineSoFar=o.w,this.scaledDistance=S;const A=this.evaluateLineProgressFeatures(this.distance);this.addHalfVertex(o,u,g,b,!1,w,D,A),this.addHalfVertex(o,d,_,b,!0,-T,D,A)}evaluateLineProgressFeatures(n){if(!this.variableWidthValue&&!this.hasZOffset)return null;this.evaluationGlobals.lineProgress=0,this.lineClips?this.evaluationGlobals.lineProgress=Math.min(1,(this.totalFeatureLength*this.lineClips.start+n)/this.totalFeatureLength):yi(`line-progress evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`);let o=0;return this.variableWidthValue&&this.variableWidthValue.kind!=="constant"&&(o=this.variableWidthValue.evaluate(this.evaluationGlobals,this.lineFeature)||0),this.hasZOffset?this.zOffsetValue.kind==="constant"?{zOffset:this.zOffsetValue.value,variableWidth:o}:{zOffset:this.zOffsetValue.evaluate(this.evaluationGlobals,this.lineFeature)||0,variableWidth:o}:{zOffset:0,variableWidth:o}}addCurrentVertex(n,o,u,g,d,_,w=!1){const T=o.x+o.y*u,D=o.y-o.x*u,b=o.y*g-o.x,E=-o.y-o.x*g;if(_!=null){const I=this.hasZOffset,S=-10,A=At+10,k=_.zOffset,B=new Fw(n.x,n.y,k,this.lineSoFar),N=!!I&&vy(n,S,A),$=this.lineSoFar,W=this.distance;if(this.currentVertex)if(N){const j=this.currentVertexIsOutside,Y=this.currentVertex,K=new Fw(n.x,n.y,k,this.lineSoFar);if(Nw(Y,K,S,A),!vy(K,S,A)){if(j){this.e1=this.e2=-1,this.distance-=Y.dist(B),this.lineSoFar=Y.w;const te=this.evaluateLineProgressFeatures(Y.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(Y,T,D,w,!1,u,d,te),this.addHalfVertex(Y,b,E,w,!0,-g,d,te),this.prevDistance=this.distance}this.distance=this.prevDistance+Y.dist(K),this.scaledDistance=this.distance/this.totalDistance,this.addVerticesTo(Y,K,T,D,b,E,u,g,d,w),this.distance=W,this.scaledDistance=this.distance/this.totalDistance}}else{const j=this.currentVertex;if(this.currentVertexIsOutside){Nw(j,B,S,A),this.e1=this.e2=-1,this.distance-=j.dist(B),this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=j.w;const Y=this.evaluateLineProgressFeatures(j.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(j,T,D,w,!1,u,d,Y),this.addHalfVertex(j,b,E,w,!0,-g,d,Y),this.prevDistance=this.distance,this.distance=W,this.scaledDistance=this.distance/this.totalDistance}this.addVerticesTo(j,B,T,D,b,E,u,g,d,w)}else N||(this.addHalfVertex(n,T,D,w,!1,u,d,_),this.addHalfVertex(n,b,E,w,!0,-g,d,_));this.currentVertex=B,this.currentVertexIsOutside=N,this.lineSoFar=$}else this.addHalfVertex(n,T,D,w,!1,u,d,_),this.addHalfVertex(n,b,E,w,!0,-g,d,_)}addHalfVertex({x:n,y:o},u,g,d,_,w,T,D){this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),_||this.segmentPoints.push(this.lineSoFar-this.segmentStart,w)),this.layoutVertexArray.emplaceBack((n<<1)+(d?1:0),(o<<1)+(_?1:0),Math.round(63*u)+128,Math.round(63*g)+128,1+(w===0?0:w<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const b=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,b),T.primitiveLength++),_?this.e2=b:this.e1=b,D!=null&&this.zOffsetVertexArray.emplaceBack(D.zOffset,D.variableWidth)}updateScaledDistance(){this.lineClips?(this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=this.totalFeatureLength*this.lineClips.start+this.distance):this.lineSoFar=this.distance}updateDistance(n,o){this.prevDistance=this.distance,this.distance+=n.dist(o),this.updateScaledDistance()}}function vy(h,n,o){return h.x<n||h.x>o||h.y<n||h.y>o}let dM,pM;function fM(h,n,o){return n*(At/(h.tileSize*Math.pow(2,o-h.tileID.overscaledZ)))}Nt(yy,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const mM=(h,n,o)=>(1-o)*h+o*n;function gM(h,n){return 1/fM(h,1,n.tileZoom)}function _M(h,n,o,u){return h.translatePosMatrix(u||n.tileID.projMatrix,n,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}const yM=h=>{const n=[];vM(h)&&n.push("RENDER_LINE_DASH"),h.paint.get("line-gradient")&&n.push("RENDER_LINE_GRADIENT");const o=h.paint.get("line-trim-offset");o[0]===0&&o[1]===0||n.push("RENDER_LINE_TRIM_OFFSET"),h.paint.get("line-border-width").constantOr(1)!==0&&n.push("RENDER_LINE_BORDER");const u=h.layout.get("line-join").constantOr("miter")==="none",g=!!h.paint.get("line-pattern").constantOr(1);return u&&g&&n.push("LINE_JOIN_NONE"),n};function vM(h){const n=h.paint.get("line-dasharray").value;return n.value||n.kind!=="constant"}let xy;const xM=()=>xy||(xy={layout:dM||(dM=new On({"line-cap":new Rt(qe.layout_line["line-cap"]),"line-join":new Rt(qe.layout_line["line-join"]),"line-miter-limit":new xt(qe.layout_line["line-miter-limit"]),"line-round-limit":new xt(qe.layout_line["line-round-limit"]),"line-sort-key":new Rt(qe.layout_line["line-sort-key"]),"line-z-offset":new Rt(qe.layout_line["line-z-offset"]),"line-elevation-reference":new xt(qe.layout_line["line-elevation-reference"]),"line-cross-slope":new xt(qe.layout_line["line-cross-slope"]),visibility:new xt(qe.layout_line.visibility),"line-width-unit":new xt(qe.layout_line["line-width-unit"])})),paint:pM||(pM=new On({"line-opacity":new Rt(qe.paint_line["line-opacity"]),"line-color":new Rt(qe.paint_line["line-color"]),"line-translate":new xt(qe.paint_line["line-translate"]),"line-translate-anchor":new xt(qe.paint_line["line-translate-anchor"]),"line-width":new Rt(qe.paint_line["line-width"]),"line-gap-width":new Rt(qe.paint_line["line-gap-width"]),"line-offset":new Rt(qe.paint_line["line-offset"]),"line-blur":new Rt(qe.paint_line["line-blur"]),"line-dasharray":new Rt(qe.paint_line["line-dasharray"]),"line-pattern":new Rt(qe.paint_line["line-pattern"]),"line-gradient":new xo(qe.paint_line["line-gradient"]),"line-trim-offset":new xt(qe.paint_line["line-trim-offset"]),"line-trim-fade-range":new xt(qe.paint_line["line-trim-fade-range"]),"line-trim-color":new xt(qe.paint_line["line-trim-color"]),"line-emissive-strength":new xt(qe.paint_line["line-emissive-strength"]),"line-border-width":new Rt(qe.paint_line["line-border-width"]),"line-border-color":new Rt(qe.paint_line["line-border-color"]),"line-occlusion-opacity":new xt(qe.paint_line["line-occlusion-opacity"]),"line-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"line-gradient-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"line-trim-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"line-border-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},xy);class pD extends Rt{possiblyEvaluate(n,o){return o=new yn(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,transition:o.transition}),super.possiblyEvaluate(n,o)}evaluate(n,o,u,g){return o=Sr({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(n,o,u,g)}}let Wf;function bM(h,n){return n>0?n+2*h:h}const fD=Hi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),mD=Hi([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),gD=Hi([{name:"a_projected_pos",components:4,type:"Float32"}],4);Hi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const _D=Hi([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),yD=Hi([{name:"a_texb",components:2,type:"Uint16"}]),vD=Hi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),xD=Hi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);Hi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const wM=Hi([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),bD=Hi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Hi([{name:"triangle",components:3,type:"Uint16"}]),Hi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Hi([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),Hi([{type:"Float32",name:"offsetX"}]),Hi([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var jr=24;const no=128;function q0(h,n,o,u,g){if(h.kind==="camera")return h.maxSize;if(h.kind==="composite"){const d=n.possiblyEvaluate(new yn(h.maxZoom),o).evaluate(g,{},o),_=n.possiblyEvaluate(new yn(h.minZoom),o).evaluate(g,{},o);return Math.max(d,_)}return n.possiblyEvaluate(new yn(u)).evaluate(g,{},o)}function by(h,n){const{expression:o}=n;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new yn(h+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:g}=o;let d=0;for(;d<u.length&&u[d]<=h;)d++;d=Math.max(0,d-1);let _=d;for(;_<u.length&&u[_]<h+1;)_++;_=Math.min(u.length-1,_);const w=u[d],T=u[_];return o.kind==="composite"?{kind:"composite",minZoom:w,maxZoom:T,interpolationType:g}:{kind:"camera",minZoom:w,maxZoom:T,minSize:o.evaluate(new yn(w)),maxSize:o.evaluate(new yn(T)),interpolationType:g}}}function $0(h,{uSize:n,uSizeT:o},{lowerSize:u,upperSize:g}){return h.kind==="source"?u/no:h.kind==="composite"?ei(u/no,g/no,o):n}function Od(h,n,o=1){let u=0,g=0;if(h.kind==="constant")g=h.layoutSize*o;else if(h.kind!=="source"){const{interpolationType:d,minZoom:_,maxZoom:w}=h,T=d?li(us.interpolationFactor(d,n,_,w),0,1):0;h.kind==="camera"?g=ei(h.minSize,h.maxSize,T)*o:u=T*o}return{uSizeT:u,uSize:g}}var wD=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:no,evaluateSizeForFeature:$0,evaluateSizeForZoom:Od,getRasterizedIconSize:q0,getSizeData:by});function MD(h,n,o){return h.sections.forEach(u=>{u.text=function(g,d,_){const w=d.layout.get("text-transform").evaluate(_,{});return w==="uppercase"?g=g.toLocaleUpperCase():w==="lowercase"&&(g=g.toLocaleLowerCase()),Fs.applyArabicShaping&&(g=Fs.applyArabicShaping(g)),g}(u.text,n,o)}),h}const Zf={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function SD(h){return h==="︶"||h==="﹈"||h==="︸"||h==="﹄"||h==="﹂"||h==="︾"||h==="︼"||h==="︺"||h==="︘"||h==="﹀"||h==="︐"||h==="︓"||h==="︔"||h==="｀"||h==="￣"||h==="︑"||h==="︒"}function TD(h){return h==="︵"||h==="﹇"||h==="︷"||h==="﹃"||h==="﹁"||h==="︽"||h==="︻"||h==="︹"||h==="︗"||h==="︿"}var MM,wy,SM,My={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function ED(){return MM||(MM=1,My.read=function(h,n,o,u,g){var d,_,w=8*g-u-1,T=(1<<w)-1,D=T>>1,b=-7,E=o?g-1:0,I=o?-1:1,S=h[n+E];for(E+=I,d=S&(1<<-b)-1,S>>=-b,b+=w;b>0;d=256*d+h[n+E],E+=I,b-=8);for(_=d&(1<<-b)-1,d>>=-b,b+=u;b>0;_=256*_+h[n+E],E+=I,b-=8);if(d===0)d=1-D;else{if(d===T)return _?NaN:1/0*(S?-1:1);_+=Math.pow(2,u),d-=D}return(S?-1:1)*_*Math.pow(2,d-u)},My.write=function(h,n,o,u,g,d){var _,w,T,D=8*d-g-1,b=(1<<D)-1,E=b>>1,I=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=u?0:d-1,A=u?1:-1,k=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(w=isNaN(n)?1:0,_=b):(_=Math.floor(Math.log(n)/Math.LN2),n*(T=Math.pow(2,-_))<1&&(_--,T*=2),(n+=_+E>=1?I/T:I*Math.pow(2,1-E))*T>=2&&(_++,T/=2),_+E>=b?(w=0,_=b):_+E>=1?(w=(n*T-1)*Math.pow(2,g),_+=E):(w=n*Math.pow(2,E-1)*Math.pow(2,g),_=0));g>=8;h[o+S]=255&w,S+=A,w/=256,g-=8);for(_=_<<g|w,D+=g;D>0;h[o+S]=255&_,S+=A,_/=256,D-=8);h[o+S-A]|=128*k}),My}function TM(){if(SM)return wy;SM=1,wy=n;var h=ED();function n(j){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(j)?j:new Uint8Array(j||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var o=4294967296,u=1/o,g=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function d(j){return j.type===n.Bytes?j.readVarint()+j.pos:j.pos+1}function _(j,Y,K){return K?4294967296*Y+(j>>>0):4294967296*(Y>>>0)+(j>>>0)}function w(j,Y,K){var te=Y<=16383?1:Y<=2097151?2:Y<=268435455?3:Math.floor(Math.log(Y)/(7*Math.LN2));K.realloc(te);for(var ue=K.pos-1;ue>=j;ue--)K.buf[ue+te]=K.buf[ue]}function T(j,Y){for(var K=0;K<j.length;K++)Y.writeVarint(j[K])}function D(j,Y){for(var K=0;K<j.length;K++)Y.writeSVarint(j[K])}function b(j,Y){for(var K=0;K<j.length;K++)Y.writeFloat(j[K])}function E(j,Y){for(var K=0;K<j.length;K++)Y.writeDouble(j[K])}function I(j,Y){for(var K=0;K<j.length;K++)Y.writeBoolean(j[K])}function S(j,Y){for(var K=0;K<j.length;K++)Y.writeFixed32(j[K])}function A(j,Y){for(var K=0;K<j.length;K++)Y.writeSFixed32(j[K])}function k(j,Y){for(var K=0;K<j.length;K++)Y.writeFixed64(j[K])}function B(j,Y){for(var K=0;K<j.length;K++)Y.writeSFixed64(j[K])}function N(j,Y){return(j[Y]|j[Y+1]<<8|j[Y+2]<<16)+16777216*j[Y+3]}function $(j,Y,K){j[K]=Y,j[K+1]=Y>>>8,j[K+2]=Y>>>16,j[K+3]=Y>>>24}function W(j,Y){return(j[Y]|j[Y+1]<<8|j[Y+2]<<16)+(j[Y+3]<<24)}return n.prototype={destroy:function(){this.buf=null},readFields:function(j,Y,K){for(K=K||this.length;this.pos<K;){var te=this.readVarint(),ue=te>>3,ce=this.pos;this.type=7&te,j(ue,Y,this),this.pos===ce&&this.skip(te)}return Y},readMessage:function(j,Y){return this.readFields(j,Y,this.readVarint()+this.pos)},readFixed32:function(){var j=N(this.buf,this.pos);return this.pos+=4,j},readSFixed32:function(){var j=W(this.buf,this.pos);return this.pos+=4,j},readFixed64:function(){var j=N(this.buf,this.pos)+N(this.buf,this.pos+4)*o;return this.pos+=8,j},readSFixed64:function(){var j=N(this.buf,this.pos)+W(this.buf,this.pos+4)*o;return this.pos+=8,j},readFloat:function(){var j=h.read(this.buf,this.pos,!0,23,4);return this.pos+=4,j},readDouble:function(){var j=h.read(this.buf,this.pos,!0,52,8);return this.pos+=8,j},readVarint:function(j){var Y,K,te=this.buf;return Y=127&(K=te[this.pos++]),K<128?Y:(Y|=(127&(K=te[this.pos++]))<<7,K<128?Y:(Y|=(127&(K=te[this.pos++]))<<14,K<128?Y:(Y|=(127&(K=te[this.pos++]))<<21,K<128?Y:function(ue,ce,oe){var Me,pe,Te=oe.buf;if(Me=(112&(pe=Te[oe.pos++]))>>4,pe<128||(Me|=(127&(pe=Te[oe.pos++]))<<3,pe<128)||(Me|=(127&(pe=Te[oe.pos++]))<<10,pe<128)||(Me|=(127&(pe=Te[oe.pos++]))<<17,pe<128)||(Me|=(127&(pe=Te[oe.pos++]))<<24,pe<128)||(Me|=(1&(pe=Te[oe.pos++]))<<31,pe<128))return _(ue,Me,ce);throw new Error("Expected varint not more than 10 bytes")}(Y|=(15&(K=te[this.pos]))<<28,j,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var j=this.readVarint();return j%2==1?(j+1)/-2:j/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var j=this.readVarint()+this.pos,Y=this.pos;return this.pos=j,j-Y>=12&&g?function(K,te,ue){return g.decode(K.subarray(te,ue))}(this.buf,Y,j):function(K,te,ue){for(var ce="",oe=te;oe<ue;){var Me,pe,Te,Pe=K[oe],Ae=null,ke=Pe>239?4:Pe>223?3:Pe>191?2:1;if(oe+ke>ue)break;ke===1?Pe<128&&(Ae=Pe):ke===2?(192&(Me=K[oe+1]))==128&&(Ae=(31&Pe)<<6|63&Me)<=127&&(Ae=null):ke===3?(pe=K[oe+2],(192&(Me=K[oe+1]))==128&&(192&pe)==128&&((Ae=(15&Pe)<<12|(63&Me)<<6|63&pe)<=2047||Ae>=55296&&Ae<=57343)&&(Ae=null)):ke===4&&(pe=K[oe+2],Te=K[oe+3],(192&(Me=K[oe+1]))==128&&(192&pe)==128&&(192&Te)==128&&((Ae=(15&Pe)<<18|(63&Me)<<12|(63&pe)<<6|63&Te)<=65535||Ae>=1114112)&&(Ae=null)),Ae===null?(Ae=65533,ke=1):Ae>65535&&(Ae-=65536,ce+=String.fromCharCode(Ae>>>10&1023|55296),Ae=56320|1023&Ae),ce+=String.fromCharCode(Ae),oe+=ke}return ce}(this.buf,Y,j)},readBytes:function(){var j=this.readVarint()+this.pos,Y=this.buf.subarray(this.pos,j);return this.pos=j,Y},readPackedVarint:function(j,Y){if(this.type!==n.Bytes)return j.push(this.readVarint(Y));var K=d(this);for(j=j||[];this.pos<K;)j.push(this.readVarint(Y));return j},readPackedSVarint:function(j){if(this.type!==n.Bytes)return j.push(this.readSVarint());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readSVarint());return j},readPackedBoolean:function(j){if(this.type!==n.Bytes)return j.push(this.readBoolean());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readBoolean());return j},readPackedFloat:function(j){if(this.type!==n.Bytes)return j.push(this.readFloat());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readFloat());return j},readPackedDouble:function(j){if(this.type!==n.Bytes)return j.push(this.readDouble());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readDouble());return j},readPackedFixed32:function(j){if(this.type!==n.Bytes)return j.push(this.readFixed32());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readFixed32());return j},readPackedSFixed32:function(j){if(this.type!==n.Bytes)return j.push(this.readSFixed32());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readSFixed32());return j},readPackedFixed64:function(j){if(this.type!==n.Bytes)return j.push(this.readFixed64());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readFixed64());return j},readPackedSFixed64:function(j){if(this.type!==n.Bytes)return j.push(this.readSFixed64());var Y=d(this);for(j=j||[];this.pos<Y;)j.push(this.readSFixed64());return j},skip:function(j){var Y=7&j;if(Y===n.Varint)for(;this.buf[this.pos++]>127;);else if(Y===n.Bytes)this.pos=this.readVarint()+this.pos;else if(Y===n.Fixed32)this.pos+=4;else{if(Y!==n.Fixed64)throw new Error("Unimplemented type: "+Y);this.pos+=8}},writeTag:function(j,Y){this.writeVarint(j<<3|Y)},realloc:function(j){for(var Y=this.length||16;Y<this.pos+j;)Y*=2;if(Y!==this.length){var K=new Uint8Array(Y);K.set(this.buf),this.buf=K,this.length=Y}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(j){this.realloc(4),$(this.buf,j,this.pos),this.pos+=4},writeSFixed32:function(j){this.realloc(4),$(this.buf,j,this.pos),this.pos+=4},writeFixed64:function(j){this.realloc(8),$(this.buf,-1&j,this.pos),$(this.buf,Math.floor(j*u),this.pos+4),this.pos+=8},writeSFixed64:function(j){this.realloc(8),$(this.buf,-1&j,this.pos),$(this.buf,Math.floor(j*u),this.pos+4),this.pos+=8},writeVarint:function(j){(j=+j||0)>268435455||j<0?function(Y,K){var te,ue;if(Y>=0?(te=Y%4294967296|0,ue=Y/4294967296|0):(ue=~(-Y/4294967296),4294967295^(te=~(-Y%4294967296))?te=te+1|0:(te=0,ue=ue+1|0)),Y>=18446744073709552e3||Y<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");K.realloc(10),function(ce,oe,Me){Me.buf[Me.pos++]=127&ce|128,ce>>>=7,Me.buf[Me.pos++]=127&ce|128,ce>>>=7,Me.buf[Me.pos++]=127&ce|128,ce>>>=7,Me.buf[Me.pos++]=127&ce|128,Me.buf[Me.pos]=127&(ce>>>=7)}(te,0,K),function(ce,oe){var Me=(7&ce)<<4;oe.buf[oe.pos++]|=Me|((ce>>>=3)?128:0),ce&&(oe.buf[oe.pos++]=127&ce|((ce>>>=7)?128:0),ce&&(oe.buf[oe.pos++]=127&ce|((ce>>>=7)?128:0),ce&&(oe.buf[oe.pos++]=127&ce|((ce>>>=7)?128:0),ce&&(oe.buf[oe.pos++]=127&ce|((ce>>>=7)?128:0),ce&&(oe.buf[oe.pos++]=127&ce)))))}(ue,K)}(j,this):(this.realloc(4),this.buf[this.pos++]=127&j|(j>127?128:0),j<=127||(this.buf[this.pos++]=127&(j>>>=7)|(j>127?128:0),j<=127||(this.buf[this.pos++]=127&(j>>>=7)|(j>127?128:0),j<=127||(this.buf[this.pos++]=j>>>7&127))))},writeSVarint:function(j){this.writeVarint(j<0?2*-j-1:2*j)},writeBoolean:function(j){this.writeVarint(!!j)},writeString:function(j){j=String(j),this.realloc(4*j.length),this.pos++;var Y=this.pos;this.pos=function(te,ue,ce){for(var oe,Me,pe=0;pe<ue.length;pe++){if((oe=ue.charCodeAt(pe))>55295&&oe<57344){if(!Me){oe>56319||pe+1===ue.length?(te[ce++]=239,te[ce++]=191,te[ce++]=189):Me=oe;continue}if(oe<56320){te[ce++]=239,te[ce++]=191,te[ce++]=189,Me=oe;continue}oe=Me-55296<<10|oe-56320|65536,Me=null}else Me&&(te[ce++]=239,te[ce++]=191,te[ce++]=189,Me=null);oe<128?te[ce++]=oe:(oe<2048?te[ce++]=oe>>6|192:(oe<65536?te[ce++]=oe>>12|224:(te[ce++]=oe>>18|240,te[ce++]=oe>>12&63|128),te[ce++]=oe>>6&63|128),te[ce++]=63&oe|128)}return ce}(this.buf,j,this.pos);var K=this.pos-Y;K>=128&&w(Y,K,this),this.pos=Y-1,this.writeVarint(K),this.pos+=K},writeFloat:function(j){this.realloc(4),h.write(this.buf,j,this.pos,!0,23,4),this.pos+=4},writeDouble:function(j){this.realloc(8),h.write(this.buf,j,this.pos,!0,52,8),this.pos+=8},writeBytes:function(j){var Y=j.length;this.writeVarint(Y),this.realloc(Y);for(var K=0;K<Y;K++)this.buf[this.pos++]=j[K]},writeRawMessage:function(j,Y){this.pos++;var K=this.pos;j(Y,this);var te=this.pos-K;te>=128&&w(K,te,this),this.pos=K-1,this.writeVarint(te),this.pos+=te},writeMessage:function(j,Y,K){this.writeTag(j,n.Bytes),this.writeRawMessage(Y,K)},writePackedVarint:function(j,Y){Y.length&&this.writeMessage(j,T,Y)},writePackedSVarint:function(j,Y){Y.length&&this.writeMessage(j,D,Y)},writePackedBoolean:function(j,Y){Y.length&&this.writeMessage(j,I,Y)},writePackedFloat:function(j,Y){Y.length&&this.writeMessage(j,b,Y)},writePackedDouble:function(j,Y){Y.length&&this.writeMessage(j,E,Y)},writePackedFixed32:function(j,Y){Y.length&&this.writeMessage(j,S,Y)},writePackedSFixed32:function(j,Y){Y.length&&this.writeMessage(j,A,Y)},writePackedFixed64:function(j,Y){Y.length&&this.writeMessage(j,k,Y)},writePackedSFixed64:function(j,Y){Y.length&&this.writeMessage(j,B,Y)},writeBytesField:function(j,Y){this.writeTag(j,n.Bytes),this.writeBytes(Y)},writeFixed32Field:function(j,Y){this.writeTag(j,n.Fixed32),this.writeFixed32(Y)},writeSFixed32Field:function(j,Y){this.writeTag(j,n.Fixed32),this.writeSFixed32(Y)},writeFixed64Field:function(j,Y){this.writeTag(j,n.Fixed64),this.writeFixed64(Y)},writeSFixed64Field:function(j,Y){this.writeTag(j,n.Fixed64),this.writeSFixed64(Y)},writeVarintField:function(j,Y){this.writeTag(j,n.Varint),this.writeVarint(Y)},writeSVarintField:function(j,Y){this.writeTag(j,n.Varint),this.writeSVarint(Y)},writeStringField:function(j,Y){this.writeTag(j,n.Bytes),this.writeString(Y)},writeFloatField:function(j,Y){this.writeTag(j,n.Fixed32),this.writeFloat(Y)},writeDoubleField:function(j,Y){this.writeTag(j,n.Fixed64),this.writeDouble(Y)},writeBooleanField:function(j,Y){this.writeVarintField(j,!!Y)}},wy}var G0=L(TM());const Sy=3;function CD(h,n,o){n.glyphs=[],h===1&&o.readMessage(AD,n)}function AD(h,n,o){if(h===3){const{id:u,bitmap:g,width:d,height:_,left:w,top:T,advance:D}=o.readMessage(ID,{});n.glyphs.push({id:u,bitmap:new fc({width:d+2*Sy,height:_+2*Sy},g),metrics:{width:d,height:_,left:w,top:T,advance:D}})}else h===4?n.ascender=o.readSVarint():h===5&&(n.descender=o.readSVarint())}function ID(h,n,o){h===1?n.id=o.readVarint():h===2?n.bitmap=o.readBytes():h===3?n.width=o.readVarint():h===4?n.height=o.readVarint():h===5?n.left=o.readSVarint():h===6?n.top=o.readSVarint():h===7&&(n.advance=o.readVarint())}const EM=Sy,ca={horizontal:1,vertical:2,horizontalOnly:3};class Yf{constructor(){this.scale=1,this.fontStack="",this.image=null}static forText(n,o){const u=new Yf;return u.scale=n||1,u.fontStack=o,u}static forImage(n){const o=new Yf;return o.image=n,o}}class Rd{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,o){const u=new Rd;for(let g=0;g<n.sections.length;g++){const d=n.sections[g];d.image?u.addImageSection(d):u.addTextSection(d,o)}return u}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCodePoint(n){return this.text.codePointAt(n)}verticalizePunctuation(n){this.text=function(o,u){let g="";for(let d=0;d<o.length;d++){const _=o.charCodeAt(d+1)||null,w=o.charCodeAt(d-1)||null;g+=!u&&(_&&gf(_)&&!Zf[o[d+1]]||w&&gf(w)&&!Zf[o[d-1]])||!Zf[o[d]]?o[d]:Zf[o[d]]}return g}(this.text,n)}trim(){let n=0;for(let u=0;u<this.text.length&&W0[this.text.charCodeAt(u)];u++)n++;let o=this.text.length;for(let u=this.text.length-1;u>=0&&u>=n&&W0[this.text.charCodeAt(u)];u--)o--;this.text=this.text.substring(n,o),this.sectionIndex=this.sectionIndex.slice(n,o)}substring(n,o){const u=new Rd;return u.text=this.text.substring(n,o),u.sectionIndex=this.sectionIndex.slice(n,o),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,o)=>Math.max(n,this.sections[o].scale),0)}addTextSection(n,o){this.text+=n.text,this.sections.push(Yf.forText(n.scale,n.fontStack||o));const u=this.sections.length-1;for(let g=0;g<n.text.length;++g)this.sectionIndex.push(u)}addImageSection(n){const o=n.image&&n.image.namePrimary?n.image.getPrimary():null;if(!o)return void yi("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCodePoint(u),this.sections.push(Yf.forImage(o)),this.sectionIndex.push(this.sections.length-1)):yi("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ty(h,n,o,u,g,d,_,w,T,D,b,E,I,S,A){const k=Rd.fromFeature(h,g);E===ca.vertical&&k.verticalizePunctuation(I);let B=[];const N=function(K,te,ue,ce,oe,Me){if(!K)return[];const pe=[],Te=function(Ve,He,Be,Ke,ft,Qe){let St=0;for(let Mt=0;Mt<Ve.length();Mt++){const Pt=Ve.getSection(Mt);St+=CM(Ve.getCodePoint(Mt),Pt,Ke,ft,He,Qe)}return St/Math.max(1,Math.ceil(St/Be))}(K,te,ue,ce,oe,Me),Pe=K.text.indexOf("​")>=0;let Ae=0;for(let Ve=0;Ve<K.length();Ve++){const He=K.getSection(Ve),Be=K.getCodePoint(Ve);if(W0[Be]||(Ae+=CM(Be,He,ce,oe,te,Me)),Ve<K.length()-1){const Ke=!((ke=Be)<11904||!(qt["Bopomofo Extended"](ke)||qt.Bopomofo(ke)||qt["CJK Compatibility Forms"](ke)||qt["CJK Compatibility Ideographs"](ke)||qt["CJK Compatibility"](ke)||qt["CJK Radicals Supplement"](ke)||qt["CJK Strokes"](ke)||qt["CJK Symbols and Punctuation"](ke)||qt["CJK Unified Ideographs Extension A"](ke)||qt["CJK Unified Ideographs"](ke)||qt["Enclosed CJK Letters and Months"](ke)||qt["Halfwidth and Fullwidth Forms"](ke)||qt.Hiragana(ke)||qt["Ideographic Description Characters"](ke)||qt["Kangxi Radicals"](ke)||qt["Katakana Phonetic Extensions"](ke)||qt.Katakana(ke)||qt["Vertical Forms"](ke)||qt["Yi Radicals"](ke)||qt["Yi Syllables"](ke)));(PD[Be]||Ke||He.image)&&pe.push(IM(Ve+1,Ae,Te,pe,DD(Be,K.getCodePoint(Ve+1),Ke&&Pe),!1))}}var ke;return PM(IM(K.length(),Ae,Te,pe,0,!0))}(k,D,d,n,u,S),{processBidirectionalText:$,processStyledBidirectionalText:W}=Fs;if($&&k.sections.length===1){const K=$(k.toString(),N);for(const te of K){const ue=new Rd;ue.text=te,ue.sections=k.sections;for(let ce=0;ce<te.length;ce++)ue.sectionIndex.push(0);B.push(ue)}}else if(W){const K=W(k.text,k.sectionIndex,N);for(const te of K){const ue=new Rd;ue.text=te[0],ue.sectionIndex=te[1],ue.sections=k.sections,B.push(ue)}}else B=function(K,te){const ue=[],ce=K.text;let oe=0;for(const Me of te)ue.push(K.substring(oe,Me)),oe=Me;return oe<ce.length&&ue.push(K.substring(oe,ce.length)),ue}(k,N);const j=[],Y={positionedLines:j,text:k.toString(),top:b[1],bottom:b[1],left:b[0],right:b[0],writingMode:E,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(K,te,ue,ce,oe,Me,pe,Te,Pe,Ae,ke,Ve){let He=0,Be=0,Ke=0;const ft=Te==="right"?1:Te==="left"?0:.5;let Qe=!1;for(const Et of oe){const Ht=Et.getSections();for(const Xt of Ht){if(Xt.image)continue;const di=te[Xt.fontStack];if(di&&(Qe=di.ascender!==void 0&&di.descender!==void 0,!Qe))break}if(!Qe)break}let St=0;for(const Et of oe){Et.trim();const Ht=Et.getMaxScale(),Xt=(Ht-1)*jr,di={positionedGlyphs:[],lineOffset:0};K.positionedLines[St]=di;const fi=di.positionedGlyphs;let bi=0;if(!Et.length()){Be+=Me,++St;continue}let mi=0,Ti=0;for(let tn=0;tn<Et.length();tn++){const oi=Et.getSection(tn),nn=Et.getSectionIndex(tn),Xi=Et.getCodePoint(tn);let cn=oi.scale,tr=null,ir=null,$n=null,_s=jr,bn=0;const Cn=!(Pe===ca.horizontal||!ke&&!od(Xi)||ke&&(W0[Xi]||(Mt=Xi,qt.Arabic(Mt)||qt["Arabic Supplement"](Mt)||qt["Arabic Extended-A"](Mt)||qt["Arabic Presentation Forms-A"](Mt)||qt["Arabic Presentation Forms-B"](Mt))));if(oi.image){const as=ce[oi.image.serialize()];if(!as)continue;$n=oi.image.id,K.iconsInText=K.iconsInText||!0,ir=as.paddedRect;const nr=as.displaySize;cn=cn*jr/Ve,tr={width:nr[0],height:nr[1],left:0,top:-EM,advance:Cn?nr[1]:nr[0],localGlyph:!1},bn=Qe?-tr.height*cn:Ht*jr-17-nr[1]*cn,_s=tr.advance;const Ts=(Cn?nr[0]:nr[1])*cn-jr*Ht;Ts>0&&Ts>bi&&(bi=Ts)}else{const as=ue[oi.fontStack];if(!as)continue;as[Xi]&&(ir=as[Xi]);const nr=te[oi.fontStack];if(!nr)continue;const Ts=nr.glyphs[Xi];if(!Ts)continue;if(tr=Ts.metrics,_s=Xi!==8203?jr:0,Qe){const dr=nr.ascender!==void 0?Math.abs(nr.ascender):0,Do=nr.descender!==void 0?Math.abs(nr.descender):0,bc=(dr+Do)*cn;mi<bc&&(mi=bc,Ti=(dr-Do)/2*cn),bn=-dr*cn}else bn=(Ht-cn)*jr-17}Cn?(K.verticalizable=!0,fi.push({glyph:Xi,imageName:$n,x:He,y:Be+bn,vertical:Cn,scale:cn,localGlyph:tr.localGlyph,fontStack:oi.fontStack,sectionIndex:nn,metrics:tr,rect:ir}),He+=_s*cn+Ae):(fi.push({glyph:Xi,imageName:$n,x:He,y:Be+bn,vertical:Cn,scale:cn,localGlyph:tr.localGlyph,fontStack:oi.fontStack,sectionIndex:nn,metrics:tr,rect:ir}),He+=tr.advance*cn+Ae)}fi.length!==0&&(Ke=Math.max(He-Ae,Ke),Qe?DM(fi,ft,bi,Ti,Me*Ht/2):DM(fi,ft,bi,0,Me/2)),He=0;const ln=Me*Ht+bi;di.lineOffset=Math.max(bi,Xt),Be+=ln,++St}var Mt;const Pt=Be,{horizontalAlign:ot,verticalAlign:Ut}=Ey(pe);(function(Et,Ht,Xt,di,fi,bi){const mi=(Ht-Xt)*fi,Ti=-bi*di;for(const ln of Et)for(const tn of ln.positionedGlyphs)tn.x+=mi,tn.y+=Ti})(K.positionedLines,ft,ot,Ut,Ke,Pt),K.top+=-Ut*Pt,K.bottom=K.top+Pt,K.left+=-ot*Ke,K.right=K.left+Ke,K.hasBaseline=Qe}(Y,n,o,u,B,_,w,T,E,D,I,A),!function(K){for(const te of K)if(te.positionedGlyphs.length!==0)return!1;return!0}(j)&&Y}const W0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},PD={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function CM(h,n,o,u,g,d){if(n.image){const _=u[n.image.serialize()];return _?_.displaySize[0]*n.scale*jr/d+g:0}{const _=o[n.fontStack],w=_&&_.glyphs[h];return w?w.metrics.advance*n.scale+g:0}}function AM(h,n,o,u){const g=Math.pow(h-n,2);return u?h<n?g/2:2*g:g+Math.abs(o)*o}function DD(h,n,o){let u=0;return h===10&&(u-=1e4),o&&(u+=150),h!==40&&h!==65288||(u+=50),n!==41&&n!==65289||(u+=50),u}function IM(h,n,o,u,g,d){let _=null,w=AM(n,o,g,d);for(const T of u){const D=AM(n-T.x,o,g,d)+T.badness;D<=w&&(_=T,w=D)}return{index:h,x:n,priorBreak:_,badness:w}}function PM(h){return h?PM(h.priorBreak).concat(h.index):[]}function Ey(h){let n=.5,o=.5;switch(h){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(h){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:n,verticalAlign:o}}function DM(h,n,o,u,g){if(!(n||o||u||g))return;const d=h.length-1,_=h[d],w=(_.x+_.metrics.advance*_.scale)*n;for(let T=0;T<=d;T++)h[T].x-=w,h[T].y+=o+u+g}function LD(h,n,o,u){const{horizontalAlign:g,verticalAlign:d}=Ey(u),_=o[0]-h.displaySize[0]*g,w=o[1]-h.displaySize[1]*d;return{imagePrimary:h,imageSecondary:n,top:w,bottom:w+h.displaySize[1],left:_,right:_+h.displaySize[0]}}function LM(h,n,o,u,g,d){const _=h.imagePrimary;let w;if(_.content){const B=_.content,N=_.pixelRatio||1;w=[B[0]/N,B[1]/N,_.displaySize[0]-B[2]/N,_.displaySize[1]-B[3]/N]}const T=n.left*d,D=n.right*d;let b,E,I,S;o==="width"||o==="both"?(S=g[0]+T-u[3],E=g[0]+D+u[1]):(S=g[0]+(T+D-_.displaySize[0])/2,E=S+_.displaySize[0]);const A=n.top*d,k=n.bottom*d;return o==="height"||o==="both"?(b=g[1]+A-u[0],I=g[1]+k+u[2]):(b=g[1]+(A+k-_.displaySize[1])/2,I=b+_.displaySize[1]),{imagePrimary:_,imageSecondary:void 0,top:b,right:E,bottom:I,left:S,collisionPadding:w}}class gl extends Ct{constructor(n,o,u,g,d){super(n,o),this.angle=g,this.z=u,d!==void 0&&(this.segment=d)}clone(){return new gl(this.x,this.y,this.z,this.angle,this.segment)}}function kM(h,n,o,u,g){if(n.segment===void 0)return!0;let d=n,_=n.segment+1,w=0;for(;w>-o/2;){if(_--,_<0)return!1;w-=h[_].dist(d),d=h[_]}w+=h[_].dist(h[_+1]),_++;const T=[];let D=0;for(;w<o/2;){const b=h[_],E=h[_+1];if(!E)return!1;let I=h[_-1].angleTo(b)-b.angleTo(E);for(I=Math.abs((I+3*Math.PI)%(2*Math.PI)-Math.PI),T.push({distance:w,angleDelta:I}),D+=I;w-T[0].distance>u;)D-=T.shift().angleDelta;if(D>g)return!1;_++,w+=b.dist(E)}return!0}function OM(h){let n=0;for(let o=0;o<h.length-1;o++)n+=h[o].dist(h[o+1]);return n}function RM(h,n,o){return h?.6*n*o:0}function zM(h,n){return Math.max(h?h.right-h.left:0,n?n.right-n.left:0)}function kD(h,n,o,u,g,d){const _=RM(o,g,d),w=zM(o,u)*d;let T=0;const D=OM(h)/2;for(let b=0;b<h.length-1;b++){const E=h[b],I=h[b+1],S=E.dist(I);if(T+S>D){const A=(D-T)/S,k=ei(E.x,I.x,A),B=ei(E.y,I.y,A),N=new gl(k,B,0,I.angleTo(E),b);return!_||kM(h,N,w,_,n)?N:void 0}T+=S}}function OD(h,n,o,u,g,d,_,w,T){const D=RM(u,d,_),b=zM(u,g),E=b*_,I=h[0].x===0||h[0].x===T||h[0].y===0||h[0].y===T;return n-E<n/4&&(n=E+n/4),FM(h,I?n/2*w%n:(b/2+2*d)*_*w%n,n,D,o,E,I,!1,T)}function FM(h,n,o,u,g,d,_,w,T){const D=d/2,b=OM(h);let E=0,I=n-o,S=[];for(let A=0;A<h.length-1;A++){const k=h[A],B=h[A+1],N=k.dist(B),$=B.angleTo(k);for(;I+o<E+N;){I+=o;const W=(I-E)/N,j=ei(k.x,B.x,W),Y=ei(k.y,B.y,W);if(j>=0&&j<T&&Y>=0&&Y<T&&I-D>=0&&I+D<=b){const K=new gl(j,Y,0,$,A);u&&!kM(h,K,d,u,g)||S.push(K)}}E+=N}return w||S.length||_||(S=FM(h,E/2,o,u,g,d,_,!0,T)),S}function BM(h,n,o,u,g){const d=[];for(let _=0;_<h.length;_++){const w=h[_];let T;for(let D=0;D<w.length-1;D++){let b=w[D],E=w[D+1];b.x<n&&E.x<n||(b.x<n?b=new Ct(n,b.y+(n-b.x)/(E.x-b.x)*(E.y-b.y))._round():E.x<n&&(E=new Ct(n,b.y+(n-b.x)/(E.x-b.x)*(E.y-b.y))._round()),b.y<o&&E.y<o||(b.y<o?b=new Ct(b.x+(o-b.y)/(E.y-b.y)*(E.x-b.x),o)._round():E.y<o&&(E=new Ct(b.x+(o-b.y)/(E.y-b.y)*(E.x-b.x),o)._round()),b.x>=u&&E.x>=u||(b.x>=u?b=new Ct(u,b.y+(u-b.x)/(E.x-b.x)*(E.y-b.y))._round():E.x>=u&&(E=new Ct(u,b.y+(u-b.x)/(E.x-b.x)*(E.y-b.y))._round()),b.y>=g&&E.y>=g||(b.y>=g?b=new Ct(b.x+(g-b.y)/(E.y-b.y)*(E.x-b.x),g)._round():E.y>=g&&(E=new Ct(b.x+(g-b.y)/(E.y-b.y)*(E.x-b.x),g)._round()),T&&b.equals(T[T.length-1])||(T=[b],d.push(T)),T.push(E)))))}}return d}function NM(h){let n=0,o=0;for(const _ of h)n+=_.w*_.h,o=Math.max(o,_.w);h.sort((_,w)=>w.h-_.h);const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),o),h:1/0}];let g=0,d=0;for(const _ of h)for(let w=u.length-1;w>=0;w--){const T=u[w];if(!(_.w>T.w||_.h>T.h)){if(_.x=T.x,_.y=T.y,d=Math.max(d,_.y+_.h),g=Math.max(g,_.x+_.w),_.w===T.w&&_.h===T.h){const D=u.pop();w<u.length&&(u[w]=D)}else _.h===T.h?(T.x+=_.w,T.w-=_.w):_.w===T.w?(T.y+=_.h,T.h-=_.h):(u.push({x:T.x+_.w,y:T.y,w:T.w-_.w,h:_.h}),T.y+=_.h,T.h-=_.h);break}}return{w:g,h:d,fill:n/(g*d)||0}}Nt(gl,"Anchor");const Xf=1;class Cy{constructor(n,{pixelRatio:o,version:u,stretchX:g,stretchY:d,content:_},w){this.paddedRect=n,this.pixelRatio=o,this.stretchX=g,this.stretchY=d,this.content=_,this.version=u,this.padding=w}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.pixelRatio,(this.paddedRect.h-2*this.padding)/this.pixelRatio]}}class VM{constructor(n,o,u){const g={},d={};this.haveRenderCallbacks=[];const _=[];this.addImages(n,g,Xf,_),this.addImages(o,d,2,_);const{w,h:T}=NM(_),D=new Qr({width:w||1,height:T||1});for(const b in n){const E=n[b],I=g[b].paddedRect;Qr.copy(E.data,D,{x:0,y:0},{x:I.x+Xf,y:I.y+Xf},E.data,u,E.sdf)}for(const b in o){const E=o[b],I=d[b].paddedRect;let S=d[b].padding;const A=I.x+S,k=I.y+S,B=E.data.width,N=E.data.height;S=S>1?S-1:S,Qr.copy(E.data,D,{x:0,y:0},{x:A,y:k},E.data,u),Qr.copy(E.data,D,{x:0,y:N-S},{x:A,y:k-S},{width:B,height:S},u),Qr.copy(E.data,D,{x:0,y:0},{x:A,y:k+N},{width:B,height:S},u),Qr.copy(E.data,D,{x:B-S,y:0},{x:A-S,y:k},{width:S,height:N},u),Qr.copy(E.data,D,{x:0,y:0},{x:A+B,y:k},{width:S,height:N},u),Qr.copy(E.data,D,{x:B-S,y:N-S},{x:A-S,y:k-S},{width:S,height:S},u),Qr.copy(E.data,D,{x:0,y:N-S},{x:A+B,y:k-S},{width:S,height:S},u),Qr.copy(E.data,D,{x:0,y:0},{x:A+B,y:k+N},{width:S,height:S},u),Qr.copy(E.data,D,{x:B-S,y:0},{x:A-S,y:k+N},{width:S,height:S},u)}this.image=D,this.iconPositions=g,this.patternPositions=d}addImages(n,o,u,g){for(const d in n){const _=n[d],w={x:0,y:0,w:_.data.width+2*u,h:_.data.height+2*u};g.push(w),o[d]=new Cy(w,_,u),_.hasRenderCallback&&this.haveRenderCallbacks.push(Sa.deserializeId(d))}}patchUpdatedImages(n,o,u){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(g=>n.hasImage(g,u)),n.dispatchRenderCallbacks(this.haveRenderCallbacks,u);for(const g in n.getUpdatedImages(u)){for(const d of Object.keys(this.iconPositions))Sa.deserializeId(d)===g&&this.patchUpdatedImage(this.iconPositions[d],n.getImage(g,u),o);for(const d of Object.keys(this.patternPositions))Sa.deserializeId(d)===g&&this.patchUpdatedImage(this.patternPositions[d],n.getImage(g,u),o)}}patchUpdatedImage(n,o,u){if(!n||!o||n.version===o.version)return;n.version=o.version;const[g,d]=n.tl;u.update(o.data,{position:{x:g,y:d}})}}Nt(Cy,"ImagePosition"),Nt(VM,"ImageAtlas");const Kf=1e20;function HM(h,n,o,u,g,d,_,w,T){for(let D=n;D<n+u;D++)UM(h,o*d+D,d,g,_,w,T);for(let D=o;D<o+g;D++)UM(h,D*d+n,1,u,_,w,T)}function UM(h,n,o,u,g,d,_){d[0]=0,_[0]=-Kf,_[1]=Kf,g[0]=h[n];for(let w=1,T=0,D=0;w<u;w++){g[w]=h[n+w*o];const b=w*w;do{const E=d[T];D=(g[w]-g[E]+b-E*E)/(w-E)/2}while(D<=_[T]&&--T>-1);T++,d[T]=w,_[T]=D,_[T+1]=Kf}for(let w=0,T=0;w<u;w++){for(;_[T+1]<w;)T++;const D=d[T],b=w-D;h[n+w*o]=g[D]+b*b}}const ro=2,Ay={none:0,ideographs:1,all:2};class zd{constructor(n,o,u){this.requestManager=n,this.localGlyphMode=o,this.localFontFamily=u,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n,o){this.urls[o]=n}getGlyphs(n,o,u){const g=[],d=this.urls[o]||le.GLYPHS_URL;for(const _ in n)for(const w of n[_])g.push({stack:_,id:w});wa(g,({stack:_,id:w},T)=>{let D=this.entries[_];D||(D=this.entries[_]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let b=D.glyphs[w];if(b!==void 0)return void T(null,{stack:_,id:w,glyph:b});if(b=this._tinySDF(D,_,w),b)return D.glyphs[w]=b,void T(null,{stack:_,id:w,glyph:b});const E=Math.floor(w/256);if(256*E>65535)return yi("glyphs > 65535 not supported"),void T(null,{stack:_,id:w,glyph:b});if(D.ranges[E])return void T(null,{stack:_,id:w,glyph:b});let I=D.requests[E];I||(I=D.requests[E]=[],zd.loadGlyphRange(_,E,d,this.requestManager,(S,A)=>{if(A){D.ascender=A.ascender,D.descender=A.descender;for(const k in A.glyphs)this._doesCharSupportLocalGlyph(+k)||(D.glyphs[+k]=A.glyphs[+k]);D.ranges[E]=!0}for(const k of I)k(S,A);delete D.requests[E]})),I.push((S,A)=>{S?T(S):A&&T(null,{stack:_,id:w,glyph:A.glyphs[w]||null})})},(_,w)=>{if(_)u(_);else if(w){const T={};for(const{stack:D,id:b,glyph:E}of w)T[D]===void 0&&(T[D]={}),T[D].glyphs===void 0&&(T[D].glyphs={}),T[D].glyphs[b]=E&&{id:E.id,bitmap:E.bitmap.clone(),metrics:E.metrics},T[D].ascender=this.entries[D].ascender,T[D].descender=this.entries[D].descender;u(null,T)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Ay.none&&(this.localGlyphMode===Ay.all?!!this.localFontFamily:!!this.localFontFamily&&(qt["CJK Unified Ideographs"](n)||qt["Hangul Syllables"](n)||qt.Hiragana(n)||qt.Katakana(n)||qt["CJK Symbols and Punctuation"](n)||qt["CJK Unified Ideographs Extension A"](n)||qt["CJK Unified Ideographs Extension B"](n)||qt.Osage(n)))}_tinySDF(n,o,u){const g=this.localFontFamily;if(!g||!this._doesCharSupportLocalGlyph(u))return;let d=n.tinySDF;if(!d){let k="400";/bold/i.test(o)?k="900":/medium/i.test(o)?k="500":/light/i.test(o)&&(k="200"),d=n.tinySDF=new zd.TinySDF({fontFamily:g,fontWeight:k,fontSize:24*ro,buffer:3*ro,radius:8*ro}),d.fontWeight=k}if(this.localGlyphs[d.fontWeight][u])return this.localGlyphs[d.fontWeight][u];const _=String.fromCodePoint(u),{data:w,width:T,height:D,glyphWidth:b,glyphHeight:E,glyphLeft:I,glyphTop:S,glyphAdvance:A}=d.draw(_);return this.localGlyphs[d.fontWeight][u]={id:u,bitmap:new fc({width:T,height:D},w),metrics:{width:b/ro,height:E/ro,left:I/ro,top:S/ro-27,advance:A/ro,localGlyph:!0}}}}zd.loadGlyphRange=function(h,n,o,u,g){const d=256*n,_=d+255,w=u.transformRequest(u.normalizeGlyphsURL(o).replace("{fontstack}",h).replace("{range}",`${d}-${_}`),Yo.Glyphs);Xo(w,(T,D)=>{if(T)g(T);else if(D){const b={},E=function(I){return new G0(I).readFields(CD,{})}(D);for(const I of E.glyphs)b[I.id]=I;g(null,{glyphs:b,ascender:E.ascender,descender:E.descender})}})},zd.TinySDF=class{constructor({fontSize:h=24,buffer:n=3,radius:o=8,cutoff:u=.25,fontFamily:g="sans-serif",fontWeight:d="normal",fontStyle:_="normal"}={}){this.buffer=n,this.cutoff=u,this.radius=o;const w=this.size=h+4*n,T=this._createCanvas(w),D=this.ctx=T.getContext("2d",{willReadFrequently:!0});D.font=`${_} ${d} ${h}px ${g}`,D.textBaseline="alphabetic",D.textAlign="left",D.fillStyle="black",this.gridOuter=new Float64Array(w*w),this.gridInner=new Float64Array(w*w),this.f=new Float64Array(w),this.z=new Float64Array(w+1),this.v=new Uint16Array(w)}_createCanvas(h){const n=document.createElement("canvas");return n.width=n.height=h,n}draw(h){const{width:n,actualBoundingBoxAscent:o,actualBoundingBoxDescent:u,actualBoundingBoxLeft:g,actualBoundingBoxRight:d}=this.ctx.measureText(h),_=Math.ceil(o),w=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(d-g))),T=Math.min(this.size-this.buffer,_+Math.ceil(u)),D=w+2*this.buffer,b=T+2*this.buffer,E=Math.max(D*b,0),I=new Uint8ClampedArray(E),S={data:I,width:D,height:b,glyphWidth:w,glyphHeight:T,glyphTop:_,glyphLeft:0,glyphAdvance:n};if(w===0||T===0)return S;const{ctx:A,buffer:k,gridInner:B,gridOuter:N}=this;A.clearRect(k,k,w,T),A.fillText(h,k,k+_);const $=A.getImageData(k,k,w,T);N.fill(Kf,0,E),B.fill(0,0,E);for(let W=0;W<T;W++)for(let j=0;j<w;j++){const Y=$.data[4*(W*w+j)+3]/255;if(Y===0)continue;const K=(W+k)*D+j+k;if(Y===1)N[K]=0,B[K]=Kf;else{const te=.5-Y;N[K]=te>0?te*te:0,B[K]=te<0?te*te:0}}HM(N,0,0,D,b,D,this.f,this.v,this.z),HM(B,k,k,w,T,D,this.f,this.v,this.z);for(let W=0;W<E;W++){const j=Math.sqrt(N[W])-Math.sqrt(B[W]);I[W]=Math.round(255-255*(j/this.radius+this.cutoff))}return S}};const gc=Xf;function jM(h,n){return h+n[1]-n[0]}function qM(h,n,o,u,g=1){const d=[],_=h.imagePrimary,w=_.pixelRatio,T=_.paddedRect.w-2*gc,D=_.paddedRect.h-2*gc,b=(h.right-h.left)*g,E=(h.bottom-h.top)*g,I=_.stretchX||[[0,T]],S=_.stretchY||[[0,D]],A=I.reduce(jM,0),k=S.reduce(jM,0),B=T-A,N=D-k;let $=0,W=A,j=0,Y=k,K=0,te=B,ue=0,ce=N;if(_.content&&u){const Me=_.content;$=Z0(I,0,Me[0]),j=Z0(S,0,Me[1]),W=Z0(I,Me[0],Me[2]),Y=Z0(S,Me[1],Me[3]),K=Me[0]-$,ue=Me[1]-j,te=Me[2]-Me[0]-W,ce=Me[3]-Me[1]-Y}const oe=(Me,pe,Te,Pe)=>{const Ae=Y0(Me.stretch-$,W,b,h.left*g),ke=X0(Me.fixed-K,te,Me.stretch,A),Ve=Y0(pe.stretch-j,Y,E,h.top*g),He=X0(pe.fixed-ue,ce,pe.stretch,k),Be=Y0(Te.stretch-$,W,b,h.left*g),Ke=X0(Te.fixed-K,te,Te.stretch,A),ft=Y0(Pe.stretch-j,Y,E,h.top*g),Qe=X0(Pe.fixed-ue,ce,Pe.stretch,k),St=new Ct(Ae,Ve),Mt=new Ct(Be,Ve),Pt=new Ct(Be,ft),ot=new Ct(Ae,ft),Ut=new Ct(ke/w,He/w),Et=new Ct(Ke/w,Qe/w),Ht=n*Math.PI/180;if(Ht){const Ti=Math.sin(Ht),ln=Math.cos(Ht),tn=[ln,-Ti,Ti,ln];St._matMult(tn),Mt._matMult(tn),ot._matMult(tn),Pt._matMult(tn)}const Xt=Me.stretch+Me.fixed,di=Te.stretch+Te.fixed,fi=pe.stretch+pe.fixed,bi=Pe.stretch+Pe.fixed,mi=h.imageSecondary;return{tl:St,tr:Mt,bl:ot,br:Pt,texPrimary:{x:_.paddedRect.x+gc+Xt,y:_.paddedRect.y+gc+fi,w:di-Xt,h:bi-fi},texSecondary:mi?{x:mi.paddedRect.x+gc+Xt,y:mi.paddedRect.y+gc+fi,w:di-Xt,h:bi-fi}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ut,pixelOffsetBR:Et,minFontScaleX:te/w/b,minFontScaleY:ce/w/E,isSDF:o}};if(u&&(_.stretchX||_.stretchY)){const Me=$M(I,B,A),pe=$M(S,N,k);for(let Te=0;Te<Me.length-1;Te++){const Pe=Me[Te],Ae=Me[Te+1];for(let ke=0;ke<pe.length-1;ke++)d.push(oe(Pe,pe[ke],Ae,pe[ke+1]))}}else d.push(oe({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:T+1},{fixed:0,stretch:D+1}));return d}function Z0(h,n,o){let u=0;for(const g of h)u+=Math.max(n,Math.min(o,g[1]))-Math.max(n,Math.min(o,g[0]));return u}function $M(h,n,o){const u=[{fixed:-gc,stretch:0}];for(const[g,d]of h){const _=u[u.length-1];u.push({fixed:g-_.stretch,stretch:_.stretch}),u.push({fixed:g-_.stretch,stretch:_.stretch+(d-g)})}return u.push({fixed:n+gc,stretch:o}),u}function Y0(h,n,o,u){return h/n*o+u}function X0(h,n,o,u){return h-n*o/u}function RD(h,n,o,u){const g=n+h.positionedLines[u].lineOffset;return u===0?o+g/2:o+(g+(n+h.positionedLines[u-1].lineOffset))/2}function zD(h,n=1,o=!1){let u=1/0,g=1/0,d=-1/0,_=-1/0;const w=h[0];for(let S=0;S<w.length;S++){const A=w[S];(!S||A.x<u)&&(u=A.x),(!S||A.y<g)&&(g=A.y),(!S||A.x>d)&&(d=A.x),(!S||A.y>_)&&(_=A.y)}const T=Math.min(d-u,_-g);let D=T/2;const b=new Hu([],FD);if(T===0)return new Ct(u,g);for(let S=u;S<d;S+=T)for(let A=g;A<_;A+=T)b.push(new Fd(S+D,A+D,D,h));let E=function(S){let A=0,k=0,B=0;const N=S[0];for(let $=0,W=N.length,j=W-1;$<W;j=$++){const Y=N[$],K=N[j],te=Y.x*K.y-K.x*Y.y;k+=(Y.x+K.x)*te,B+=(Y.y+K.y)*te,A+=3*te}return new Fd(k/A,B/A,0,S)}(h),I=b.length;for(;b.length;){const S=b.pop();(S.d>E.d||!E.d)&&(E=S,o&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,I)),S.max-E.d<=n||(D=S.h/2,b.push(new Fd(S.p.x-D,S.p.y-D,D,h)),b.push(new Fd(S.p.x+D,S.p.y-D,D,h)),b.push(new Fd(S.p.x-D,S.p.y+D,D,h)),b.push(new Fd(S.p.x+D,S.p.y+D,D,h)),I+=4)}return o&&(console.log(`num probes: ${I}`),console.log(`best distance: ${E.d}`)),E.p}function FD(h,n){return n.max-h.max}class Fd{constructor(n,o,u,g){this.p=new Ct(n,o),this.h=u,this.d=function(d,_){let w=!1,T=1/0;for(let D=0;D<_.length;D++){const b=_[D];for(let E=0,I=b.length,S=I-1;E<I;S=E++){const A=b[E],k=b[S];A.y>d.y!=k.y>d.y&&d.x<(k.x-A.x)*(d.y-A.y)/(k.y-A.y)+A.x&&(w=!w),T=Math.min(T,ve(d,A,k))}}return(w?1:-1)*Math.sqrt(T)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}}const Iy=Number.POSITIVE_INFINITY,BD=Math.sqrt(2);function GM(h,[n,o]){let u=0,g=0;if(o===Iy){n<0&&(n=0);const d=n/BD;switch(h){case"top-right":case"top-left":g=d-7;break;case"bottom-right":case"bottom-left":g=7-d;break;case"bottom":g=7-n;break;case"top":g=n-7}switch(h){case"top-right":case"bottom-right":u=-d;break;case"top-left":case"bottom-left":u=d;break;case"left":u=n;break;case"right":u=-n}}else{switch(n=Math.abs(n),o=Math.abs(o),h){case"top-right":case"top-left":case"top":g=o-7;break;case"bottom-right":case"bottom-left":case"bottom":g=7-o}switch(h){case"top-right":case"bottom-right":case"right":u=-n;break;case"top-left":case"bottom-left":case"left":u=n}}return[u,g]}function Py(h){switch(h){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function ND(h,n,o,u,g,d,_,w,T,D,b,E,I,S,A,k){let B=d.textMaxSize.evaluate(n,{},I);B===void 0?B=_*d.textScaleFactor:B*=d.textScaleFactor;const N=h.layers[0].layout,$=N.get("icon-offset").evaluate(n,{},I),W=ZM(o.horizontal)||o.vertical,j=S.name==="globe",Y=jr,K=_*d.textScaleFactor/Y,te=h.tilePixelRatio*B/Y,ue=(ke=h.overscaling,h.zoom>18&&ke>2&&(ke>>=1),Math.max(At/(512*ke),1)*N.get("symbol-spacing")),ce=N.get("text-padding")*h.tilePixelRatio,oe=N.get("icon-padding")*h.tilePixelRatio,Me=Mi(N.get("text-max-angle")),pe=N.get("text-rotation-alignment")==="map"&&N.get("symbol-placement")!=="point",Te=N.get("icon-rotation-alignment")==="map"&&N.get("symbol-placement")!=="point",Pe=N.get("symbol-placement"),Ae=ue/2;var ke;const Ve=N.get("icon-text-fit").evaluate(n,{},I),He=N.get("icon-text-fit-padding").evaluate(n,{},I),Be=Ve!=="none";let Ke;h.hasAnyIconTextFit===!1&&Be&&(h.hasAnyIconTextFit=!0),u&&Be&&(h.allowVerticalPlacement&&o.vertical&&(Ke=LM(u,o.vertical,Ve,He,$,K)),W&&(u=LM(u,W,Ve,He,$,K)));const ft=(Qe,St,Mt)=>{if(St.x<0||St.x>=At||St.y<0||St.y>=At)return;let Pt=null;if(j){const{x:ot,y:Ut,z:Et}=S.projectTilePoint(St.x,St.y,Mt);Pt={anchor:new gl(ot,Ut,Et,0,void 0),up:S.upVector(Mt,St.x,St.y)}}(function(ot,Ut,Et,Ht,Xt,di,fi,bi,mi,Ti,ln,tn,oi,nn,Xi,cn,tr,ir,$n,_s,bn,Cn,as,nr,Ts,dr,Do,bc){const wc=ot.addToLineVertexArray(Ut,Ht);let _l,Mc,Sc,Mg,E3,C3,A3,I3=0,P3=0,D3=0,L3=0,uv=-1,dv=-1;const Lo={};let k3=Jc("");const Bh=Et?Et.anchor:Ut,pv=mi.layout.get("icon-text-fit").evaluate(bn,{},dr)!=="none";let fv=0,mv=0;if(mi._unevaluatedLayout.getValue("text-radial-offset")===void 0?[fv,mv]=mi.layout.get("text-offset").evaluate(bn,{},dr).map(ua=>ua*jr):(fv=mi.layout.get("text-radial-offset").evaluate(bn,{},dr)*jr,mv=Iy),ot.allowVerticalPlacement&&Xt.vertical){const ua=Xt.vertical;if(Xi)C3=Dy(ua),bi&&(A3=Dy(bi));else{const Hs=mi.layout.get("text-rotate").evaluate(bn,{},dr)+90;Sc=K0(Ti,Bh,Ut,ln,tn,oi,ua,nn,Hs,cn),bi&&(Mg=K0(Ti,Bh,Ut,ln,tn,oi,bi,ir,Hs))}}if(di){const ua=ot.iconSizeData,Hs=nr?q0(ot.iconSizeData,ot.layers[0]._unevaluatedLayout._values["icon-size"],dr,ot.zoom,bn):1,Zd=mi.layout.get("icon-rotate").evaluate(bn,{},dr),O3=qM(di,Zd,as,pv,nr?1/Hs:Cn.iconScaleFactor),_v=bi?qM(bi,Zd,as,pv,Cn.iconScaleFactor):void 0;Mc=K0(Ti,Bh,Ut,ln,tn,oi,di,ir,Zd,null,nr?Cn.iconScaleFactor*Hs:1),I3=4*O3.length;let Nh=null;ua.kind==="source"?(Nh=[no*mi.layout.get("icon-size").evaluate(bn,{},dr)*Cn.iconScaleFactor],Nh[0]>_c&&yi(`${ot.layerIds[0]}: Value for "icon-size" is >= ${Jf}. Reduce your "icon-size".`)):ua.kind==="composite"&&(Nh=[no*Cn.compositeIconSizes[0].evaluate(bn,{},dr)*Cn.iconScaleFactor,no*Cn.compositeIconSizes[1].evaluate(bn,{},dr)*Cn.iconScaleFactor],(Nh[0]>_c||Nh[1]>_c)&&yi(`${ot.layerIds[0]}: Value for "icon-size" is >= ${Jf}. Reduce your "icon-size".`)),ot.addSymbols(ot.icon,O3,Nh,_s,$n,bn,!1,Et,Ut,wc.lineStartIndex,wc.lineLength,-1,Ts,dr,Do,bc),uv=ot.icon.placedSymbolArray.length-1,_v&&(P3=4*_v.length,ot.addSymbols(ot.icon,_v,Nh,_s,$n,bn,ca.vertical,Et,Ut,wc.lineStartIndex,wc.lineLength,-1,Ts,dr,Do,bc),dv=ot.icon.placedSymbolArray.length-1)}for(const ua in Xt.horizontal){const Hs=Xt.horizontal[ua];_l||(k3=Jc(Hs.text),Xi?E3=Dy(Hs):_l=K0(Ti,Bh,Ut,ln,tn,oi,Hs,nn,mi.layout.get("text-rotate").evaluate(bn,{},dr),cn));const Zd=Hs.positionedLines.length===1;if(D3+=WM(ot,Et,Ut,Hs,fi,mi,Xi,bn,cn,wc,Xt.vertical?ca.horizontal:ca.horizontalOnly,Zd?Object.keys(Xt.horizontal):[ua],Lo,uv,Cn,Ts,dr,Do),Zd)break}Xt.vertical&&(L3+=WM(ot,Et,Ut,Xt.vertical,fi,mi,Xi,bn,cn,wc,ca.vertical,["vertical"],Lo,dv,Cn,Ts,dr,Do));let Tc=-1;const gv=(ua,Hs)=>ua?Math.max(ua,Hs):Hs;Tc=gv(E3,Tc),Tc=gv(C3,Tc),Tc=gv(A3,Tc);const yk=Tc>-1?1:0;ot.glyphOffsetArray.length>=65535&&yi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),bn.sortKey!==void 0&&ot.addToSortKeyRanges(ot.symbolInstances.length,bn.sortKey),ot.symbolInstances.emplaceBack(Ut.x,Ut.y,Bh.x,Bh.y,Bh.z,Lo.right>=0?Lo.right:-1,Lo.center>=0?Lo.center:-1,Lo.left>=0?Lo.left:-1,Lo.vertical>=0?Lo.vertical:-1,uv,dv,k3,_l!==void 0?_l:ot.collisionBoxArray.length,_l!==void 0?_l+1:ot.collisionBoxArray.length,Sc!==void 0?Sc:ot.collisionBoxArray.length,Sc!==void 0?Sc+1:ot.collisionBoxArray.length,Mc!==void 0?Mc:ot.collisionBoxArray.length,Mc!==void 0?Mc+1:ot.collisionBoxArray.length,Mg||ot.collisionBoxArray.length,Mg?Mg+1:ot.collisionBoxArray.length,ln,D3,L3,I3,P3,yk,0,fv,mv,Tc,0,pv?1:0)})(h,St,Pt,Qe,o,u,g,Ke,h.layers[0],h.collisionBoxArray,n.index,n.sourceLayerIndex,h.index,ce,pe,T,0,oe,Te,$,n,d,D,b,E,I,A,k)};if(Pe==="line")for(const Qe of BM(n.geometry,0,0,At,At)){const St=OD(Qe,ue,Me,o.vertical||W,u,Y,te,h.overscaling,At);for(const Mt of St)W&&VD(h,W.text,Ae,Mt)||ft(Qe,Mt,I)}else if(Pe==="line-center"){for(const Qe of n.geometry)if(Qe.length>1){const St=kD(Qe,Me,o.vertical||W,u,Y,te);St&&ft(Qe,St,I)}}else if(n.type==="Polygon")for(const Qe of F0(n.geometry,0)){const St=zD(Qe,16);ft(Qe[0],new gl(St.x,St.y,0,0,void 0),I)}else if(n.type==="LineString")for(const Qe of n.geometry)ft(Qe,new gl(Qe[0].x,Qe[0].y,0,0,void 0),I);else if(n.type==="Point")for(const Qe of n.geometry)for(const St of Qe)ft([St],new gl(St.x,St.y,0,0,void 0),I)}const Jf=255,_c=Jf*no;function WM(h,n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B,N){const $=function(Y,K,te,ue,ce,oe,Me,pe){const Te=[];if(K.positionedLines.length===0)return Te;const Pe=ue.layout.get("text-rotate").evaluate(oe,{})*Math.PI/180,Ae=function(Ke){const ft=Ke[0],Qe=Ke[1],St=ft*Qe;return St>0?[ft,-Qe]:St<0?[-ft,Qe]:ft===0?[Qe,ft]:[Qe,-ft]}(te);let ke=Math.abs(K.top-K.bottom);for(const Ke of K.positionedLines)ke-=Ke.lineOffset;const Ve=K.positionedLines.length,He=ke/Ve;let Be=K.top-te[1];for(let Ke=0;Ke<Ve;++Ke){const ft=K.positionedLines[Ke];Be=RD(K,He,Be,Ke);for(const Qe of ft.positionedGlyphs){if(!Qe.rect)continue;const St=Qe.rect||{};let Mt=EM+1,Pt=!0,ot=1,Ut=0;if(Qe.imageName){const $n=Me[xr.build(Qe.imageName).getSerializedPrimary()];if(!$n)continue;if($n.sdf){yi("SDF images are not supported in formatted text and will be ignored.");continue}Pt=!1,ot=$n.pixelRatio,Mt=Xf/ot}const Et=(ce||pe)&&Qe.vertical,Ht=Qe.metrics.advance*Qe.scale/2,Xt=Qe.metrics,di=Qe.rect;if(di===null)continue;pe&&K.verticalizable&&(Ut=Qe.imageName?Ht-Qe.metrics.width*Qe.scale/2:0);const fi=ce?[Qe.x+Ht,Qe.y]:[0,0];let bi=[0,0],mi=[0,0],Ti=!1;ce||(Et?(mi=[Qe.x+Ht+Ae[0],Qe.y+Ae[1]-Ut],Ti=!0):bi=[Qe.x+Ht+te[0],Qe.y+te[1]-Ut]);const ln=di.w*Qe.scale/(ot*(Qe.localGlyph?ro:1)),tn=di.h*Qe.scale/(ot*(Qe.localGlyph?ro:1));let oi,nn,Xi,cn;if(Et){const $n=Qe.y-Be,_s=new Ct(-Ht,Ht-$n),bn=-Math.PI/2,Cn=new Ct(...mi);oi=new Ct(-Ht+bi[0],bi[1]),oi._rotateAround(bn,_s)._add(Cn),oi.x+=-$n+Ht,oi.y-=(Xt.left-Mt)*Qe.scale;const as=Qe.imageName?Xt.advance*Qe.scale:jr*Qe.scale,nr=String.fromCodePoint(Qe.glyph);SD(nr)?oi.x+=(1-Mt)*Qe.scale:TD(nr)?oi.x+=as-Xt.height*Qe.scale+(-Mt-1)*Qe.scale:oi.x+=Qe.imageName||Xt.width+2*Mt===di.w&&Xt.height+2*Mt===di.h?(as-tn)/2:(as-(Xt.height+2*Mt)*Qe.scale)/2,nn=new Ct(oi.x,oi.y-ln),Xi=new Ct(oi.x+tn,oi.y),cn=new Ct(oi.x+tn,oi.y-ln)}else{const $n=(Xt.left-Mt)*Qe.scale-Ht+bi[0],_s=(-Xt.top-Mt)*Qe.scale+bi[1],bn=$n+ln,Cn=_s+tn;oi=new Ct($n,_s),nn=new Ct(bn,_s),Xi=new Ct($n,Cn),cn=new Ct(bn,Cn)}if(Pe){let $n;$n=ce?new Ct(0,0):Ti?new Ct(Ae[0],Ae[1]):new Ct(te[0],te[1]),oi._rotateAround(Pe,$n),nn._rotateAround(Pe,$n),Xi._rotateAround(Pe,$n),cn._rotateAround(Pe,$n)}const tr=new Ct(0,0),ir=new Ct(0,0);Te.push({tl:oi,tr:nn,bl:Xi,br:cn,texPrimary:St,texSecondary:void 0,writingMode:K.writingMode,glyphOffset:fi,sectionIndex:Qe.sectionIndex,isSDF:Pt,pixelOffsetTL:tr,pixelOffsetBR:ir,minFontScaleX:0,minFontScaleY:0})}}return Te}(0,u,T,d,_,w,g,h.allowVerticalPlacement),W=h.textSizeData;let j=null;W.kind==="source"?(j=[no*d.layout.get("text-size").evaluate(w,{},B)*A.textScaleFactor],j[0]>_c&&yi(`${h.layerIds[0]}: Value for "text-size" is >= ${Jf}. Reduce your "text-size".`)):W.kind==="composite"&&(j=[no*A.compositeTextSizes[0].evaluate(w,{},B)*A.textScaleFactor,no*A.compositeTextSizes[1].evaluate(w,{},B)*A.textScaleFactor],(j[0]>_c||j[1]>_c)&&yi(`${h.layerIds[0]}: Value for "text-size" is >= ${Jf}. Reduce your "text-size".`)),h.addSymbols(h.text,$,j,T,_,w,b,n,o,D.lineStartIndex,D.lineLength,S,k,B,N,!1);for(const Y of E)I[Y]=h.text.placedSymbolArray.length-1;return 4*$.length}function ZM(h){for(const n in h)return h[n];return null}function K0(h,n,o,u,g,d,_,w,T,D,b=1){let E=_.top/b,I=_.bottom/b,S=_.left/b,A=_.right/b;const k=_.collisionPadding;if(k&&(S-=k[0],E-=k[1],A+=k[2],I+=k[3]),T){const B=new Ct(S,E),N=new Ct(A,E),$=new Ct(S,I),W=new Ct(A,I),j=Mi(T);let Y=new Ct(0,0);D&&(Y=new Ct(D[0],D[1])),B._rotateAround(j,Y),N._rotateAround(j,Y),$._rotateAround(j,Y),W._rotateAround(j,Y),S=Math.min(B.x,N.x,$.x,W.x),A=Math.max(B.x,N.x,$.x,W.x),E=Math.min(B.y,N.y,$.y,W.y),I=Math.max(B.y,N.y,$.y,W.y)}return h.emplaceBack(n.x,n.y,n.z,o.x,o.y,S,E,A,I,w,u,g,d),h.length-1}function Dy(h){h.collisionPadding&&(h.top-=h.collisionPadding[1],h.bottom+=h.collisionPadding[3]);const n=h.bottom-h.top;return n>0?Math.max(10,n):null}function VD(h,n,o,u){const g=h.compareText;if(n in g){const d=g[n];for(let _=d.length-1;_>=0;_--)if(u.dist(d[_])<o)return!0}else g[n]=[];return g[n].push(u),!1}function YM(h,n){const o=h.fovAboveCenter,u=h.elevation?h.elevation.getMinElevationBelowMSL()*n:0,g=(h._camera.position[2]*h.worldSize-u)/Math.cos(h._pitch),d=Math.sin(o)*g/Math.sin(Math.max(Math.PI/2-h._pitch-o,.01));let _=Math.sin(h._pitch)*d+g;const w=g*(1/h._horizonShift);return h.elevation&&h.elevation.exaggeration()!==0||(_*=1+Math.max(h.zoom-17,0)),Math.min(1.01*_,w)}function Qf(h,n){if(!n.isReprojectedInTileSpace)return{scale:1<<h.z,x:h.x,y:h.y,x2:h.x+1,y2:h.y+1,projection:n};const o=Math.pow(2,-h.z),u=h.x*o,g=(h.x+1)*o,d=h.y*o,_=(h.y+1)*o,w=fs(u),T=fs(g),D=Er(d),b=Er(_),E=n.project(w,D),I=n.project(T,D),S=n.project(T,b),A=n.project(w,b);let k=Math.min(E.x,I.x,S.x,A.x),B=Math.min(E.y,I.y,S.y,A.y),N=Math.max(E.x,I.x,S.x,A.x),$=Math.max(E.y,I.y,S.y,A.y);const W=o/16;function j(K,te,ue,ce,oe,Me){const pe=(ue+oe)/2,Te=(ce+Me)/2,Pe=n.project(fs(pe),Er(Te)),Ae=Math.max(0,k-Pe.x,B-Pe.y,Pe.x-N,Pe.y-$);k=Math.min(k,Pe.x),N=Math.max(N,Pe.x),B=Math.min(B,Pe.y),$=Math.max($,Pe.y),Ae>W&&(j(K,Pe,ue,ce,pe,Te),j(Pe,te,pe,Te,oe,Me))}j(E,I,u,d,g,d),j(I,S,g,d,g,_),j(S,A,g,_,u,_),j(A,E,u,_,u,d),k-=W,B-=W,N+=W,$+=W;const Y=1/Math.max(N-k,$-B);return{scale:Y,x:k*Y,y:B*Y,x2:N*Y,y2:$*Y,projection:n}}function XM(h,{x:n,y:o},u=0){return new Ct(((n-u)*h.scale-h.x)*At,(o*h.scale-h.y)*At)}const HD=Ie.mat4.identity(new Float32Array(16));class yc{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,o){return{x:0,y:0,z:0}}unproject(n,o){return new Fi(0,0)}projectTilePoint(n,o,u){return{x:n,y:o,z:0}}locationPoint(n,o,u=!0){return n._coordinatePoint(n.locationCoordinate(o),u)}pixelsPerMeter(n,o){return Xr(1,n)*o}pixelSpaceConversion(n,o,u){return 1}farthestPixelDistance(n){return YM(n,n.pixelsPerMeter)}pointCoordinate(n,o,u,g){const d=n.horizonLineFromTop(!1),_=new Ct(o,Math.max(d,u));return n.rayIntersectionCoordinate(n.pointRayIntersection(_,g))}pointCoordinate3D(n,o,u){const g=new Ct(o,u);if(n.elevation)return n.elevation.pointCoordinate(g);{const d=this.pointCoordinate(n,g.x,g.y,0);return[d.x,d.y,d.z]}}isPointAboveHorizon(n,o){if(n.elevation&&n.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(n,o.x,o.y);const u=n.horizonLineFromTop();return o.y<u}createInversionMatrix(n,o){return HD}createTileMatrix(n,o,u){let g,d,_;const w=u.canonical,T=Ie.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const D=Qf(w,this);g=1,d=D.x+u.wrap*D.scale,_=D.y,Ie.mat4.scale(T,T,[g/D.scale,g/D.scale,n.pixelsPerMeter/o])}else g=o/n.zoomScale(w.z),d=(w.x+Math.pow(2,w.z)*u.wrap)*g,_=w.y*g;return Ie.mat4.translate(T,T,[d,_,0]),Ie.mat4.scale(T,T,[g/At,g/At,1]),T}upVector(n,o,u){return[0,0,1]}upVectorScale(n,o,u){return{metersToTile:1}}}class UD extends yc{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[o,u]=this.parallels=n.parallels||[29.5,45.5],g=Math.sin(Mi(o));this.n=(g+Math.sin(Mi(u)))/2,this.c=1+g*(2*this.n-g),this.r0=Math.sqrt(this.c)/this.n}project(n,o){const{n:u,c:g,r0:d}=this,_=Mi(n-this.center[0]),w=Mi(o),T=Math.sqrt(g-2*u*Math.sin(w))/u;return{x:T*Math.sin(_*u),y:T*Math.cos(_*u)-d,z:0}}unproject(n,o){const{n:u,c:g,r0:d}=this,_=d+o;let w=Math.atan2(n,Math.abs(_))*Math.sign(_);_*u<0&&(w-=Math.PI*Math.sign(n)*Math.sign(_));const T=Mi(this.center[0])*u;w=Ks(w,-Math.PI-T,Math.PI-T);const D=li(Wn(w/u)+this.center[0],-180,180),b=Math.asin(li((g-(n*n+_*_)*u*u)/(2*u),-1,1)),E=li(Wn(b),-zn,zn);return new Fi(D,E)}}const e1=1.340264,t1=-.081106,i1=893e-6,n1=.003796,J0=Math.sqrt(3)/2;class jD extends yc{project(n,o){o=o/180*Math.PI,n=n/180*Math.PI;const u=Math.asin(J0*Math.sin(o)),g=u*u,d=g*g*g;return{x:.5*(n*Math.cos(u)/(J0*(e1+3*t1*g+d*(7*i1+9*n1*g)))/Math.PI+.5),y:1-.5*(u*(e1+t1*g+d*(i1+n1*g))/Math.PI+1),z:0}}unproject(n,o){n=(2*n-.5)*Math.PI;let u=o=(2*(1-o)-1)*Math.PI,g=u*u,d=g*g*g;for(let b,E,I,S=0;S<12&&(E=u*(e1+t1*g+d*(i1+n1*g))-o,I=e1+3*t1*g+d*(7*i1+9*n1*g),b=E/I,u=li(u-b,-Math.PI/3,Math.PI/3),g=u*u,d=g*g*g,!(Math.abs(b)<1e-12));++S);const _=J0*n*(e1+3*t1*g+d*(7*i1+9*n1*g))/Math.cos(u),w=Math.asin(Math.sin(u)/J0),T=li(180*_/Math.PI,-180,180),D=li(180*w/Math.PI,-zn,zn);return new Fi(T,D)}}class qD extends yc{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,o){return{x:.5+n/360,y:.5-o/360,z:0}}unproject(n,o){const u=360*(n-.5),g=li(360*(.5-o),-zn,zn);return new Fi(u,g)}}const Bd=Math.PI/2;function Q0(h){return Math.tan((Bd+h)/2)}class $D extends yc{constructor(n){super(n),this.center=n.center||[0,30];const[o,u]=this.parallels=n.parallels||[30,30];let g=Mi(o),d=Mi(u);this.southernCenter=g+d<0,this.southernCenter&&(g=-g,d=-d);const _=Math.cos(g),w=Q0(g);this.n=g===d?Math.sin(g):Math.log(_/Math.cos(d))/Math.log(Q0(d)/w),this.f=_*Math.pow(Q0(g),this.n)/this.n}project(n,o){o=Mi(o),this.southernCenter&&(o=-o),n=Mi(n-this.center[0]);const u=1e-6,{n:g,f:d}=this;d>0?o<-Bd+u&&(o=-Bd+u):o>Bd-u&&(o=Bd-u);const _=d/Math.pow(Q0(o),g);let w=_*Math.sin(g*n),T=d-_*Math.cos(g*n);return w=.5*(w/Math.PI+.5),T=.5*(T/Math.PI+.5),{x:w,y:this.southernCenter?T:1-T,z:0}}unproject(n,o){n=(2*n-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:u,f:g}=this,d=g-o,_=Math.sign(d),w=Math.sign(u)*Math.sqrt(n*n+d*d);let T=Math.atan2(n,Math.abs(d))*_;d*u<0&&(T-=Math.PI*Math.sign(n)*_);const D=li(Wn(T/u)+this.center[0],-180,180),b=li(Wn(2*Math.atan(Math.pow(g/w,1/u))-Bd),-zn,zn);return new Fi(D,this.southernCenter?-b:b)}}class KM extends yc{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,o){return{x:Ca(n),y:to(o),z:0}}unproject(n,o){const u=fs(n),g=Er(o);return new Fi(u,g)}}const JM=Mi(zn);class GD extends yc{project(n,o){const u=(o=Mi(o))*o,g=u*u;return{x:.5*((n=Mi(n))*(.8707-.131979*u+g*(g*(.003971*u-.001529*g)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+u*(.015085+g*(.028874*u-.044475-.005916*g)))/Math.PI+1),z:0}}unproject(n,o){n=(2*n-.5)*Math.PI;let u=o=(2*(1-o)-1)*Math.PI,g=25,d=0,_=u*u;do{_=u*u;const D=_*_;d=(u*(1.007226+_*(.015085+D*(.028874*_-.044475-.005916*D)))-o)/(1.007226+_*(.045255+D*(.259866*_-.311325-.005916*11*D))),u=li(u-d,-JM,JM)}while(Math.abs(d)>1e-6&&--g>0);_=u*u;const w=li(Wn(n/(.8707+_*(_*(_*_*_*(.003971-.001529*_)-.013791)-.131979))),-180,180),T=Wn(u);return new Fi(w,T)}}const QM=Mi(zn);class WD extends yc{project(n,o){o=Mi(o),n=Mi(n);const u=Math.cos(o),g=2/Math.PI,d=Math.acos(u*Math.cos(n/2)),_=Math.sin(d)/d,w=.5*(n*g+2*u*Math.sin(n/2)/_)||0,T=.5*(o+Math.sin(o)/_)||0;return{x:.5*(w/Math.PI+.5),y:1-.5*(T/Math.PI+1),z:0}}unproject(n,o){let u=n=(2*n-.5)*Math.PI,g=o=(2*(1-o)-1)*Math.PI,d=25;const _=1e-6;let w=0,T=0;do{const D=Math.cos(g),b=Math.sin(g),E=2*b*D,I=b*b,S=D*D,A=Math.cos(u/2),k=Math.sin(u/2),B=2*A*k,N=k*k,$=1-S*A*A,W=$?1/$:0,j=$?Math.acos(D*A)*Math.sqrt(1/$):0,Y=.5*(2*j*D*k+2*u/Math.PI)-n,K=.5*(j*b+g)-o,te=.5*W*(S*N+j*D*A*I)+1/Math.PI,ue=W*(B*E/4-j*b*k),ce=.125*W*(E*k-j*b*S*B),oe=.5*W*(I*A+j*N*D)+.5,Me=ue*ce-oe*te;w=(K*ue-Y*oe)/Me,T=(Y*ce-K*te)/Me,u=li(u-w,-Math.PI,Math.PI),g=li(g-T,-QM,QM)}while((Math.abs(w)>_||Math.abs(T)>_)&&--d>0);return new Fi(Wn(u),Wn(g))}}class e4 extends yc{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Mi(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,o){const{scale:u,cosPhi:g}=this;return{x:Mi(n)*g*u+.5,y:-Math.sin(Mi(o))/g*u+.5,z:0}}unproject(n,o){const{scale:u,cosPhi:g}=this,d=-(o-.5)/u,_=li(Wn((n-.5)/u)/g,-180,180),w=Math.asin(li(d*g,-1,1)),T=li(Wn(w),-zn,zn);return new Fi(_,T)}}class ZD extends KM{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,o,u){const g=Ai(n,o,u),d=an(Yn(u));return Ie.vec3.transformMat4(g,g,d),{x:g[0],y:g[1],z:g[2]}}locationPoint(n,o){const u=Co(o.lat,o.lng),g=Ie.vec3.normalize([],u),d=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(o),n._centerAltitude):n._centerAltitude,_=Xr(1,0)*At*d;Ie.vec3.scaleAndAdd(u,u,g,_);const w=Ie.mat4.identity(new Float64Array(16));return Ie.mat4.multiply(w,n.pixelMatrix,n.globeMatrix),Ie.vec3.transformMat4(u,u,w),new Ct(u[0],u[1])}pixelsPerMeter(n,o){return Xr(1,0)*o}pixelSpaceConversion(n,o,u){const g=Xr(1,n)*o,d=ei(Xr(1,45)*o,g,u);return this.pixelsPerMeter(n,o)/d}createTileMatrix(n,o,u){const g=Ur(Yn(u.canonical));return Ie.mat4.multiply(new Float64Array(16),n.globeMatrix,g)}createInversionMatrix(n,o){const{center:u}=n,g=an(Yn(o));return Ie.mat4.rotateY(g,g,Mi(u.lng)),Ie.mat4.rotateX(g,g,Mi(u.lat)),Ie.mat4.scale(g,g,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(g)}pointCoordinate(n,o,u,g){return En(n,o,u,!0)||new m(0,0)}pointCoordinate3D(n,o,u){const g=this.pointCoordinate(n,o,u,0);return[g.x,g.y,g.z]}isPointAboveHorizon(n,o){return!En(n,o.x,o.y,!1)}farthestPixelDistance(n){const o=function(g,d){const _=g.cameraToCenterDistance,w=g._centerAltitude*d,T=g._camera,D=g._camera.forward(),b=Ie.vec3.add([],Ie.vec3.scale([],D,-_),[0,0,w]),E=g.worldSize/(2*Math.PI),I=[0,0,-E],S=g.width/g.height,A=Math.tan(g.fovAboveCenter),k=Ie.vec3.scale([],T.up(),A),B=Ie.vec3.scale([],T.right(),A*S),N=Ie.vec3.normalize([],Ie.vec3.add([],Ie.vec3.add([],D,k),B)),$=[];let W;if(new Ei(b,N).closestPointOnSphere(I,E,$)){const j=Ie.vec3.add([],$,I),Y=Ie.vec3.sub([],j,b);W=Math.cos(g.fovAboveCenter)*Ie.vec3.length(Y)}else{const j=Ie.vec3.sub([],b,I),Y=Ie.vec3.sub([],I,b);Ie.vec3.normalize(Y,Y);const K=Ie.vec3.length(j)-E;W=Math.sqrt(K*(K+2*E));const te=Math.acos(W/(E+K))-Math.acos(Ie.vec3.dot(D,Y));W*=Math.cos(te)}return 1.01*W}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),u=Jr(n.zoom);if(u>0){const g=YM(n,Xr(1,n.center.lat)*n.worldSize),d=n.worldSize/(2*Math.PI),_=Math.max(n.width,n.height)/n.worldSize*Math.PI;return ei(o,g+d*(1-Math.cos(_)),Math.pow(u,10))}return o}upVector(n,o,u){return Ai(o,u,n,1)}upVectorScale(n){return{metersToTile:Bi(Bn(Yn(n)))}}}function t4(h){const n=h.parallels,o=!!n&&Math.abs(n[0]+n[1])<.01;switch(h.name){case"mercator":return new KM(h);case"equirectangular":return new qD(h);case"naturalEarth":return new GD(h);case"equalEarth":return new jD(h);case"winkelTripel":return new WD(h);case"albers":return o?new e4(h):new UD(h);case"lambertConformalConic":return o?new e4(h):new $D(h);case"globe":return new ZD(h)}throw new Error(`Invalid projection name: ${h.name}`)}const YD=kd.VectorTileFeature.types,XD=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function eg(h,n,o,u,g,d,_,w,T,D,b,E,I){const S=w?Math.min(_c,Math.round(w[0])):0,A=w?Math.min(_c,Math.round(w[1])):0;h.emplaceBack(n,o,Math.round(32*u),Math.round(32*g),d,_,(S<<1)+(T?1:0),A,16*D,16*b,256*E,256*I)}function tg(h,n,o){h.emplaceBack(n,o)}function ig(h,n,o,u,g,d,_){h.emplaceBack(n,o,u,g,d,_)}function ng(h,n,o,u,g){h.emplaceBack(n,o,u,g),h.emplaceBack(n,o,u,g),h.emplaceBack(n,o,u,g),h.emplaceBack(n,o,u,g)}function KD(h){for(const n of h.sections)if(d0(n.text))return!0;return!1}class Ly{constructor(n){this.layoutVertexArray=new Mf,this.indexArray=new Fr,this.programConfigurations=n,this.segments=new Un,this.dynamicLayoutVertexArray=new wo,this.opacityVertexArray=new Tf,this.placedSymbolArray=new w0,this.iconTransitioningVertexArray=new So,this.globeExtVertexArray=new Sf,this.zOffsetVertexArray=new lc}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(n,o,u,g,d){this.isEmpty()||(u&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,fD.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,gD.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,XD,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=n.createVertexBuffer(this.iconTransitioningVertexArray,yD.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,mD.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||d)&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,_D.members,!0)),this.opacityVertexBuffer.itemSize=1),(u||g)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}Nt(Ly,"SymbolBuffers");class ky{constructor(n,o,u){this.layoutVertexArray=new n,this.layoutAttributes=o,this.indexArray=new u,this.segments=new Un,this.collisionVertexArray=new Cf,this.collisionVertexArrayExt=new wo}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,vD.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,xD.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Nt(ky,"CollisionBuffers");class rg{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.lut=n.lut,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(_=>_.fqid),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ie.mat4.identity([]),this.placementViewportMatrix=Ie.mat4.identity([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=by(this.zoom,o["text-size"]),this.iconSizeData=by(this.zoom,o["icon-size"]);const u=this.layers[0].layout,g=u.get("symbol-sort-key"),d=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=d!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(d==="viewport-y"||d==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=u.get("text-writing-mode").map(_=>ca[_]),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.sourceID=n.sourceID,this.projection=n.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=u.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new Ly(new Eo(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("text")||n.startsWith("symbol"))),this.icon=new Ly(new Eo(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("icon")||n.startsWith("symbol"))),this.glyphOffsetArray=new Mh,this.lineVertexArray=new Sh,this.symbolInstances=new S0}calculateGlyphDependencies(n,o,u,g,d){for(const _ of n){const w=_.codePointAt(0);if(w===void 0)break;if(o[w]=!0,g&&d&&w<=65535){const T=Zf[_];T&&(o[T.charCodeAt(0)]=!0)}}}updateFootprints(n,o){}updateReplacement(n,o){if(o.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=o.updateTime;const u=o.getReplacementRegionsForTile(n.toUnwrapped(),!0);return!fy(this.activeReplacements,u)&&(this.activeReplacements=u,!0)}populate(n,o,u,g){const d=this.layers[0],_=d.layout,w=this.projection.name==="globe",T=_.get("text-font"),D=_.get("text-field"),b=_.get("icon-image"),[E,I]=_.get("icon-size-scale-range"),S=li(o.scaleFactor||1,E,I),A=(D.value.kind!=="constant"||D.value.value instanceof Vr&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),k=b.value.kind!=="constant"||!!b.value.value||Object.keys(b.parameters).length>0,B=_.get("symbol-sort-key");if(this.features=[],!A&&!k)return;const N=o.iconDependencies,$=o.glyphDependencies,W=o.availableImages,j=new yn(this.zoom);for(const{feature:Y,id:K,index:te,sourceLayerIndex:ue}of n){const ce=d._featureFilter.needGeometry,oe=U(Y,ce);if(!d._featureFilter.filter(j,oe,u))continue;if(ce||(oe.geometry=H(Y,u,g)),w&&Y.type!==1&&u.z<=5){const Ae=oe.geometry,ke=.98078528056,Ve=(He,Be)=>{const Ke=Ai(He.x,He.y,u,1),ft=Ai(Be.x,Be.y,u,1);return Ie.vec3.dot(Ke,ft)<ke};for(let He=0;He<Ae.length;He++)Ae[He]=P(Ae[He],Ve)}let Me,pe;if(A){const Ae=d.getValueAndResolveTokens("text-field",oe,u,W),ke=Vr.factory(Ae);KD(ke)&&(this.hasRTLText=!0),(!this.hasRTLText||hd()==="unavailable"||this.hasRTLText&&Fs.isParsed())&&(Me=MD(ke,d,oe))}if(k){const Ae=d.getValueAndResolveTokens("icon-image",oe,u,W);pe=Ae instanceof xr?Ae:xr.build(Ae)}if(!Me&&!pe)continue;const Te=this.sortFeaturesByKey?B.evaluate(oe,{},u):void 0,Pe={id:K,text:Me,icon:pe,index:te,sourceLayerIndex:ue,geometry:oe.geometry,properties:Y.properties,type:YD[Y.type],sortKey:Te};if(this.features.push(Pe),pe){const Ae=q0(this.iconSizeData,this.layers[0]._unevaluatedLayout._values["icon-size"],u,this.zoom,Pe)*S*this.pixelRatio,ke=pe.getPrimary().scaleSelf(Ae);if(N[ke.id]=N[ke.id]||[],N[ke.id].push(ke),pe.nameSecondary){const Ve=pe.getSecondary().scaleSelf(Ae);N[Ve.id]=N[Ve.id]||[],N[Ve.id].push(Ve)}}if(Me){const Ae=T.evaluate(oe,{},u).join(","),ke=_.get("text-rotation-alignment")==="map"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ca.vertical)>=0;for(const Ve of Me.sections)if(Ve.image){const He=Ve.image.getPrimary().scaleSelf(this.pixelRatio);N[He.id]=N[He.id]||[],N[He.id].push(He)}else{const He=mf(Me.toString()),Be=Ve.fontStack||Ae,Ke=$[Be]=$[Be]||{};this.calculateGlyphDependencies(Ve.text,Ke,ke,this.allowVerticalPlacement,He)}}}_.get("symbol-placement")==="line"&&(this.features=function(Y){const K={},te={},ue=[];let ce=0;function oe(Pe){ue.push(Y[Pe]),ce++}function Me(Pe,Ae,ke){const Ve=te[Pe];return delete te[Pe],te[Ae]=Ve,ue[Ve].geometry[0].pop(),ue[Ve].geometry[0]=ue[Ve].geometry[0].concat(ke[0]),Ve}function pe(Pe,Ae,ke){const Ve=K[Ae];return delete K[Ae],K[Pe]=Ve,ue[Ve].geometry[0].shift(),ue[Ve].geometry[0]=ke[0].concat(ue[Ve].geometry[0]),Ve}function Te(Pe,Ae,ke){const Ve=ke?Ae[0][Ae[0].length-1]:Ae[0][0];return`${Pe}:${Ve.x}:${Ve.y}`}for(let Pe=0;Pe<Y.length;Pe++){const Ae=Y[Pe],ke=Ae.geometry,Ve=Ae.text?Ae.text.toString():null;if(!Ve){oe(Pe);continue}const He=Te(Ve,ke),Be=Te(Ve,ke,!0);if(He in te&&Be in K&&te[He]!==K[Be]){const Ke=pe(He,Be,ke),ft=Me(He,Be,ue[Ke].geometry);delete K[He],delete te[Be],te[Te(Ve,ue[ft].geometry,!0)]=ft,ue[Ke].geometry=null}else He in te?Me(He,Be,ke):Be in K?pe(He,Be,ke):(oe(Pe),K[He]=ce-1,te[Be]=ce-1)}return ue.filter(Pe=>Pe.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Y,K)=>Y.sortKey-K.sortKey)}update(n,o,u,g,d,_,w){this.text.programConfigurations.updatePaintArrays(n,o,d,u,g,_,w),this.icon.programConfigurations.updatePaintArrays(n,o,d,u,g,_,w)}updateZOffset(){const n=(d,_,w)=>{u+=_,u>d.length&&d.resize(u);for(let T=-_;T<0;T++)d.emplace(T+u,w)},o=(d,_,w)=>{g+=_,g>d.length&&d.resize(g);for(let T=-_;T<0;T++)d.emplace(T+g,w)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let u=0,g=0;for(let d=0;d<this.symbolInstances.length;d++){const _=this.symbolInstances.get(d),{numHorizontalGlyphVertices:w,numVerticalGlyphVertices:T,numIconVertices:D}=_,b=_.zOffset,E=D>0;if((w>0||T>0)&&(n(this.text.zOffsetVertexArray,w,b),n(this.text.zOffsetVertexArray,T,b)),E){const{placedIconSymbolIndex:I,verticalPlacedIconSymbolIndex:S}=_;I>=0&&o(this.icon.zOffsetVertexArray,D,b),S>=0&&o(this.icon.zOffsetVertexArray,_.numVerticalIconVertices,b)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=t4(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,o){const u=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:g,y:d}of o)this.lineVertexArray.emplaceBack(g,d);return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(n,o,u,g,d,_,w,T,D,b,E,I,S,A,k,B){const N=n.indexArray,$=n.layoutVertexArray,W=n.globeExtVertexArray,j=n.segments.prepareSegment(4*o.length,$,N,this.canOverlap?_.sortKey:void 0),Y=this.glyphOffsetArray.length,K=j.vertexLength,te=this.allowVerticalPlacement&&w===ca.vertical?Math.PI/2:0,ue=_.text&&_.text.sections;for(let oe=0;oe<o.length;oe++){const{tl:Me,tr:pe,bl:Te,br:Pe,texPrimary:Ae,texSecondary:ke,pixelOffsetTL:Ve,pixelOffsetBR:He,minFontScaleX:Be,minFontScaleY:Ke,glyphOffset:ft,isSDF:Qe,sectionIndex:St}=o[oe],Mt=j.vertexLength,Pt=ft[1];if(eg($,D.x,D.y,Me.x,Pt+Me.y,Ae.x,Ae.y,u,Qe,Ve.x,Ve.y,Be,Ke),eg($,D.x,D.y,pe.x,Pt+pe.y,Ae.x+Ae.w,Ae.y,u,Qe,He.x,Ve.y,Be,Ke),eg($,D.x,D.y,Te.x,Pt+Te.y,Ae.x,Ae.y+Ae.h,u,Qe,Ve.x,He.y,Be,Ke),eg($,D.x,D.y,Pe.x,Pt+Pe.y,Ae.x+Ae.w,Ae.y+Ae.h,u,Qe,He.x,He.y,Be,Ke),T){const{x:ot,y:Ut,z:Et}=T.anchor,[Ht,Xt,di]=T.up;ig(W,ot,Ut,Et,Ht,Xt,di),ig(W,ot,Ut,Et,Ht,Xt,di),ig(W,ot,Ut,Et,Ht,Xt,di),ig(W,ot,Ut,Et,Ht,Xt,di),ng(n.dynamicLayoutVertexArray,ot,Ut,Et,te)}else ng(n.dynamicLayoutVertexArray,D.x,D.y,D.z,te);if(B){const ot=ke||Ae;tg(n.iconTransitioningVertexArray,ot.x,ot.y),tg(n.iconTransitioningVertexArray,ot.x+ot.w,ot.y),tg(n.iconTransitioningVertexArray,ot.x,ot.y+ot.h),tg(n.iconTransitioningVertexArray,ot.x+ot.w,ot.y+ot.h)}N.emplaceBack(Mt,Mt+1,Mt+2),N.emplaceBack(Mt+1,Mt+2,Mt+3),j.vertexLength+=4,j.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ft[0]),oe!==o.length-1&&St===o[oe+1].sectionIndex||n.programConfigurations.populatePaintArrays($.length,_,_.index,{},S,A,k,ue&&ue[St])}const ce=T?T.anchor:D;n.placedSymbolArray.emplaceBack(ce.x,ce.y,ce.z,D.x,D.y,Y,this.glyphOffsetArray.length-Y,K,b,E,D.segment,u?u[0]:0,u?u[1]:0,g[0],g[1],w,0,!1,0,I,0)}_commitLayoutVertex(n,o,u,g,d,_,w){n.emplaceBack(o,u,g,d,_,Math.round(w.x),Math.round(w.y))}_addCollisionDebugVertices(n,o,u,g,d,_,w){const T=u.segments.prepareSegment(4,u.layoutVertexArray,u.indexArray),D=T.vertexLength,b=w.tileAnchorX,E=w.tileAnchorY;for(let S=0;S<4;S++)u.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(u.collisionVertexArrayExt,o,n.padding,w.zOffset),this._commitLayoutVertex(u.layoutVertexArray,g,d,_,b,E,new Ct(n.x1,n.y1)),this._commitLayoutVertex(u.layoutVertexArray,g,d,_,b,E,new Ct(n.x2,n.y1)),this._commitLayoutVertex(u.layoutVertexArray,g,d,_,b,E,new Ct(n.x2,n.y2)),this._commitLayoutVertex(u.layoutVertexArray,g,d,_,b,E,new Ct(n.x1,n.y2)),T.vertexLength+=4;const I=u.indexArray;I.emplaceBack(D,D+1),I.emplaceBack(D+1,D+2),I.emplaceBack(D+2,D+3),I.emplaceBack(D+3,D),T.primitiveLength+=4}_addTextDebugCollisionBoxes(n,o,u,g,d,_){for(let w=g;w<d;w++){const T=u.get(w),D=this.getSymbolInstanceTextSize(n,_,o,w);this._addCollisionDebugVertices(T,D,this.textCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,_)}}_addIconDebugCollisionBoxes(n,o,u,g,d,_){for(let w=g;w<d;w++){const T=u.get(w),D=this.getSymbolInstanceIconSize(n,o,_.placedIconSymbolIndex);this._addCollisionDebugVertices(T,D,this.iconCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,_)}}generateCollisionDebugBuffers(n,o,u){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ky(yd,wM.members,So),this.iconCollisionBox=new ky(yd,wM.members,So);const g=Od(this.iconSizeData,n),d=Od(this.textSizeData,n,u);for(let _=0;_<this.symbolInstances.length;_++){const w=this.symbolInstances.get(_);this._addTextDebugCollisionBoxes(d,n,o,w.textBoxStartIndex,w.textBoxEndIndex,w),this._addTextDebugCollisionBoxes(d,n,o,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._addIconDebugCollisionBoxes(g,n,o,w.iconBoxStartIndex,w.iconBoxEndIndex,w),this._addIconDebugCollisionBoxes(g,n,o,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w)}}getSymbolInstanceTextSize(n,o,u,g){const d=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:g),_=$0(this.textSizeData,n,d)/jr;return this.tilePixelRatio*_}getSymbolInstanceIconSize(n,o,u){const g=this.icon.placedSymbolArray.get(u),d=$0(this.iconSizeData,n,g);return this.tilePixelRatio*d}_commitDebugCollisionVertexUpdate(n,o,u,g){n.emplaceBack(o,-u,-u,g),n.emplaceBack(o,u,-u,g),n.emplaceBack(o,u,u,g),n.emplaceBack(o,-u,u,g)}_updateTextDebugCollisionBoxes(n,o,u,g,d,_,w){for(let T=g;T<d;T++){const D=u.get(T),b=this.getSymbolInstanceTextSize(n,_,o,T);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,b,D.padding,_.zOffset)}}_updateIconDebugCollisionBoxes(n,o,u,g,d,_,w){for(let T=g;T<d;T++){const D=u.get(T),b=this.getSymbolInstanceIconSize(n,o,_.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,b,D.padding,_.zOffset)}}updateCollisionDebugBuffers(n,o,u,g){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=Od(this.iconSizeData,n,g),_=Od(this.textSizeData,n,u);for(let w=0;w<this.symbolInstances.length;w++){const T=this.symbolInstances.get(w);this._updateTextDebugCollisionBoxes(_,n,o,T.textBoxStartIndex,T.textBoxEndIndex,T,u),this._updateTextDebugCollisionBoxes(_,n,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T,u),this._updateIconDebugCollisionBoxes(d,n,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T,g),this._updateIconDebugCollisionBoxes(d,n,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T,g)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,o,u,g,d,_,w,T,D){const b={};if(o<u){const{x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j,featureIndex:Y}=n.get(o);b.textBox={x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j},b.textFeatureIndex=Y}if(g<d){const{x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j,featureIndex:Y}=n.get(g);b.verticalTextBox={x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j},b.verticalTextFeatureIndex=Y}if(_<w){const{x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j,featureIndex:Y}=n.get(_);b.iconBox={x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j},b.iconFeatureIndex=Y}if(T<D){const{x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j,featureIndex:Y}=n.get(T);b.verticalIconBox={x1:E,y1:I,x2:S,y2:A,padding:k,projectedAnchorX:B,projectedAnchorY:N,projectedAnchorZ:$,tileAnchorX:W,tileAnchorY:j},b.verticalIconFeatureIndex=Y}return b}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const u=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(n,o){const u=n.placedSymbolArray.get(o),g=u.vertexStartIndex+4*u.numGlyphs;for(let d=u.vertexStartIndex;d<g;d+=4)n.indexArray.emplaceBack(d,d+1,d+2),n.indexArray.emplaceBack(d+1,d+2,d+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(n),u=Math.cos(n),g=[],d=[],_=[];for(let w=0;w<this.symbolInstances.length;++w){_.push(w);const T=this.symbolInstances.get(w);g.push(0|Math.round(o*T.tileAnchorX+u*T.tileAnchorY)),d.push(T.featureIndex)}return _.sort((w,T)=>g[w]-g[T]||d[T]-d[w]),_}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let n=0;n<this.symbolInstances.length;++n)this.symbolInstanceIndexesSortedZOffset.push(n)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((n,o)=>this.symbolInstances.get(o).zOffset-this.symbolInstances.get(n).zOffset)}addToSortKeyRanges(n,o){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===o?u.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const u=this.symbolInstances.get(o);this.featureSortOrder.push(u.featureIndex);const{rightJustifiedTextSymbolIndex:g,centerJustifiedTextSymbolIndex:d,leftJustifiedTextSymbolIndex:_,verticalPlacedTextSymbolIndex:w,placedIconSymbolIndex:T,verticalPlacedIconSymbolIndex:D}=u;g>=0&&this.addIndicesForPlacedSymbol(this.text,g),d>=0&&d!==g&&this.addIndicesForPlacedSymbol(this.text,d),_>=0&&_!==d&&_!==g&&this.addIndicesForPlacedSymbol(this.text,_),w>=0&&this.addIndicesForPlacedSymbol(this.text,w),T>=0&&this.addIndicesForPlacedSymbol(this.icon,T),D>=0&&this.addIndicesForPlacedSymbol(this.icon,D)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let i4,n4,Oy;Nt(rg,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),rg.addDynamicAttributes=ng;class r4{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:Ul,this.defaultValue=n}evaluate(n){if(n.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(n.formattedSection))return o.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Nt(r4,"FormatSectionOverride",{omit:["defaultValue"]});const Ry=()=>Oy||(Oy={layout:i4||(i4=new On({"symbol-placement":new xt(qe.layout_symbol["symbol-placement"]),"symbol-spacing":new xt(qe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new xt(qe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Rt(qe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new xt(qe.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new xt(qe.layout_symbol["symbol-z-elevate"]),"symbol-elevation-reference":new xt(qe.layout_symbol["symbol-elevation-reference"]),"icon-allow-overlap":new xt(qe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new xt(qe.layout_symbol["icon-ignore-placement"]),"icon-optional":new xt(qe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new xt(qe.layout_symbol["icon-rotation-alignment"]),"icon-size":new Rt(qe.layout_symbol["icon-size"]),"icon-size-scale-range":new xt(qe.layout_symbol["icon-size-scale-range"]),"icon-text-fit":new Rt(qe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Rt(qe.layout_symbol["icon-text-fit-padding"]),"icon-image":new Rt(qe.layout_symbol["icon-image"]),"icon-rotate":new Rt(qe.layout_symbol["icon-rotate"]),"icon-padding":new xt(qe.layout_symbol["icon-padding"]),"icon-keep-upright":new xt(qe.layout_symbol["icon-keep-upright"]),"icon-offset":new Rt(qe.layout_symbol["icon-offset"]),"icon-anchor":new Rt(qe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new xt(qe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new xt(qe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new xt(qe.layout_symbol["text-rotation-alignment"]),"text-field":new Rt(qe.layout_symbol["text-field"]),"text-font":new Rt(qe.layout_symbol["text-font"]),"text-size":new Rt(qe.layout_symbol["text-size"]),"text-size-scale-range":new xt(qe.layout_symbol["text-size-scale-range"]),"text-max-width":new Rt(qe.layout_symbol["text-max-width"]),"text-line-height":new Rt(qe.layout_symbol["text-line-height"]),"text-letter-spacing":new Rt(qe.layout_symbol["text-letter-spacing"]),"text-justify":new Rt(qe.layout_symbol["text-justify"]),"text-radial-offset":new Rt(qe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new xt(qe.layout_symbol["text-variable-anchor"]),"text-anchor":new Rt(qe.layout_symbol["text-anchor"]),"text-max-angle":new xt(qe.layout_symbol["text-max-angle"]),"text-writing-mode":new xt(qe.layout_symbol["text-writing-mode"]),"text-rotate":new Rt(qe.layout_symbol["text-rotate"]),"text-padding":new xt(qe.layout_symbol["text-padding"]),"text-keep-upright":new xt(qe.layout_symbol["text-keep-upright"]),"text-transform":new Rt(qe.layout_symbol["text-transform"]),"text-offset":new Rt(qe.layout_symbol["text-offset"]),"text-allow-overlap":new xt(qe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new xt(qe.layout_symbol["text-ignore-placement"]),"text-optional":new xt(qe.layout_symbol["text-optional"]),visibility:new xt(qe.layout_symbol.visibility)})),paint:n4||(n4=new On({"icon-opacity":new Rt(qe.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new Rt(qe.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new Rt(qe.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new Rt(qe.paint_symbol["text-emissive-strength"]),"icon-color":new Rt(qe.paint_symbol["icon-color"]),"icon-halo-color":new Rt(qe.paint_symbol["icon-halo-color"]),"icon-halo-width":new Rt(qe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Rt(qe.paint_symbol["icon-halo-blur"]),"icon-translate":new xt(qe.paint_symbol["icon-translate"]),"icon-translate-anchor":new xt(qe.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new Rt(qe.paint_symbol["icon-image-cross-fade"]),"text-opacity":new Rt(qe.paint_symbol["text-opacity"]),"text-occlusion-opacity":new Rt(qe.paint_symbol["text-occlusion-opacity"]),"text-color":new Rt(qe.paint_symbol["text-color"],{runtimeType:os,getOverride:h=>h.textColor,hasOverride:h=>!!h.textColor}),"text-halo-color":new Rt(qe.paint_symbol["text-halo-color"]),"text-halo-width":new Rt(qe.paint_symbol["text-halo-width"]),"text-halo-blur":new Rt(qe.paint_symbol["text-halo-blur"]),"text-translate":new xt(qe.paint_symbol["text-translate"]),"text-translate-anchor":new xt(qe.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new xt(qe.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new xt(qe.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new xt(qe.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new xt(qe.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new Rt(qe.paint_symbol["symbol-z-offset"]),"icon-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"icon-halo-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"text-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"text-halo-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},Oy);class sg extends ss{constructor(n,o,u,g){super(n,Ry(),o,u,g),this._colorAdjustmentMatrix=Ie.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=n.paint!==void 0&&("icon-occlusion-opacity"in n.paint||"text-occlusion-opacity"in n.paint)}recalculate(n,o){super.recalculate(n,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const u=this.layout.get("text-writing-mode");if(u){const g=[];for(const d of u)g.indexOf(d)<0&&g.push(d);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(n,o,u,g){return this._saturation===n&&this._contrast===o&&this._brightnessMin===u&&this._brightnessMax===g||(this._colorAdjustmentMatrix=function(d,_,w,T){d=re(d),_=X(_);const D=Ie.mat4.create(),b=d/3,E=1-2*b,I=[E,b,b,0,b,E,b,0,b,b,E,0,0,0,0,1],S=.5-.5*_,A=T-w;return Ie.mat4.multiply(D,[A,0,0,0,0,A,0,0,0,0,A,0,w,w,w,1],[_,0,0,0,0,_,0,0,0,0,_,0,S,S,S,1]),Ie.mat4.multiply(D,D,I),D}(n,o,u,g),this._saturation=n,this._contrast=o,this._brightnessMin=u,this._brightnessMax=g),this._colorAdjustmentMatrix}getValueAndResolveTokens(n,o,u,g){const d=this.layout.get(n).evaluate(o,{},u,g),_=this._unevaluatedLayout._values[n];return _.isDataDriven()||rd(_.value)||!d?d:function(w,T){return T.replace(/{([^{}]+)}/g,(D,b)=>b in w?String(w[b]):"")}(o.properties,d)}createBucket(n){return new rg(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of Ry().paint.overridableProperties){if(!sg.hasPaintOverride(this.layout,n))continue;const o=this.paint.get(n),u=new r4(o),g=new cf(u,o.property.specification,this.scope,this.options);let d=null;d=o.value.kind==="constant"||o.value.kind==="source"?new hf("source",g):new tc("composite",g,o.value.zoomStops,o.value._interpolationType),this.paint._values[n]=new sc(o.property,d,o.parameters)}}_handleOverridablePaintPropertyUpdate(n,o,u){return!(!this.layout||o.isDataDriven()||u.isDataDriven())&&sg.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,o){const u=n.get("text-field"),g=Ry().paint.properties[o];let d=!1;const _=w=>{for(const T of w)if(g.overrides&&g.overrides.hasOverride(T))return void(d=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Vr)_(u.value.value.sections);else if(u.value.kind==="source"){const w=D=>{d||(D instanceof ks&&xn(D.value)===ja?_(D.value.sections):D instanceof qa?_(D.sections):D.eachChild(w))},T=u.value;T._styleExpression&&w(T._styleExpression.expression)}return d}getProgramIds(){return["symbol"]}getDefaultProgramParams(n,o,u){return{config:new pl(this,{zoom:o,lut:u}),overrideFog:!1}}}let s4,a4,o4,l4;var zy=Hi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function Fy(h){switch(h){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function By(h){switch(h){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class Ny{constructor(n,o,u,g){this.context=n,this.format=u,this.useMipmap=g&&g.useMipmap,this.texture=n.gl.createTexture(),this.update(o,{premultiply:g&&g.premultiply})}update(n,o){const u=n&&n instanceof HTMLVideoElement&&n.width===0?n.videoWidth:n.width,g=n&&n instanceof HTMLVideoElement&&n.height===0?n.videoHeight:n.height,{context:d}=this,{gl:_}=d,{x:w,y:T}=o&&o.position?o.position:{x:0,y:0},D=w+u,b=T+g;!this.size||this.size[0]===D&&this.size[1]===b||(_.bindTexture(_.TEXTURE_2D,null),_.deleteTexture(this.texture),this.texture=_.createTexture(),this.size=null),_.bindTexture(_.TEXTURE_2D,this.texture),d.pixelStoreUnpackFlipY.set(!1),d.pixelStoreUnpack.set(1),d.pixelStoreUnpackPremultiplyAlpha.set(this.format===_.RGBA8&&(!o||o.premultiply!==!1));const E=n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||ImageBitmap&&n instanceof ImageBitmap;if(!this.size&&D>0&&b>0){const I=this.useMipmap?Math.floor(Math.log2(Math.max(D,b)))+1:1;_.texStorage2D(_.TEXTURE_2D,I,this.format,D,b),this.size=[D,b]}if(this.size)if(E)_.texSubImage2D(_.TEXTURE_2D,0,w,T,Fy(this.format),By(this.format),n);else{const I=n.data;I&&_.texSubImage2D(_.TEXTURE_2D,0,w,T,u,g,Fy(this.format),By(this.format),I)}this.useMipmap&&_.generateMipmap(_.TEXTURE_2D)}bind(n,o,u=!1){const{context:g}=this,{gl:d}=g;d.bindTexture(d.TEXTURE_2D,this.texture),n!==this.minFilter&&(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,n),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,this.useMipmap&&!u?n===d.NEAREST?d.NEAREST_MIPMAP_NEAREST:d.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),o!==this.wrapS&&(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,o),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,o),this.wrapS=o)}bindExtraParam(n,o,u,g){const{context:d}=this,{gl:_}=d;_.bindTexture(_.TEXTURE_2D,this.texture),o!==this.magFilter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,o),this.magFilter=o),n!==this.minFilter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this.useMipmap?n===_.NEAREST?_.NEAREST_MIPMAP_NEAREST:_.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),u!==this.wrapS&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,u),this.wrapS=u),g!==this.wrapT&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,g),this.wrapT=g)}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class ag{constructor(n,o){this.context=n,this.texture=o}bind(n,o){const{context:u}=this,{gl:g}=u;g.bindTexture(g.TEXTURE_2D,this.texture),n!==this.minFilter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n),this.minFilter=n),o!==this.wrapS&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,o),this.wrapS=o)}}function og(h,n,o,u,g,d,_,w){const T=[h,n,1,o,u,1,g,d,1],D=[_,w,1],b=Ie.mat3.adjoint([],T),[E,I,S]=Ie.vec3.transformMat3(D,D,b);return Ie.mat3.multiply(T,T,[E,0,0,0,I,0,0,0,S])}function c4(h,n,o,u,g,d,_,w){const T=function(D,b,E,I,S,A,k,B){const N=og(0,0,1,0,1,1,0,1),$=og(D,b,E,I,S,A,k,B),W=Ie.mat3.adjoint([],N);return Ie.mat3.multiply($,$,W)}(h,n,o,u,g,d,_,w);return[T[2]/T[8]/At,T[5]/T[8]/At]}function lg(h){return[h[0],Math.min(Math.max(h[1],-zn),zn)]}class h4 extends Hl{constructor(n,o,u,g){super(),this.id=n,this.dispatcher=u,this.coordinates=o.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(g),this.options=o,this._dirty=!1}load(n,o){if(this._loaded=o||!1,this.fire(new mo("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return n&&(this.coordinates=n),this._loaded=!0,void this._finishLoading();this._imageRequest=Tu(this.map._requestManager.transformRequest(this.url,Yo.Image),(u,g)=>{this._imageRequest=null,this._loaded=!0,u?this.fire(new go(u)):g&&(this.image=g instanceof HTMLImageElement?Dt.getImageData(g):g,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,n&&(this.coordinates=n),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return n.url?(this._imageRequest&&n.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=n.url,this.load(n.coordinates,this._loaded),this):this}setTexture(n){if(!(n.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new ag(this.map.painter.context,n.handle),this.width=n.dimensions[0],this.height=n.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new mo("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(n){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof ag||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(n){if(this.coordinates=n,this._boundsArray=void 0,this._unsupportedCoords=!1,!n.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let o=n[0][1],u=n[0][1];for(const d of n)d[1]>u&&(u=d[1]),d[1]<o&&(o=d[1]);const g=(u+o)/2;if(g>zn?this.onNorthPole=!0:g<-zn&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const d=n.map(m.fromLngLat);this.tileID=function(_){let w=1/0,T=1/0,D=-1/0,b=-1/0;for(const k of _)w=Math.min(w,k.x),T=Math.min(T,k.y),D=Math.max(D,k.x),b=Math.max(b,k.y);const E=Math.max(D-w,b-T),I=Math.max(0,Math.floor(-Math.log(E)/Math.LN2)),S=Math.pow(2,I);let A=Math.floor((w+D)/2*S);return A>1&&(A-=1),new nt(I,A,Math.floor((T+b)/2*S))}(d),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new mo("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(n){for(const N in this.tiles){const $=this.tiles[N];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const o=Qf(new nt(0,0,0),this.map.transform.projection),u=[o.projection.project(this.coordinates[0][0],this.coordinates[0][1]),o.projection.project(this.coordinates[1][0],this.coordinates[1][1]),o.projection.project(this.coordinates[2][0],this.coordinates[2][1]),o.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(N){const $=N[1].x-N[0].x,W=N[1].y-N[0].y,j=N[2].x-N[1].x,Y=N[2].y-N[1].y,K=N[3].x-N[2].x,te=N[3].y-N[2].y,ue=N[0].x-N[3].x,ce=N[0].y-N[3].y,oe=$*Y-j*W,Me=j*te-K*Y,pe=K*ce-ue*te,Te=ue*W-$*ce;return oe>0&&Me>0&&pe>0&&Te>0||oe<0&&Me<0&&pe<0&&Te<0}(u))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const g=Qf(this.tileID,this.map.transform.projection),[d,_,w,T]=this.coordinates.map(N=>{const $=g.projection.project(N[0],N[1]);return XM(g,$)._round()});this.perspectiveTransform=c4(d.x,d.y,_.x,_.y,w.x,w.y,T.x,T.y);const D=this._boundsArray=new bo;D.emplaceBack(d.x,d.y,0,0),D.emplaceBack(_.x,_.y,At,0),D.emplaceBack(T.x,T.y,0,At),D.emplaceBack(w.x,w.y,At,At),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=n.createVertexBuffer(D,zy.members),this.boundsSegments=Un.simpleSegment(0,0,4,2);const b=[],E=[lg((I=this.coordinates)[0]),lg(I[1]),lg(I[2]),lg(I[3])];var I;const[S,A,k,B]=function(N){let $=N[0][0],W=$,j=N[0][1],Y=j;for(let K=1;K<N.length;K++)N[K][0]<$?$=N[K][0]:N[K][0]>W&&(W=N[K][0]),N[K][1]<j?j=N[K][1]:N[K][1]>Y&&(Y=N[K][1]);return[$,j,W-$,Y-j]}(E);{const N=new bo,[$,W,j,Y]=function(Ve){let He=Ve[0].x,Be=He,Ke=Ve[0].y,ft=Ke;for(let Qe=1;Qe<Ve.length;Qe++)Ve[Qe].x<He?He=Ve[Qe].x:Ve[Qe].x>Be&&(Be=Ve[Qe].x),Ve[Qe].y<Ke?Ke=Ve[Qe].y:Ve[Qe].y>ft&&(ft=Ve[Qe].y);return[He,Ke,Be-He,ft-Ke]}(u),K=Ve=>[(Ve.x-$)/j,(Ve.y-W)/Y],[te,ue,ce,oe]=u.map(K),Me=function(Ve,He,Be,Ke,ft,Qe,St,Mt){const Pt=og(0,0,1,0,1,1,0,1),ot=og(Ve,He,Be,Ke,ft,Qe,St,Mt),Ut=Ie.mat3.adjoint([],ot);return Ie.mat3.multiply(Pt,Pt,Ut)}(te[0],te[1],ue[0],ue[1],ce[0],ce[1],oe[0],oe[1]);this.elevatedGlobePerspectiveTransform=c4(te[0],te[1],ue[0],ue[1],ce[0],ce[1],oe[0],oe[1]);const pe=(Ve,He)=>{b.push(Ve.lng);const Be=Math.round((Ve.lng-S)/k*At),Ke=Math.round((Ve.lat-A)/B*At),ft=K(He),Qe=Ie.vec3.transformMat3([],[ft[0],ft[1],1],Me),St=Math.round(Qe[0]/Qe[2]*At),Mt=Math.round(Qe[1]/Qe[2]*At);N.emplaceBack(Be,Ke,St,Mt)},Te=u[3].x-u[0].x,Pe=u[3].y-u[0].y,Ae=u[2].x-u[1].x,ke=u[2].y-u[1].y;for(let Ve=0;Ve<65;Ve++){const He=Ve/64,Be=[u[0].x+He*Te,u[0].y+He*Pe],Ke=[u[1].x+He*Ae,u[1].y+He*ke],ft=Ke[0]-Be[0],Qe=Ke[1]-Be[1];for(let St=0;St<65;St++){const Mt=St/64,Pt={x:Be[0]+ft*Mt,y:Be[1]+Qe*Mt,z:0};pe(o.projection.unproject(Pt.x,Pt.y),Pt)}}this.elevatedGlobeVertexBuffer=n.createVertexBuffer(N,zy.members)}{this.maxLongitudeTriangleSize=0;let N=[],$=new Fr;const W=(j,Y,K)=>{$.emplaceBack(j,Y,K);const te=b[j],ue=b[Y],ce=b[K],oe=Math.min(Math.min(te,ue),ce),Me=Math.max(Math.max(te,ue),ce)-oe;Me>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Me),N.push(oe+Me/2)};for(let j=0;j<64;j++)for(let Y=0;Y<64;Y++){const K=65*j+Y,te=K+1,ue=K+65,ce=ue+1;W(K,ue,te),W(te,ue,ce)}[N,$]=function(j,Y){const K=Array.from({length:j.length},(ce,oe)=>oe);K.sort((ce,oe)=>j[ce]-j[oe]);const te=[],ue=new Fr;for(let ce=0;ce<K.length;ce++){const oe=K[ce];te.push(j[oe]);const Me=3*oe,pe=Me+1;ue.emplaceBack(Y.uint16[Me],Y.uint16[pe],Y.uint16[pe+1])}return[te,ue]}(N,$),this.elevatedGlobeTrianglesCenterLongitudes=N,this.elevatedGlobeIndexBuffer=n.createIndexBuffer($)}this.elevatedGlobeSegments=Un.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,k/At,0,B/At,0,0,A,S,0])}prepare(){const n=Object.keys(this.tiles).length!==0;if(this.tileID&&!n)return;const o=this.map.painter.context,u=o.gl;!this._dirty||this.texture instanceof ag||(this.texture?this.texture.update(this.image):(this.texture=new Ny(o,this.image,u.RGBA8),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE)),this._dirty=!1),n&&this._prepareData(o)}loadTile(n,o){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},o(null)):(n.state="errored",o(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(n){const o=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!o)return null;const u=this.elevatedGlobeTrianglesCenterLongitudes;let g=(d=n+180)+360*Math.round((u[0]-d)/360);var d;const _=new Un,w=(E,I)=>{_.segments.push({vertexOffset:0,primitiveOffset:E,vertexLength:o.segments[0].vertexLength,primitiveLength:I,sortKey:void 0,vaos:{}})},T=.51*this.maxLongitudeTriangleSize;if(Math.abs(u[0]-g)<=T){const E=xe(u,0,u.length,g+T);return E===u.length||w(E,st(u,E+1,u.length,g+360-T)-E),_}g<u[0]&&(g+=360);const D=st(u,0,u.length,g-T);if(D===u.length)return w(0,u.length),_;w(0,D-0);const b=xe(u,D+1,u.length,g+T);return b!==u.length&&w(b,u.length-b),_}}const JD=(Math.pow(256,2)-1)/16907520;class u4 extends ss{constructor(n,o,u,g){super(n,{layout:o4||(o4=new On({visibility:new xt(qe.layout_raster.visibility)})),paint:l4||(l4=new On({"raster-opacity":new xt(qe.paint_raster["raster-opacity"]),"raster-color":new xo(qe.paint_raster["raster-color"]),"raster-color-mix":new xt(qe.paint_raster["raster-color-mix"]),"raster-color-range":new xt(qe.paint_raster["raster-color-range"]),"raster-hue-rotate":new xt(qe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new xt(qe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new xt(qe.paint_raster["raster-brightness-max"]),"raster-saturation":new xt(qe.paint_raster["raster-saturation"]),"raster-contrast":new xt(qe.paint_raster["raster-contrast"]),"raster-resampling":new xt(qe.paint_raster["raster-resampling"]),"raster-fade-duration":new xt(qe.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new xt(qe.paint_raster["raster-emissive-strength"]),"raster-array-band":new xt(qe.paint_raster["raster-array-band"]),"raster-elevation":new xt(qe.paint_raster["raster-elevation"]),"raster-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},o,u,g),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(n){return!(n&&n._source instanceof h4&&(n._source.onNorthPole||n._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(n){n!=="raster-color"&&n!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(n){if(!this.hasColorMap()||!this._curRampRange)return;const o=this._transitionablePaint._values["raster-color"].value.expression,[u,g]=n||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(u)&&isNaN(g)||u===this._curRampRange[0]&&g===this._curRampRange[1]||(this.colorRamp=Bf({expression:o,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:u,end:g}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[u,g])}}let d4,p4,f4,m4,g4;class _4 extends ss{constructor(n,o,u,g){super(n,{layout:d4||(d4=new On({visibility:new xt(qe["layout_raster-particle"].visibility)})),paint:p4||(p4=new On({"raster-particle-array-band":new xt(qe["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new xt(qe["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new xo(qe["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new xt(qe["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new xt(qe["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new xt(qe["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new xt(qe["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new xt(qe["paint_raster-particle"]["raster-particle-elevation"]),"raster-particle-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},o,u,g),this._updateColorRamp(),this.lastInvalidatedAt=Dt.now()}onRemove(n){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(n){return!1}_handleSpecialPaintPropertyUpdate(n){n!=="raster-particle-color"&&n!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),n==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const n=this._transitionablePaint._values["raster-particle-color"].value.expression,o=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Bf({expression:n,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:o}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=Dt.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class QD extends ss{constructor(n,o){super(n,{},o,null),this.implementation=n,n.slot&&(this.slot=n.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(n){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}function Vy(h,n,o){const u=[0,0,1],g=Ie.quat.identity([]);return Ie.quat.rotateY(g,g,o?-Mi(h)+Math.PI:Mi(h)),Ie.quat.rotateX(g,g,-Mi(n)),Ie.vec3.transformQuat(u,u,g),Ie.vec3.normalize(u,u)}function y4(h,n){const o=cg(h.projection,h.zoom,h.width,h.height),u=function(d,_,w,T,D){const b=new Fi(w.lng-180*vc,w.lat),E=new Fi(w.lng+180*vc,w.lat),I=d.project(b.lng,b.lat),S=d.project(E.lng,E.lat),A=-Math.atan2(S.y-I.y,S.x-I.x),k=m.fromLngLat(w);k.y=li(k.y,-1+vc,1-vc);const B=k.toLngLat(),N=d.project(B.lng,B.lat),$=m.fromLngLat(B);$.x+=vc;const W=$.toLngLat(),j=d.project(W.lng,W.lat),Y=x4(j.x-N.x,j.y-N.y,A),K=m.fromLngLat(B);K.y+=vc;const te=K.toLngLat(),ue=d.project(te.lng,te.lat),ce=x4(ue.x-N.x,ue.y-N.y,A),oe=Math.abs(Y.x)/Math.abs(ce.y),Me=Ie.mat4.identity([]);Ie.mat4.rotateZ(Me,Me,-A*(1-(D?0:T)));const pe=Ie.mat4.identity([]);return Ie.mat4.scale(pe,pe,[1,1-(1-oe)*T,1]),pe[4]=-ce.x/ce.y*T,Ie.mat4.rotateZ(pe,pe,A),Ie.mat4.multiply(pe,Me,pe),pe}(h.projection,0,h.center,o,n),g=v4(h);return Ie.mat4.scale(u,u,[g,g,1]),u}function v4(h){const n=h.projection,o=cg(h.projection,h.zoom,h.width,h.height),u=Hy(n,h.center),g=Hy(n,Fi.convert(n.center));return Math.pow(2,u*o+(1-o)*g)}function cg(h,n,o,u,g=1/0){const d=h.range;if(!d)return 0;const _=Math.min(g,Math.max(o,u)),w=Math.log(_/1024)/Math.LN2;return Xs(d[0]+w,d[1]+w,n)}const vc=1/4e4;function Hy(h,n){const o=li(n.lat,-zn,zn),u=new Fi(n.lng-180*vc,o),g=new Fi(n.lng+180*vc,o),d=h.project(u.lng,o),_=h.project(g.lng,o),w=m.fromLngLat(u),T=m.fromLngLat(g),D=_.x-d.x,b=_.y-d.y,E=T.x-w.x,I=T.y-w.y,S=Math.sqrt((E*E+I*I)/(D*D+b*b));return Math.log(S)/Math.LN2}function x4(h,n,o){const u=Math.cos(o),g=Math.sin(o);return{x:h*u-n*g,y:h*g+n*u}}function b4(h,n,o){Ie.mat4.identity(h),Ie.mat4.rotateZ(h,h,Mi(n[2])),Ie.mat4.rotateX(h,h,Mi(n[0])),Ie.mat4.rotateY(h,h,Mi(n[1])),Ie.mat4.scale(h,h,o),Ie.mat4.multiply(h,h,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function hg(h,n,o,u,g,d,_,w){const T=[o[0]-n[0],o[1]-n[1],0],D=[u[0]-n[0],u[1]-n[1],0];if(Ie.vec3.length(T)<1e-12||Ie.vec3.length(D)<1e-12)return Ie.quat.identity(h);const b=Ie.vec3.cross([],T,D);Ie.vec3.normalize(b,b),Ie.vec3.subtract(D,u,n),T[2]=(d-g)*w,D[2]=(_-g)*w;const E=T;return Ie.vec3.cross(E,T,D),Ie.vec3.normalize(E,E),Ie.quat.rotationTo(h,b,E)}function Uy(h,n,o=!1){const u=Jr(n.zoom),g=function(d,_,w){const T=_.worldSize,D=[d[12],d[13],d[14]],b=Er(D[1]/T),E=fs(D[0]/T),I=Ie.mat4.identity([]),S=Xr(1,b)*T,A=Xr(1,0)*T*f(b,_.zoom),k=1/Ss(T);let B=A*k;if(w){const j=cg(_.projection,_.zoom,_.width,_.height,1024);B=k*_.projection.pixelSpaceConversion(_.center.lat,T,j)}const N=Co(b,E);Ie.vec3.add(N,N,Ie.vec3.scale([],Ie.vec3.normalize([],N),S*B*D[2]));const $=function(j){const Y=[j[0],j[1],j[2]];let K=[0,1,0];const te=Ie.vec3.cross([],K,Y);return Ie.vec3.cross(K,Y,te),Ie.vec3.squaredLength(K)===0&&(K=[0,1,0],Ie.vec3.cross(te,Y,K)),Ie.vec3.normalize(te,te),Ie.vec3.normalize(K,K),Ie.vec3.normalize(Y,Y),[te[0],te[1],te[2],0,K[0],K[1],K[2],0,Y[0],Y[1],Y[2],0,j[0],j[1],j[2],1]}(N);Ie.mat4.scale(I,I,[B,B,B*S]),Ie.mat4.translate(I,I,[-D[0],-D[1],-D[2]]);const W=Ie.mat4.multiply([],_.globeMatrix,$);return Ie.mat4.multiply(W,W,I),Ie.mat4.multiply(W,W,d),W}(h,n,o);if(u>0){const d=function(_,w){const T=w.worldSize,D=Xr(1,0)*T*f(w.center.lat,w.zoom)/Ss(T),b=Xr(1,w.center.lat)*T,E=Ie.mat4.identity([]);return Ie.mat4.rotateY(E,E,Mi(w.center.lng)),Ie.mat4.rotateX(E,E,Mi(w.center.lat)),Ie.mat4.translate(E,E,[0,0,Yr]),Ie.mat4.scale(E,E,[D,D,D*b]),Ie.mat4.translate(E,E,[w.point.x-.5*T,w.point.y-.5*T,0]),Ie.mat4.multiply(E,E,_),Ie.mat4.multiply(E,w.globeMatrix,E)}(h,n);return function(_,w,T){const D=(A,k,B)=>{const N=Ie.vec3.length(A),$=Ie.vec3.length(k),W=br(A,k,B);return Ie.vec3.scale(W,W,1/Ie.vec3.length(W)*ei(N,$,B))},b=D([_[0],_[1],_[2]],[w[0],w[1],w[2]],T),E=D([_[4],_[5],_[6]],[w[4],w[5],w[6]],T),I=D([_[8],_[9],_[10]],[w[8],w[9],w[10]],T),S=br([_[12],_[13],_[14]],[w[12],w[13],w[14]],T);return[b[0],b[1],b[2],0,E[0],E[1],E[2],0,I[0],I[1],I[2],0,S[0],S[1],S[2],1]}(g,d,u)}return g}function w4(h,n,o,u){const g=Yt.projectAabbCorners(u,o);let d=Number.MAX_VALUE,_=-1;for(let D=0;D<g.length;++D){const b=g[D];b[0]=(.5*b[0]+.5)*n.width,b[1]=(.5-.5*b[1])*n.height,b[2]<d&&(_=D,d=b[2])}const w=D=>new Ct(g[D][0],g[D][1]);let T;switch(_){case 0:case 6:T=[w(1),w(5),w(4),w(7),w(3),w(2),w(1)];break;case 1:case 7:T=[w(0),w(4),w(5),w(6),w(2),w(3),w(0)];break;case 3:case 5:T=[w(1),w(0),w(4),w(7),w(6),w(2),w(1)];break;default:T=[w(1),w(5),w(6),w(7),w(3),w(0),w(1)]}if(ie(h,T))return d}const eL=Hi([{name:"a_pos_3f",components:3,type:"Float32"}]),tL=Hi([{name:"a_color_3f",components:3,type:"Float32"}]),iL=Hi([{name:"a_color_4f",components:4,type:"Float32"}]),nL=Hi([{name:"a_uv_2f",components:2,type:"Float32"}]),rL=Hi([{name:"a_normal_3f",components:3,type:"Float32"}]),sL=Hi([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),aL=Hi([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),M4={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class ug{constructor(n,o,u,g){this.message=(n?`${n}: `:"")+u,g&&(this.identifier=g),o!=null&&o.__line__&&(this.line=o.__line__)}}function S4(h,n){const o=h.indexOf("://")===-1;try{return new URL(h,o&&n?"http://example.com":void 0),!0}catch{return!1}}class T4{constructor(n,o){this.feature=n,this.instancedDataOffset=o,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class E4{constructor(){this.instancedDataArray=new Df,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class jy{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.fqid),this.projection=n.projection,this.index=n.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(n,o){}populate(n,o,u,g){this.tileToMeter=l(u);const d=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:_,id:w,index:T,sourceLayerIndex:D}of n){const b=w??(_.properties&&_.properties.hasOwnProperty("id")?_.properties.id:void 0),E=U(_,d);if(!this.layers[0]._featureFilter.filter(new yn(this.zoom),E,u))continue;const I={id:b,sourceLayerIndex:D,index:T,geometry:d?E.geometry:H(_,u,g),properties:_.properties,type:_.type,patterns:{}},S=this.addFeature(I,I.geometry,E);S&&o.featureIndex.insert(_,I.geometry,T,D,this.index,this.instancesPerModel[S].instancedDataArray.length,At/32)}this.lookup=null}update(n,o,u,g){for(const d in this.instancesPerModel){const _=this.instancesPerModel[d];for(const w in n)_.idToFeaturesIndex.hasOwnProperty(w)&&(this.evaluate(_.features[_.idToFeaturesIndex[w]],n[w],_,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let n=!1;for(const o in this.instancesPerModel){const u=this.instancesPerModel[o];for(const g of u.features){const d=this.layers[0],_=g.feature,w=this.canonical,T=d.paint.get("model-rotation").evaluate(_,{},w),D=d.paint.get("model-scale").evaluate(_,{},w),b=d.paint.get("model-translation").evaluate(_,{},w);Ie.vec3.exactEquals(g.rotation,T)&&Ie.vec3.exactEquals(g.scale,D)&&Ie.vec3.exactEquals(g.translation,b)||(this.evaluate(g,g.featureStates,u,!0),n=!0)}}return n}updateReplacement(n,o,u,g){if(o.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=o.updateTime;const d=o.getReplacementRegionsForTile(n.toUnwrapped(),!0);if(fy(this.activeReplacements,d))return!1;this.activeReplacements=d;let _=!1;for(const w in this.instancesPerModel){const T=this.instancesPerModel[w],D=T.instancedDataArray;for(const b of T.features){const E=b.instancedDataOffset,I=b.instancedDataCount;for(let S=0;S<I;S++){const A=16*(S+E);let k=D.float32[A+0];const B=k>At;k=B?k-At:k;const N=Math.floor(k),$=D.float32[A+1];let W=!1;for(const j of this.activeReplacements)if(!Vw(j,u,M4.Model,g)&&!(j.min.x>N||N>j.max.x||j.min.y>$||$>j.max.y)&&(W=Gw($w(N,$,n.canonical,j.footprintTileId.canonical),j.footprint),W))break;D.float32[A]=W?k+At:k,_=_||W!==B}}}return _}isEmpty(){for(const n in this.instancesPerModel)if(this.instancesPerModel[n].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(n){if(!this.uploaded)for(const o in this.instancesPerModel){const u=this.instancesPerModel[o];u.instancedDataArray.length<0||u.instancedDataArray.length===0||(u.instancedDataBuffer?u.instancedDataBuffer.updateData(u.instancedDataArray):u.instancedDataBuffer=n.createVertexBuffer(u.instancedDataArray,sL.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const o in this.instancesPerModel){const u=this.instancesPerModel[o];u.instancedDataArray.length!==0&&u.instancedDataBuffer&&u.instancedDataBuffer.destroy()}const n=this.layers[0].modelManager;if(n&&this.modelUris)for(const o of this.modelUris)n.removeModel(o,"")}addFeature(n,o,u){const g=this.layers[0],d=g.layout.get("model-id").evaluate(u,{},this.canonical);if(!d)return yi(`modelId is not evaluated for layer ${g.id} and it is not going to get rendered.`),d;S4(d,!1)&&(this.modelUris.includes(d)||this.modelUris.push(d)),this.instancesPerModel[d]||(this.instancesPerModel[d]=new E4);const _=this.instancesPerModel[d],w=_.instancedDataArray,T=new T4(u,w.length);for(const D of o)for(const b of D){if(b.x<0||b.x>=At||b.y<0||b.y>=At)continue;const E=(this.lookupDim-1)/At,I=this.lookupDim*(b.y*E|0)+b.x*E|0;if(this.lookup){if(this.lookup[I]!==0)continue;this.lookup[I]=1}this.instanceCount++;const S=w.length;w.resize(S+1),_.instancesEvaluatedElevation.push(0),w.float32[16*S]=b.x,w.float32[16*S+1]=b.y}return T.instancedDataCount=_.instancedDataArray.length-T.instancedDataOffset,T.instancedDataCount>0&&(n.id&&(_.idToFeaturesIndex[n.id]=_.features.length),_.features.push(T),this.evaluate(T,{},_,!1)),d}getModelUris(){return this.modelUris}evaluate(n,o,u,g){const d=this.layers[0],_=n.feature,w=this.canonical,T=n.rotation=d.paint.get("model-rotation").evaluate(_,o,w),D=n.scale=d.paint.get("model-scale").evaluate(_,o,w),b=n.translation=d.paint.get("model-translation").evaluate(_,o,w),E=d.paint.get("model-color").evaluate(_,o,w);E.a=d.paint.get("model-color-mix-intensity").evaluate(_,o,w);const I=[];this.maxVerticalOffset<b[2]&&(this.maxVerticalOffset=b[2]),this.maxScale=Math.max(Math.max(this.maxScale,D[0]),Math.max(D[1],D[2])),b4(I,T,D);const S=Math.round(100*E.a)+E.b/1.05;for(let A=0;A<n.instancedDataCount;++A){const k=n.instancedDataOffset+A,B=16*k,N=u.instancedDataArray.float32;let $=0;g&&($=N[B+6]-u.instancesEvaluatedElevation[k]);const W=0|N[B+1];N[B]=(0|N[B])+E.r/1.05,N[B+1]=W+E.g/1.05,N[B+2]=S,N[B+3]=1/(w.z>10?this.tileToMeter:l(w,W)),N[B+4]=b[0],N[B+5]=b[1],N[B+6]=b[2]+$,N[B+7]=I[0],N[B+8]=I[1],N[B+9]=I[2],N[B+10]=I[4],N[B+11]=I[5],N[B+12]=I[6],N[B+13]=I[8],N[B+14]=I[9],N[B+15]=I[10],u.instancesEvaluatedElevation[k]=b[2]}}}let C4,A4;Nt(jy,"ModelBucket",{omit:["layers"]}),Nt(E4,"PerModelAttributes"),Nt(T4,"ModelFeature");const Oh=64,Nd={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function I4(h,n,o,u,g,d,_,w,T,D=!1){const b=o.zoom,E=o.project(u),I=f(u.lat,b),S=1/I;Ie.mat4.identity(h),Ie.mat4.translate(h,h,[E.x+_[0]*S,E.y+_[1]*S,_[2]]);let A=1,k=1;const B=o.worldSize;if(D){if(o.projection.name==="mercator"){let j=0;o.elevation&&(j=o.elevation.getAtPointOrZero(new m(E.x/B,E.y/B),0));const Y=Ie.vec4.transformMat4([],[E.x,E.y,j,1],o.projMatrix)[3]/o.cameraToCenterDistance;A=Y,k=Y*f(o.center.lat,b)}else if(o.projection.name==="globe"){const j=Uy(h,o),Y=Ie.mat4.multiply([],o.projMatrix,j),K=[0,0,0,1];Ie.vec4.transformMat4(K,K,Y);const te=K[3]/o.cameraToCenterDistance,ue=Jr(b),ce=o.projection.pixelsPerMeter(u.lat,B)*f(u.lat,b),oe=o.projection.pixelsPerMeter(o.center.lat,B)*f(o.center.lat,b);A=te/ei(ce,iy(o.center.lat),ue),k=te*I/ce,A*=oe,k*=oe}}else A=S;Ie.mat4.scale(h,h,[A,A,k]);const N=[...h],$=n.orientation,W=[];if(b4(W,[$[0]+g[0],$[1]+g[1],$[2]+g[2]],d),Ie.mat4.multiply(h,N,W),w&&o.elevation){let j=0;const Y=[];if(T&&o.elevation){j=function(ue,ce,oe,Me,pe){const Te=ce.elevation;if(!Te)return 0;const Pe=Yt.projectAabbCorners(oe,Me),Ae=Xr(1,pe.lat)*ce.worldSize,ke=function(Ut,Et){const Ht=[0,0,1],Xt=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const di of Xt){const fi=Ut[di.corners[0]],bi=Ut[di.corners[1]],mi=Ut[di.corners[2]],Ti=[bi[0]-fi[0],bi[1]-fi[1],Et*(bi[2]-fi[2])],ln=Ie.vec3.cross(Ti,Ti,[mi[0]-fi[0],mi[1]-fi[1],Et*(mi[2]-fi[2])]);Ie.vec3.normalize(ln,ln),di.dotProductWithUp=Ie.vec3.dot(ln,Ht)}return Xt.sort((di,fi)=>di.dotProductWithUp-fi.dotProductWithUp),Xt[0].corners}(Pe,Ae),Ve=Pe[ke[0]],He=Pe[ke[1]],Be=Pe[ke[2]],Ke=Pe[ke[3]],ft=Te.getAtPointOrZero(new m(Ve[0]/ce.worldSize,Ve[1]/ce.worldSize),0),Qe=Te.getAtPointOrZero(new m(He[0]/ce.worldSize,He[1]/ce.worldSize),0),St=Te.getAtPointOrZero(new m(Be[0]/ce.worldSize,Be[1]/ce.worldSize),0),Mt=Te.getAtPointOrZero(new m(Ke[0]/ce.worldSize,Ke[1]/ce.worldSize),0),Pt=(ft+Mt)/2,ot=(Qe+St)/2;return Pt>ot?Qe<St?hg(ue,He,Ke,Ve,Qe,Mt,ft,Ae):hg(ue,Be,Ve,Ke,St,ft,Mt,Ae):ft<Mt?hg(ue,Ve,He,Be,ft,Qe,St,Ae):hg(ue,Ke,Be,He,Mt,St,Qe,Ae),Math.max(Pt,ot)}(Y,o,n.aabb,h,u);const K=Ie.mat4.fromQuat([],Y),te=Ie.mat4.multiply([],K,W);Ie.mat4.multiply(h,N,te)}else j=o.elevation.getAtPointOrZero(new m(E.x/B,E.y/B),0);j!==0&&(h[14]+=j)}}function r1(h,n,o=!1){h.uploaded||(h.gfxTexture=new Ny(n,h.image,o?n.gl.R8:n.gl.RGBA8,{useMipmap:h.sampler.minFilter>=n.gl.NEAREST_MIPMAP_NEAREST}),h.uploaded=!0,h.image=null)}function oL(h,n,o){h.indexBuffer=n.createIndexBuffer(h.indexArray,!1,!0),h.vertexBuffer=n.createVertexBuffer(h.vertexArray,eL.members,!1,!0),h.normalArray&&(h.normalBuffer=n.createVertexBuffer(h.normalArray,rL.members,!1,!0)),h.texcoordArray&&(h.texcoordBuffer=n.createVertexBuffer(h.texcoordArray,nL.members,!1,!0)),h.colorArray&&(h.colorBuffer=n.createVertexBuffer(h.colorArray,(h.colorArray.bytesPerElement===12?tL:iL).members,!1,!0)),h.featureArray&&(h.pbrBuffer=n.createVertexBuffer(h.featureArray,aL.members,!0)),h.segments=Un.simpleSegment(0,0,h.vertexArray.length,h.indexArray.length);const u=h.material;u.pbrMetallicRoughness.baseColorTexture&&r1(u.pbrMetallicRoughness.baseColorTexture,n),u.pbrMetallicRoughness.metallicRoughnessTexture&&r1(u.pbrMetallicRoughness.metallicRoughnessTexture,n),u.normalTexture&&r1(u.normalTexture,n),u.occlusionTexture&&r1(u.occlusionTexture,n,o),u.emissionTexture&&r1(u.emissionTexture,n)}function qy(h,n,o){if(h.meshes)for(const u of h.meshes)oL(u,n,o);if(h.children)for(const u of h.children)qy(u,n,o)}function dg(h){if(h.meshes)for(const n of h.meshes)n.indexArray.destroy(),n.vertexArray.destroy(),n.colorArray&&n.colorArray.destroy(),n.normalArray&&n.normalArray.destroy(),n.texcoordArray&&n.texcoordArray.destroy(),n.featureArray&&n.featureArray.destroy();if(h.children)for(const n of h.children)dg(n)}function $y(h){if(h.meshes)for(const o of h.meshes)o.vertexBuffer&&(o.vertexBuffer.destroy(),o.indexBuffer.destroy(),o.normalBuffer&&o.normalBuffer.destroy(),o.texcoordBuffer&&o.texcoordBuffer.destroy(),o.colorBuffer&&o.colorBuffer.destroy(),o.pbrBuffer&&o.pbrBuffer.destroy(),o.segments.destroy(),o.material&&((n=o.material).pbrMetallicRoughness.baseColorTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),n.pbrMetallicRoughness.metallicRoughnessTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),n.normalTexture&&n.normalTexture.gfxTexture&&n.normalTexture.gfxTexture.destroy(),n.emissionTexture&&n.emissionTexture.gfxTexture&&n.emissionTexture.gfxTexture.destroy(),n.occlusionTexture&&n.occlusionTexture.gfxTexture&&n.occlusionTexture.gfxTexture.destroy()));var n;if(h.children)for(const o of h.children)$y(o)}class Vd{constructor(n,o,u){this._demTile=n,this._dem=this._demTile.dem,this._scale=o,this._offset=u}static create(n,o,u){const g=u||n.findDEMTileFor(o);if(!g||!g.dem)return;const d=g.dem,_=g.tileID,w=1<<o.canonical.z-_.canonical.z;return new Vd(g,d.dim/At/w,[(o.canonical.x/w-_.canonical.x)*d.dim,(o.canonical.y/w-_.canonical.y)*d.dim])}tileCoordToPixel(n,o){const u=o*this._scale+this._offset[1],g=Math.floor(n*this._scale+this._offset[0]),d=Math.floor(u);return new Ct(g,d)}getElevationAt(n,o,u,g){const d=n*this._scale+this._offset[0],_=o*this._scale+this._offset[1],w=Math.floor(d),T=Math.floor(_),D=this._dem;return g=!!g,u?ei(ei(D.get(w,T,g),D.get(w,T+1,g),_-T),ei(D.get(w+1,T,g),D.get(w+1,T+1,g),_-T),d-w):D.get(w,T,g)}getElevationAtPixel(n,o,u){return this._dem.get(n,o,!!u)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*Xr(1,n)*this._dem.stride}}const Gy=new Float32Array(262144),Rh=new Uint8Array(262144);function P4(h){let n=0;if(h.meshes)for(const o of h.meshes)n=Math.max(n,o.aabb.max[2]);if(h.children)for(const o of h.children)n=Math.max(n,P4(o));return n}function D4(h,n,o){if(h.meshes)for(const u of h.meshes){if(u.aabb.min[0]===1/0)continue;const g=Yt.applyTransform(u.aabb,h.matrix);o.insert(n,g.min[0],g.min[1],g.max[0],g.max[1])}if(h.children)for(const u of h.children)D4(u,n,o)}const L4=["","wall","door","roof","window","lamp","logo"];class k4{constructor(n){this.node=n,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:n.id,geometry:[],properties:{height:P4(n)}},this.aabb=this._getLocalBounds(),this.state=null}_getLocalBounds(){if(!this.node.meshes)return new Yt([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let n=0;const o=new Yt([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const u of this.node.meshes)this.node.lightMeshIndex!==n&&(u.transformedAabb=Yt.applyTransformFast(u.aabb,this.node.matrix),o.encapsulate(u.transformedAabb)),n++;this.aabb=o}return this.aabb}}class pg{constructor(n,o,u,g,d,_,w){this.id=u,this.layers=n,this.layerIds=this.layers.map(T=>T.fqid),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.modelTraits|=Nd.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,g&&(this.modelTraits|=Nd.HasMapboxMeshFeatures),d&&(this.modelTraits|=Nd.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=_,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const T of o)this.nodesInfo.push(new k4(T)),D4(T,w.featureIndexArray.length,w.grid),w.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,w.bucketLayerIDs.length-1,0);this.states={}}updateFootprints(n,o){for(const u of this.getNodesInfo()){const g=u.node;g.footprint&&o.push({footprint:g.footprint,id:n})}}update(n){const o=Object.keys(n).length!==0;if(o&&!this.stateDependentLayers.length)return;const u=o?this.stateDependentLayers:this.layers;if(!is(n,this.states))for(const g of u)this.evaluate(g,n);this.states=structuredClone(n)}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(n){if(!this.needsUpload)return;const o=this.getNodesInfo();for(const u of o){const g=u.node;this.uploaded?this.updatePbrBuffer(g):qy(g,n,!0)}for(const u of o)dg(u.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(n){let o=!1;if(!n.meshes)return o;for(const u of n.meshes)u.pbrBuffer&&(u.pbrBuffer.updateData(u.featureArray),o=!0);return o}needsReEvaluation(n,o,u){const g=n.transform.projectionOptions,d=n.style.getBrightness(),_=this.brightness!==d;if(!this.uploaded||this.dirty||g.name!==this.projection.name||s1(u.paint.get("model-color").value,_)||s1(u.paint.get("model-color-mix-intensity").value,_)||s1(u.paint.get("model-roughness").value,_)||s1(u.paint.get("model-emissive-strength").value,_)||s1(u.paint.get("model-height-based-emissive-strength-multiplier").value,_)){this.projection=g,this.brightness=d;const w=this.getNodesInfo();for(const T of w)T.state=null;return!0}return!1}evaluateScale(n,o){if(n.transform.zoom===this.zoom)return;this.zoom=n.transform.zoom;const u=this.getNodesInfo(),g=this.id.canonical;for(const d of u){const _=d.feature;d.evaluatedScale=o.paint.get("model-scale").evaluate(_,{},g)}}evaluate(n,o){const u=this.getNodesInfo();for(const g of u){if(!g.node.meshes)continue;const d=g.feature,_=o&&o[d.id];if(is(_,g.state))continue;g.state=structuredClone(_);const w=g.node.meshes&&g.node.meshes[0].featureData,T=g.evaluatedColor[2],D=g.evaluatedRMEA[2],b=this.id.canonical;if(g.hasTranslucentParts=!1,w){for(let E=0;E<L4.length;E++){const I=L4[E];I.length&&(d.properties.part=I);const S=n.paint.get("model-color").evaluate(d,_,b).toRenderColor(null),A=n.paint.get("model-color-mix-intensity").evaluate(d,_,b);g.evaluatedColor[E]=[S.r,S.g,S.b,A],g.evaluatedRMEA[E][0]=n.paint.get("model-roughness").evaluate(d,_,b),g.evaluatedRMEA[E][2]=n.paint.get("model-emissive-strength").evaluate(d,_,b),g.evaluatedRMEA[E][3]=S.a,g.emissionHeightBasedParams[E]=n.paint.get("model-height-based-emissive-strength-multiplier").evaluate(d,_,b),!g.hasTranslucentParts&&S.a<1&&(g.hasTranslucentParts=!0)}delete d.properties.part,cL(g,T!==g.evaluatedColor[2]||D!==g.evaluatedRMEA[2],this.modelTraits)}else g.evaluatedRMEA[0][2]=n.paint.get("model-emissive-strength").evaluate(d,_,b);g.evaluatedScale=n.paint.get("model-scale").evaluate(d,_,b),this.updatePbrBuffer(g.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(n,o,u,g){const d=n.findDEMTileFor(u);if(d&&(d.tileID.canonical!==this.terrainTile||o!==this.terrainExaggeration)){if(d.dem&&d.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=d.tileID.overscaledZ;const _=Vd.create(n,u,d);if(!_)return;this.modelTraits&Nd.HasMapboxMeshFeatures&&this.updateDEM(n,_,u,g);for(const w of this.getNodesInfo()){const T=w.node;if(!T.footprint||!T.footprint.vertices||!T.footprint.vertices.length)continue;const D=T.footprint.vertices;let b=_.getElevationAt(D[0].x,D[0].y,!0,!0);for(let E=1;E<D.length;E++)b=Math.min(b,_.getElevationAt(D[E].x,D[E].y,!0,!0));T.elevation=b}}this.terrainTile=d.tileID.canonical,this.terrainExaggeration=o}}updateDEM(n,o,u,g){let d=o._dem._modifiedForSources[g];if(d===void 0&&(o._dem._modifiedForSources[g]=[],d=o._dem._modifiedForSources[g]),d.includes(u.canonical))return;const _=o._dem.dim;d.push(u.canonical);let w=!1;for(const T of this.getNodesInfo()){const D=T.node;if(!D.footprint||!D.footprint.grid)continue;const b=D.footprint.grid,E=o.tileCoordToPixel(b.min.x,b.min.y),I=o.tileCoordToPixel(b.max.x,b.max.y),S=Math.min(Math.min(_-I.y,E.x),Math.min(E.y,_-I.x));if(S<0)continue;const A=li(S,2,5);let k=Math.max(0,E.x-A),B=Math.max(0,E.y-A),N=Math.min(I.x+A,_-1),$=Math.min(I.y+A,_-1);for(let K=B;K<=$;++K)for(let te=k;te<=N;++te)Rh[K*_+te]=255;let W=0,j=0;for(let K=0;K<b.cellsY;++K)for(let te=0;te<b.cellsX;++te){if(!b.cells[K*b.cellsX+te])continue;const ue=o.tileCoordToPixel(b.min.x+te/b.xScale,b.min.y+K/b.yScale),ce=o.tileCoordToPixel(b.min.x+(te+1)/b.xScale,b.min.y+(K+1)/b.yScale);for(let oe=ue.y;oe<=Math.min(ce.y+1,_-1);++oe)for(let Me=ue.x;Me<=Math.min(ce.x+1,_-1);++Me)Rh[oe*_+Me]===255&&(Rh[oe*_+Me]=0,W+=o.getElevationAtPixel(Me,oe),j++)}const Y=W/j;k=Math.max(1,E.x-A),B=Math.max(1,E.y-A),N=Math.min(I.x+A,_-2),$=Math.min(I.y+A,_-2),w=!0;for(let K=B;K<=$;++K)for(let te=k;te<=N;++te)Rh[K*_+te]===0&&(Gy[K*_+te]=o._dem.set(te,K,Y));for(let K=1;K<A;++K){k=Math.max(1,E.x-K),B=Math.max(1,E.y-K),N=Math.min(I.x+K,_-2),$=Math.min(I.y+K,_-2);for(let te=B;te<=$;++te)for(let ue=k;ue<=N;++ue){const ce=te*_+ue;if(Rh[ce]===255){let oe=0,Me=0,pe=-1,Te=-1;for(let Pe=-1;Pe<=1;++Pe)for(let Ae=-1;Ae<=1;++Ae){const ke=(te+Pe)*_+ue+Ae;if(Rh[ke]>=K)continue;const Ve=Gy[ke],He=Math.abs(Ve);He>Me&&(oe=Ve,Me=He,pe=Ae,Te=Pe)}if(Me>.1){const Pe=1-(K+.5*Math.abs(pe*Te))/A;let Ae=o._dem.get(ue,te)+oe*Pe;const ke=o._dem.get(ue+pe,te+Te),Ve=o._dem.get(ue-pe,te-Te,!0);(Ae-ke)*(Ae-Ve)>0&&(Ae=(ke+Ve)/2),Gy[ce]=o._dem.set(ue,te,Ae),Rh[ce]=K}}}}}w&&(o._demTile.needsDEMTextureUpload=!0,o._dem._timestamp=Dt.now())}getNodesInfo(){return this.nodesInfo}destroy(){const n=this.getNodesInfo();for(const o of n)dg(o.node),$y(o.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(n,o){if(o.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=o.updateTime;const u=o.getReplacementRegionsForTile(n.toUnwrapped()),g=this.getNodesInfo();for(let d=0;d<this.nodesInfo.length;d++){const _=g[d].node;g[d].hiddenByReplacement=!!_.footprint&&!u.find(w=>w.footprint===_.footprint)}}getHeightAtTileCoord(n,o){const u=this.getNodesInfo(),g=[],d=[0,0,0],_=Ie.mat4.identity([]);for(let w=0;w<this.nodesInfo.length;w++){const T=u[w],D=T.node.meshes[0],b=D.transformedAabb;if(n<b.min[0]||o<b.min[1]||n>b.max[0]||o>b.max[1])continue;if(T.node.hidden===!0)return{height:1/0,maxHeight:T.feature.properties.height,hidden:!1,verticalScale:T.evaluatedScale[2]};Ie.mat4.invert(_,T.node.matrix),d[0]=n,d[1]=o,Ie.vec3.transformMat4(d,d,_);const E=(d[0]-D.aabb.min[0])/(D.aabb.max[0]-D.aabb.min[0])*Oh|0,I=Math.min(63,(d[1]-D.aabb.min[1])/(D.aabb.max[1]-D.aabb.min[1])*Oh|0)*Oh+Math.min(63,E),S=D.heightmap[I];if(!(S<0&&T.node.footprint))return T.hiddenByReplacement?void 0:{height:S,maxHeight:T.feature.properties.height,hidden:!1,verticalScale:T.evaluatedScale[2]};if(T.node.footprint.grid.query(new Ct(n,o),new Ct(n,o),g),g.length>0)return{height:void 0,maxHeight:T.feature.properties.height,hidden:T.hiddenByReplacement,verticalScale:T.evaluatedScale[2]}}}}function s1(h,n){return!h.isLightConstant&&n}function lL(h,n,o,u,g,d,_,w){let T=(61440&n|(61440&n)>>4)>>8,D=(3840&n|(3840&n)>>4)>>4,b=240&n|(240&n)>>4;o[3]>0&&(T=ei(T,255*o[0],o[3]),D=ei(D,255*o[1],o[3]),b=ei(b,255*o[2],o[3]));const E=T<<8|D,I=b<<8|Math.floor(255*u[3]),S=function(K){const te=li(K,0,2);return Math.min(Math.round(.5*te*255),255)}(u[2])<<8|15*u[0]<<4|15*u[1],A=li(g[0],0,1),k=li(g[1],0,1),B=li(g[2],0,1),N=li(g[3],0,1);let $,W,j,Y;if(A!==k&&_!==d&&k!==A){const K=_-d;W=1/(K*(k-A)),j=-(d+K*A)/(K*(k-A));const te=li(g[4],-1,1);Y=Math.pow(10,te),$=255*B<<8|255*N}else $=65535,W=0,j=1,Y=1;if(h.emplaceBack(E,I,S,$,W,j,Y),w){const K=w.length;w.clear();for(let te=0;te<K;te++)w.emplaceBack(E,I,S,$,W,j,Y)}}function cL(h,n,o){const u=h.node;let g=0;const d=o&Nd.HasMeshoptCompression;for(const _ of u.meshes){if(u.lights&&u.lightMeshIndex===g||!_.featureData)continue;_.featureArray=new bh,_.featureArray.reserve(_.featureData.length);let w=n;for(const T of _.featureData){const D=d?65535&T:T>>16&65535,b=d?T>>16&65535:65535&T,E=(15&b)<8?15&b:0,I=h.evaluatedRMEA[E],S=h.evaluatedColor[E],A=h.emissionHeightBasedParams[E];let k;if(w&&E===2&&u.lights&&(k=new bh,k.resize(10*u.lights.length)),lL(_.featureArray,D,S,I,A,_.aabb.min[2],_.aabb.max[2],k),k&&w){w=!1;const B=u.meshes[u.lightMeshIndex];B.featureArray=k,B.featureArray._trim()}}_.featureArray._trim(),g++}}function O4(h,n,o,u){const g=1<<h.z;n.lat=Er((u/At+h.y)/g),n.lng=fs((o/At+h.x)/g)}Nt(pg,"Tiled3dModelBucket",{omit:["layers"]}),Nt(k4,"Tiled3dModelFeature");const hL={circle:class extends ss{constructor(h,n,o,u){super(h,{layout:Ue||(Ue=new On({"circle-sort-key":new Rt(qe.layout_circle["circle-sort-key"]),visibility:new xt(qe.layout_circle.visibility)})),paint:lt||(lt=new On({"circle-radius":new Rt(qe.paint_circle["circle-radius"]),"circle-color":new Rt(qe.paint_circle["circle-color"]),"circle-blur":new Rt(qe.paint_circle["circle-blur"]),"circle-opacity":new Rt(qe.paint_circle["circle-opacity"]),"circle-translate":new xt(qe.paint_circle["circle-translate"]),"circle-translate-anchor":new xt(qe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new xt(qe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new xt(qe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Rt(qe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Rt(qe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Rt(qe.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new xt(qe.paint_circle["circle-emissive-strength"]),"circle-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"circle-stroke-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u)}createBucket(h){return new J(h)}queryRadius(h){const n=h;return Ne("circle-radius",this,n)+Ne("circle-stroke-width",this,n)+at(this.paint.get("circle-translate"))}queryIntersectsFeature(h,n,o,u,g,d,_,w){const T=bt(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),d.angle,h.pixelToTileUnitsFactor),D=this.paint.get("circle-radius").evaluate(n,o)+this.paint.get("circle-stroke-width").evaluate(n,o);return Dd(h,u,d,_,w,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",T,D)}getProgramIds(){return["circle"]}getDefaultProgramParams(h,n,o){const u=Pd(this);return{config:new pl(this,{zoom:n,lut:o}),defines:u,overrideFog:!1}}},heatmap:class extends ss{createBucket(h){return new dw(h)}constructor(h,n,o,u){super(h,{layout:pw||(pw=new On({visibility:new xt(qe.layout_heatmap.visibility)})),paint:fw||(fw=new On({"heatmap-radius":new Rt(qe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Rt(qe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new xt(qe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xo(qe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new xt(qe.paint_heatmap["heatmap-opacity"]),"heatmap-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(h){h==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Bf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(h){return Ne("heatmap-radius",this,h)}queryIntersectsFeature(h,n,o,u,g,d,_,w){const T=this.paint.get("heatmap-radius").evaluate(n,o);return Dd(h,u,d,_,w,!0,!0,new Ct(0,0),T)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(h,n,o){return h==="heatmap"?{config:new pl(this,{zoom:n,lut:o}),overrideFog:!1}:{}}},hillshade:class extends ss{constructor(h,n,o,u){super(h,{layout:mw||(mw=new On({visibility:new xt(qe.layout_hillshade.visibility)})),paint:gw||(gw=new On({"hillshade-illumination-direction":new xt(qe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new xt(qe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new xt(qe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new xt(qe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new xt(qe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new xt(qe.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new xt(qe.paint_hillshade["hillshade-emissive-strength"]),"hillshade-shadow-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"hillshade-highlight-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"hillshade-accent-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(h,n,o){return{overrideFog:!1}}},fill:class extends ss{constructor(h,n,o,u){super(h,{layout:Tw||(Tw=new On({"fill-sort-key":new Rt(qe.layout_fill["fill-sort-key"]),visibility:new xt(qe.layout_fill.visibility),"fill-elevation-reference":new xt(qe.layout_fill["fill-elevation-reference"])})),paint:Ew||(Ew=new On({"fill-antialias":new xt(qe.paint_fill["fill-antialias"]),"fill-opacity":new Rt(qe.paint_fill["fill-opacity"]),"fill-color":new Rt(qe.paint_fill["fill-color"]),"fill-outline-color":new Rt(qe.paint_fill["fill-outline-color"]),"fill-translate":new xt(qe.paint_fill["fill-translate"]),"fill-translate-anchor":new xt(qe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Rt(qe.paint_fill["fill-pattern"]),"fill-emissive-strength":new xt(qe.paint_fill["fill-emissive-strength"]),"fill-z-offset":new Rt(qe.paint_fill["fill-z-offset"]),"fill-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"fill-outline-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u)}getProgramIds(){const h=this.paint.get("fill-pattern"),n=h&&h.constantOr(1),o=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getDefaultProgramParams(h,n,o){return{config:new pl(this,{zoom:n,lut:o}),overrideFog:!1}}recalculate(h,n){super.recalculate(h,n);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(h){return new ly(h)}queryRadius(){return at(this.paint.get("fill-translate"))}queryIntersectsFeature(h,n,o,u,g,d){return!h.queryGeometry.isAboveHorizon&&ae(pt(h.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),d.angle,h.pixelToTileUnitsFactor),u)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends ss{constructor(h,n,o,u){super(h,{layout:oM||(oM=new On({visibility:new xt(qe["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new xt(qe["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:lM||(lM=new On({"fill-extrusion-opacity":new xt(qe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new xt(qe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new xt(qe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-height-alignment":new xt(qe["paint_fill-extrusion"]["fill-extrusion-height-alignment"]),"fill-extrusion-base-alignment":new xt(qe["paint_fill-extrusion"]["fill-extrusion-base-alignment"]),"fill-extrusion-vertical-gradient":new xt(qe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new xt(qe["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new xt(qe["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new xt(qe["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new xt(qe["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new xt(qe["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new xt(qe["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new xt(qe["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new xt(qe["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new xt(qe["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new xt(qe["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new xt(qe["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new Rt(qe["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new xt(qe["paint_fill-extrusion"]["fill-extrusion-cast-shadows"]),"fill-extrusion-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"fill-extrusion-flood-light-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(h){return new j0(h)}queryRadius(){return at(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(h,n,o,u,g,d,_,w,T){const D=bt(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),d.angle,h.pixelToTileUnitsFactor),b=this.paint.get("fill-extrusion-height").evaluate(n,o),E=this.paint.get("fill-extrusion-base").evaluate(n,o),I=[0,0],S=w&&d.elevation,A=d.elevation?d.elevation.exaggeration():1,k=h.tile.getBucket(this);if(S&&k instanceof j0){const j=k.centroidVertexArray,Y=T+1;Y<j.length&&(I[0]=j.geta_centroid_pos0(Y),I[1]=j.geta_centroid_pos1(Y))}if(I[0]===0&&I[1]===1)return!1;d.projection.name==="globe"&&(u=aM([u],[new Ct(0,0),new Ct(At,At)],h.tileID.canonical).map(j=>j.polygon).flat());const B=S?w:null,[N,$]=function(j,Y,K,te,ue,ce,oe,Me,pe,Te,Pe){return j.projection.name==="globe"?function(Ae,ke,Ve,He,Be,Ke,ft,Qe,St,Mt,Pt){const ot=[],Ut=[],Et=Ae.projection.upVectorScale(Pt,Ae.center.lat,Ae.worldSize).metersToTile,Ht=[0,0,0,1],Xt=[0,0,0,1],di=(bi,mi,Ti,ln)=>{bi[0]=mi,bi[1]=Ti,bi[2]=ln,bi[3]=1},fi=sM();Ve>0&&(Ve+=fi),He+=fi;for(const bi of ke){const mi=[],Ti=[];for(const ln of bi){const tn=ln.x+Be.x,oi=ln.y+Be.y,nn=Ae.projection.projectTilePoint(tn,oi,Pt),Xi=Ae.projection.upVector(Pt,ln.x,ln.y);let cn=Ve,tr=He;if(ft){const ir=hM(tn,oi,Ve,He,ft,Qe,St,Mt);cn+=ir.base,tr+=ir.top}Ve!==0?di(Ht,nn.x+Xi[0]*Et*cn,nn.y+Xi[1]*Et*cn,nn.z+Xi[2]*Et*cn):di(Ht,nn.x,nn.y,nn.z),di(Xt,nn.x+Xi[0]*Et*tr,nn.y+Xi[1]*Et*tr,nn.z+Xi[2]*Et*tr),Ie.vec3.transformMat4(Ht,Ht,Ke),Ie.vec3.transformMat4(Xt,Xt,Ke),mi.push(new kh(Ht[0],Ht[1],Ht[2])),Ti.push(new kh(Xt[0],Xt[1],Xt[2]))}ot.push(mi),Ut.push(Ti)}return[ot,Ut]}(j,Y,K,te,ue,ce,oe,Me,pe,Te,Pe):oe?function(Ae,ke,Ve,He,Be,Ke,ft,Qe,St){const Mt=[],Pt=[],ot=[0,0,0,1];for(const Ut of Ae){const Et=[],Ht=[];for(const Xt of Ut){const di=Xt.x+He.x,fi=Xt.y+He.y,bi=hM(di,fi,ke,Ve,Ke,ft,Qe,St);ot[0]=di,ot[1]=fi,ot[2]=bi.base,ot[3]=1,Ie.vec4.transformMat4(ot,ot,Be),ot[3]=Math.max(ot[3],1e-5);const mi=new kh(ot[0]/ot[3],ot[1]/ot[3],ot[2]/ot[3]);ot[0]=di,ot[1]=fi,ot[2]=bi.top,ot[3]=1,Ie.vec4.transformMat4(ot,ot,Be),ot[3]=Math.max(ot[3],1e-5);const Ti=new kh(ot[0]/ot[3],ot[1]/ot[3],ot[2]/ot[3]);Et.push(mi),Ht.push(Ti)}Mt.push(Et),Pt.push(Ht)}return[Mt,Pt]}(Y,K,te,ue,ce,oe,Me,pe,Te):function(Ae,ke,Ve,He,Be){const Ke=[],ft=[],Qe=Be[8]*ke,St=Be[9]*ke,Mt=Be[10]*ke,Pt=Be[11]*ke,ot=Be[8]*Ve,Ut=Be[9]*Ve,Et=Be[10]*Ve,Ht=Be[11]*Ve;for(const Xt of Ae){const di=[],fi=[];for(const bi of Xt){const mi=bi.x+He.x,Ti=bi.y+He.y,ln=Be[0]*mi+Be[4]*Ti+Be[12],tn=Be[1]*mi+Be[5]*Ti+Be[13],oi=Be[2]*mi+Be[6]*Ti+Be[14],nn=Be[3]*mi+Be[7]*Ti+Be[15],Xi=ln+Qe,cn=tn+St,tr=oi+Mt,ir=Math.max(nn+Pt,1e-5),$n=ln+ot,_s=tn+Ut,bn=oi+Et,Cn=Math.max(nn+Ht,1e-5);di.push(new kh(Xi/ir,cn/ir,tr/ir)),fi.push(new kh($n/Cn,_s/Cn,bn/Cn))}Ke.push(di),ft.push(fi)}return[Ke,ft]}(Y,K,te,ue,ce)}(d,u,E,b,D,_,B,I,A,d.center.lat,h.tileID.canonical),W=h.queryGeometry;return function(j,Y,K){let te=1/0;ae(K,Y)&&(te=cM(K,Y[0]));for(let ue=0;ue<Y.length;ue++){const ce=Y[ue],oe=j[ue];for(let Me=0;Me<ce.length-1;Me++){const pe=ce[Me],Te=[pe,ce[Me+1],oe[Me+1],oe[Me],pe];ie(K,Te)&&(te=Math.min(te,cM(K,Te)))}}return te!==1/0&&te}(N,$,W.isPointQuery()?W.screenBounds:W.screenGeometry)}},line:class extends ss{constructor(h,n,o,u){const g=xM();super(h,g,n,o,u),g.layout&&(this.layout=new ac(g.layout)),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(h){if(h==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof Si,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(h,n){super.recalculate(h,n),this.paint._values["line-floorwidth"]=(()=>{if(Wf)return Wf;const o=xM();return Wf=new pD(o.paint.properties["line-width"].specification),Wf.useIntegerZoom=!0,Wf})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,h)}createBucket(h){return new yy(h)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(h,n,o){const u=yM(this);return{config:new pl(this,{zoom:n,lut:o}),defines:u,overrideFog:!1}}queryRadius(h){const n=h,o=bM(Ne("line-width",this,n),Ne("line-gap-width",this,n)),u=Ne("line-offset",this,n);return o/2+Math.abs(u)+at(this.paint.get("line-translate"))}queryIntersectsFeature(h,n,o,u,g,d){if(h.queryGeometry.isAboveHorizon)return!1;const _=pt(h.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),d.angle,h.pixelToTileUnitsFactor),w=h.pixelToTileUnitsFactor/2*bM(this.paint.get("line-width").evaluate(n,o),this.paint.get("line-gap-width").evaluate(n,o)),T=this.paint.get("line-offset").evaluate(n,o);return T&&(u=function(D,b){const E=[],I=new Ct(0,0);for(let S=0;S<D.length;S++){const A=D[S],k=[];for(let B=0;B<A.length;B++){const N=A[B],$=A[B+1],W=B===0?I:N.sub(A[B-1])._unit()._perp(),j=B===A.length-1?I:$.sub(N)._unit()._perp(),Y=W._add(j)._unit();Y._mult(1/(Y.x*j.x+Y.y*j.y)),k.push(Y._mult(b)._add(N))}E.push(k)}return E}(u,T*h.pixelToTileUnitsFactor)),function(D,b,E){for(let I=0;I<b.length;I++){const S=b[I];if(D.length>=3){for(let A=0;A<S.length;A++)if(Ee(D,S[A]))return!0}if(fe(D,S,E))return!0}return!1}(_,u,w)}isTileClipped(){return!0}isDraped(h){const n=this.layout.get("line-z-offset"),o=n.isConstant()&&!n.constantOr(0),u=this.layout.get("line-elevation-reference");return!(u==="sea"||u==="ground")&&(o||u!=="none")}},symbol:sg,background:class extends ss{constructor(h,n,o,u){super(h,{layout:s4||(s4=new On({visibility:new xt(qe.layout_background.visibility)})),paint:a4||(a4=new On({"background-pitch-alignment":new xt(qe.paint_background["background-pitch-alignment"]),"background-color":new xt(qe.paint_background["background-color"]),"background-pattern":new xt(qe.paint_background["background-pattern"]),"background-opacity":new xt(qe.paint_background["background-opacity"]),"background-emissive-strength":new xt(qe.paint_background["background-emissive-strength"]),"background-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(h,n,o){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:u4,"raster-particle":_4,sky:class extends ss{constructor(h,n,o,u){super(h,{layout:f4||(f4=new On({visibility:new xt(qe.layout_sky.visibility)})),paint:m4||(m4=new On({"sky-type":new xt(qe.paint_sky["sky-type"]),"sky-atmosphere-sun":new xt(qe.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new xt(qe.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new xt(qe.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new xt(qe.paint_sky["sky-gradient-radius"]),"sky-gradient":new xo(qe.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new xt(qe.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new xt(qe.paint_sky["sky-atmosphere-color"]),"sky-opacity":new xt(qe.paint_sky["sky-opacity"]),"sky-gradient-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-halo-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(h){h==="sky-gradient"?this._updateColorRamp():h!=="sky-atmosphere-sun"&&h!=="sky-atmosphere-halo-color"&&h!=="sky-atmosphere-color"&&h!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Bf({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(h){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=h.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(h,n){if(this.paint.get("sky-type")==="atmosphere"){const u=this.paint.get("sky-atmosphere-sun"),g=!u,d=h.style.light,_=d.properties.get("position");return g&&d.properties.get("anchor")==="viewport"&&yi("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),g?Vy(_.azimuthal,90-_.polar,n):Vy(u[0],90-u[1],n)}const o=this.paint.get("sky-gradient-center");return Vy(o[0],90-o[1],n)}isSky(){return!0}markSkyboxValid(h){this._skyboxInvalidated=!1,this._lightPosition=h.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const h=this.paint.get("sky-type");return h==="atmosphere"?["skyboxCapture","skybox"]:h==="gradient"?["skyboxGradient"]:null}},slot:class extends ss{constructor(h,n,o,u){super(h,{paint:g4||(g4=new On({}))},n,null)}},model:class extends ss{constructor(h,n,o,u){super(h,{layout:C4||(C4=new On({visibility:new xt(qe.layout_model.visibility),"model-id":new Rt(qe.layout_model["model-id"])})),paint:A4||(A4=new On({"model-opacity":new Rt(qe.paint_model["model-opacity"]),"model-rotation":new Rt(qe.paint_model["model-rotation"]),"model-scale":new Rt(qe.paint_model["model-scale"]),"model-translation":new Rt(qe.paint_model["model-translation"]),"model-color":new Rt(qe.paint_model["model-color"]),"model-color-mix-intensity":new Rt(qe.paint_model["model-color-mix-intensity"]),"model-type":new xt(qe.paint_model["model-type"]),"model-cast-shadows":new xt(qe.paint_model["model-cast-shadows"]),"model-receive-shadows":new xt(qe.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new xt(qe.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new Rt(qe.paint_model["model-emissive-strength"]),"model-roughness":new Rt(qe.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new Rt(qe.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new xt(qe.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new xt(qe.paint_model["model-front-cutoff"]),"model-color-use-theme":new Rt({type:"string",default:"default","property-type":"data-driven"})}))},n,o,u),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(h){return new jy(h)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(h){return h instanceof pg?At-1:0}queryIntersectsFeature(h,n,o,u,g,d){if(!this.modelManager)return!1;const _=this.modelManager,w=h.tile.getBucket(this);if(!(w&&w instanceof jy))return!1;for(const T in w.instancesPerModel){const D=w.instancesPerModel[T],b=n.id!==void 0?n.id:n.properties&&n.properties.hasOwnProperty("id")?n.properties.id:void 0;if(D.idToFeaturesIndex.hasOwnProperty(b)){const E=D.features[D.idToFeaturesIndex[b]],I=_.getModel(T,this.scope);if(!I)return!1;let S=Ie.mat4.create();const A=new Fi(0,0),k=w.canonical;let B=Number.MAX_VALUE;for(let N=0;N<E.instancedDataCount;++N){const $=16*(E.instancedDataOffset+N),W=D.instancedDataArray.float32,j=[W[$+4],W[$+5],W[$+6]];O4(k,A,W[$],0|W[$+1]),I4(S,I,d,A,E.rotation,E.scale,j,!1,!1,!1),d.projection.name==="globe"&&(S=Uy(S,d));const Y=Ie.mat4.multiply([],d.projMatrix,S),K=h.queryGeometry,te=w4(K.isPointQuery()?K.screenBounds:K.screenGeometry,d,Y,I.aabb);te!=null&&(B=Math.min(te,B))}return B!==Number.MAX_VALUE&&B}}return!1}_handleOverridablePaintPropertyUpdate(h,n,o){return!(!this.layout||n.isDataDriven()||o.isDataDriven()||h!=="model-color"&&h!=="model-color-mix-intensity"&&h!=="model-rotation"&&h!=="model-scale"&&h!=="model-translation"&&h!=="model-emissive-strength")}_isPropertyZoomDependent(h){const n=this._transitionablePaint._values[h];return n!=null&&n.value!=null&&n.value.expression!=null&&n.value.expression instanceof tc}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}},clip:class extends ss{constructor(h,n,o,u){super(h,{layout:Cw||(Cw=new On({"clip-layer-types":new xt(qe.layout_clip["clip-layer-types"]),"clip-layer-scope":new xt(qe.layout_clip["clip-layer-scope"])})),paint:Aw||(Aw=new On({}))},n,o,u)}recalculate(h,n){super.recalculate(h,n)}createBucket(h){return new Iw(h)}isTileClipped(){return!0}is3D(){return!0}}};class uL{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class dL{constructor(){this.tasks={},this.taskQueue=[],Fa(["process"],this),this.invoker=new uL(this.process),this.nextId=0}add(n,o){const u=this.nextId++,g=function({type:d,isSymbolTile:_,zoom:w}){return w=w||0,d==="message"?0:d!=="maybePrepare"||_?d!=="parseTile"||_?d==="parseTile"&&_?300-w:d==="maybePrepare"&&_?400-w:500:200-w:100-w}(o);if(g===0){try{n()}finally{}return null}return this.tasks[u]={fn:n,metadata:o,priority:g,id:u},this.taskQueue.push(u),this.invoker.trigger(),{cancel:()=>{delete this.tasks[u]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(u=>!!this.tasks[u]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const o=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let n=null,o=1/0;for(let g=0;g<this.taskQueue.length;g++){const d=this.tasks[this.taskQueue[g]];d.priority<o&&(o=d.priority,n=g)}if(n===null)return null;const u=this.taskQueue[n];return this.taskQueue.splice(n,1),u}remove(){this.invoker.remove()}}class R4{constructor(n,o,u){this.target=n,this.parent=o,this.mapId=u,this.callbacks={},this.cancelCallbacks={},Fa(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new dL}send(n,o,u,g,d=!1,_){const w=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(u.metadata=_,this.callbacks[w]=u);const T=new Set;return this.target.postMessage({id:w,type:n,hasCallback:!!u,targetMapId:g,mustQueue:d,sourceMapId:this.mapId,data:zs(o,T)},T),{cancel:()=>{u&&delete this.callbacks[w],this.target.postMessage({id:w,type:"<cancel>",targetMapId:g,sourceMapId:this.mapId})}}}receive(n){const o=n.data,u=o.id;if(u&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){const g=this.cancelCallbacks[u];delete this.cancelCallbacks[u],g&&g.cancel()}else if(o.mustQueue||Va()){const g=this.callbacks[u],d=this.scheduler.add(()=>this.processTask(u,o),g&&g.metadata||{type:"message"});d&&(this.cancelCallbacks[u]=d)}else this.processTask(u,o)}processTask(n,o){if(delete this.cancelCallbacks[n],o.type==="<response>"){const u=this.callbacks[n];delete this.callbacks[n],u&&(o.error?u(ol(o.error)):u(null,ol(o.data)))}else{const u=new Set,g=o.hasCallback?(_,w)=>{this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:_?zs(_):null,data:zs(w,u)},u)}:()=>{},d=ol(o.data);if(this.parent[o.type])this.parent[o.type](o.sourceMapId,d,g);else if(this.parent.getWorkerSource){const _=o.type.split(".");this.parent.getWorkerSource(o.sourceMapId,_[0],d.source,d.scope)[_[1]](d,g)}else g(new Error(`Could not find function ${o.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}var a1={workerUrl:"",workerClass:null,workerParams:void 0};const Wy="mapboxgl_preloaded_worker_pool";class zh{constructor(){this.active={}}acquire(n,o=zh.workerCount){if(!this.workers)for(this.workers=[];this.workers.length<o;)this.workers.push(a1.workerClass!=null?new a1.workerClass:new self.Worker(a1.workerUrl,a1.workerParams));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.workers&&this.numActive()===0&&(this.workers.forEach(o=>{o.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Wy]}numActive(){return Object.keys(this.active).length}}zh.workerCount=2;class Hd{constructor(n,o,u="Worker",g=zh.workerCount){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=$o();const d=this.workerPool.acquire(this.id,g);for(let _=0;_<d.length;_++){const w=new Hd.Actor(d[_],o,this.id);w.name=`${u} ${_}`,this.actors.push(w)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(n,o,u){wa(this.actors,(g,d)=>{g.send(n,o,d)},u=u||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}let o1,Zy;function fg(){return o1||(o1=new zh),o1}Hd.Actor=R4;const Yy=new zi(0,0,0);var mg=(h=>(h[h.PATH_RULE_UNSPECIFIED=0]="PATH_RULE_UNSPECIFIED",h[h.PATH_RULE_NON_ZERO=1]="PATH_RULE_NON_ZERO",h[h.PATH_RULE_EVEN_ODD=2]="PATH_RULE_EVEN_ODD",h))(mg||{}),gg=(h=>(h[h.LINE_CAP_UNSPECIFIED=0]="LINE_CAP_UNSPECIFIED",h[h.LINE_CAP_BUTT=1]="LINE_CAP_BUTT",h[h.LINE_CAP_ROUND=2]="LINE_CAP_ROUND",h[h.LINE_CAP_SQUARE=3]="LINE_CAP_SQUARE",h))(gg||{}),l1=(h=>(h[h.LINE_JOIN_UNSPECIFIED=0]="LINE_JOIN_UNSPECIFIED",h[h.LINE_JOIN_MITER=1]="LINE_JOIN_MITER",h[h.LINE_JOIN_MITER_CLIP=2]="LINE_JOIN_MITER_CLIP",h[h.LINE_JOIN_ROUND=3]="LINE_JOIN_ROUND",h[h.LINE_JOIN_BEVEL=4]="LINE_JOIN_BEVEL",h))(l1||{}),z4=(h=>(h[h.PAINT_ORDER_UNSPECIFIED=0]="PAINT_ORDER_UNSPECIFIED",h[h.PAINT_ORDER_FILL_AND_STROKE=1]="PAINT_ORDER_FILL_AND_STROKE",h[h.PAINT_ORDER_STROKE_AND_FILL=2]="PAINT_ORDER_STROKE_AND_FILL",h))(z4||{}),Ud=(h=>(h[h.PATH_COMMAND_UNSPECIFIED=0]="PATH_COMMAND_UNSPECIFIED",h[h.PATH_COMMAND_MOVE=1]="PATH_COMMAND_MOVE",h[h.PATH_COMMAND_LINE=2]="PATH_COMMAND_LINE",h[h.PATH_COMMAND_QUAD=3]="PATH_COMMAND_QUAD",h[h.PATH_COMMAND_CUBIC=4]="PATH_COMMAND_CUBIC",h[h.PATH_COMMAND_CLOSE=5]="PATH_COMMAND_CLOSE",h))(Ud||{}),F4=(h=>(h[h.MASK_TYPE_UNSPECIFIED=0]="MASK_TYPE_UNSPECIFIED",h[h.MASK_TYPE_LUMINANCE=1]="MASK_TYPE_LUMINANCE",h[h.MASK_TYPE_ALPHA=2]="MASK_TYPE_ALPHA",h))(F4||{});function pL(h,n,o){h===1&&n.icons.push(function(u,g){return function(d){if(d.usvg_tree.height||(d.usvg_tree.height=d.usvg_tree.width),!d.metadata)return d;const{metadata:_}=d;if(_.content_area){const{content_area:w}=_;w.top==null&&(w.top=w.left),w.width==null&&(w.width=d.usvg_tree.width),w.height==null&&(w.height=w.width)}return _.stretch_x&&_.stretch_x.length&&B4(_,"x"),_.stretch_y&&_.stretch_y.length&&B4(_,"y"),d}(u.readFields(fL,{name:void 0},g))}(o,o.readVarint()+o.pos))}function B4(h,n){const o=[],u=h[`stretch_${n}`];let g=null;for(let d=0;d<u.length;d++)g===null?g=o.length===0?u[0]:o[o.length-1][1]+u[d]:(o.push([g,g+u[d]]),g=null);h[`stretch_${n}_areas`]=o}function fL(h,n,o){h===1?n.name=o.readString():h===2?n.metadata=function(u,g){return u.readFields(mL,{stretch_x:null,stretch_y:null,stretch_x_areas:null,stretch_y_areas:null,variables:[]},g)}(o,o.readVarint()+o.pos):h===3&&(n.usvg_tree=function(u,g){return u.readFields(yL,{width:20,children:[],linear_gradients:[],radial_gradients:[],clip_paths:[],masks:[]},g)}(o,o.readVarint()+o.pos),n.data="usvg_tree")}function mL(h,n,o){h===1?n.stretch_x=o.readPackedVarint():h===2?n.stretch_y=o.readPackedVarint():h===3?n.content_area=function(u,g){return u.readFields(gL,{left:0},g)}(o,o.readVarint()+o.pos):h===4&&n.variables.push(function(u,g){return u.readFields(_L,{name:void 0},g)}(o,o.readVarint()+o.pos))}function gL(h,n,o){h===1?n.left=o.readVarint():h===2?n.width=o.readVarint():h===3?n.top=o.readVarint():h===4&&(n.height=o.readVarint())}function _L(h,n,o){h===1?n.name=o.readString():h===2&&(n.rgb_color=vg(o.readVarint()),n.value="rgb_color")}function yL(h,n,o){h===1?n.width=n.height=o.readVarint():h===2?n.height=o.readVarint():h===3?n.children.push(_g(o,o.readVarint()+o.pos)):h===4?n.linear_gradients.push(function(u,g){return u.readFields(TL,{spread_method:1,stops:[],x1:0,y1:0,x2:1,y2:0},g)}(o,o.readVarint()+o.pos)):h===5?n.radial_gradients.push(function(u,g){return u.readFields(CL,{spread_method:1,stops:[],cx:.5,cy:.5,r:.5,fx:.5,fy:.5,fr:0},g)}(o,o.readVarint()+o.pos)):h===7?n.clip_paths.push(function(u,g){return u.readFields(AL,{children:[]},g)}(o,o.readVarint()+o.pos)):h===8&&n.masks.push(function(u,g){const d=u.readFields(IL,{left:0,width:20,mask_type:1,children:[]},g);return d.height==null&&(d.height=d.width),d.top==null&&(d.top=d.left),d}(o,o.readVarint()+o.pos))}function _g(h,n){return h.readFields(vL,{},n)}function vL(h,n,o){h===1?(n.group=function(u,g){return u.readFields(xL,{opacity:255,children:[]},g)}(o,o.readVarint()+o.pos),n.node="group"):h===2&&(n.path=function(u,g){return u.readFields(wL,{paint_order:1,commands:[],step:1,diffs:[],rule:1},g)}(o,o.readVarint()+o.pos),n.node="path")}function xL(h,n,o){h===1?n.transform=yg(o,o.readVarint()+o.pos):h===2?n.opacity=o.readVarint():h===5?n.clip_path_idx=o.readVarint():h===6?n.mask_idx=o.readVarint():h===7&&n.children.push(_g(o,o.readVarint()+o.pos))}function yg(h,n){return h.readFields(bL,{sx:1,ky:0,kx:0,sy:1,tx:0,ty:0},n)}function bL(h,n,o){h===1?n.sx=o.readFloat():h===2?n.ky=o.readFloat():h===3?n.kx=o.readFloat():h===4?n.sy=o.readFloat():h===5?n.tx=o.readFloat():h===6&&(n.ty=o.readFloat())}function wL(h,n,o){h===1?n.fill=function(u,g){return u.readFields(ML,{rgb_color:Yy,paint:"rgb_color",opacity:255},g)}(o,o.readVarint()+o.pos):h===2?n.stroke=function(u,g){return u.readFields(SL,{rgb_color:Yy,paint:"rgb_color",dasharray:[],dashoffset:0,miterlimit:4,opacity:255,width:1,linecap:1,linejoin:1},g)}(o,o.readVarint()+o.pos):h===3?n.paint_order=o.readVarint():h===5?o.readPackedVarint(n.commands):h===6?n.step=o.readFloat():h===7?o.readPackedSVarint(n.diffs):h===8&&(n.rule=o.readVarint())}function ML(h,n,o){h===1?(n.rgb_color=vg(o.readVarint()),n.paint="rgb_color"):h===2?(n.linear_gradient_idx=o.readVarint(),n.paint="linear_gradient_idx"):h===3?(n.radial_gradient_idx=o.readVarint(),n.paint="radial_gradient_idx"):h===5&&(n.opacity=o.readVarint())}function vg(h){return new zi((h>>16&255)/255,(h>>8&255)/255,(255&h)/255,1)}function SL(h,n,o){h===1?(n.rgb_color=vg(o.readVarint()),n.paint="rgb_color"):h===2?(n.linear_gradient_idx=o.readVarint(),n.paint="linear_gradient_idx"):h===3?(n.radial_gradient_idx=o.readVarint(),n.paint="radial_gradient_idx"):h===5?o.readPackedFloat(n.dasharray):h===6?n.dashoffset=o.readFloat():h===7?n.miterlimit=o.readFloat():h===8?n.opacity=o.readVarint():h===9?n.width=o.readFloat():h===10?n.linecap=o.readVarint():h===11&&(n.linejoin=o.readVarint())}function TL(h,n,o){h===1?n.transform=yg(o,o.readVarint()+o.pos):h===2?n.spread_method=o.readVarint():h===3?n.stops.push(N4(o,o.readVarint()+o.pos)):h===4?n.x1=o.readFloat():h===5?n.y1=o.readFloat():h===6?n.x2=o.readFloat():h===7&&(n.y2=o.readFloat())}function N4(h,n){return h.readFields(EL,{offset:0,opacity:255,rgb_color:Yy},n)}function EL(h,n,o){h===1?n.offset=o.readFloat():h===2?n.opacity=o.readVarint():h===3&&(n.rgb_color=vg(o.readVarint()))}function CL(h,n,o){h===1?n.transform=yg(o,o.readVarint()+o.pos):h===2?n.spread_method=o.readVarint():h===3?n.stops.push(N4(o,o.readVarint()+o.pos)):h===4?n.cx=o.readFloat():h===5?n.cy=o.readFloat():h===6?n.r=o.readFloat():h===7?n.fx=o.readFloat():h===8?n.fy=o.readFloat():h===9&&(n.fr=o.readFloat())}function AL(h,n,o){h===1?n.transform=yg(o,o.readVarint()+o.pos):h===2?n.clip_path_idx=o.readVarint():h===3&&n.children.push(_g(o,o.readVarint()+o.pos))}function IL(h,n,o){h===1?n.left=n.top=o.readFloat():h===2?n.width=n.height=o.readFloat():h===3?n.top=o.readFloat():h===4?n.height=o.readFloat():h===5?n.mask_type=o.readVarint():h===6?n.mask_idx=o.readVarint():h===7&&n.children.push(_g(o,o.readVarint()+o.pos))}class PL{static calculate(n,o){const u=new Map,g=new Map;if(Object.keys(n).length===0)return u;o.forEach(d=>{g.set(d.name,d.rgb_color||new zi(0,0,0))});for(const[d,_]of Object.entries(n))g.has(d)?u.set(g.get(d).toStringPremultipliedAlpha(),_):console.warn(`Ignoring unknown image variable "${d}"`);return u}}function jd(h,n=255,o){const u=n/255,g=h.toStringPremultipliedAlpha(),d=o.has(g)?o.get(g).clone():h.clone();return d.a=u,d.toString()}function Xy(h,n){if(!mt()){const o=document.createElement("canvas");return o.width=h,o.height=n,o}return new OffscreenCanvas(h,n)}function DL(h,n){const o=PL.calculate(n.params,h.metadata?h.metadata.variables:[]),u=h.usvg_tree,g=u.width,d=u.height,_=n.transform?n.transform:new DOMMatrix,w=Math.max(1,Math.round(g*_.a)),T=Math.max(1,Math.round(d*_.d)),D=new DOMMatrix([w/g,0,0,T/d,0,0]),b=Xy(w,T).getContext("2d");return Ky(b,D,u,u,o),b.getImageData(0,0,w,T)}function Ky(h,n,o,u,g){for(const d of u.children)V4(h,n,o,d,g)}function V4(h,n,o,u,g){u.group?(h.save(),function(d,_,w,T,D){const b=T.mask_idx!=null?w.masks[T.mask_idx]:null,E=T.clip_path_idx!=null?w.clip_paths[T.clip_path_idx]:null;if(T.transform&&(_=c1(T.transform).preMultiplySelf(_)),!function(A,k,B){return A.opacity!==255||k||B}(T,E!=null,b!=null))return void Ky(d,_,w,T,D);const I=Xy(d.canvas.width,d.canvas.height),S=I.getContext("2d");E&&$4(S,_,w,E),Ky(S,_,w,T,D),b&&G4(S,_,w,b,D),d.globalAlpha=T.opacity/255,d.drawImage(I,0,0)}(h,n,o,u.group,g),h.restore()):u.path&&(h.save(),function(d,_,w,T,D){const b=W4(T);d.setTransform(_),T.paint_order===z4.PAINT_ORDER_FILL_AND_STROKE?(H4(d,w,T,b,D),U4(d,w,T,b,D)):(U4(d,w,T,b,D),H4(d,w,T,b,D))}(h,n,o,u.path,g),h.restore())}function H4(h,n,o,u,g){const d=o.fill;if(!d)return;const _=d.opacity/255;switch(d.paint){case"rgb_color":h.fillStyle=jd(d.rgb_color,d.opacity,g);break;case"linear_gradient_idx":h.fillStyle=j4(h,n.linear_gradients[d.linear_gradient_idx],_,g);break;case"radial_gradient_idx":h.fillStyle=q4(h,n.radial_gradients[d.radial_gradient_idx],_,g)}let w;switch(o.rule){case mg.PATH_RULE_NON_ZERO:w="nonzero";break;case mg.PATH_RULE_EVEN_ODD:w="evenodd"}h.fill(u,w)}function U4(h,n,o,u,g){const d=o.stroke;if(!d)return;h.lineWidth=d.width,h.miterLimit=d.miterlimit,h.setLineDash(d.dasharray),h.lineDashOffset=d.dashoffset;const _=d.opacity/255;switch(d.paint){case"rgb_color":h.strokeStyle=jd(d.rgb_color,d.opacity,g);break;case"linear_gradient_idx":h.strokeStyle=j4(h,n.linear_gradients[d.linear_gradient_idx],_,g);break;case"radial_gradient_idx":h.strokeStyle=q4(h,n.radial_gradients[d.radial_gradient_idx],_,g)}switch(d.linejoin){case l1.LINE_JOIN_MITER_CLIP:case l1.LINE_JOIN_MITER:h.lineJoin="miter";break;case l1.LINE_JOIN_ROUND:h.lineJoin="round";break;case l1.LINE_JOIN_BEVEL:h.lineJoin="bevel"}switch(d.linecap){case gg.LINE_CAP_BUTT:h.lineCap="butt";break;case gg.LINE_CAP_ROUND:h.lineCap="round";break;case gg.LINE_CAP_SQUARE:h.lineCap="square"}h.stroke(u)}function j4(h,n,o,u){if(n.stops.length===1){const I=n.stops[0];return jd(I.rgb_color,I.opacity*o,u)}const g=c1(n.transform),{x1:d,y1:_,x2:w,y2:T}=n,D=g.transformPoint(new DOMPoint(d,_)),b=g.transformPoint(new DOMPoint(w,T)),E=h.createLinearGradient(D.x,D.y,b.x,b.y);for(const I of n.stops)E.addColorStop(I.offset,jd(I.rgb_color,I.opacity*o,u));return E}function q4(h,n,o,u){if(n.stops.length===1){const I=n.stops[0];return jd(I.rgb_color,I.opacity*o,u)}const g=c1(n.transform),{fx:d,fy:_,cx:w,cy:T}=n,D=g.transformPoint(new DOMPoint(d,_)),b=g.transformPoint(new DOMPoint(w,T)),E=h.createRadialGradient(D.x,D.y,0,b.x,b.y,n.r*((g.a+g.d)/2));for(const I of n.stops)E.addColorStop(I.offset,jd(I.rgb_color,I.opacity*o,u));return E}function $4(h,n,o,u){const g=c1(u.transform).preMultiplySelf(n),d=u.clip_path_idx!=null?o.clip_paths[u.clip_path_idx]:null;d&&$4(h,g,o,d);const _=new Path2D;let w;function T(D,b){if(D.path){const E=D.path;_.addPath(W4(E),b),E.rule===mg.PATH_RULE_EVEN_ODD&&(w="evenodd")}else if(D.group){const E=D.group.transform?c1(D.group.transform).preMultiplySelf(b):b;for(const I of D.group.children)T(I,E)}}for(const D of u.children)T(D,g);h.clip(_,w)}function G4(h,n,o,u,g){if(u.children.length===0)return;const d=u.mask_idx!=null?o.masks[u.mask_idx]:null;d&&G4(h,n,o,d,g);const _=h.canvas.width,w=h.canvas.height,T=Xy(_,w),D=T.getContext("2d"),b=u.width,E=u.height,I=u.left,S=u.top,A=new Path2D,k=new Path2D;k.rect(I,S,b,E),A.addPath(k,n),D.clip(A);for(const $ of u.children)V4(D,n,o,$,g);const B=D.getImageData(0,0,_,w),N=B.data;if(u.mask_type===F4.MASK_TYPE_LUMINANCE)for(let $=0;$<N.length;$+=4)N[$+3]=N[$+3]/255*(.2126*N[$]+.7152*N[$+1]+.0722*N[$+2]);D.putImageData(B,0,0),h.globalCompositeOperation="destination-in",h.drawImage(T,0,0)}function c1(h){return h?new DOMMatrix([h.sx,h.ky,h.kx,h.sy,h.tx,h.ty]):new DOMMatrix}function W4(h){const n=new Path2D,o=h.step;let u=h.diffs[0]*o,g=h.diffs[1]*o;n.moveTo(u,g);for(let d=0,_=2;d<h.commands.length;d++)switch(h.commands[d]){case Ud.PATH_COMMAND_MOVE:u+=h.diffs[_++]*o,g+=h.diffs[_++]*o,n.moveTo(u,g);break;case Ud.PATH_COMMAND_LINE:u+=h.diffs[_++]*o,g+=h.diffs[_++]*o,n.lineTo(u,g);break;case Ud.PATH_COMMAND_QUAD:{const w=u+h.diffs[_++]*o,T=g+h.diffs[_++]*o;u=w+h.diffs[_++]*o,g=T+h.diffs[_++]*o,n.quadraticCurveTo(w,T,u,g);break}case Ud.PATH_COMMAND_CUBIC:{const w=u+h.diffs[_++]*o,T=g+h.diffs[_++]*o,D=w+h.diffs[_++]*o,b=T+h.diffs[_++]*o;u=D+h.diffs[_++]*o,g=b+h.diffs[_++]*o,n.bezierCurveTo(w,T,D,b,u,g);break}case Ud.PATH_COMMAND_CLOSE:n.closePath()}return n}class Jy{constructor(n){this.capacity=n,this.cache=new Map}get(n){if(!this.cache.has(n))return;const o=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,o),o}put(n,o){this.cache.has(n)?this.cache.delete(n):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(n,o)}delete(n){this.cache.delete(n)}}class Qy{constructor(){this.cacheMap=new Map,this.cacheDependenciesMap=new Map}static _getImage(n){return new Qr(n,n.data)}getFromCache(n,o,u){return this.cacheMap.has(u)||this.cacheMap.set(u,new Jy(150)),this.cacheMap.get(u).get(ra(n.serialize(),o))}setInCache(n,o,u,g){this.cacheDependenciesMap.has(g)||this.cacheDependenciesMap.set(g,new Map),this.cacheMap.has(g)||this.cacheMap.set(g,new Jy(150));const d=this.cacheDependenciesMap.get(g);d.get(ra(n.id,u))||d.set(ra(n.id,u),new Set);const _=this.cacheMap.get(g),w=n.serialize();d.get(ra(n.id,u)).add(w),_.put(ra(n.serialize(),u),o)}removeImagesFromCacheByIds(n,o,u=""){if(!this.cacheMap.has(u)||!this.cacheDependenciesMap.has(u))return;const g=this.cacheMap.get(u),d=this.cacheDependenciesMap.get(u);for(const _ of n)if(d.has(ra(_,o))){for(const w of d.get(ra(_,o)))g.delete(w);d.delete(ra(_,o))}}rasterize(n,o,u,g,d=DL){const _=this.getFromCache(n,u,g);if(_)return _.clone();const w=d(o.icon,n.options),T=Qy._getImage(w);return this.setInCache(n,T,u,g),T.clone()}}class Z4{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,o){const u=this.toIdx(n,o);return{min:this.minimums[u],max:this.maximums[u]}}isLeaf(n,o){return this.leaves[this.toIdx(n,o)]}toIdx(n,o){return o*this.size+n}}function Y4(h,n,o,u){let g=0,d=Number.MAX_VALUE;for(let _=0;_<3;_++)if(Math.abs(u[_])<1e-15){if(o[_]<h[_]||o[_]>n[_])return null}else{const w=1/u[_];let T=(h[_]-o[_])*w,D=(n[_]-o[_])*w;if(T>D){const b=T;T=D,D=b}if(T>g&&(g=T),D<d&&(d=D),g>d)return null}return g}function X4(h,n,o,u,g,d,_,w,T,D,b){const E=u-h,I=g-n,S=d-o,A=_-h,k=w-n,B=T-o,N=b[1]*B-b[2]*k,$=b[2]*A-b[0]*B,W=b[0]*k-b[1]*A,j=E*N+I*$+S*W;if(Math.abs(j)<1e-15)return null;const Y=1/j,K=D[0]-h,te=D[1]-n,ue=D[2]-o,ce=(K*N+te*$+ue*W)*Y;if(ce<0||ce>1)return null;const oe=te*S-ue*I,Me=ue*E-K*S,pe=K*I-te*E,Te=(b[0]*oe+b[1]*Me+b[2]*pe)*Y;return Te<0||ce+Te>1?null:(A*oe+k*Me+B*pe)*Y}function K4(h,n,o){return(h-n)/(o-n)}function J4(h,n,o,u,g,d,_,w,T){const D=1<<o,b=d-u,E=_-g,I=(h+1)/D*b+u,S=(n+0)/D*E+g,A=(n+1)/D*E+g;w[0]=(h+0)/D*b+u,w[1]=S,T[0]=I,T[1]=A}class Q4{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=function(d){const _=Math.ceil(Math.log2(d.dim/8)),w=[];let T=Math.ceil(Math.pow(2,_));const D=1/T,b=(S,A,k,B,N)=>{const $=B?1:0,W=(S+1)*k-$,j=A*k,Y=(A+1)*k-$;N[0]=S*k,N[1]=j,N[2]=W,N[3]=Y};let E=new Z4(T);const I=[];for(let S=0;S<T*T;S++){b(S%T,Math.floor(S/T),D,!1,I);const A=xc(I[0],I[1],d),k=xc(I[2],I[1],d),B=xc(I[2],I[3],d),N=xc(I[0],I[3],d);E.minimums.push(Math.min(A,k,B,N)),E.maximums.push(Math.max(A,k,B,N)),E.leaves.push(1)}for(w.push(E),T/=2;T>=1;T/=2){const S=w[w.length-1];E=new Z4(T);for(let A=0;A<T*T;A++){b(A%T,Math.floor(A/T),2,!0,I);const k=S.getElevation(I[0],I[1]),B=S.getElevation(I[2],I[1]),N=S.getElevation(I[2],I[3]),$=S.getElevation(I[0],I[3]),W=S.isLeaf(I[0],I[1]),j=S.isLeaf(I[2],I[1]),Y=S.isLeaf(I[2],I[3]),K=S.isLeaf(I[0],I[3]),te=Math.min(k.min,B.min,N.min,$.min),ue=Math.max(k.max,B.max,N.max,$.max),ce=W&&j&&Y&&K;E.maximums.push(ue),E.minimums.push(te),E.leaves.push(ue-te<=5&&ce?1:0)}w.push(E)}return w}(this.dem),u=o.length-1,g=o[u];this._addNode(g.minimums[0],g.maximums[0],g.leaves[0]),this._construct(o,0,0,u,0)}raycastRoot(n,o,u,g,d,_,w=1){return Y4([n,o,-100],[u,g,this.maximums[0]*w],d,_)}raycast(n,o,u,g,d,_,w=1){if(!this.nodeCount)return null;const T=this.raycastRoot(n,o,u,g,d,_,w);if(T==null)return null;const D=[],b=[],E=[],I=[],S=[{idx:0,t:T,nodex:0,nodey:0,depth:0}];for(;S.length>0;){const{idx:A,t:k,nodex:B,nodey:N,depth:$}=S.pop();if(this.leaves[A]){J4(B,N,$,n,o,u,g,E,I);const j=1<<$,Y=(B+0)/j,K=(B+1)/j,te=(N+0)/j,ue=(N+1)/j,ce=xc(Y,te,this.dem)*w,oe=xc(K,te,this.dem)*w,Me=xc(K,ue,this.dem)*w,pe=xc(Y,ue,this.dem)*w,Te=X4(E[0],E[1],ce,I[0],E[1],oe,I[0],I[1],Me,d,_),Pe=X4(I[0],I[1],Me,E[0],I[1],pe,E[0],E[1],ce,d,_),Ae=Math.min(Te!==null?Te:Number.MAX_VALUE,Pe!==null?Pe:Number.MAX_VALUE);if(Ae!==Number.MAX_VALUE)return Ae;{const ke=Ie.vec3.scaleAndAdd([],d,_,k);if(e3(ce,oe,pe,Me,K4(ke[0],E[0],I[0]),K4(ke[1],E[1],I[1]))>=ke[2])return k}continue}let W=0;for(let j=0;j<this._siblingOffset.length;j++){J4((B<<1)+this._siblingOffset[j][0],(N<<1)+this._siblingOffset[j][1],$+1,n,o,u,g,E,I),E[2]=-100,I[2]=this.maximums[this.childOffsets[A]+j]*w;const Y=Y4(E,I,d,_);if(Y!=null){const K=Y;D[j]=K;let te=!1;for(let ue=0;ue<W&&!te;ue++)K>=D[b[ue]]&&(b.splice(ue,0,j),te=!0);te||(b[W]=j),W++}}for(let j=0;j<W;j++){const Y=b[j];S.push({idx:this.childOffsets[A]+Y,t:D[Y],nodex:(B<<1)+this._siblingOffset[Y][0],nodey:(N<<1)+this._siblingOffset[Y][1],depth:$+1})}}return null}_addNode(n,o,u){return this.minimums.push(n),this.maximums.push(o),this.leaves.push(u),this.childOffsets.push(0),this.nodeCount++}_construct(n,o,u,g,d){if(n[g].isLeaf(o,u)===1)return;this.childOffsets[d]||(this.childOffsets[d]=this.nodeCount);const _=g-1,w=n[_];let T=0,D=0;for(let b=0;b<this._siblingOffset.length;b++){const E=2*o+this._siblingOffset[b][0],I=2*u+this._siblingOffset[b][1],S=w.getElevation(E,I),A=w.isLeaf(E,I),k=this._addNode(S.min,S.max,A);A&&(T|=1<<b),D||(D=k)}for(let b=0;b<this._siblingOffset.length;b++)T&1<<b||this._construct(n,2*o+this._siblingOffset[b][0],2*u+this._siblingOffset[b][1],_,D+b)}}function e3(h,n,o,u,g,d){return ei(ei(h,o,d),ei(n,u,d),g)}function xc(h,n,o){const u=o.dim,g=li(h*u-.5,0,u-1),d=li(n*u-.5,0,u-1),_=Math.floor(g),w=Math.floor(d),T=Math.min(_+1,u-1),D=Math.min(w+1,u-1);return e3(o.get(_,w),o.get(T,w),o.get(_,D),o.get(T,D),g-_,d-w)}const LL={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function kL(h,n,o){return(256*h*256+256*n+o)/10-1e4}function OL(h,n,o){return 256*h+n+o/256-32768}class xg{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,o,u,g=!1){if(this.uid=n,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return void yi(`"${u}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const d=this.dim=o.height-2,_=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.floatView=new Float32Array(o.data.buffer),this.borderReady=g,this._modifiedForSources={},!g){for(let T=0;T<d;T++)_[this._idx(-1,T)]=_[this._idx(0,T)],_[this._idx(d,T)]=_[this._idx(d-1,T)],_[this._idx(T,-1)]=_[this._idx(T,0)],_[this._idx(T,d)]=_[this._idx(T,d-1)];_[this._idx(-1,-1)]=_[this._idx(0,0)],_[this._idx(d,-1)]=_[this._idx(d-1,0)],_[this._idx(-1,d)]=_[this._idx(0,d-1)],_[this._idx(d,d)]=_[this._idx(d-1,d-1)]}const w=u==="terrarium"?OL:kL;for(let T=0;T<_.length;++T){const D=4*T;this.floatView[T]=w(this.pixels[D],this.pixels[D+1],this.pixels[D+2])}this._timestamp=Dt.now()}_buildQuadTree(){this._tree=new Q4(this)}get(n,o,u=!1){u&&(n=li(n,-1,this.dim),o=li(o,-1,this.dim));const g=this._idx(n,o);return this.floatView[g]}set(n,o,u){const g=this._idx(n,o),d=this.floatView[g];return this.floatView[g]=u,u-d}static getUnpackVector(n){return LL[n]}_idx(n,o){if(n<-1||n>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(n+1)}static pack(n,o){const u=[0,0,0,0],g=xg.getUnpackVector(o);let d=Math.floor((n+g[3])/g[2]);return u[2]=d%256,d=Math.floor(d/256),u[1]=d%256,d=Math.floor(d/256),u[0]=d,u}getPixels(){return new vw({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,o,u){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let g=o*this.dim,d=o*this.dim+this.dim,_=u*this.dim,w=u*this.dim+this.dim;switch(o){case-1:g=d-1;break;case 1:d=g+1}switch(u){case-1:_=w-1;break;case 1:w=_+1}const T=-o*this.dim,D=-u*this.dim;for(let b=_;b<w;b++)for(let E=g;E<d;E++){const I=4*this._idx(E,b),S=4*this._idx(E+T,b+D);this.pixels[I+0]=n.pixels[S+0],this.pixels[I+1]=n.pixels[S+1],this.pixels[I+2]=n.pixels[S+2],this.pixels[I+3]=n.pixels[S+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function RL(h,n,o){h===1?n.headerLength=o.readFixed32():h===2?n.x=o.readVarint():h===3?n.y=o.readVarint():h===4?n.z=o.readVarint():h===5&&n.layers.push(function(u,g){return u.readFields(VL,{version:0,name:"",units:"",tileSize:0,buffer:0,pixelFormat:0,dataIndex:[]},g)}(o,o.readVarint()+o.pos))}function zL(h,n,o){h===1?(n.delta_filter=function(u,g){return u.readFields(FL,{blockSize:0},g)}(o,o.readVarint()+o.pos),n.filter="delta_filter"):h===2?(o.readVarint(),n.filter="zigzag_filter"):h===3?(o.readVarint(),n.filter="bitshuffle_filter"):h===4&&(o.readVarint(),n.filter="byteshuffle_filter")}function FL(h,n,o){h===1&&(n.blockSize=o.readVarint())}function BL(h,n,o){h===1?(o.readVarint(),n.codec="gzip_data"):h===2?(o.readVarint(),n.codec="jpeg_image"):h===3?(o.readVarint(),n.codec="webp_image"):h===4&&(o.readVarint(),n.codec="png_image")}function NL(h,n,o){let u=0,g=0;h===1?n.firstByte=o.readFixed64():h===2?n.lastByte=o.readFixed64():h===3?n.filters.push(function(d,_){return d.readFields(zL,{},_)}(o,o.readVarint()+o.pos)):h===4?n.codec=function(d,_){return d.readFields(BL,{},_)}(o,o.readVarint()+o.pos):h===5?g=o.readFloat():h===6?u=o.readFloat():h===7?n.bands.push(o.readString()):h===8?n.offset=o.readDouble():h===9&&(n.scale=o.readDouble()),n.offset===0&&(n.offset=g),n.scale===0&&(n.scale=u)}function VL(h,n,o){h===1?n.version=o.readVarint():h===2?n.name=o.readString():h===3?n.units=o.readString():h===4?n.tileSize=o.readVarint():h===5?n.buffer=o.readVarint():h===6?n.pixelFormat=o.readVarint():h===7&&n.dataIndex.push(function(u,g){return u.readFields(NL,{firstByte:0,lastByte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},g)}(o,o.readVarint()+o.pos))}function HL(h,n,o){if(h===2)(function(u,g,d){u.readFields(UL,d,g)})(o,o.readVarint()+o.pos,n);else if(h===3)throw new Error("Not implemented")}function UL(h,n,o){if(h===1){let u=0;const g=o.readVarint()+o.pos;for(;o.pos<g;)n[u++]=o.readVarint()}}function jL(h,n){if(n.length!==4)throw new Error(`Expected data of dimension 4 but got ${n.length}.`);let o=n[3];for(let u=2;u>=1;u--){const g=u===1?1:0,d=u===2?1:0;for(let _=0;_<n[0];_++){const w=n[1]*_;for(let T=g;T<n[1];T++){const D=n[2]*(T+w);for(let b=d;b<n[2];b++){const E=n[3]*(b+D);for(let I=0;I<n[3];I++){const S=E+I;h[S]+=h[S-o]}}}}o*=n[u]}return h}function qL(h){for(let n=0,o=h.length;n<o;n++)h[n]=h[n]>>>1^-(1&h[n]);return h}function $L(h,n){switch(n){case"uint32":return h;case"uint16":for(let o=0;o<h.length;o+=2){const u=h[o],g=h[o+1];h[o]=(240&u)>>4|(61440&u)>>8|(240&g)<<4|61440&g,h[o+1]=15&u|(3840&u)>>4|(15&g)<<8|(3840&g)<<4}return h;case"uint8":for(let o=0;o<h.length;o+=4){const u=h[o],g=h[o+1],d=h[o+2],_=h[o+3];h[o+0]=(192&u)>>6|(192&g)>>4|(192&d)>>2|192&_,h[o+1]=(48&u)>>4|(48&g)>>2|48&d|(48&_)<<2,h[o+2]=(12&u)>>2|12&g|(12&d)<<2|(12&_)<<4,h[o+3]=3&u|(3&g)<<2|(3&d)<<4|(3&_)<<6}return h;default:throw new Error(`Invalid pixel format, "${n}"`)}}Nt(xg,"DEMData"),Nt(Q4,"DemMinMaxQuadTree",{omit:["dem"]});var ha=Uint8Array,h1=Uint16Array,GL=Int32Array,t3=new ha([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i3=new ha([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WL=new ha([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n3=function(h,n){for(var o=new h1(31),u=0;u<31;++u)o[u]=n+=1<<h[u-1];var g=new GL(o[30]);for(u=1;u<30;++u)for(var d=o[u];d<o[u+1];++d)g[d]=d-o[u]<<5|u;return{b:o,r:g}},r3=n3(t3,2),s3=r3.b,ZL=r3.r;s3[28]=258,ZL[258]=28;for(var YL=n3(i3,0).b,a3=new h1(32768),er=0;er<32768;++er){var qd=(43690&er)>>1|(21845&er)<<1;a3[er]=((65280&(qd=(61680&(qd=(52428&qd)>>2|(13107&qd)<<2))>>4|(3855&qd)<<4))>>8|(255&qd)<<8)>>1}var u1=function(h,n,o){for(var u=h.length,g=0,d=new h1(n);g<u;++g)h[g]&&++d[h[g]-1];var _,w=new h1(n);for(g=1;g<n;++g)w[g]=w[g-1]+d[g-1]<<1;_=new h1(1<<n);var T=15-n;for(g=0;g<u;++g)if(h[g])for(var D=g<<4|h[g],b=n-h[g],E=w[h[g]-1]++<<b,I=E|(1<<b)-1;E<=I;++E)_[a3[E]>>T]=D;return _},d1=new ha(288);for(er=0;er<144;++er)d1[er]=8;for(er=144;er<256;++er)d1[er]=9;for(er=256;er<280;++er)d1[er]=7;for(er=280;er<288;++er)d1[er]=8;var o3=new ha(32);for(er=0;er<32;++er)o3[er]=5;var XL=u1(d1,9),KL=u1(o3,5),ev=function(h){for(var n=h[0],o=1;o<h.length;++o)h[o]>n&&(n=h[o]);return n},so=function(h,n,o){var u=n/8|0;return(h[u]|h[u+1]<<8)>>(7&n)&o},tv=function(h,n){var o=n/8|0;return(h[o]|h[o+1]<<8|h[o+2]<<16)>>(7&n)},JL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ao=function(h,n,o){var u=new Error(n||JL[h]);if(u.code=h,Error.captureStackTrace&&Error.captureStackTrace(u,ao),!o)throw u;return u},QL=new ha(0),ek=typeof TextDecoder<"u"&&new TextDecoder;try{ek.decode(QL,{stream:!0})}catch{}const tk={gzip_data:"gzip"};class Ia extends Error{constructor(n){super(n),this.name="MRTError"}}const ik={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},l3={uint32:1,uint16:2,uint8:4},nk={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let iv;class nv{constructor(n=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=n}getLayer(n){const o=this.layers[n];if(!o)throw new Ia(`Layer '${n}' not found`);return o}getHeaderLength(n){const o=new Uint8Array(n),u=new DataView(n);if(o[0]!==13)throw new Ia("File is not a valid MRT.");return u.getUint32(1,!0)}parseHeader(n){const o=new Uint8Array(n),u=this.getHeaderLength(n);if(o.length<u)throw new Ia(`Expected header with length >= ${u} but got buffer of length ${o.length}`);const g=function(d,_){return d.readFields(RL,{headerLength:0,x:0,y:0,z:0,layers:[]},void 0)}(new iv(o.subarray(0,u)));if(!isNaN(this.x)&&(this.x!==g.x||this.y!==g.y||this.z!==g.z))throw new Ia(`Invalid attempt to parse header ${g.z}/${g.x}/${g.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=g.x,this.y=g.y,this.z=g.z;for(const d of g.layers)this.layers[d.name]=new rk(d,{cacheSize:this._cacheSize});return this}createDecodingTask(n){const o=[],u=this.getLayer(n.layerName);for(let g of n.blockIndices){const d=u.dataIndex[g],_=d.firstByte-n.firstByte,w=d.lastByte-n.firstByte;if(u._blocksInProgress.has(g))continue;const T={layerName:u.name,firstByte:_,lastByte:w,pixelFormat:u.pixelFormat,blockIndex:g,blockShape:[d.bands.length].concat(u.bandShape),buffer:u.buffer,codec:d.codec.codec,filters:d.filters.map(D=>D.filter)};u._blocksInProgress.add(g),o.push(T)}return new c3(o,()=>{o.forEach(g=>u._blocksInProgress.delete(g.blockIndex))},(g,d)=>{if(o.forEach(_=>u._blocksInProgress.delete(_.blockIndex)),g)throw g;d.forEach(_=>{this.getLayer(_.layerName).processDecodedData(_)})})}}class rk{constructor({version:n,name:o,units:u,tileSize:g,pixelFormat:d,buffer:_,dataIndex:w},T){if(this.version=n,this.version!==1)throw new Ia(`Cannot parse raster layer encoded with MRT version ${n}`);this.name=o,this.units=u,this.tileSize=g,this.buffer=_,this.pixelFormat=ik[d],this.dataIndex=w,this.bandShape=[g+2*_,g+2*_,l3[this.pixelFormat]],this._decodedBlocks=new Jy(T?T.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return l3[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:n})=>n).flat()}processDecodedData(n){const o=n.blockIndex.toString();this._decodedBlocks.get(o)||this._decodedBlocks.put(o,n.data)}getBlockForBand(n){let o=0;switch(typeof n){case"string":for(const[u,g]of this.dataIndex.entries()){for(const[d,_]of g.bands.entries())if(_===n)return{bandIndex:o+d,blockIndex:u,blockBandIndex:d};o+=g.bands.length}break;case"number":for(const[u,g]of this.dataIndex.entries()){if(n>=o&&n<o+g.bands.length)return{bandIndex:n,blockIndex:u,blockBandIndex:n-o};o+=g.bands.length}break;default:throw new Ia(`Invalid band \`${JSON.stringify(n)}\`. Expected string or integer.`)}throw new Ia(`Band not found: ${JSON.stringify(n)}`)}getDataRange(n){let o=1/0,u=-1/0;const g=[],d=new Set;for(const _ of n){const{blockIndex:w}=this.getBlockForBand(_);if(w<0)throw new Ia(`Invalid band: ${JSON.stringify(_)}`);const T=this.dataIndex[w];g.includes(w)||g.push(w),d.add(w),o=Math.min(o,T.firstByte),u=Math.max(u,T.lastByte)}if(d.size>this.cacheSize)throw new Ia(`Number of blocks to decode (${d.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:o,lastByte:u,blockIndices:g}}hasBand(n){const{blockIndex:o}=this.getBlockForBand(n);return o>=0}hasDataForBand(n){const{blockIndex:o}=this.getBlockForBand(n);return o>=0&&!!this._decodedBlocks.get(o.toString())}getBandView(n){const{blockIndex:o,blockBandIndex:u}=this.getBlockForBand(n),g=this._decodedBlocks.get(o.toString());if(!g)throw new Ia(`Data for band ${JSON.stringify(n)} of layer "${this.name}" not decoded.`);const d=this.dataIndex[o],_=this.bandShape.reduce((D,b)=>D*b,1),w=u*_,T=g.subarray(w,w+_);return{data:T,bytes:new Uint8Array(T.buffer).subarray(T.byteOffset,T.byteOffset+T.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:d.offset,scale:d.scale}}}nv.setPbf=function(h){iv=h};class c3{constructor(n,o,u){this.tasks=n,this._onCancel=o,this._onComplete=u,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(n,o){this._finalized||(this._onComplete(n,o),this._finalized=!0)}}nv.performDecoding=function(h,n){const o=new Uint8Array(h);return Promise.all(n.tasks.map(u=>{const{layerName:g,firstByte:d,lastByte:_,pixelFormat:w,blockShape:T,blockIndex:D,filters:b,codec:E}=u,I=o.subarray(d,_+1),S=new Uint32Array(T[0]*T[1]*T[2]);let A;if(E!=="gzip_data")throw new Ia(`Unhandled codec: ${E}`);return A=function(k,B){if(!globalThis.DecompressionStream&&B==="gzip_data")return Promise.resolve(((j=function(te){te[0]==31&&te[1]==139&&te[2]==8||ao(6,"invalid gzip data");var ue=te[3],ce=10;4&ue&&(ce+=2+(te[10]|te[11]<<8));for(var oe=(ue>>3&1)+(ue>>4&1);oe>0;oe-=!te[ce++]);return ce+(2&ue)}(W=k))+8>W.length&&ao(6,"invalid gzip data"),function(te,ue,ce,oe){var Me=te.length;if(!Me||ue.f&&!ue.l)return ce||new ha(0);var pe=!ce,Te=pe||ue.i!=2,Pe=ue.i;pe&&(ce=new ha(3*Me));var Ae,ke,Ve=function(_l){var Mc=ce.length;if(_l>Mc){var Sc=new ha(Math.max(2*Mc,_l));Sc.set(ce),ce=Sc}},He=ue.f||0,Be=ue.p||0,Ke=ue.b||0,ft=ue.l,Qe=ue.d,St=ue.m,Mt=ue.n,Pt=8*Me;do{if(!ft){He=so(te,Be,1);var ot=so(te,Be+1,3);if(Be+=3,!ot){var Ut=te[(oi=4+((Be+7)/8|0))-4]|te[oi-3]<<8,Et=oi+Ut;if(Et>Me){Pe&&ao(0);break}Te&&Ve(Ke+Ut),ce.set(te.subarray(oi,Et),Ke),ue.b=Ke+=Ut,ue.p=Be=8*Et,ue.f=He;continue}if(ot==1)ft=XL,Qe=KL,St=9,Mt=5;else if(ot==2){var Ht=so(te,Be,31)+257,Xt=so(te,Be+10,15)+4,di=Ht+so(te,Be+5,31)+1;Be+=14;for(var fi=new ha(di),bi=new ha(19),mi=0;mi<Xt;++mi)bi[WL[mi]]=so(te,Be+3*mi,7);Be+=3*Xt;var Ti=ev(bi),ln=(1<<Ti)-1,tn=u1(bi,Ti);for(mi=0;mi<di;){var oi,nn=tn[so(te,Be,ln)];if(Be+=15&nn,(oi=nn>>4)<16)fi[mi++]=oi;else{var Xi=0,cn=0;for(oi==16?(cn=3+so(te,Be,3),Be+=2,Xi=fi[mi-1]):oi==17?(cn=3+so(te,Be,7),Be+=3):oi==18&&(cn=11+so(te,Be,127),Be+=7);cn--;)fi[mi++]=Xi}}var tr=fi.subarray(0,Ht),ir=fi.subarray(Ht);St=ev(tr),Mt=ev(ir),ft=u1(tr,St),Qe=u1(ir,Mt)}else ao(1);if(Be>Pt){Pe&&ao(0);break}}Te&&Ve(Ke+131072);for(var $n=(1<<St)-1,_s=(1<<Mt)-1,bn=Be;;bn=Be){var Cn=(Xi=ft[tv(te,Be)&$n])>>4;if((Be+=15&Xi)>Pt){Pe&&ao(0);break}if(Xi||ao(2),Cn<256)ce[Ke++]=Cn;else{if(Cn==256){bn=Be,ft=null;break}var as=Cn-254;Cn>264&&(as=so(te,Be,(1<<(dr=t3[mi=Cn-257]))-1)+s3[mi],Be+=dr);var nr=Qe[tv(te,Be)&_s],Ts=nr>>4;if(nr||ao(3),Be+=15&nr,ir=YL[Ts],Ts>3){var dr=i3[Ts];ir+=tv(te,Be)&(1<<dr)-1,Be+=dr}if(Be>Pt){Pe&&ao(0);break}Te&&Ve(Ke+131072);var Do=Ke+as;if(Ke<ir){var bc=0-ir,wc=Math.min(ir,Do);for(bc+Ke<0&&ao(3);Ke<wc;++Ke)ce[Ke]=(void 0)[bc+Ke]}for(;Ke<Do;++Ke)ce[Ke]=ce[Ke-ir]}}ue.l=ft,ue.p=bn,ue.b=Ke,ue.f=He,ft&&(He=1,ue.m=St,ue.d=Qe,ue.n=Mt)}while(!He);return Ke!=ce.length&&pe?(Ae=ce,((ke=Ke)==null||ke>Ae.length)&&(ke=Ae.length),new ha(Ae.subarray(0,ke))):ce.subarray(0,Ke)}(W.subarray(j,-8),{i:2},new ha(((N=W)[($=N.length)-4]|N[$-3]<<8|N[$-2]<<16|N[$-1]<<24)>>>0))));var N,$,W,j;const Y=tk[B];if(!Y)throw new Error(`Unhandled codec: ${B}`);const K=new globalThis.DecompressionStream(Y);return new Response(new Blob([k]).stream().pipeThrough(K)).arrayBuffer().then(te=>new Uint8Array(te))}(I,E).then(k=>(function(B,N){B.readFields(HL,N)}(new iv(k),S),new nk[w](S.buffer))),A.then(k=>{for(let B=b.length-1;B>=0;B--)switch(b[B]){case"delta_filter":jL(k,T);break;case"zigzag_filter":qL(k);break;case"bitshuffle_filter":$L(k,w);break;default:throw new Ia(`Unhandled filter "${b[B]}"`)}return{layerName:g,blockIndex:D,data:k}}).catch(k=>{throw k})}))},Nt(c3,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});let p1,rv,oo,$d,sv,Gd=null;function h3(){return Va()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:rv||le.DRACO_URL}function u3(){if(Va()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if($d)return $d;const h=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return $d=WebAssembly.validate(h)?le.MESHOPT_SIMD_URL:le.MESHOPT_URL,$d}const bg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},sk={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},f1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function d3(h,n,o){const u=o.json.bufferViews.length,g=o.buffers.length;n.bufferView=u,o.json.bufferViews[u]={buffer:g,byteLength:h.byteLength},o.buffers[g]=h}const av="KHR_draco_mesh_compression";function ak(h,n){const o=h.extensions&&h.extensions[av];if(!o)return;const u=new oo.Decoder,g=g3(n,o.bufferView),d=new oo.Mesh;if(!u.DecodeArrayToMesh(g,g.byteLength,d))throw new Error("Failed to decode Draco mesh");const _=n.json.accessors[h.indices],w=bg[_.componentType],T=_.count*w.BYTES_PER_ELEMENT,D=oo._malloc(T);w===Uint16Array?u.GetTrianglesUInt16Array(d,T,D):u.GetTrianglesUInt32Array(d,T,D),d3(oo.memory.buffer.slice(D,D+T),_,n),oo._free(D);for(const b of Object.keys(o.attributes)){const E=u.GetAttributeByUniqueId(d,o.attributes[b]),I=n.json.accessors[h.attributes[b]],S=sk[I.componentType],A=I.count*f1[I.type]*bg[I.componentType].BYTES_PER_ELEMENT,k=oo._malloc(A);u.GetAttributeDataArrayForAllPoints(d,E,oo[S],A,k),d3(oo.memory.buffer.slice(k,k+A),I,n),oo._free(k)}u.destroy(),d.destroy(),delete h.extensions[av]}const wg="EXT_meshopt_compression";function ok(h,n){if(!h.extensions||!h.extensions[wg])return;const o=h.extensions[wg],u=new Uint8Array(n.buffers[o.buffer],o.byteOffset||0,o.byteLength||0),g=new Uint8Array(o.count*o.byteStride);sv.decodeGltfBuffer(g,o.count,o.byteStride,u,o.mode,o.filter),h.buffer=n.buffers.length,h.byteOffset=0,n.buffers[h.buffer]=g.buffer,delete h.extensions[wg]}const p3=1179937895,f3=new TextDecoder("utf8");function m3(h,n){return new URL(h,n).href}function lk(h,n,o,u){return fetch(m3(h.uri,u)).then(g=>g.arrayBuffer()).then(g=>{n.buffers[o]=g})}function g3(h,n){const o=h.json.bufferViews[n];return new Uint8Array(h.buffers[o.buffer],o.byteOffset||0,o.byteLength)}function ck(h,n,o,u){if(h.uri){const g=m3(h.uri,u);return fetch(g).then(d=>d.blob()).then(d=>createImageBitmap(d)).then(d=>{n.images[o]=d})}if(h.bufferView!==void 0){const g=g3(n,h.bufferView),d=new Blob([g],{type:h.mimeType});return createImageBitmap(d).then(_=>{n.images[o]=_})}}function _3(h,n=0,o){const u={json:null,images:[],buffers:[]};if(new Uint32Array(h,n,1)[0]===p3){const b=new Uint32Array(h,n);let E=2;const I=(b[E++]>>2)-3,S=b[E++]>>2;if(E++,u.json=JSON.parse(f3.decode(b.subarray(E,E+S))),E+=S,E<I){const A=b[E++];E++;const k=n+(E<<2);u.buffers[0]=h.slice(k,k+A)}}else u.json=JSON.parse(f3.decode(new Uint8Array(h,n)));const{buffers:g,images:d,meshes:_,extensionsUsed:w,bufferViews:T}=u.json;let D=Promise.resolve();if(g){const b=[];for(let E=0;E<g.length;E++){const I=g[E];I.uri?b.push(lk(I,u,E,o)):u.buffers[E]||(u.buffers[E]=null)}D=Promise.all(b)}return D.then(()=>{const b=[],E=w&&w.includes(av),I=w&&w.includes(wg);if(E&&b.push(function(){if(!oo)return p1??(p1=function(S){let A,k=null;function B(){A=new Uint8Array(k.buffer)}function N(){throw new Error("Unexpected Draco error.")}const $={a:{a:N,d:function(W,j,Y){return A.copyWithin(W,j,j+Y)},c:function(W){const j=A.length,Y=Math.max(W>>>0,Math.ceil(1.2*j)),K=Math.ceil((Y-j)/65536);try{return k.grow(K),B(),!0}catch{return!1}},b:N}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(S,$):S.then(W=>W.arrayBuffer()).then(W=>WebAssembly.instantiate(W,$))).then(W=>{const{Rb:j,Qb:Y,P:K,T:te,X:ue,Ja:ce,La:oe,Qa:Me,Va:pe,Wa:Te,eb:Pe,jb:Ae,f:ke,e:Ve,yb:He,zb:Be,Ab:Ke,Bb:ft,Db:Qe,Gb:St}=W.instance.exports;k=Ve;const Mt=(()=>{let Pt=0,ot=0,Ut=0,Et=0;return Ht=>{Ut&&(j(Et),j(Pt),ot+=Ut,Ut=Pt=0),Pt||(ot+=128,Pt=Y(ot));const Xt=Ht.length+7&-8;let di=Pt;Xt>=ot&&(Ut=Xt,di=Et=Y(Xt));for(let fi=0;fi<Ht.length;fi++)A[di+fi]=Ht[fi];return di}})();return B(),ke(),{memory:Ve,_free:j,_malloc:Y,Mesh:class{constructor(){this.ptr=K()}destroy(){te(this.ptr)}},Decoder:class{constructor(){this.ptr=ce()}destroy(){Ae(this.ptr)}DecodeArrayToMesh(Pt,ot,Ut){const Et=Mt(Pt),Ht=oe(this.ptr,Et,ot,Ut.ptr);return!!ue(Ht)}GetAttributeByUniqueId(Pt,ot){return{ptr:Me(this.ptr,Pt.ptr,ot)}}GetTrianglesUInt16Array(Pt,ot,Ut){pe(this.ptr,Pt.ptr,ot,Ut)}GetTrianglesUInt32Array(Pt,ot,Ut){Te(this.ptr,Pt.ptr,ot,Ut)}GetAttributeDataArrayForAllPoints(Pt,ot,Ut,Et,Ht){Pe(this.ptr,Pt.ptr,ot.ptr,Ut,Et,Ht)}},DT_INT8:He(),DT_UINT8:Be(),DT_INT16:Ke(),DT_UINT16:ft(),DT_UINT32:Qe(),DT_FLOAT32:St()}})}(fetch(h3())),p1.then(S=>{oo=S,p1=void 0}))}()),I&&b.push(function(){if(sv)return;const S=function(A){let k;const B=WebAssembly.instantiateStreaming(A,{}).then(W=>{k=W.instance,k.exports.__wasm_call_ctors()}),N={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},$={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:B,supported:!0,decodeGltfBuffer(W,j,Y,K,te,ue){(function(ce,oe,Me,pe,Te,Pe,Ae){const ke=ce.exports.sbrk,Ve=pe+3&-4,He=ke(Ve*Te),Be=ke(Pe.length),Ke=new Uint8Array(ce.exports.memory.buffer);Ke.set(Pe,Be);const ft=oe(He,pe,Te,Be,Pe.length);if(ft===0&&Ae&&Ae(He,Ve,Te),Me.set(Ke.subarray(He,He+pe*Te)),ke(He-ke(0)),ft!==0)throw new Error(`Malformed buffer data: ${ft}`)})(k,k.exports[$[te]],W,j,Y,K,k.exports[N[ue]])}}}(fetch(u3()));return S.ready.then(()=>{sv=S})}()),d)for(let S=0;S<d.length;S++)b.push(ck(d[S],u,S,o));return(b.length?Promise.all(b):Promise.resolve()).then(()=>{if(E&&_)for(const{primitives:S}of _)for(const A of S)ak(A,u);if(I&&_&&T)for(const S of T)ok(S,u);return u})})}function Fh(h,n){const o=h.json.bufferViews[n.bufferView],u=bg[n.componentType];return new u(h.buffers[o.buffer],(n.byteOffset||0)+(o.byteOffset||0),n.count*(o.byteStride&&o.byteStride!==f1[n.type]*u.BYTES_PER_ELEMENT?o.byteStride/u.BYTES_PER_ELEMENT:f1[n.type]))}function ov(h,n,o,u){const g=bg[n.componentType],d=function(b){switch(b){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(g),_=h.json.bufferViews[n.bufferView],w=_.byteStride?_.byteStride/g.BYTES_PER_ELEMENT:f1[n.type],T=o.float32,D=T.length/o.capacity;for(let b=0,E=0;b<n.count*w;b+=w,E+=D)for(let I=0;I<D;I++)T[E+I]=u[b+I]*d;o._trim()}function hk(h,n,o){const u=h.indices,g=h.attributes,d={};d.indexArray=new Fr;const _=n.json.accessors[u],w=_.count/3;d.indexArray.reserve(w);const T=Fh(n,_);for(let I=0;I<w;I++)d.indexArray.emplaceBack(T[3*I],T[3*I+1],T[3*I+2]);d.indexArray._trim(),d.vertexArray=new Ja;const D=n.json.accessors[g.POSITION];d.vertexArray.reserve(D.count);const b=Fh(n,D);for(let I=0;I<D.count;I++)d.vertexArray.emplaceBack(b[3*I],b[3*I+1],b[3*I+2]);if(d.vertexArray._trim(),d.aabb=new Yt(D.min,D.max),d.centroid=function(I,S){const A=[0,0,0],k=I.length;if(k>0){for(let B=0;B<k;B++){const N=3*I[B];A[0]+=S[N],A[1]+=S[N+1],A[2]+=S[N+2]}A[0]/=k,A[1]/=k,A[2]/=k}return A}(T,b),g.COLOR_0!==void 0){const I=n.json.accessors[g.COLOR_0],S=f1[I.type],A=Fh(n,I);d.colorArray=S===3?new Ja:new wo,d.colorArray.resize(I.count),ov(n,I,d.colorArray,A)}if(g.NORMAL!==void 0){d.normalArray=new Ja;const I=n.json.accessors[g.NORMAL];d.normalArray.resize(I.count);const S=Fh(n,I);ov(n,I,d.normalArray,S)}if(g.TEXCOORD_0!==void 0&&o.length>0){d.texcoordArray=new ul;const I=n.json.accessors[g.TEXCOORD_0];d.texcoordArray.resize(I.count);const S=Fh(n,I);ov(n,I,d.texcoordArray,S)}if(g._FEATURE_ID_RGBA4444!==void 0){const I=n.json.accessors[g._FEATURE_ID_RGBA4444];n.json.extensionsUsed&&n.json.extensionsUsed.includes("EXT_meshopt_compression")&&(d.featureData=Fh(n,I))}g._FEATURE_RGBA4444!==void 0&&(d.featureData=new Uint32Array(Fh(n,n.json.accessors[g._FEATURE_RGBA4444]).buffer));const E=h.material;return d.material=function(I,S){const{emissiveFactor:A=[0,0,0],alphaMode:k="OPAQUE",alphaCutoff:B=.5,normalTexture:N,occlusionTexture:$,emissiveTexture:W,doubleSided:j}=I,{baseColorFactor:Y=[1,1,1,1],metallicFactor:K=1,roughnessFactor:te=1,baseColorTexture:ue,metallicRoughnessTexture:ce}=I.pbrMetallicRoughness||{},oe=$?S[$.index]:void 0;if($&&$.extensions&&$.extensions.KHR_texture_transform&&oe){const Me=$.extensions.KHR_texture_transform;oe.offsetScale=[Me.offset[0],Me.offset[1],Me.scale[0],Me.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new zi(...Y),metallicFactor:K,roughnessFactor:te,baseColorTexture:ue?S[ue.index]:void 0,metallicRoughnessTexture:ce?S[ce.index]:void 0},doubleSided:j,emissiveFactor:A,alphaMode:k,alphaCutoff:B,normalTexture:N?S[N.index]:void 0,occlusionTexture:oe,emissionTexture:W?S[W.index]:void 0,defined:I.defined===void 0}}(E!==void 0?n.json.materials[E]:{defined:!1},o),d}function y3(h,n,o){const{matrix:u,rotation:g,translation:d,scale:_,mesh:w,extras:T,children:D}=h,b={};if(b.matrix=u||Ie.mat4.fromRotationTranslationScale([],g||[0,0,0,1],d||[0,0,0],_||[1,1,1]),w!==void 0){b.meshes=o[w];const E=b.anchor=[0,0];for(const I of b.meshes){const{min:S,max:A}=I.aabb;E[0]+=S[0]+A[0],E[1]+=S[1]+A[1]}E[0]=Math.floor(E[0]/b.meshes.length/2),E[1]=Math.floor(E[1]/b.meshes.length/2)}if(T&&(T.id&&(b.id=T.id),T.lights&&(b.lights=function(E){if(!E.length)return[];const I=function(N){const $=atob(N),W=new Uint8Array($.length);for(let j=0;j<$.length;j++)W[j]=$.codePointAt(j);return W}(E),S=[],A=I.length/24,k=new Uint16Array(I.buffer),B=new Float32Array(I.buffer);for(let N=0;N<A;N++){const $=k[2*N*6]/30,W=k[2*N*6+1]/30,j=k[2*N*6+10]/100,Y=B[6*N+1],K=B[6*N+2],te=B[6*N+3],ue=B[6*N+4],ce=te-Y,oe=ue-K,Me=Math.hypot(ce,oe);S.push({pos:[Y+.5*ce,K+.5*oe,W],normal:[oe/Me,-ce/Me,0],width:Me,height:$,depth:j,points:[Y,K,te,ue]})}return S}(T.lights))),D){const E=[];for(const I of D)E.push(y3(n.json.nodes[I],n,o));b.children=E}return b}function uk(h){if(h.vertices.length===0||h.indices.length===0)return null;const n=new cy(h.vertices,h.indices,8,256),[o,u]=[n.min.clone(),n.max.clone()];return{vertices:h.vertices,indices:h.indices,grid:n,min:o,max:u}}function dk(h){if(!h.extras||!h.extras.ground)return null;const n=h.extras.ground;if(!n||!Array.isArray(n)||n.length===0)return null;const o=n[0];if(!o||!Array.isArray(o)||o.length===0)return null;const u=[];for(const _ of o){if(!Array.isArray(_)||_.length!==2)continue;const w=_[0],T=_[1];typeof w=="number"&&typeof T=="number"&&u.push(new Ct(w,T))}if(u.length<3)return null;u.length>1&&u[u.length-1].equals(u[0])&&u.pop();let g=0;for(let _=0;_<u.length;_++){const w=u[_],T=u[(_+1)%u.length],D=u[(_+2)%u.length];g+=(w.x-T.x)*(D.y-T.y)-(D.x-T.x)*(w.y-T.y)}g>0&&u.reverse();const d=Nf(u.flatMap(_=>[_.x,_.y]),[]);return d.length===0?null:{vertices:u,indices:d}}function pk(h,n){const o=[],u=[];let g=0;const d=[];for(const _ of h){g=o.length;const w=_.vertexArray.float32,T=_.indexArray.uint16;for(let D=0;D<_.vertexArray.length;D++)d[0]=w[3*D+0],d[1]=w[3*D+1],d[2]=w[3*D+2],Ie.vec3.transformMat4(d,d,n),o.push(new Ct(d[0],d[1]));for(let D=0;D<3*_.indexArray.length;D++)u.push(T[D]+g)}if(u.length%3!=0)return null;for(let _=0;_<u.length;_+=3){const w=o[u[_+0]],T=o[u[_+1]],D=o[u[_+2]];(w.x-T.x)*(D.y-T.y)-(D.x-T.x)*(w.y-T.y)>0&&([u[_+1],u[_+2]]=[u[_+2],u[_+1]])}return{vertices:o,indices:u}}function v3(h){const n=function(T,D){const b=[],E=WebGL2RenderingContext;if(T.json.textures)for(const I of T.json.textures){const S={magFilter:E.LINEAR,minFilter:E.NEAREST,wrapS:E.REPEAT,wrapT:E.REPEAT};I.sampler!==void 0&&Object.assign(S,T.json.samplers[I.sampler]),b.push({image:D[I.source],sampler:S,uploaded:!1})}return b}(h,h.images),o=function(T,D){const b=[];for(const E of T.json.meshes){const I=[];for(const S of E.primitives)I.push(hk(S,T,D));b.push(I)}return b}(h,n),{scenes:u,scene:g,nodes:d}=h.json,_=u?u[g||0].nodes:d,w=[];for(const T of _)w.push(y3(d[T],h,o));return function(T,D,b){const E={},I=new Set;for(let S=0;S<T.length;S++){const A=b[D[S]];if(!A.extras)continue;const k=A.extras["mapbox:footprint:version"],B=A.extras["mapbox:footprint:id"];(k||B)&&I.add(S),k==="1.0.0"&&B&&(E[B]=S)}for(let S=0;S<T.length;S++){if(I.has(S))continue;const A=T[S],k=b[D[S]];if(!k.extras)continue;let B=null;A.id in E&&(B=pk(T[E[A.id]].meshes,A.matrix)),B||(B=dk(k)),B&&(A.footprint=uk(B))}if(I.size>0){const S=Array.from(I.values()).sort((A,k)=>A-k);for(let A=S.length-1;A>=0;A--)T.splice(S[A],1)}}(w,_,h.json.nodes),w}function fk(h){h.heightmap=new Float32Array(4096),h.heightmap.fill(-1);const n=h.vertexArray.float32,o=h.aabb.min[0]-1,u=h.aabb.min[1]-1,g=Oh/(h.aabb.max[0]-o+2),d=Oh/(h.aabb.max[1]-u+2);for(let _=0;_<n.length;_+=3){const w=n[_+2],T=(n[_+0]-o)*g|0,D=(n[_+1]-u)*d|0;w>h.heightmap[D*Oh+T]&&(h.heightmap[D*Oh+T]=w)}}function mk(h,n){const o={};o.indexArray=new Fr,o.indexArray.reserve(4*h.length),o.vertexArray=new Ja,o.vertexArray.reserve(10*h.length),o.colorArray=new wo,o.vertexArray.reserve(10*h.length);let u=0;for(const _ of h){const w=Math.min(10,Math.max(4,1.3*_.height))*n,T=[-_.normal[1],_.normal[0],0],D=Math.min(.29,.1*_.width/_.depth),b=_.width-2*_.depth*n*(D+.01),E=Ie.vec3.scaleAndAdd([],_.pos,T,b/2),I=Ie.vec3.scaleAndAdd([],_.pos,T,-b/2),S=[E[0],E[1],E[2]+_.height],A=[I[0],I[1],I[2]+_.height],k=Ie.vec3.scaleAndAdd([],_.normal,T,D);Ie.vec3.scale(k,k,w);const B=Ie.vec3.scaleAndAdd([],_.normal,T,-D);Ie.vec3.scale(B,B,w),Ie.vec3.add(k,E,k),Ie.vec3.add(B,I,B),E[2]+=.1,I[2]+=.1,o.vertexArray.emplaceBack(k[0],k[1],k[2]),o.vertexArray.emplaceBack(B[0],B[1],B[2]),o.vertexArray.emplaceBack(E[0],E[1],E[2]),o.vertexArray.emplaceBack(I[0],I[1],I[2]),o.vertexArray.emplaceBack(S[0],S[1],S[2]),o.vertexArray.emplaceBack(A[0],A[1],A[2]),o.vertexArray.emplaceBack(E[0],E[1],E[2]),o.vertexArray.emplaceBack(I[0],I[1],I[2]),o.vertexArray.emplaceBack(k[0],k[1],k[2]),o.vertexArray.emplaceBack(B[0],B[1],B[2]);const N=b/w/2;o.colorArray.emplaceBack(-N-D,-1,N,.8),o.colorArray.emplaceBack(N+D,-1,N,.8),o.colorArray.emplaceBack(-N,0,N,1.3),o.colorArray.emplaceBack(N,0,N,1.3),o.colorArray.emplaceBack(N+D,-.8,N,.7),o.colorArray.emplaceBack(N+D,-.8,N,.7),o.colorArray.emplaceBack(0,0,N,1.3),o.colorArray.emplaceBack(0,0,N,1.3),o.colorArray.emplaceBack(N+D,-1.2,N,.8),o.colorArray.emplaceBack(N+D,-1.2,N,.8),o.indexArray.emplaceBack(6+u,4+u,8+u),o.indexArray.emplaceBack(7+u,9+u,5+u),o.indexArray.emplaceBack(0+u,1+u,2+u),o.indexArray.emplaceBack(1+u,3+u,2+u),u+=10}const g={defined:!0,emissiveFactor:[0,0,0]},d={};return d.baseColorFactor=zi.white,g.pbrMetallicRoughness=d,o.material=g,o.aabb=new Yt([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),o}class x3{constructor(n){this._stringToNumber={},this._numberToString=[];for(let o=0;o<n.length;o++){const u=n[o];this._stringToNumber[u]=o,this._numberToString[o]=u}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const gk=["id","tile","layer","source","sourceLayer","state"];class Wd{constructor(n,o,u,g,d){this.type="Feature",this._vectorTileFeature=n,this._z=o,this._x=u,this._y=g,this.properties=n.properties,this.id=d}clone(){const n=new Wd(this._vectorTileFeature,this._z,this._x,this._y,this.id);return this.state&&(n.state={...this.state}),this.layer&&(n.layer={...this.layer}),this.source&&(n.source=this.source),this.sourceLayer&&(n.sourceLayer=this.sourceLayer),n}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const o of gk)this[o]!==void 0&&(n[o]=this[o]);return n}}class b3{constructor(n,o){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new ic(At,16,0),this.featureIndexArray=new Th,this.promoteId=o,this.is3DTile=!1,this.serializedLayersCache=new Map}insert(n,o,u,g,d,_=0,w=0){const T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,g,d,_);const D=this.grid;for(let b=0;b<o.length;b++){const E=o[b],I=[1/0,1/0,-1/0,-1/0];for(let S=0;S<E.length;S++){const A=E[S];I[0]=Math.min(I[0],A.x),I[1]=Math.min(I[1],A.y),I[2]=Math.max(I[2],A.x),I[3]=Math.max(I[3],A.y)}w!==0&&(I[0]-=w,I[1]-=w,I[2]+=w,I[3]+=w),I[0]<At&&I[1]<At&&I[2]>=0&&I[3]>=0&&D.insert(T,I[0],I[1],I[2],I[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new kd.VectorTile(new G0(this.rawTileData)).layers,this.sourceLayerCoder=new x3(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,o){const{tilespaceGeometry:u,transform:g,tileTransform:d,pixelPosMatrix:_,availableImages:w}=o;this.loadVTLayers(),this.serializedLayersCache.clear();const T=u.bufferedTilespaceBounds,D=this.grid.query(T.min.x,T.min.y,T.max.x,T.max.y,(S,A,k,B)=>Oe(u.bufferedTilespaceGeometry,S,A,k,B));D.sort(_k);let b=null;g.elevation&&D.length>0&&(b=Vd.create(g.elevation,this.tileID));const E={};let I;for(let S=0;S<D.length;S++){const A=D[S];if(A===I)continue;I=A;const k=this.featureIndexArray.get(A);let B=null;this.is3DTile?this.loadMatchingModelFeature(E,k,n,u,g):this.loadMatchingFeature(E,k,n,w,(N,$,W,j=0)=>(B||(B=H(N,this.tileID.canonical,d)),$.queryIntersectsFeature(u,N,W,B,this.z,g,_,b,j)))}return E}loadMatchingFeature(n,o,u,g,d){const{featureIndex:_,bucketIndex:w,sourceLayerIndex:T,layoutVertexArrayOffset:D}=o,b=this.bucketLayerIDs[w],E=u.layers,I=Object.keys(E);if(I.length&&!function(N,$){for(let W=0;W<N.length;W++)if($.indexOf(N[W])>=0)return!0;return!1}(I,b))return;const S=u.sourceCache,A=this.sourceLayerCoder.decode(T),k=this.vtLayers[A].feature(_),B=this.getId(k,A);for(let N=0;N<b.length;N++){const $=b[N];if(!E[$])continue;const{styleLayer:W,targets:j}=E[$];let Y={};B!==void 0&&(Y=S.getFeatureState(W.sourceLayer,B));const K=!d||d(k,W,Y,D);if(!K)continue;const te=new Wd(k,this.z,this.x,this.y,B);te.tile=this.tileID.canonical,te.state=Y;let ue=this.serializedLayersCache.get($);ue||(ue=W.serialize(),ue.id=$,this.serializedLayersCache.set($,ue)),te.source=ue.source,te.sourceLayer=ue["source-layer"],te.layer=Sr({},ue),te.layer.paint=w3(ue.paint,W.paint,k,Y,g),te.layer.layout=w3(ue.layout,W.layout,k,Y,g);let ce=!1;for(const oe of j){this.updateFeatureProperties(te,oe);const{filter:Me}=oe;if(Me){if(k.properties=te.properties,Me.needGeometry){const pe=U(k,!0);if(!Me.filter(new yn(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!Me.filter(new yn(this.tileID.overscaledZ),k))continue}ce=!0,oe.targetId&&this.addFeatureVariant(te,oe)}ce&&this.appendToResult(n,$,_,te,K)}}loadMatchingModelFeature(n,o,u,g,d){const _=this.bucketLayerIDs[0][0],w=u.layers;if(!w[_])return;const{styleLayer:T,targets:D}=w[_];if(T.type!=="model")return;const b=g.tile,E=o.featureIndex,I=b.getBucket(T);if(!(I&&I instanceof pg))return;const S=function(ue,ce,oe,Me){const pe=ue.getNodesInfo()[ce];if(pe.hiddenByReplacement||!pe.node.meshes)return;let Te=Number.MAX_VALUE;const Pe=pe.node,Ae=oe.tile,ke=Me.calculatePosMatrix(Ae.tileID.toUnwrapped(),Me.worldSize),Ve=pe.evaluatedScale;let He=0;Me.elevation&&Pe.elevation&&(He=Pe.elevation*Me.elevation.exaggeration()),Ie.mat4.translate(ke,ke,[(Pe.anchor?Pe.anchor[0]:0)*(Ve[0]-1),(Pe.anchor?Pe.anchor[1]:0)*(Ve[1]-1),He]),Ie.mat4.scale(ke,ke,Ve);const Be=oe.queryGeometry,Ke=Be.isPointQuery()?Be.screenBounds:Be.screenGeometry,ft=function(St){const Mt=Ie.mat4.multiply([],ke,St.matrix);Ie.mat4.multiply(Mt,Me.expandedFarZProjMatrix,Mt);for(let Pt=0;Pt<St.meshes.length;++Pt){const ot=St.meshes[Pt];if(Pt===St.lightMeshIndex)continue;const Ut=w4(Ke,Me,Mt,ot.aabb);Ut!=null&&(Te=Math.min(Ut,Te))}if(St.children)for(const Pt of St.children)ft(Pt)};if(ft(Pe),Te===Number.MAX_VALUE)return;const Qe=new Fi(0,0);return O4(Ae.tileID.canonical,Qe,pe.node.anchor[0],pe.node.anchor[1]),{intersectionZ:Te,position:Qe,feature:pe.feature}}(I,E,g,d);if(!S)return;const{z:A,x:k,y:B}=b.tileID.canonical,{feature:N,intersectionZ:$,position:W}=S;let j={};N.id!==void 0&&(j=u.sourceCache.getFeatureState(T.sourceLayer,N.id));const Y=new Wd({},A,k,B,N.id);Y.tile=this.tileID.canonical,Y.state=j,Y.properties=N.properties,Y.geometry={type:"Point",coordinates:[W.lng,W.lat]};let K=this.serializedLayersCache.get(_);K||(K=T.serialize(),K.id=_,this.serializedLayersCache.set(_,K)),Y.source=K.source,Y.sourceLayer=K["source-layer"],Y.layer=Sr({},K);let te=!1;for(const ue of D){this.updateFeatureProperties(Y,ue);const{filter:ce}=ue;if(ce){if(N.properties=Y.properties,ce.needGeometry){if(!ce.filter(new yn(this.tileID.overscaledZ),N,this.tileID.canonical))continue}else if(!ce.filter(new yn(this.tileID.overscaledZ),N))continue}te=!0,ue.targetId&&this.addFeatureVariant(Y,ue)}te&&this.appendToResult(n,_,E,Y,$)}updateFeatureProperties(n,o,u){if(o.properties){const g={};for(const d in o.properties){const _=o.properties[d].evaluate({zoom:this.z},n._vectorTileFeature,n.state,n.tile,u);_!=null&&(g[d]=_)}n.properties=g}}addFeatureVariant(n,o,u){const g={target:o.target,namespace:o.namespace};o.properties&&(g.properties=n.properties),n.variants=n.variants||{},n.variants[o.targetId]=n.variants[o.targetId]||[],n.variants[o.targetId].push(g)}appendToResult(n,o,u,g,d){let _=n[o];_===void 0&&(_=n[o]=[]),_.push({featureIndex:u,feature:g,intersectionZ:d})}lookupSymbolFeatures(n,o,u,g,d){const _={};this.loadVTLayers();for(const w of n)this.loadMatchingFeature(_,{bucketIndex:o,sourceLayerIndex:u,featureIndex:w,layoutVertexArrayOffset:0},g,d);return _}loadFeature(n){const{featureIndex:o,sourceLayerIndex:u}=n;this.loadVTLayers();const g=this.sourceLayerCoder.decode(u),d=this.vtFeatures[g];if(d[o])return d[o];const _=this.vtLayers[g].feature(o);return d[o]=_,_}hasLayer(n){for(const o of this.bucketLayerIDs)for(const u of o)if(n===u)return!0;return!1}getId(n,o){let u=n.id;if(this.promoteId){const g=typeof this.promoteId=="string"?this.promoteId:this.promoteId[o];g!=null&&(u=n.properties[g]),typeof u=="boolean"&&(u=Number(u))}return u}}function w3(h,n,o,u,g){return Ba(h,(d,_)=>{const w=n instanceof ac?n.get(_):null;return w&&w.evaluate?w.evaluate(o,u,g):w})}function _k(h,n){return n-h}Nt(b3,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const M3=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class lv{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[o,u]=new Uint8Array(n,0,2);if(o!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=u>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const d=M3[15&u];if(!d)throw new Error("Unrecognized array type.");const[_]=new Uint16Array(n,2,1),[w]=new Uint32Array(n,4,1);return new lv(w,_,d,n)}constructor(n,o=64,u=Float64Array,g){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+o,2),65535),this.ArrayType=u,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const d=M3.indexOf(this.ArrayType),_=2*n*this.ArrayType.BYTES_PER_ELEMENT,w=n*this.IndexArrayType.BYTES_PER_ELEMENT,T=(8-w%8)%8;if(d<0)throw new Error(`Unexpected typed array class: ${u}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+w+T,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+_+w+T),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+w+T,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+d]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=n)}add(n,o){const u=this._pos>>1;return this.ids[u]=u,this.coords[this._pos++]=n,this.coords[this._pos++]=o,u}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return cv(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,o,u,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:d,coords:_,nodeSize:w}=this,T=[0,d.length-1,0],D=[];for(;T.length;){const b=T.pop()||0,E=T.pop()||0,I=T.pop()||0;if(E-I<=w){for(let B=I;B<=E;B++){const N=_[2*B],$=_[2*B+1];N>=n&&N<=u&&$>=o&&$<=g&&D.push(d[B])}continue}const S=I+E>>1,A=_[2*S],k=_[2*S+1];A>=n&&A<=u&&k>=o&&k<=g&&D.push(d[S]),(b===0?n<=A:o<=k)&&(T.push(I),T.push(S-1),T.push(1-b)),(b===0?u>=A:g>=k)&&(T.push(S+1),T.push(E),T.push(1-b))}return D}within(n,o,u){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:d,nodeSize:_}=this,w=[0,g.length-1,0],T=[],D=u*u;for(;w.length;){const b=w.pop()||0,E=w.pop()||0,I=w.pop()||0;if(E-I<=_){for(let B=I;B<=E;B++)T3(d[2*B],d[2*B+1],n,o)<=D&&T.push(g[B]);continue}const S=I+E>>1,A=d[2*S],k=d[2*S+1];T3(A,k,n,o)<=D&&T.push(g[S]),(b===0?n-u<=A:o-u<=k)&&(w.push(I),w.push(S-1),w.push(1-b)),(b===0?n+u>=A:o+u>=k)&&(w.push(S+1),w.push(E),w.push(1-b))}return T}}function cv(h,n,o,u,g,d){if(g-u<=o)return;const _=u+g>>1;S3(h,n,_,u,g,d),cv(h,n,o,u,_-1,1-d),cv(h,n,o,_+1,g,1-d)}function S3(h,n,o,u,g,d){for(;g>u;){if(g-u>600){const D=g-u+1,b=o-u+1,E=Math.log(D),I=.5*Math.exp(2*E/3),S=.5*Math.sqrt(E*I*(D-I)/D)*(b-D/2<0?-1:1);S3(h,n,o,Math.max(u,Math.floor(o-b*I/D+S)),Math.min(g,Math.floor(o+(D-b)*I/D+S)),d)}const _=n[2*o+d];let w=u,T=g;for(m1(h,n,u,o),n[2*g+d]>_&&m1(h,n,u,g);w<T;){for(m1(h,n,w,T),w++,T--;n[2*w+d]<_;)w++;for(;n[2*T+d]>_;)T--}n[2*u+d]===_?m1(h,n,u,T):(T++,m1(h,n,T,g)),T<=o&&(u=T+1),o<=T&&(g=T-1)}}function m1(h,n,o,u){hv(h,o,u),hv(n,2*o,2*u),hv(n,2*o+1,2*u+1)}function hv(h,n,o){const u=h[n];h[n]=h[o],h[o]=u}function T3(h,n,o,u){const g=h-o,d=n-u;return g*g+d*d}s.$=bf,s.A=xr,s.B=2,s.C=NM,s.D=Hd,s.E=Hl,s.F=Cy,s.G=class extends ug{},s.H=tl,s.I=Qy,s.J=Pu,s.K=m0,s.L=of,s.M=ec,s.N=s0,s.O=rd,s.P=Ct,s.Q=dd,s.R=Yo,s.S=uf,s.T=Ny,s.U=dh,s.V=ug,s.W=oh,s.X=Ya,s.Y=Kl,s.Z=ls,s._=Iu,s.a=function(h){return le.API_CDN_URL_REGEX.test(h)},s.a$=Wd,s.a0=id,s.a1=td,s.a2=function(h){const n=h.value;let o=[];if(!n)return o;const u=tl(n);return u!=="string"?(o=o.concat([new ug(h.key,n,`string expected, "${u}" found`)]),o):(S4(n,!0)||(o=o.concat([new ug(h.key,n,`invalid url "${n}"`)])),o)},s.a3=qe,s.a4=mh,s.a5=On,s.a6=xt,s.a7=class{constructor(h){this.specification=h}possiblyEvaluate(h,n){return qn(h.expression.evaluate(n))}interpolate(h,n,o){return{x:ei(h.x,n.x,o),y:ei(h.y,n.y,o),z:ei(h.z,n.z,o),azimuthal:ei(h.azimuthal,n.azimuthal,o),polar:ei(h.polar,n.polar,o)}}},s.a8=yn,s.a9=tc,s.aA=to,s.aB=class{constructor(h){this.entries={},this.scheduler=h}request(h,n,o,u){const g=this.entries[h]=this.entries[h]||{callbacks:[]};if(g.result){const[d,_]=g.result;return this.scheduler?this.scheduler.add(()=>{u(d,_)},n):u(d,_),()=>{}}return g.callbacks.push(u),g.cancel||(g.cancel=o((d,_)=>{g.result=[d,_];for(const w of g.callbacks)this.scheduler?this.scheduler.add(()=>{w(d,_)},n):w(d,_);setTimeout(()=>delete this.entries[h],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(d=>d!==u),g.callbacks.length||(g.cancel(),delete this.entries[h]))}}},s.aC=ra,s.aD=function(h,n,o){const u=JSON.stringify(h.request);return h.data&&(this.deduped.entries[u]={result:[null,h.data]}),this.deduped.request(u,{type:"parseTile",isSymbolTile:h.isSymbolTile,zoom:h.tileZoom},g=>{const d=Xo(h.request,(_,w,T,D)=>{_?g(_):w&&g(null,{vectorTile:o?void 0:new kd.VectorTile(new G0(w)),rawData:w,cacheControl:T,expires:D})});return()=>{d.cancel(),g()}},n)},s.aE=function(h){Qn++,Qn>ii&&(h.getActor().send("enforceCacheSizeLimit",ai),Qn=0)},s.aF=function(h){return h<=1?1:Math.pow(2,Math.floor(Math.log(h)/Math.LN2))},s.aG=wt,s.aH=u4,s.aI=_4,s.aJ=h4,s.aK=function(h,n){const o=document.createElement("video");o.muted=!0,o.onloadstart=function(){n(null,o)};for(let u=0;u<h.length;u++){const g=document.createElement("source");Op(h[u])||(o.crossOrigin="Anonymous"),g.src=h[u],o.appendChild(g)}return{cancel:()=>{}}},s.aL=ag,s.aM=function(h){return fetch(h).then(n=>n.arrayBuffer()).then(n=>_3(n,0,h))},s.aN=v3,s.aO=class{constructor(h,n,o,u){this.id=h,this.position=n!=null?new Fi(n[0],n[1]):new Fi(0,0),this.orientation=o??[0,0,0],this.nodes=u,this.uploaded=!1,this.aabb=new Yt([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(h,n){if(Ie.mat4.multiply(h.matrix,n,h.matrix),h.meshes)for(const o of h.meshes){const u=Yt.applyTransformFast(o.aabb,h.matrix);this.aabb.encapsulate(u)}if(h.children)for(const o of h.children)this._applyTransformations(o,h.matrix)}computeBoundsAndApplyParent(){const h=Ie.mat4.identity([]);for(const n of this.nodes)this._applyTransformations(n,h)}computeModelMatrix(h,n,o,u,g,d,_=!1){I4(this.matrix,this,h.transform,this.position,n,o,u,g,d,_)}upload(h){if(!this.uploaded){for(const n of this.nodes)qy(n,h);for(const n of this.nodes)dg(n);this.uploaded=!0}}destroy(){for(const h of this.nodes)$y(h)}},s.aP=Fa,s.aQ=Qf,s.aR=fs,s.aS=Er,s.aT=bo,s.aU=Fr,s.aV=$o,s.aW=x0,s.aX=rg,s.aY=function(){Fs.isLoading()||Fs.isLoaded()||hd()!=="deferred"||p0()},s.aZ=g0,s.a_=U,s.aa=m,s.ab=Ie,s.ac=Xs,s.ad=ac,s.ae=Jr,s.af=ei,s.ag=At,s.ah=Fp,s.ai=Mi,s.aj=zi,s.ak=class{constructor(h){this.specification=h}possiblyEvaluate(h,n){return function([o,u]){const g=qn([1,o,u]);return{x:g.x,y:g.y,z:g.z}}(h.expression.evaluate(n))}interpolate(h,n,o){return{x:ei(h.x,n.x,o),y:ei(h.y,n.y,o),z:ei(h.z,n.z,o)}}},s.al=function(h,n,o=0,u=!0){const g=new Ct(o,o),d=h.sub(g),_=n.add(g),w=[d,new Ct(_.x,d.y),_,new Ct(d.x,_.y)];return u&&w.push(d.clone()),w},s.am=function(h,n){const o=[];for(let u=0;u<h.length;u++){const g=Ks(u-1,-1,h.length-1),d=Ks(u+1,-1,h.length-1),_=h[u],w=h[d],T=h[g].sub(_).unit(),D=w.sub(_).unit(),b=D.angleWithSep(T.x,T.y),E=T.add(D).unit().mult(-1*n/Math.sin(b/2));o.push(_.add(E))}return o},s.an=XM,s.ao=Oe,s.ap=function(h,n,o=0){return Ie.vec3.fromValues(((n.x-o)*h.scale-h.x)*At,(n.y*h.scale-h.y)*At,k0(n.z,n.y))},s.aq=Ei,s.ar=fM,s.as=function(h){let n=1/0,o=1/0,u=-1/0,g=-1/0;for(const d of h)n=Math.min(n,d.x),o=Math.min(o,d.y),u=Math.max(u,d.x),g=Math.max(g,d.y);return{min:new Ct(n,o),max:new Ct(u,g)}},s.at=Ca,s.au=Ee,s.av=x,s.aw=li,s.ax=Yr,s.ay=function(h,n){const o={};for(let u=0;u<n.length;u++){const g=n[u];g in h&&(o[g]=h[g])}return o},s.az=Ao,s.b=function(h){return le.API_FONTS_REGEX.test(h)},s.b$=cg,s.b0=Wo,s.b1=yy,s.b2=ly,s.b3=H,s.b4=sa,s.b5=wd,s.b6=ri,s.b7=Un,s.b8=Nf,s.b9=zy,s.bA=Gw,s.bB=Py,s.bC=GM,s.bD=Ey,s.bE=lv,s.bF=Ks,s.bG=ze,s.bH=Xr,s.bI=function(h,n,o){h[4*n+0]=o[0],h[4*n+1]=o[1],h[4*n+2]=o[2],h[4*n+3]=o[3]},s.bJ=Ah,s.bK=aa,s.bL=Of,s.bM=Rn,s.bN=cc,s.bO=Fi,s.bP=t4,s.bQ=kt,s.bR=pi,s.bS=v4,s.bT=nt,s.bU=Fn,s.bV=function(h,n,o,u,g,d,_,w,T){if(T.name==="globe")return Fn(h,n,new nt(o,u,g),!1);const D=Qf({z:o,x:u,y:g},T);return new Yt([(d+D.x/D.scale)*n,n*(D.y/D.scale),_],[(d+D.x2/D.scale)*n,n*(D.y2/D.scale),w])},s.bW=function(h,n,o){let u=0;for(let g=0;g<2;++g)h[g]>0&&(u+=(h[g]-0)*(h[g]-0)),n[g]<0&&(u+=(0-n[g])*(0-n[g]));return u},s.bX=zn,s.bY=P0,s.bZ=function(h){const n=Ie.mat4.identity(new Float64Array(16));Ie.mat4.multiply(n,h.pixelMatrix,h.globeMatrix);const o=[0,Ns,0],u=[0,Vs,0];return Ie.vec3.transformMat4(o,o,n),Ie.vec3.transformMat4(u,u,n),[o[0]>0&&o[0]<=h.width&&o[1]>0&&o[1]<=h.height&&!gs(h,new Fi(h.center.lat,90)),u[0]>0&&u[0]<=h.width&&u[1]>0&&u[1]<=h.height&&!gs(h,new Fi(h.center.lat,-90))]},s.b_=function(h,n){const{scale:o}=h.tileTransform,u=o*At/(h.tileSize*Math.pow(2,n.zoom-h.tileID.overscaledZ+h.tileID.canonical.z));return Ie.mat2.scale(new Float32Array(4),n.inverseAdjustmentMatrix,[u,u])},s.ba=function(h,n){const o=Jr(n.zoom);if(o===0)return Yn(h);const u=on(h),g=un(u),d=Ca(u.getWest())*n.worldSize,_=Ca(u.getEast())*n.worldSize,w=to(u.getNorth())*n.worldSize,T=to(u.getSouth())*n.worldSize,D=[d,w,0],b=[_,w,0],E=[d,T,0],I=[_,T,0],S=Ie.mat4.invert([],n.globeMatrix);return Ie.vec3.transformMat4(D,D,S),Ie.vec3.transformMat4(b,b,S),Ie.vec3.transformMat4(E,E,S),Ie.vec3.transformMat4(I,I,S),g[0]=br(g[0],E,o),g[1]=br(g[1],I,o),g[2]=br(g[2],b,o),g[3]=br(g[3],D,o),Yt.fromPoints(g)},s.bb=an,s.bc=Ai,s.bd=br,s.be=vh,s.bf=Zt,s.bg=nv,s.bh=G0,s.bi=Xo,s.bj=function(h){const n=[];for(const o in h)n.push(h[o]);return n},s.bk=function(h,n){const o=[];for(const u in h)u in n||o.push(u);return o},s.bl=wa,s.bm=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.bn=is,s.bo=function(h,n){const{x:o,y:u}=h.point,g=io(o,u,h.worldSize/h._pixelsPerMercatorPixel,0,0);return Ie.mat4.multiply(g,g,Ur(Yn(n)))},s.bp=Od,s.bq=ca,s.br=$0,s.bs=function(h,n,o,u,g){const d=5*n+2;h.float32[d+0]=o,h.float32[d+1]=u,h.float32[d+2]=g},s.bt=ng,s.bu=BM,s.bv=ie,s.bw=jr,s.bx=Vw,s.by=M4,s.bz=$w,s.c=ye,s.c$=(h,n,o,u,g,d,_,w)=>{const T=h.transform,D=T.pitch<15?mM(.07,.7,li((14-T.zoom)/5,0,1)):.07,b=o.paint.get("line-trim-color-use-theme").constantOr("default")==="none";return{u_matrix:_M(h,n,o,u),u_texsize:n.imageAtlasTexture?n.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:T.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:g,u_width_scale:d,u_floor_width_scale:_,u_image:0,u_tile_units_to_pixels:gM(n,T),u_units_to_pixels:[1/T.pixelsToGLUnits[0],1/T.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:w,u_trim_fade_range:o.paint.get("line-trim-fade-range"),u_trim_color:o.paint.get("line-trim-color").toRenderColor(b?null:o.lut).toArray01(),u_emissive_strength:o.paint.get("line-emissive-strength"),u_zbias_factor:D,u_tile_to_meter:l(n.tileID.canonical,0)}},s.c0=y4,s.c1=function(h){const n=y4(h,!0);return Ie.mat2.invert([],[n[0],n[1],n[4],n[5]])},s.c2=gi,s.c3=function(h){const{x:n,y:o}=h.point,{lng:u,lat:g}=h._center;return io(n,o,h.worldSize,u,g)},s.c4=Wn,s.c5=Ot,s.c6=Ad,s.c7=function(h){const n=Math.round((h+45+360)%360/90)%4;return ws[n]},s.c8=45,s.c9=Ph,s.cA=class extends Qa{constructor(h){super(h),this.current=X_}set(h,n,o){if(this.fetchUniformLocation(h,n)){for(let u=0;u<9;u++)if(o[u]!==this.current[u]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}}},s.cB=za,s.cC=function(h,n,o){const u=Jr(o.zoom),g=h.style.map._antialias,d=n.options.extStandardDerivativesForceOff||h.terrain&&h.terrain.exaggeration()>0;return u===0&&!g&&!d},s.cD=function(h){const n=h.pixelsPerMeter,o=n/Xr(1,h.center.lat),u=Ie.mat4.identity(new Float64Array(16));return Ie.mat4.translate(u,u,[h.point.x,h.point.y,0]),Ie.mat4.scale(u,u,[o,o,n]),Float32Array.from(u)},s.cE=on,s.cF=function(h){const n=zn-5;h=li(h,-n,n)/n*90;const o=Math.pow(Math.abs(Math.sin(Mi(h))),3);return Math.round(o*(Id.length-1))},s.cG=function(h,n,o,u){const g=n.getNorth(),d=n.getSouth(),_=n.getWest(),w=n.getEast(),T=1<<h.z,D=w-_,b=g-d,E=D/fl,I=-b/Id[o],S=[0,E,0,I,0,0,g,_,0];if(h.z>0){const A=180/u;Ie.mat3.multiply(S,S,[A/D+1,0,0,0,A/b+1,0,-.5*A/E,.5*A/I,1])}return S[2]=T,S[5]=h.x,S[8]=h.y,S},s.cH=Yn,s.cI=function(h,n,o){const u=Ie.mat4.identity(new Float64Array(16)),g=(n/(1<<h)-.5)*Math.PI*2;return Ie.mat4.rotateY(u,o.globeMatrix,g),Float32Array.from(u)},s.cJ=class{isDataAvailableAtPoint(h){const n=this._source();if(this.isUsingMockSource()||!n||h.y<0||h.y>1)return!1;const o=n.getSource().maxzoom,u=1<<o,g=Math.floor(h.x),d=Math.floor((h.x-g)*u),_=Math.floor(h.y*u),w=this.findDEMTileFor(new wt(o,g,o,d,_));return!(!w||!w.dem)}getAtPointOrZero(h,n=0){return this.getAtPoint(h,n)||0}getAtPoint(h,n,o=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const u=this._source();if(!u||h.y<0||h.y>1)return n;const g=u.getSource().maxzoom,d=1<<g,_=Math.floor(h.x),w=h.x-_,T=new wt(g,_,g,Math.floor(w*d),Math.floor(h.y*d)),D=this.findDEMTileFor(T);if(!D||!D.dem)return n;const b=D.dem,E=1<<D.tileID.canonical.z,I=(w*E-D.tileID.canonical.x)*b.dim,S=(h.y*E-D.tileID.canonical.y)*b.dim,A=Math.floor(I),k=Math.floor(S);return(o?this.exaggeration():1)*ei(ei(b.get(A,k),b.get(A,k+1),S-k),ei(b.get(A+1,k),b.get(A+1,k+1),S-k),I-A)}getAtTileOffset(h,n,o){const u=1<<h.canonical.z;return this.getAtPointOrZero(new m(h.wrap+(h.canonical.x+n/At)/u,(h.canonical.y+o/At)/u))}getAtTileOffsetFunc(h,n,o,u){return g=>{const d=this.getAtTileOffset(h,g.x,g.y),_=u.upVector(h.canonical,g.x,g.y),w=u.upVectorScale(h.canonical,n,o).metersToTile;return Ie.vec3.scale(_,_,d*w),_}}getForTilePoints(h,n,o,u){if(this.isUsingMockSource())return!1;const g=Vd.create(this,h,u);return!!g&&(n.forEach(d=>{d[2]=this.exaggeration()*g.getElevationAt(d[0],d[1],o)}),!0)}getMinMaxForTile(h){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(h);if(!n||!n.dem)return null;const o=n.dem.tree,u=n.tileID,g=1<<h.canonical.z-u.canonical.z;let d=h.canonical.x/g-u.canonical.x,_=h.canonical.y/g-u.canonical.y,w=0;for(let T=0;T<h.canonical.z-u.canonical.z&&!o.leaves[w];T++){d*=2,_*=2;const D=2*Math.floor(_)+Math.floor(d);w=o.childOffsets[w]+D,d%=1,_%=1}return{min:this.exaggeration()*o.minimums[w],max:this.exaggeration()*o.maximums[w]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(h,n,o){throw new Error("Pure virtual method called.")}pointCoordinate(h){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(h){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const h=this.visibleDemTiles;if(h.length===0)return null;let n=!1,o=Number.MAX_VALUE,u=Number.MIN_VALUE;for(const g of h){const d=this.getMinMaxForTile(g.tileID);d&&(o=Math.min(o,d.min),u=Math.max(u,d.max),n=!0)}return n?{min:o,max:u}:null}},s.cK=vw,s.cL=Bi,s.cM=function(h,n){return[Math.pow(h[0],2.2)*n,Math.pow(h[1],2.2)*n,Math.pow(h[2],2.2)*n]},s.cN=ms,s.cO=re,s.cP=X,s.cQ=256,s.cR=function(h,n){const o=[0,0,0],u=an(Yn(n.canonical));return Ie.vec3.transformMat4(o,o,u),Ie.vec3.transformMat4(o,o,h),o},s.cS=h=>({u_camera_to_center_distance:new Rn(h),u_extrude_scale:new zf(h),u_device_pixel_ratio:new Rn(h),u_matrix:new Ah(h),u_inv_rot_matrix:new Ah(h),u_merc_center:new aa(h),u_tile_id:new Of(h),u_zoom_transition:new Rn(h),u_up_dir:new Of(h),u_emissive_strength:new Rn(h)}),s.cT=h=>({u_matrix:new Ah(h),u_pixels_to_tile_units:new zf(h),u_device_pixel_ratio:new Rn(h),u_width_scale:new Rn(h),u_floor_width_scale:new Rn(h),u_units_to_pixels:new aa(h),u_dash_image:new cc(h),u_gradient_image:new cc(h),u_image_height:new Rn(h),u_texsize:new aa(h),u_tile_units_to_pixels:new Rn(h),u_alpha_discard_threshold:new Rn(h),u_trim_offset:new aa(h),u_trim_fade_range:new aa(h),u_trim_color:new Ch(h),u_emissive_strength:new Rn(h),u_zbias_factor:new Rn(h),u_tile_to_meter:new Rn(h)}),s.cU=h=>({u_matrix:new Ah(h),u_texsize:new aa(h),u_pixels_to_tile_units:new zf(h),u_device_pixel_ratio:new Rn(h),u_width_scale:new Rn(h),u_floor_width_scale:new Rn(h),u_image:new cc(h),u_units_to_pixels:new aa(h),u_tile_units_to_pixels:new Rn(h),u_alpha_discard_threshold:new Rn(h),u_trim_offset:new aa(h),u_trim_fade_range:new aa(h),u_trim_color:new Ch(h),u_emissive_strength:new Rn(h),u_zbias_factor:new Rn(h),u_tile_to_meter:new Rn(h)}),s.cV=vd,s.cW=bD,s.cX=wD,s.cY=Pd,s.cZ=(h,n,o,u,g,d)=>{const _=h.transform,w=_.projection.name==="globe";let T;if(d.paint.get("circle-pitch-alignment")==="map")if(w){const b=ms(_.zoom,n.canonical)*_._pixelsPerMercatorPixel;T=Float32Array.from([b,0,0,b])}else T=_.calculatePixelsToTileUnitsMatrix(o);else T=new Float32Array([_.pixelsToGLUnits[0],0,0,_.pixelsToGLUnits[1]]);const D={u_camera_to_center_distance:h.transform.getCameraToCenterDistance(_.projection),u_matrix:h.translatePosMatrix(n.projMatrix,o,d.paint.get("circle-translate"),d.paint.get("circle-translate-anchor")),u_device_pixel_ratio:Dt.devicePixelRatio,u_extrude_scale:T,u_inv_rot_matrix:Dh,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:d.paint.get("circle-emissive-strength")};if(w){D.u_inv_rot_matrix=u,D.u_merc_center=g,D.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],D.u_zoom_transition=Jr(_.zoom);const b=g[0]*At,E=g[1]*At;D.u_up_dir=_.projection.upVector(new nt(0,0,0),b,E)}return D},s.c_=yM,s.ca=Ch,s.cb=function(h,n,o){const u=Math.sqrt(h*h+n*n+o*o),g=u>0?Math.acos(o/u)*Is:0;let d=h!==0||n!==0?Math.atan2(-n,-h)*Is+90:0;return d<0&&(d+=360),[u,d,g]},s.cc=l,s.cd=Yt,s.ce=qn,s.cf=function(h){return[Math.pow(h[0],1/2.2),Math.pow(h[1],1/2.2),Math.pow(h[2],1/2.2)]},s.cg=function(h,n){return h.readFields(pL,{icons:[]},n)},s.ch=function(h){return h({pluginStatus:rs,pluginURL:vo}),nc.on("pluginStateChange",h),h},s.ci=fg,s.cj=zd,s.ck=Ay,s.cl=Vl,s.cm=fh,s.cn=Jt,s.co=Jc,s.cp=Wr,s.cq=function(h){const n=h.indexOf(na);return n>=0?h.slice(0,n):h},s.cr=function(h){return h.indexOf(na)>=0},s.cs=function(h){const n=h.indexOf(na);return n>=0?h.slice(n+1):""},s.ct=function(h){const n=[],o=h.id;return o===void 0&&n.push({message:`layers.${o}: missing required property "id"`}),h.render===void 0&&n.push({message:`layers.${o}: missing required method "render"`}),h.renderingMode&&h.renderingMode!=="2d"&&h.renderingMode!=="3d"&&n.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),n},s.cu=function(h,n,o,u){return h.type==="custom"?new QD(h,n):new hL[h.type](h,n,o,u)},s.cv=Tn,s.cw=class extends Wd{constructor(h,n){super(h._vectorTileFeature,h._z,h._x,h._y,h.id),h.state&&(this.state={...h.state}),this.target=n.target,this.namespace=n.namespace,n.properties&&(this.properties=n.properties),this.target&&("featuresetId"in this.target&&!this.target.importId||"layerId"in this.target)&&(this.source=h.source,this.sourceLayer=h.sourceLayer,this.layer=h.layer)}toJSON(){const h=super.toJSON();return h.target=this.target,h.namespace=this.namespace,h}},s.cx=nc,s.cy=Ha,s.cz=I0,s.d=function(h){return le.API_TILEJSON_REGEX.test(h)},s.d$=Ba,s.d0=(h,n,o,u,g,d,_,w,T)=>{const D=h.transform,b=D.calculatePixelsToTileUnitsMatrix(n),E=o.paint.get("line-trim-color-use-theme").constantOr("default")==="none",I=D.pitch<15?mM(.07,.7,li((14-D.zoom)/5,0,1)):.07;return{u_matrix:_M(h,n,o,u),u_pixels_to_tile_units:b,u_device_pixel_ratio:d,u_width_scale:_,u_floor_width_scale:w,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:g,u_texsize:vM(o)&&n.lineAtlasTexture?n.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:gM(n,h.transform),u_alpha_discard_threshold:0,u_trim_offset:T,u_trim_fade_range:o.paint.get("line-trim-fade-range"),u_trim_color:o.paint.get("line-trim-color").toRenderColor(E?null:o.lut).toArray01(),u_emissive_strength:o.paint.get("line-emissive-strength"),u_zbias_factor:I,u_tile_to_meter:l(n.tileID.canonical,0)}},s.d1=Go,s.d2=Bf,s.d3=sM,s.d4=Vt,s.d5=j0,s.d6=mc,s.d7=450,s.d8=7,s.d9=JD,s.dA=ba,s.dB=r,s.dC=Co,s.dD=function([h,n,o]){const u=Math.hypot(h,n,o),g=Math.atan2(h,o),d=.5*Math.PI-Math.acos(-n/u);return new Fi(Wn(g),Wn(d))},s.dE=Hy,s.dF=function(h){const n=h.navigator?h.navigator.userAgent:null;return!!function(o){if(Ce==null){const u=o.navigator?o.navigator.userAgent:null;Ce=!!o.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return Ce}(h)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.dG=function(h,n){ai=h,ii=n},s.dH=gs,s.dI=la,s.dJ=function(h){const n=[0,0,0],o=Ie.mat4.identity(new Float64Array(16));return Ie.mat4.multiply(o,h.pixelMatrix,h.globeMatrix),Ie.vec3.transformMat4(n,n,o),new Ct(n[0],n[1])},s.dK=function(h,n,o=!1){if(rs===yf||rs===Ea||rs===vf)throw new Error("setRTLTextPlugin cannot be called multiple times.");vo=Dt.resolveURL(h),rs=yf,xf=n,cd(),o||p0()},s.dL=hd,s.dM=function(){fg().acquire(Wy)},s.dN=function(){const h=o1;h&&(h.isPreloaded()&&h.numActive()===1?(h.release(Wy),o1=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.dO=zh,s.dP=function(h){const n=$i();if(!n)return;const o=n.delete(hi);h&&o.catch(h).then(()=>h())},s.dQ=a1,s.dR=h3,s.dS=function(h){rv=Dt.resolveURL(h),Gd||(Gd=new Hd(fg(),new Hl)),Gd.broadcast("setDracoUrl",rv)},s.dT=u3,s.dU=function(h){$d=Dt.resolveURL(h),Gd||(Gd=new Hd(fg(),new Hl)),Gd.broadcast("setMeshoptUrl",$d)},s.dV=Nt,s.dW=fc,s.dX=ro,s.dY=x3,s.dZ=b3,s.d_=uM,s.da=Hi,s.db=Lf,s.dc=256,s.dd=Ur,s.de=Ja,s.df=ds,s.dg=bd,s.dh=function(h,n,o,u,g){return li((h-n)/(o-n)*(g-u)+u,u,g)},s.di=nf,s.dj=f,s.dk=class{constructor(h,n,o,u){this.context=h,this.format=u,this.size=o,this.texture=h.gl.createTexture();const[g,d,_]=this.size,{gl:w}=h;w.bindTexture(w.TEXTURE_3D,this.texture),h.pixelStoreUnpackFlipY.set(!1),h.pixelStoreUnpack.set(1),h.pixelStoreUnpackPremultiplyAlpha.set(!1),w.texImage3D(w.TEXTURE_3D,0,this.format,g,d,_,0,Fy(this.format),By(this.format),n.data)}bind(h,n){const{context:o}=this,{gl:u}=o;u.bindTexture(u.TEXTURE_3D,this.texture),h!==this.minFilter&&(u.texParameteri(u.TEXTURE_3D,u.TEXTURE_MAG_FILTER,h),u.texParameteri(u.TEXTURE_3D,u.TEXTURE_MIN_FILTER,h),this.minFilter=h),n!==this.wrapS&&(u.texParameteri(u.TEXTURE_3D,u.TEXTURE_WRAP_S,n),u.texParameteri(u.TEXTURE_3D,u.TEXTURE_WRAP_T,n),this.wrapS=n)}destroy(){const{gl:h}=this.context;h.deleteTexture(this.texture),this.texture=null}},s.dl=Uy,s.dm=[1,1,1],s.dn=Vd,s.dp=Nd,s.dq=So,s.dr=ul,s.ds=pc,s.dt=Pf,s.du=If,s.dv=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new Ct(1/0,1/0),max:new Ct(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(h,n=!1){const o=Uw(new Ct(0,0),new Ct(At,At),h),u=[];if(n&&!py(o,this._globalClipBounds))return u;for(const g of this._activeRegions){if(g.hiddenByOverlap||!py(o,g))continue;const d=ZP(g.min,g.max,h);u.push({min:d.min,max:d.max,sourceId:this._sourceIds[g.priority],footprint:g.footprint,footprintTileId:g.tileId,order:g.order,clipMask:g.clipMask,clipScope:g.clipScope})}return u}setSources(h){this._setSources(h.map(n=>({getSourceId:()=>n.cache.id,getFootprints:()=>{const o=[];for(const u of n.cache.getVisibleCoordinates()){const g=n.cache.getTile(u).buckets[n.layer];g&&g.updateFootprints(u.toUnwrapped(),o)}return o},getOrder:()=>n.order,getClipMask:()=>n.clipMask,getClipScope:()=>n.clipScope})))}_addSource(h){const n=h.getFootprints();if(n.length===0)return;const o=h.getOrder(),u=h.getClipMask(),g=h.getClipScope();for(const d of n){if(!d.footprint)continue;const _=Uw(d.footprint.min,d.footprint.max,d.id);this._activeRegions.push({min:_.min,max:_.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:d.id,footprint:d.footprint,order:o,clipMask:u,clipScope:g})}this._sourceIds.push(h.getSourceId())}_computeReplacement(){this._activeRegions.sort((n,o)=>n.priority-o.priority||H0(n.min,o.min)||H0(n.max,o.max)||n.order-o.order||n.clipMask-o.clipMask||function(u,g){const d=(_,w)=>_+w;return u.length-g.length||u.reduce(d,"").localeCompare(g.reduce(d,""))}(n.clipScope,o.clipScope));let h=this._activeRegions.length!==this._prevRegions.length;if(!h){let n=0;for(;!h&&n!==this._activeRegions.length;){const o=this._activeRegions[n],u=this._prevRegions[n];h=o.priority!==u.priority||!Hw(o,u)||o.order!==u.order||o.clipMask!==u.clipMask||!is(o.clipScope,u.clipScope),++n}}if(h){++this._updateTime;for(const o of this._activeRegions)o.order!==V0&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,o.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,o.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,o.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,o.max.y));const n=o=>{const u=this._activeRegions;if(o>=u.length)return o;const g=u[o].priority;for(;o<u.length&&u[o].priority===g;)++o;return o};if(this._sourceIds.length>1){let o=0,u=n(o);for(;o!==u;){let g=o;const d=o;for(;g!==u;){const _=this._activeRegions[g];_.hiddenByOverlap=!1;for(let w=0;w<d;w++){const T=this._activeRegions[w];if(!T.hiddenByOverlap&&_.order===V0&&py(_,T)&&(_.hiddenByOverlap=qw(_.footprint,_.tileId,T.footprint,T.tileId),_.hiddenByOverlap))break}++g}o=u,u=n(o)}}}}_setSources(h){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let n=h.length-1;n>=0;n--)this._addSource(h[n]);this._computeReplacement()}},s.dw=class{constructor(h){this._createGrid(h),this._createPoles(h)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const h of this._poleSegments)h.destroy();for(const h of this._gridSegments)h.withSkirts.destroy(),h.withoutSkirts.destroy()}_fillGridMeshWithLods(h,n){const o=new sa,u=new Fr,g=[],d=h+1+2,_=n[0]+1,w=n[0]+1+(1+n.length),T=(D,b,E)=>{let I=D===d-1?D-2:D===0?D:D-1;return I+=E?24575:0,[I,b]};for(let D=0;D<d;++D)o.emplaceBack(...T(D,0,!0));for(let D=0;D<_;++D)for(let b=0;b<d;++b)o.emplaceBack(...T(b,D,(b===0||b===d-1)&&!0));for(let D=0;D<n.length;++D){const b=n[D];for(let E=0;E<d;++E)o.emplaceBack(...T(E,b,!0))}for(let D=0;D<n.length;++D){const b=u.length,E=n[D]+1+2,I=new Fr;for(let k=0;k<E-1;k++){const B=k===E-2,N=B?d*(w-n.length+D-k):d;for(let $=0;$<d-1;$++){const W=k*d+$;k===0||B||$===0||$===d-2?(I.emplaceBack(W+1,W,W+N),I.emplaceBack(W+N,W+N+1,W+1)):(u.emplaceBack(W+1,W,W+N),u.emplaceBack(W+N,W+N+1,W+1))}}const S=Un.simpleSegment(0,b,o.length,u.length-b);for(let k=0;k<I.uint16.length;k+=3)u.emplaceBack(I.uint16[k],I.uint16[k+1],I.uint16[k+2]);const A=Un.simpleSegment(0,b,o.length,u.length-b);g.push({withoutSkirts:S,withSkirts:A})}return{vertices:o,indices:u,segments:g}}_createGrid(h){const n=this._fillGridMeshWithLods(fl,Id);this._gridSegments=n.segments,this._gridBuffer=h.createVertexBuffer(n.vertices,ri.members),this._gridIndexBuffer=h.createIndexBuffer(n.indices,!0)}_createPoles(h){const n=new Fr;for(let _=0;_<=fl;_++)n.emplaceBack(0,_+1,_+2);this._poleIndexBuffer=h.createIndexBuffer(n,!0);const o=new ds,u=new ds,g=new ds,d=new ds;this._poleSegments=[];for(let _=0,w=0;_<Ad;_++){const T=360/(1<<_);o.emplaceBack(0,-Yr,0,.5,0),u.emplaceBack(0,-Yr,0,.5,1),g.emplaceBack(0,-Yr,0,.5,.5),d.emplaceBack(0,-Yr,0,.5,.5);for(let D=0;D<=fl;D++){let b=D/fl,E=0;const I=ei(0,T,b),[S,A,k]=dc(Aa,ml,I,Yr);o.emplaceBack(S,A,k,b,E),u.emplaceBack(S,A,k,b,1-E);const B=Mi(I);b=.5+.5*Math.sin(B),E=.5+.5*Math.cos(B),g.emplaceBack(S,A,k,b,E),d.emplaceBack(S,A,k,b,1-E)}this._poleSegments.push(Un.simpleSegment(w,0,66,64)),w+=66}this._poleNorthVertexBuffer=h.createVertexBuffer(o,$t,!1),this._poleSouthVertexBuffer=h.createVertexBuffer(u,$t,!1),this._texturedPoleNorthVertexBuffer=h.createVertexBuffer(g,$t,!1),this._texturedPoleSouthVertexBuffer=h.createVertexBuffer(d,$t,!1)}getGridBuffers(h,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[h].withSkirts:this._gridSegments[h].withoutSkirts]}getPoleBuffers(h,n){return[n?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,n?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[h]]}},s.dx=V0,s.dy=Ys,s.dz=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},s.e=le,s.e0=Sa,s.e1=VM,s.e2=function(h,n,o,u,g,d,_,w,T,D,b=1,E,I){h.createArrays(),h.tilePixelRatio=At/(512*h.overscaling),h.compareText={},h.iconsNeedLinear=!1;const S=h.layers[0].layout,A=h.layers[0]._unevaluatedLayout._values,k={};k.scaleFactor=b,k.textSizeScaleRange=S.get("text-size-scale-range"),k.iconSizeScaleRange=S.get("icon-size-scale-range");const[B,N]=k.textSizeScaleRange,[$,W]=k.iconSizeScaleRange;if(k.textScaleFactor=li(k.scaleFactor,B,N),k.iconScaleFactor=li(k.scaleFactor,$,W),h.textSizeData.kind==="composite"){const{minZoom:te,maxZoom:ue}=h.textSizeData;k.compositeTextSizes=[A["text-size"].possiblyEvaluate(new yn(te),w),A["text-size"].possiblyEvaluate(new yn(ue),w)]}if(h.iconSizeData.kind==="composite"){const{minZoom:te,maxZoom:ue}=h.iconSizeData;k.compositeIconSizes=[A["icon-size"].possiblyEvaluate(new yn(te),w),A["icon-size"].possiblyEvaluate(new yn(ue),w)]}k.layoutTextSize=A["text-size"].possiblyEvaluate(new yn(T+1),w),k.layoutIconSize=A["icon-size"].possiblyEvaluate(new yn(T+1),w),k.textMaxSize=A["text-size"].possiblyEvaluate(new yn(18),w);const j=S.get("text-rotation-alignment")==="map"&&S.get("symbol-placement")!=="point",Y=S.get("text-size");let K=!1;for(const te of h.features)if(te.icon&&te.icon.nameSecondary){K=!0;break}for(const te of h.features){const ue=S.get("text-font").evaluate(te,{},w).join(","),ce=Y.evaluate(te,{},w)*k.textScaleFactor,oe=k.layoutTextSize.evaluate(te,{},w)*k.textScaleFactor,Me=(k.layoutIconSize.evaluate(te,{},w),{horizontal:{},vertical:void 0}),pe=te.text;let Te,Pe=[0,0];if(pe){const He=pe.toString(),Be=S.get("text-letter-spacing").evaluate(te,{},w)*jr,Ke=S.get("text-line-height").evaluate(te,{},w)*jr,ft=h0(He)?Be:0,Qe=S.get("text-anchor").evaluate(te,{},w),St=S.get("text-variable-anchor");if(!St){const Et=S.get("text-radial-offset").evaluate(te,{},w);Pe=Et?GM(Qe,[Et*jr,Iy]):S.get("text-offset").evaluate(te,{},w).map(Ht=>Ht*jr)}let Mt=j?"center":S.get("text-justify").evaluate(te,{},w);const Pt=S.get("symbol-placement")==="point",ot=Pt?S.get("text-max-width").evaluate(te,{},w)*jr:1/0,Ut=Et=>{h.allowVerticalPlacement&&mf(He)&&(Me.vertical=Ty(pe,n,o,g,ue,ot,Ke,Qe,Et,ft,Pe,ca.vertical,!0,oe,ce))};if(!j&&St){const Et=Mt==="auto"?St.map(Xt=>Py(Xt)):[Mt];let Ht=!1;for(let Xt=0;Xt<Et.length;Xt++){const di=Et[Xt];if(!Me.horizontal[di])if(Ht)Me.horizontal[di]=Me.horizontal[0];else{const fi=Ty(pe,n,o,g,ue,ot,Ke,"center",di,ft,Pe,ca.horizontal,!1,oe,ce);fi&&(Me.horizontal[di]=fi,Ht=fi.positionedLines.length===1)}}Ut("left")}else{if(Mt==="auto"&&(Mt=Py(Qe)),Pt||S.get("text-writing-mode").indexOf("horizontal")>=0||!mf(He)){const Et=Ty(pe,n,o,g,ue,ot,Ke,Qe,Mt,ft,Pe,ca.horizontal,!1,oe,ce);Et&&(Me.horizontal[Mt]=Et)}Ut(Pt?"left":Mt)}}let Ae=!1,ke=!1;if(te.icon&&te.icon.namePrimary){const He=q0(h.iconSizeData,A["icon-size"],w,h.zoom,te)*k.iconScaleFactor*E,Be=te.icon.getPrimary().scaleSelf(He).serialize(),Ke=u[Be];Ke&&(Te=LD(g[Be],te.icon.nameSecondary?g[te.icon.getSecondary().scaleSelf(He).serialize()]:void 0,S.get("icon-offset").evaluate(te,{},w),S.get("icon-anchor").evaluate(te,{},w)),Ae=Ke.sdf,ke=Ke.usvg,h.sdfIcons===void 0?h.sdfIcons=Ke.sdf:h.sdfIcons!==Ke.sdf&&yi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ke.pixelRatio!==h.pixelRatio||S.get("icon-rotate").constantOr(1)!==0)&&(h.iconsNeedLinear=!0))}const Ve=ZM(Me.horizontal)||Me.vertical;h.iconsInText||(h.iconsInText=!!Ve&&Ve.iconsInText),(Ve||Te)&&ND(h,te,Me,Te,u,k,oe,0,Pe,Ae,ke,_,w,D,I,K)}d&&h.generateCollisionDebugBuffers(T,h.collisionBoxArray,k.textScaleFactor)},s.e3=kd,s.e4=xg,s.e5=xa,s.e6=zw,s.e7=TM,s.e8=L,s.e9=function(h){let n=0;if(new Uint32Array(h,0,1)[0]!==p3){const o=new Uint32Array(h,0,7),[,,u,g,d,_]=o;n=o.byteLength+g+d+_+d,(u!==h.byteLength||n>=h.byteLength)&&yi("Invalid b3dm header information.")}return _3(h,n)},s.ea=function(h,n){const o=v3(h);for(const u of o){for(const g of u.meshes)fk(g);u.lights&&(u.lightMeshIndex=u.meshes.length,u.meshes.push(mk(u.lights,n)))}return o},s.eb=pg,s.ec=R4,s.ed=Fs,s.ee=function(h){Qi(),Ri!=null&&Ri.then(n=>{n.keys().then(o=>{for(let u=0;u<o.length-h;u++)n.delete(o[u])})})},s.f=function(h){return h.indexOf("mapbox:")===0},s.g=function(h,n){return Ha(Sr(h,{method:"GET"}),n)},s.h=me,s.i=function(h){return le.API_STYLE_REGEX.test(h)&&!ye(h)},s.j=function(h){return decodeURIComponent(atob(h).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))},s.k=function(h){return btoa(encodeURIComponent(h).replace(/%([0-9A-F]{2})/g,(n,o)=>String.fromCharCode(+("0x"+o))))},s.l=Sr,s.m=Zr,s.n=function(h,n){return Ha(Sr(h,{type:"json"}),n)},s.o=Tu,s.p=function(h,n){return Ha(Sr(h,{method:"POST"}),n)},s.q=Dt,s.r=Qr,s.s=function(h){try{const n=self[h];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch{return!1}},s.t=mt,s.u=function(){return function h(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,h)}()},s.v=function(h){return!!h&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(h)},s.w=yi,s.x=function(){return Zy||(Zy=new zh),Zy},s.y=go,s.z=mo}),p(["./shared"],function(s){function L(xe){const X=xe?xe.url.toString():void 0;return X?performance.getEntriesByName(X):[]}function R(xe){if(typeof xe=="number"||typeof xe=="boolean"||typeof xe=="string"||xe==null)return JSON.stringify(xe);if(Array.isArray(xe)){let re="[";for(const le of xe)re+=`${R(le)},`;return`${re}]`}let X="{";for(const re of Object.keys(xe).sort())X+=`${re}:${R(xe[re])},`;return`${X}}`}function V(xe){let X="";for(const re of s.bm)X+=`/${R(xe[re])}`;return X}class q{constructor(X){this.keyCache={},this._layers={},this._layerConfigs={},X&&this.replace(X)}replace(X,re){this._layerConfigs={},this._layers={},this.update(X,[],re)}update(X,re,le){this._options=le;for(const ye of X)this._layerConfigs[ye.id]=ye,(this._layers[ye.id]=s.cu(ye,this.scope,null,this._options)).compileFilter(le),this.keyCache[ye.id]&&delete this.keyCache[ye.id];for(const ye of re)delete this.keyCache[ye],delete this._layerConfigs[ye],delete this._layers[ye];this.familiesBySource={};const me=function(ye,Se){const Fe={};for(let $e=0;$e<ye.length;$e++){const We=ye[$e];let Je=Se&&Se[We.id];!Je&&(Je=V(We),We.type==="line"&&We.paint)&&function Dt(Lt){return typeof Lt=="string"&&Lt==="line-progress"||(Array.isArray(Lt)?Lt.some(Dt):!(!Lt||typeof Lt!="object")&&Object.values(Lt).some(Dt))}(We.paint["line-width"])&&(Je+=`/${R(We.paint["line-width"])}`),Se&&(Se[We.id]=Je);let mt=Fe[Je];mt||(mt=Fe[Je]=[]),mt.push(We)}const Re=[];for(const $e in Fe)Re.push(Fe[$e]);return Re}(s.bj(this._layerConfigs),this.keyCache);for(const ye of me){const Se=ye.map(mt=>this._layers[mt.id]),Fe=Se[0];if(Fe.visibility==="none")continue;const Re=Fe.source||"";let $e=this.familiesBySource[Re];$e||($e=this.familiesBySource[Re]={});const We=Fe.sourceLayer||"_geojsonTileLayer";let Je=$e[We];Je||(Je=$e[We]=[]),Je.push(Se)}}}const Z=1*s.dX;class ee{constructor(X){const re={},le=[];for(const Fe in X){const Re=X[Fe],$e=re[Fe]={};for(const We in Re.glyphs){const Je=Re.glyphs[+We];if(!Je||Je.bitmap.width===0||Je.bitmap.height===0)continue;const mt=Je.metrics.localGlyph?Z:1,Dt={x:0,y:0,w:Je.bitmap.width+2*mt,h:Je.bitmap.height+2*mt};le.push(Dt),$e[We]=Dt}}const{w:me,h:ye}=s.C(le),Se=new s.dW({width:me||1,height:ye||1});for(const Fe in X){const Re=X[Fe];for(const $e in Re.glyphs){const We=Re.glyphs[+$e];if(!We||We.bitmap.width===0||We.bitmap.height===0)continue;const Je=re[Fe][$e],mt=We.metrics.localGlyph?Z:1;s.dW.copy(We.bitmap,Se,{x:0,y:0},{x:Je.x+mt,y:Je.y+mt},We.bitmap)}}this.image=Se,this.positions=re}}s.dV(ee,"GlyphAtlas");class se{constructor(X){this.tileID=new s.aG(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.tileZoom=X.tileZoom,this.uid=X.uid,this.zoom=X.zoom,this.lut=X.lut,this.canonical=X.tileID.canonical,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.scope=X.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=X.showCollisionBoxes,this.collectResourceTiming=!!X.request&&X.request.collectResourceTiming,this.promoteId=X.promoteId,this.isSymbolTile=X.isSymbolTile,this.tileTransform=s.aQ(X.tileID.canonical,X.projection),this.projection=X.projection,this.worldview=X.worldview,this.localizableLayerIds=X.localizableLayerIds,this.brightness=X.brightness,this.extraShadowCaster=!!X.extraShadowCaster,this.tessellationStep=X.tessellationStep,this.scaleFactor=X.scaleFactor}parse(X,re,le,me,ye){this.status="parsing",this.data=X,this.collisionBoxArray=new s.aW;const Se=new s.dY(Object.keys(X.layers).sort()),Fe=new s.dZ(this.tileID,this.promoteId);Fe.bucketLayerIDs=[];const Re={},$e=new s.d_(256,256),We={featureIndex:Fe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:$e,availableImages:le,brightness:this.brightness,scaleFactor:this.scaleFactor},Je=re.familiesBySource[this.source];for(const ii in Je){const Zi=X.layers[ii];if(!Zi)continue;let Ri=!1,wi=!1,$i=!1;for(const Zr of Je[ii])Zr[0].type==="symbol"?Ri=!0:wi=!0,Zr[0].is3D()&&Zr[0].type!=="model"&&($i=!0);if(this.extraShadowCaster&&!$i||this.isSymbolTile===!0&&!Ri||this.isSymbolTile===!1&&!wi)continue;Zi.version===1&&s.w(`Vector tile source "${this.source}" layer "${ii}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Qi=Se.encode(ii),Qn=[];for(let Zr=0,vr=0;Zr<Zi.length;Zr++){const Tr=Zi.feature(Zr),Zo=Fe.getId(Tr,ii);if(this.localizableLayerIds&&this.localizableLayerIds.has(ii)){const Ma=Tr.properties?Tr.properties.worldview:null;if(this.worldview&&typeof Ma=="string")if(Ma==="all")Tr.properties.$localized=!0;else{if(!Ma.split(",").includes(this.worldview))continue;Tr.properties.$localized=!0,Tr.properties.worldview=this.worldview}}Qn.push({feature:Tr,id:Zo,index:vr,sourceLayerIndex:Qi}),vr++}for(const Zr of Je[ii]){const vr=Zr[0];(!this.extraShadowCaster||vr.is3D()&&vr.type!=="model")&&(this.isSymbolTile!==void 0&&vr.type==="symbol"!==this.isSymbolTile||vr.minzoom&&this.zoom<Math.floor(vr.minzoom)||vr.maxzoom&&this.zoom>=vr.maxzoom||vr.visibility!=="none"&&(he(Zr,this.zoom,We.brightness,le),(Re[vr.id]=vr.createBucket({index:Fe.bucketLayerIDs.length,layers:Zr,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Qi,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(Qn,We,this.tileID.canonical,this.tileTransform),Fe.bucketLayerIDs.push(Zr.map(Tr=>s.aC(Tr.id,Tr.scope)))))}}let mt,Dt,Lt,Jt;$e.trim();const hi={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},ai=()=>{if(mt)return this.status="done",ye(mt);if(this.extraShadowCaster)this.status="done",ye(null,{buckets:s.bj(Re).filter(ii=>!ii.isEmpty()),featureIndex:Fe,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:We.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(Dt&&Lt&&Jt){const ii=new ee(Dt),Zi=new s.e1(Lt,Jt,this.lut);for(const Ri in Re){const wi=Re[Ri];wi instanceof s.aX?(he(wi.layers,this.zoom,We.brightness,le),s.e2(wi,Dt,ii.positions,Lt,Zi.iconPositions,this.showCollisionBoxes,le,this.tileID.canonical,this.tileZoom,this.projection,this.scaleFactor,this.pixelRatio,this.brightness)):wi.hasPattern&&(wi instanceof s.b1||wi instanceof s.b2||wi instanceof s.d5)&&(he(wi.layers,this.zoom,We.brightness,le),wi.addFeatures(We,this.tileID.canonical,Zi.patternPositions,le,this.tileTransform,this.brightness))}this.status="done",ye(null,{buckets:s.bj(Re).filter(Ri=>!Ri.isEmpty()),featureIndex:Fe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ii.image,lineAtlas:$e,imageAtlas:Zi,brightness:We.brightness})}};if(!this.extraShadowCaster){const ii=s.d$(We.glyphDependencies,wi=>Object.keys(wi).map(Number));Object.keys(ii).length?me.send("getGlyphs",{uid:this.uid,stacks:ii,scope:this.scope},(wi,$i)=>{mt||(mt=wi,Dt=$i,ai())},void 0,!1,hi):Dt={};const Zi=Object.keys(We.iconDependencies);Zi.length?me.send("getImages",{icons:Zi,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(wi,$i)=>{if(mt)return;mt=wi;const Qi={};Object.values($i).some(Qn=>Qn.usvg)?this.rasterize(me,Qi,$i,We.iconDependencies,()=>{Lt=Qi,ai()}):(this.fillImageMap(Qi,We.iconDependencies,$i),Lt=Qi,ai())},void 0,!1,hi):Lt={};const Ri=Object.keys(We.patternDependencies);Ri.length?me.send("getImages",{icons:Ri,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(wi,$i)=>{if(!mt){mt=wi;const Qi={};Object.values($i).some(Qn=>Qn.usvg)?this.rasterize(me,Qi,$i,We.patternDependencies,()=>{Jt=Qi,ai()}):(this.fillImageMap(Qi,We.patternDependencies,$i),Jt=Qi,ai())}},void 0,!1,hi):Jt={}}ai()}fillImageMap(X,re,le){for(const me in le){const ye=re[me]||[];for(const Se of ye)le[Se.id].usvg||(X[Se.serialize()]=le[Se.id])}}getImageTaskQueue(X,re,le){const me={};for(const ye in re){const Se=le[ye]||[];for(const Fe of Se){const Re=Fe.serialize();re[Fe.id].usvg?me[Re]||(me[Re]=Fe):X[Re]=re[Fe.id]}}return me}rasterize(X,re,le,me,ye){const Se=this.getImageTaskQueue(re,le,me);this.rasterizeTask=X.send("rasterizeImages",{scope:this.scope,imageTasks:Se},(Fe,Re)=>{if(!Fe)for(const $e in Re){const{id:We}=s.e0.deserializeFromString($e);re[$e]=Object.assign({},le[We],{data:Re[$e]})}ye()})}cancelRasterize(){this.rasterizeTask&&this.rasterizeTask.cancel()}}function he(xe,X,re,le){const me=new s.a8(X,{brightness:re});for(const ye of xe)ye.recalculate(me,le)}class we extends s.E{constructor(X,re,le,me,ye,Se){super(),this.actor=X,this.layerIndex=re,this.availableImages=le,this.loadVectorData=ye||s.aD,this.loading={},this.loaded={},this.deduped=new s.aB(X.scheduler),this.isSpriteLoaded=me,this.scheduler=X.scheduler,this.brightness=Se}loadTile(X,re){const le=X.uid,me=X&&X.request,ye=me&&me.collectResourceTiming,Se=this.loading[le]=new se(X);Se.abort=this.loadVectorData(X,(Fe,Re)=>{const $e=!this.loading[le];if(delete this.loading[le],Se.cancelRasterize(),$e||Fe||!Re)return Se.status="done",$e||(this.loaded[le]=Se),re(Fe);const We=Re.rawData,Je={};Re.expires&&(Je.expires=Re.expires),Re.cacheControl&&(Je.cacheControl=Re.cacheControl),Se.vectorTile=Re.vectorTile||new s.e3.VectorTile(new s.bh(We));const mt=()=>{Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor,(Dt,Lt)=>{if(Dt||!Lt)return re(Dt);const Jt={};if(ye){const hi=L(me);hi.length>0&&(Jt.resourceTiming=JSON.parse(JSON.stringify(hi)))}re(null,s.l({rawTileData:We.slice(0)},Lt,Je,Jt))})};this.isSpriteLoaded?mt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(mt,{type:"parseTile",isSymbolTile:X.isSymbolTile,zoom:X.tileZoom}):mt()}),this.loaded=this.loaded||{},this.loaded[le]=Se})}reloadTile(X,re){const le=this.loaded,me=X.uid;if(le&&le[me]){const ye=le[me];ye.scaleFactor=X.scaleFactor,ye.showCollisionBoxes=X.showCollisionBoxes,ye.projection=X.projection,ye.brightness=X.brightness,ye.tileTransform=s.aQ(X.tileID.canonical,X.projection),ye.extraShadowCaster=X.extraShadowCaster,ye.lut=X.lut;const Se=(Fe,Re)=>{const $e=ye.reloadCallback;$e&&(delete ye.reloadCallback,ye.parse(ye.vectorTile,this.layerIndex,this.availableImages,this.actor,$e)),re(Fe,Re)};ye.status==="parsing"?ye.reloadCallback=Se:ye.status==="done"&&(ye.vectorTile?ye.parse(ye.vectorTile,this.layerIndex,this.availableImages,this.actor,Se):Se())}else re(null,void 0)}abortTile(X,re){const le=X.uid,me=this.loading[le];me&&(me.abort&&me.abort(),delete this.loading[le]),re()}removeTile(X,re){const le=this.loaded,me=X.uid;le&&le[me]&&delete le[me],re()}}class De{loadTile(X,re){const{uid:le,encoding:me,rawImageData:ye,padding:Se}=X,Fe=ImageBitmap&&ye instanceof ImageBitmap?this.getImageData(ye,Se):ye;re(null,new s.e4(le,Fe,me,Se<1))}getImageData(X,re){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(X.width,X.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=X.width,this.offscreenCanvas.height=X.height,this.offscreenCanvasContext.drawImage(X,0,0,X.width,X.height);const le=this.offscreenCanvasContext.getImageData(-re,-re,X.width+2*re,X.height+2*re);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),le}}s.bg.setPbf(s.bh);class Ze{decodeRasterArray({task:X,buffer:re},le){s.bg.performDecoding(re,X).then(me=>{le(null,me)},me=>{le(me)})}}const ct=s.e3.VectorTileFeature.prototype.toGeoJSON;class rt{constructor(X){this._feature=X,this.extent=s.ag,this.type=X.type,this.properties=X.tags,"id"in X&&!isNaN(X.id)&&(this.id=parseInt(X.id,10))}loadGeometry(){if(this._feature.type===1){const X=[];for(const re of this._feature.geometry)X.push([new s.P(re[0],re[1])]);return X}{const X=[];for(const re of this._feature.geometry){const le=[];for(const me of re)le.push(new s.P(me[0],me[1]));X.push(le)}return X}}toGeoJSON(X,re,le){return ct.call(this,X,re,le)}}class gt{constructor(X){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.ag,this.length=X.length,this._features=X}feature(X){return new rt(this._features[X])}}const Tt=64/4096,it=128;class _t{constructor(){this.features=new Map}clear(){this.features.clear()}load(X=[],re){for(const le of X){const me=le.id;if(me==null)continue;let ye=this.features.get(me);ye&&this.updateCache(ye,re),le.geometry?(ye=vt(le),this.updateCache(ye,re),this.features.set(me,ye)):this.features.delete(me),this.updateCache(ye,re)}}updateCache(X,re){for(const{canonical:le,uid:me}of Object.values(re)){const{z:ye,x:Se,y:Fe}=le;Ft(X,Math.pow(2,ye),Se,Fe)&&delete re[me]}}getTile(X,re,le){const me=Math.pow(2,X),ye=[];for(const Se of this.features.values())Ft(Se,me,re,le)&&ye.push(Ji(Se,me,re,le));return{features:ye}}getFeatures(){return[...this.features.values()]}}function Ft({minX:xe,minY:X,maxX:re,maxY:le},me,ye,Se){return xe<(ye+1+Tt)/me&&X<(Se+1+Tt)/me&&re>(ye-Tt)/me&&le>(Se-Tt)/me}function vt(xe){const{id:X,geometry:re,properties:le}=xe;if(!re)return;if(re.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:me,coordinates:ye}=re,Se={id:X,type:1,geometry:[],tags:le,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},Fe=Se.geometry;if(me==="Point")It(ye,Fe,Se);else if(me==="MultiPoint")for(const Re of ye)It(Re,Fe,Se);else if(me==="LineString")Se.type=2,Qt(ye,Fe,Se);else if(me==="MultiLineString")Se.type=2,Oi(ye,Fe,Se);else if(me==="Polygon")Se.type=3,Oi(ye,Fe,Se,!0);else{if(me!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");Se.type=3;for(const Re of ye)Oi(Re,Fe,Se,!0)}return Se}function It([xe,X],re,le){const me=s.at(xe);let ye=s.aA(X);ye=ye<0?0:ye>1?1:ye,re.push(me,ye),le.minX=Math.min(le.minX,me),le.minY=Math.min(le.minY,ye),le.maxX=Math.max(le.maxX,me),le.maxY=Math.max(le.maxY,ye)}function Qt(xe,X,re,le=!1,me=!1){const ye=[];for(const Se of xe)It(Se,ye,re);X.push(ye),le&&function(Se,Fe){let Re=0;for(let $e=0,We=Se.length,Je=We-2;$e<We;Je=$e,$e+=2)Re+=(Se[$e]-Se[Je])*(Se[$e+1]+Se[Je+1]);if(Re>0===Fe)for(let $e=0,We=Se.length;$e<We/2;$e+=2){const Je=Se[$e],mt=Se[$e+1];Se[$e]=Se[We-2-$e],Se[$e+1]=Se[We-1-$e],Se[We-2-$e]=Je,Se[We-1-$e]=mt}}(ye,me)}function Oi(xe,X,re,le=!1){for(let me=0;me<xe.length;me++)Qt(xe[me],X,re,le,me===0)}function Ji(xe,X,re,le){const{id:me,type:ye,geometry:Se,tags:Fe}=xe,Re=[];if(ye===1)(function($e,We,Je,mt,Dt){for(let Lt=0;Lt<$e.length;Lt+=2){const Jt=Math.round(s.ag*($e[Lt+0]*We-Je)),hi=Math.round(s.ag*($e[Lt+1]*We-mt));Dt.push([Jt,hi])}})(Se,X,re,le,Re);else for(const $e of Se)zt($e,X,re,le,Re);return{id:me,type:ye,geometry:Re,tags:Fe}}function zt(xe,X,re,le,me){const ye=-it,Se=s.ag+it;let Fe;for(let Re=0;Re<xe.length-2;Re+=2){let $e=Math.round(s.ag*(xe[Re+0]*X-re)),We=Math.round(s.ag*(xe[Re+1]*X-le)),Je=Math.round(s.ag*(xe[Re+2]*X-re)),mt=Math.round(s.ag*(xe[Re+3]*X-le));const Dt=Je-$e,Lt=mt-We;$e<ye&&Je<ye||($e<ye?(We+=Math.round(Lt*((ye-$e)/Dt)),$e=ye):Je<ye&&(mt=We+Math.round(Lt*((ye-$e)/Dt)),Je=ye),We<ye&&mt<ye||(We<ye?($e+=Math.round(Dt*((ye-We)/Lt)),We=ye):mt<ye&&(Je=$e+Math.round(Dt*((ye-We)/Lt)),mt=ye),$e>=Se&&Je>=Se||($e>=Se?(We+=Math.round(Lt*((Se-$e)/Dt)),$e=Se):Je>=Se&&(mt=We+Math.round(Lt*((Se-$e)/Dt)),Je=Se),We>=Se&&mt>=Se||(We>=Se?($e+=Math.round(Dt*((Se-We)/Lt)),We=Se):mt>=Se&&(Je=$e+Math.round(Dt*((Se-We)/Lt)),mt=Se),Fe&&$e===Fe[Fe.length-1][0]&&We===Fe[Fe.length-1][1]||(Fe=[[$e,We]],me.push(Fe)),Fe.push([Je,mt])))))}}var Ye,tt,ut,dt={exports:{}},Gt=function(){if(ut)return dt.exports;ut=1;var xe=s.e7(),X=function(){if(tt)return Ye;tt=1;var We=s.e5(),Je=s.e6().VectorTileFeature;function mt(Lt,Jt){this.options=Jt||{},this.features=Lt,this.length=Lt.length}function Dt(Lt,Jt){this.id=typeof Lt.id=="number"?Lt.id:void 0,this.type=Lt.type,this.rawGeometry=Lt.type===1?[Lt.geometry]:Lt.geometry,this.properties=Lt.tags,this.extent=Jt||4096}return Ye=mt,mt.prototype.feature=function(Lt){return new Dt(this.features[Lt],this.options.extent)},Dt.prototype.loadGeometry=function(){var Lt=this.rawGeometry;this.geometry=[];for(var Jt=0;Jt<Lt.length;Jt++){for(var hi=Lt[Jt],ai=[],ii=0;ii<hi.length;ii++)ai.push(new We(hi[ii][0],hi[ii][1]));this.geometry.push(ai)}return this.geometry},Dt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Lt=this.geometry,Jt=1/0,hi=-1/0,ai=1/0,ii=-1/0,Zi=0;Zi<Lt.length;Zi++)for(var Ri=Lt[Zi],wi=0;wi<Ri.length;wi++){var $i=Ri[wi];Jt=Math.min(Jt,$i.x),hi=Math.max(hi,$i.x),ai=Math.min(ai,$i.y),ii=Math.max(ii,$i.y)}return[Jt,ai,hi,ii]},Dt.prototype.toGeoJSON=Je.prototype.toGeoJSON,Ye}();function re(We){var Je=new xe;return function(mt,Dt){for(var Lt in mt.layers)Dt.writeMessage(3,le,mt.layers[Lt])}(We,Je),Je.finish()}function le(We,Je){var mt;Je.writeVarintField(15,We.version||1),Je.writeStringField(1,We.name||""),Je.writeVarintField(5,We.extent||4096);var Dt={keys:[],values:[],keycache:{},valuecache:{}};for(mt=0;mt<We.length;mt++)Dt.feature=We.feature(mt),Je.writeMessage(2,me,Dt);var Lt=Dt.keys;for(mt=0;mt<Lt.length;mt++)Je.writeStringField(3,Lt[mt]);var Jt=Dt.values;for(mt=0;mt<Jt.length;mt++)Je.writeMessage(4,$e,Jt[mt])}function me(We,Je){var mt=We.feature;mt.id!==void 0&&Je.writeVarintField(1,mt.id),Je.writeMessage(2,ye,We),Je.writeVarintField(3,mt.type),Je.writeMessage(4,Re,mt)}function ye(We,Je){var mt=We.feature,Dt=We.keys,Lt=We.values,Jt=We.keycache,hi=We.valuecache;for(var ai in mt.properties){var ii=mt.properties[ai],Zi=Jt[ai];if(ii!==null){Zi===void 0&&(Dt.push(ai),Jt[ai]=Zi=Dt.length-1),Je.writeVarint(Zi);var Ri=typeof ii;Ri!=="string"&&Ri!=="boolean"&&Ri!=="number"&&(ii=JSON.stringify(ii));var wi=Ri+":"+ii,$i=hi[wi];$i===void 0&&(Lt.push(ii),hi[wi]=$i=Lt.length-1),Je.writeVarint($i)}}}function Se(We,Je){return(Je<<3)+(7&We)}function Fe(We){return We<<1^We>>31}function Re(We,Je){for(var mt=We.loadGeometry(),Dt=We.type,Lt=0,Jt=0,hi=mt.length,ai=0;ai<hi;ai++){var ii=mt[ai],Zi=1;Dt===1&&(Zi=ii.length),Je.writeVarint(Se(1,Zi));for(var Ri=Dt===3?ii.length-1:ii.length,wi=0;wi<Ri;wi++){wi===1&&Dt!==1&&Je.writeVarint(Se(2,Ri-1));var $i=ii[wi].x-Lt,Qi=ii[wi].y-Jt;Je.writeVarint(Fe($i)),Je.writeVarint(Fe(Qi)),Lt+=$i,Jt+=Qi}Dt===3&&Je.writeVarint(Se(7,1))}}function $e(We,Je){var mt=typeof We;mt==="string"?Je.writeStringField(1,We):mt==="boolean"?Je.writeBooleanField(7,We):mt==="number"&&(We%1!=0?Je.writeDoubleField(3,We):We<0?Je.writeSVarintField(6,We):Je.writeVarintField(5,We))}return dt.exports=re,dt.exports.fromVectorTileJs=re,dt.exports.fromGeojsonVt=function(We,Je){Je=Je||{};var mt={};for(var Dt in We)mt[Dt]=new X(We[Dt].features,Je),mt[Dt].name=Dt,mt[Dt].version=Je.version,mt[Dt].extent=Je.extent;return re({layers:mt})},dt.exports.GeoJSONWrapper=X,dt.exports}(),Kt=s.e8(Gt);const _i={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:xe=>xe},jt=Math.fround||(kn=new Float32Array(1),xe=>(kn[0]=+xe,kn[0]));var kn;const In=3,Pi=5,Hn=6;class sn{constructor(X){this.options=Object.assign(Object.create(_i),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){const{log:re,minZoom:le,maxZoom:me}=this.options;re&&console.time("total time");const ye=`prepare ${X.length} points`;re&&console.time(ye),this.points=X;const Se=[];for(let Re=0;Re<X.length;Re++){const $e=X[Re];if(!$e.geometry)continue;const[We,Je]=$e.geometry.coordinates,mt=jt(Br(We)),Dt=jt($r(Je));Se.push(mt,Dt,1/0,Re,-1,1),this.options.reduce&&Se.push(0)}let Fe=this.trees[me+1]=this._createTree(Se);re&&console.timeEnd(ye);for(let Re=me;Re>=le;Re--){const $e=+Date.now();Fe=this.trees[Re]=this._createTree(this._cluster(Fe,Re)),re&&console.log("z%d: %d clusters in %dms",Re,Fe.numItems,+Date.now()-$e)}return re&&console.timeEnd("total time"),this}getClusters(X,re){let le=((X[0]+180)%360+360)%360-180;const me=Math.max(-90,Math.min(90,X[1]));let ye=X[2]===180?180:((X[2]+180)%360+360)%360-180;const Se=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)le=-180,ye=180;else if(le>ye){const Je=this.getClusters([le,me,180,Se],re),mt=this.getClusters([-180,me,ye,Se],re);return Je.concat(mt)}const Fe=this.trees[this._limitZoom(re)],Re=Fe.range(Br(le),$r(Se),Br(ye),$r(me)),$e=Fe.data,We=[];for(const Je of Re){const mt=this.stride*Je;We.push($e[mt+Pi]>1?ji($e,mt,this.clusterProps):this.points[$e[mt+In]])}return We}getChildren(X){const re=this._getOriginId(X),le=this._getOriginZoom(X),me="No cluster with the specified id.",ye=this.trees[le];if(!ye)throw new Error(me);const Se=ye.data;if(re*this.stride>=Se.length)throw new Error(me);const Fe=this.options.radius/(this.options.extent*Math.pow(2,le-1)),Re=ye.within(Se[re*this.stride],Se[re*this.stride+1],Fe),$e=[];for(const We of Re){const Je=We*this.stride;Se[Je+4]===X&&$e.push(Se[Je+Pi]>1?ji(Se,Je,this.clusterProps):this.points[Se[Je+In]])}if($e.length===0)throw new Error(me);return $e}getLeaves(X,re,le){const me=[];return this._appendLeaves(me,X,re=re||10,le=le||0,0),me}getTile(X,re,le){const me=this.trees[this._limitZoom(X)],ye=Math.pow(2,X),{extent:Se,radius:Fe}=this.options,Re=Fe/Se,$e=(le-Re)/ye,We=(le+1+Re)/ye,Je={features:[]};return this._addTileFeatures(me.range((re-Re)/ye,$e,(re+1+Re)/ye,We),me.data,re,le,ye,Je),re===0&&this._addTileFeatures(me.range(1-Re/ye,$e,1,We),me.data,ye,le,ye,Je),re===ye-1&&this._addTileFeatures(me.range(0,$e,Re/ye,We),me.data,-1,le,ye,Je),Je.features.length?Je:null}getClusterExpansionZoom(X){let re=this._getOriginZoom(X)-1;for(;re<=this.options.maxZoom;){const le=this.getChildren(X);if(re++,le.length!==1)break;X=le[0].properties.cluster_id}return re}_appendLeaves(X,re,le,me,ye){const Se=this.getChildren(re);for(const Fe of Se){const Re=Fe.properties;if(Re&&Re.cluster?ye+Re.point_count<=me?ye+=Re.point_count:ye=this._appendLeaves(X,Re.cluster_id,le,me,ye):ye<me?ye++:X.push(Fe),X.length===le)break}return ye}_createTree(X){const re=new s.bE(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let le=0;le<X.length;le+=this.stride)re.add(X[le],X[le+1]);return re.finish(),re.data=X,re}_addTileFeatures(X,re,le,me,ye,Se){for(const Fe of X){const Re=Fe*this.stride,$e=re[Re+Pi]>1;let We,Je,mt;if($e)We=Ie(re,Re,this.clusterProps),Je=re[Re],mt=re[Re+1];else{const Jt=this.points[re[Re+In]];We=Jt.properties;const[hi,ai]=Jt.geometry.coordinates;Je=Br(hi),mt=$r(ai)}const Dt={type:1,geometry:[[Math.round(this.options.extent*(Je*ye-le)),Math.round(this.options.extent*(mt*ye-me))]],tags:We};let Lt;Lt=$e||this.options.generateId?re[Re+In]:this.points[re[Re+In]].id,Lt!==void 0&&(Dt.id=Lt),Se.features.push(Dt)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,re){const{radius:le,extent:me,reduce:ye,minPoints:Se}=this.options,Fe=le/(me*Math.pow(2,re)),Re=X.data,$e=[],We=this.stride;for(let Je=0;Je<Re.length;Je+=We){if(Re[Je+2]<=re)continue;Re[Je+2]=re;const mt=Re[Je],Dt=Re[Je+1],Lt=X.within(Re[Je],Re[Je+1],Fe),Jt=Re[Je+Pi];let hi=Jt;for(const ai of Lt){const ii=ai*We;Re[ii+2]>re&&(hi+=Re[ii+Pi])}if(hi>Jt&&hi>=Se){let ai,ii=mt*Jt,Zi=Dt*Jt,Ri=-1;const wi=(Je/We<<5)+(re+1)+this.points.length;for(const $i of Lt){const Qi=$i*We;if(Re[Qi+2]<=re)continue;Re[Qi+2]=re;const Qn=Re[Qi+Pi];ii+=Re[Qi]*Qn,Zi+=Re[Qi+1]*Qn,Re[Qi+4]=wi,ye&&(ai||(ai=this._map(Re,Je,!0),Ri=this.clusterProps.length,this.clusterProps.push(ai)),ye(ai,this._map(Re,Qi)))}Re[Je+4]=wi,$e.push(ii/hi,Zi/hi,1/0,wi,-1,hi),ye&&$e.push(Ri)}else{for(let ai=0;ai<We;ai++)$e.push(Re[Je+ai]);if(hi>1)for(const ai of Lt){const ii=ai*We;if(!(Re[ii+2]<=re)){Re[ii+2]=re;for(let Zi=0;Zi<We;Zi++)$e.push(Re[ii+Zi])}}}}return $e}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,re,le){if(X[re+Pi]>1){const Se=this.clusterProps[X[re+Hn]];return le?Object.assign({},Se):Se}const me=this.points[X[re+In]].properties,ye=this.options.map(me);return le&&ye===me?Object.assign({},ye):ye}}function ji(xe,X,re){return{type:"Feature",id:xe[X+In],properties:Ie(xe,X,re),geometry:{type:"Point",coordinates:[(le=xe[X],360*(le-.5)),xa(xe[X+1])]}};var le}function Ie(xe,X,re){const le=xe[X+Pi],me=le>=1e4?`${Math.round(le/1e3)}k`:le>=1e3?Math.round(le/100)/10+"k":le,ye=xe[X+Hn],Se=ye===-1?{}:Object.assign({},re[ye]);return Object.assign(Se,{cluster:!0,cluster_id:xe[X+In],point_count:le,point_count_abbreviated:me})}function Br(xe){return xe/360+.5}function $r(xe){const X=Math.sin(xe*Math.PI/180),re=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return re<0?0:re>1?1:re}function xa(xe){const X=(180-360*xe)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function Ct(xe,X,re,le){let me=le;const ye=X+(re-X>>1);let Se,Fe=re-X;const Re=xe[X],$e=xe[X+1],We=xe[re],Je=xe[re+1];for(let mt=X+3;mt<re;mt+=3){const Dt=is(xe[mt],xe[mt+1],Re,$e,We,Je);if(Dt>me)Se=mt,me=Dt;else if(Dt===me){const Lt=Math.abs(mt-ye);Lt<Fe&&(Se=mt,Fe=Lt)}}me>le&&(Se-X>3&&Ct(xe,X,Se,le),xe[Se+2]=me,re-Se>3&&Ct(xe,Se,re,le))}function is(xe,X,re,le,me,ye){let Se=me-re,Fe=ye-le;if(Se!==0||Fe!==0){const Re=((xe-re)*Se+(X-le)*Fe)/(Se*Se+Fe*Fe);Re>1?(re=me,le=ye):Re>0&&(re+=Se*Re,le+=Fe*Re)}return Se=xe-re,Fe=X-le,Se*Se+Fe*Fe}function yr(xe,X,re,le){const me={id:xe??null,type:X,geometry:re,tags:le,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(X==="Point"||X==="MultiPoint"||X==="LineString")Is(me,re);else if(X==="Polygon")Is(me,re[0]);else if(X==="MultiLineString")for(const ye of re)Is(me,ye);else if(X==="MultiPolygon")for(const ye of re)Is(me,ye[0]);return me}function Is(xe,X){for(let re=0;re<X.length;re+=3)xe.minX=Math.min(xe.minX,X[re]),xe.minY=Math.min(xe.minY,X[re+1]),xe.maxX=Math.max(xe.maxX,X[re]),xe.maxY=Math.max(xe.maxY,X[re+1])}function Mi(xe,X,re,le){if(!X.geometry)return;const me=X.geometry.coordinates;if(me&&me.length===0)return;const ye=X.geometry.type,Se=Math.pow(re.tolerance/((1<<re.maxZoom)*re.extent),2);let Fe=[],Re=X.id;if(re.promoteId?Re=X.properties[re.promoteId]:re.generateId&&(Re=le||0),ye==="Point")Wn(me,Fe);else if(ye==="MultiPoint")for(const $e of me)Wn($e,Fe);else if(ye==="LineString")ws(me,Fe,Se,!1);else if(ye==="MultiLineString"){if(re.lineMetrics){for(const $e of me)Fe=[],ws($e,Fe,Se,!1),xe.push(yr(Re,"LineString",Fe,X.properties));return}za(me,Fe,Se,!1)}else if(ye==="Polygon")za(me,Fe,Se,!0);else{if(ye!=="MultiPolygon"){if(ye==="GeometryCollection"){for(const $e of X.geometry.geometries)Mi(xe,{id:Re,geometry:$e,properties:X.properties},re,le);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const $e of me){const We=[];za($e,We,Se,!0),Fe.push(We)}}xe.push(yr(Re,ye,Fe,X.properties))}function Wn(xe,X){X.push(Ys(xe[0]),ba(xe[1]),0)}function ws(xe,X,re,le){let me,ye,Se=0;for(let Re=0;Re<xe.length;Re++){const $e=Ys(xe[Re][0]),We=ba(xe[Re][1]);X.push($e,We,0),Re>0&&(Se+=le?(me*We-$e*ye)/2:Math.sqrt(Math.pow($e-me,2)+Math.pow(We-ye,2))),me=$e,ye=We}const Fe=X.length-3;X[2]=1,Ct(X,0,Fe,re),X[Fe+2]=1,X.size=Math.abs(Se),X.start=0,X.end=X.size}function za(xe,X,re,le){for(let me=0;me<xe.length;me++){const ye=[];ws(xe[me],ye,re,le),X.push(ye)}}function Ys(xe){return xe/360+.5}function ba(xe){const X=Math.sin(xe*Math.PI/180),re=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return re<0?0:re>1?1:re}function li(xe,X,re,le,me,ye,Se,Fe){if(le/=X,ye>=(re/=X)&&Se<le)return xe;if(Se<re||ye>=le)return null;const Re=[];for(const $e of xe){const We=$e.geometry;let Je=$e.type;const mt=me===0?$e.minX:$e.minY,Dt=me===0?$e.maxX:$e.maxY;if(mt>=re&&Dt<le){Re.push($e);continue}if(Dt<re||mt>=le)continue;let Lt=[];if(Je==="Point"||Je==="MultiPoint")Xs(We,Lt,re,le,me);else if(Je==="LineString")Ks(We,Lt,re,le,me,!1,Fe.lineMetrics);else if(Je==="MultiLineString")Sr(We,Lt,re,le,me,!1);else if(Je==="Polygon")Sr(We,Lt,re,le,me,!0);else if(Je==="MultiPolygon")for(const Jt of We){const hi=[];Sr(Jt,hi,re,le,me,!0),hi.length&&Lt.push(hi)}if(Lt.length){if(Fe.lineMetrics&&Je==="LineString"){for(const Jt of Lt)Re.push(yr($e.id,Je,Jt,$e.tags));continue}Je!=="LineString"&&Je!=="MultiLineString"||(Lt.length===1?(Je="LineString",Lt=Lt[0]):Je="MultiLineString"),Je!=="Point"&&Je!=="MultiPoint"||(Je=Lt.length===3?"Point":"MultiPoint"),Re.push(yr($e.id,Je,Lt,$e.tags))}}return Re.length?Re:null}function Xs(xe,X,re,le,me){for(let ye=0;ye<xe.length;ye+=3){const Se=xe[ye+me];Se>=re&&Se<=le&&Gr(X,xe[ye],xe[ye+1],xe[ye+2])}}function Ks(xe,X,re,le,me,ye,Se){let Fe=wa(xe);const Re=me===0?$o:Go;let $e,We,Je=xe.start;for(let hi=0;hi<xe.length-3;hi+=3){const ai=xe[hi],ii=xe[hi+1],Zi=xe[hi+2],Ri=xe[hi+3],wi=xe[hi+4],$i=me===0?ai:ii,Qi=me===0?Ri:wi;let Qn=!1;Se&&($e=Math.sqrt(Math.pow(ai-Ri,2)+Math.pow(ii-wi,2))),$i<re?Qi>re&&(We=Re(Fe,ai,ii,Ri,wi,re),Se&&(Fe.start=Je+$e*We)):$i>le?Qi<le&&(We=Re(Fe,ai,ii,Ri,wi,le),Se&&(Fe.start=Je+$e*We)):Gr(Fe,ai,ii,Zi),Qi<re&&$i>=re&&(We=Re(Fe,ai,ii,Ri,wi,re),Qn=!0),Qi>le&&$i<=le&&(We=Re(Fe,ai,ii,Ri,wi,le),Qn=!0),!ye&&Qn&&(Se&&(Fe.end=Je+$e*We),X.push(Fe),Fe=wa(xe)),Se&&(Je+=$e)}let mt=xe.length-3;const Dt=xe[mt],Lt=xe[mt+1],Jt=me===0?Dt:Lt;Jt>=re&&Jt<=le&&Gr(Fe,Dt,Lt,xe[mt+2]),mt=Fe.length-3,ye&&mt>=3&&(Fe[mt]!==Fe[0]||Fe[mt+1]!==Fe[1])&&Gr(Fe,Fe[0],Fe[1],Fe[2]),Fe.length&&X.push(Fe)}function wa(xe){const X=[];return X.size=xe.size,X.start=xe.start,X.end=xe.end,X}function Sr(xe,X,re,le,me,ye){for(const Se of xe)Ks(Se,X,re,le,me,ye,!1)}function Gr(xe,X,re,le){xe.push(X,re,le)}function $o(xe,X,re,le,me,ye){const Se=(ye-X)/(le-X);return Gr(xe,ye,re+(me-re)*Se,1),Se}function Go(xe,X,re,le,me,ye){const Se=(ye-re)/(me-re);return Gr(xe,X+(le-X)*Se,ye,1),Se}function Fa(xe,X){const re=[];for(let le=0;le<xe.length;le++){const me=xe[le],ye=me.type;let Se;if(ye==="Point"||ye==="MultiPoint"||ye==="LineString")Se=Js(me.geometry,X);else if(ye==="MultiLineString"||ye==="Polygon"){Se=[];for(const Fe of me.geometry)Se.push(Js(Fe,X))}else if(ye==="MultiPolygon"){Se=[];for(const Fe of me.geometry){const Re=[];for(const $e of Fe)Re.push(Js($e,X));Se.push(Re)}}re.push(yr(me.id,ye,Se,me.tags))}return re}function Js(xe,X){const re=[];re.size=xe.size,xe.start!==void 0&&(re.start=xe.start,re.end=xe.end);for(let le=0;le<xe.length;le+=3)re.push(xe[le]+X,xe[le+1],xe[le+2]);return re}function Ba(xe,X){if(xe.transformed)return xe;const re=1<<xe.z,le=xe.x,me=xe.y;for(const ye of xe.features){const Se=ye.geometry,Fe=ye.type;if(ye.geometry=[],Fe===1)for(let Re=0;Re<Se.length;Re+=2)ye.geometry.push(Tn(Se[Re],Se[Re+1],X,re,le,me));else for(let Re=0;Re<Se.length;Re++){const $e=[];for(let We=0;We<Se[Re].length;We+=2)$e.push(Tn(Se[Re][We],Se[Re][We+1],X,re,le,me));ye.geometry.push($e)}}return xe.transformed=!0,xe}function Tn(xe,X,re,le,me,ye){return[Math.round(re*(xe*le-me)),Math.round(re*(X*le-ye))]}function Wr(xe,X,re,le,me){const ye=X===me.maxZoom?0:me.tolerance/((1<<X)*me.extent),Se={features:[],numPoints:0,numSimplified:0,numFeatures:xe.length,source:null,x:re,y:le,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Fe of xe)Na(Se,Fe,ye,me);return Se}function Na(xe,X,re,le){const me=X.geometry,ye=X.type,Se=[];if(xe.minX=Math.min(xe.minX,X.minX),xe.minY=Math.min(xe.minY,X.minY),xe.maxX=Math.max(xe.maxX,X.maxX),xe.maxY=Math.max(xe.maxY,X.maxY),ye==="Point"||ye==="MultiPoint")for(let Fe=0;Fe<me.length;Fe+=3)Se.push(me[Fe],me[Fe+1]),xe.numPoints++,xe.numSimplified++;else if(ye==="LineString")yi(Se,me,xe,re,!1,!1);else if(ye==="MultiLineString"||ye==="Polygon")for(let Fe=0;Fe<me.length;Fe++)yi(Se,me[Fe],xe,re,ye==="Polygon",Fe===0);else if(ye==="MultiPolygon")for(let Fe=0;Fe<me.length;Fe++){const Re=me[Fe];for(let $e=0;$e<Re.length;$e++)yi(Se,Re[$e],xe,re,!0,$e===0)}if(Se.length){let Fe=X.tags||null;if(ye==="LineString"&&le.lineMetrics){Fe={};for(const $e in X.tags)Fe[$e]=X.tags[$e];Fe.mapbox_clip_start=me.start/me.size,Fe.mapbox_clip_end=me.end/me.size}const Re={geometry:Se,type:ye==="Polygon"||ye==="MultiPolygon"?3:ye==="LineString"||ye==="MultiLineString"?2:1,tags:Fe};X.id!==null&&(Re.id=X.id),xe.features.push(Re)}}function yi(xe,X,re,le,me,ye){const Se=le*le;if(le>0&&X.size<(me?Se:le))return void(re.numPoints+=X.length/3);const Fe=[];for(let Re=0;Re<X.length;Re+=3)(le===0||X[Re+2]>Se)&&(re.numSimplified++,Fe.push(X[Re],X[Re+1])),re.numPoints++;me&&function(Re,$e){let We=0;for(let Je=0,mt=Re.length,Dt=mt-2;Je<mt;Dt=Je,Je+=2)We+=(Re[Je]-Re[Dt])*(Re[Je+1]+Re[Dt+1]);if(We>0===$e)for(let Je=0,mt=Re.length;Je<mt/2;Je+=2){const Dt=Re[Je],Lt=Re[Je+1];Re[Je]=Re[mt-2-Je],Re[Je+1]=Re[mt-1-Je],Re[mt-2-Je]=Dt,Re[mt-1-Je]=Lt}}(Fe,ye),xe.push(Fe)}const ns={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class fo{constructor(X,re){const le=(re=this.options=function(ye,Se){for(const Fe in Se)ye[Fe]=Se[Fe];return ye}(Object.create(ns),re)).debug;if(le&&console.time("preprocess data"),re.maxZoom<0||re.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(re.promoteId&&re.generateId)throw new Error("promoteId and generateId cannot be used together.");let me=function(ye,Se){const Fe=[];if(ye.type==="FeatureCollection")for(let Re=0;Re<ye.features.length;Re++)Mi(Fe,ye.features[Re],Se,Re);else Mi(Fe,ye.type==="Feature"?ye:{geometry:ye},Se);return Fe}(X,re);this.tiles={},this.tileCoords=[],le&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",re.indexMaxZoom,re.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),me=function(ye,Se){const Fe=Se.buffer/Se.extent;let Re=ye;const $e=li(ye,1,-1-Fe,Fe,0,-1,2,Se),We=li(ye,1,1-Fe,2+Fe,0,-1,2,Se);return($e||We)&&(Re=li(ye,1,-Fe,1+Fe,0,-1,2,Se)||[],$e&&(Re=Fa($e,1).concat(Re)),We&&(Re=Re.concat(Fa(We,-1)))),Re}(me,re),me.length&&this.splitTile(me,0,0,0),le&&(me.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(X,re,le,me,ye,Se,Fe){const Re=[X,re,le,me],$e=this.options,We=$e.debug;for(;Re.length;){me=Re.pop(),le=Re.pop(),re=Re.pop(),X=Re.pop();const Je=1<<re,mt=qn(re,le,me);let Dt=this.tiles[mt];if(!Dt&&(We>1&&console.time("creation"),Dt=this.tiles[mt]=Wr(X,re,le,me,$e),this.tileCoords.push({z:re,x:le,y:me}),We)){We>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",re,le,me,Dt.numFeatures,Dt.numPoints,Dt.numSimplified),console.timeEnd("creation"));const Qn=`z${re}`;this.stats[Qn]=(this.stats[Qn]||0)+1,this.total++}if(Dt.source=X,ye==null){if(re===$e.indexMaxZoom||Dt.numPoints<=$e.indexMaxPoints)continue}else{if(re===$e.maxZoom||re===ye)continue;if(ye!=null){const Qn=ye-re;if(le!==Se>>Qn||me!==Fe>>Qn)continue}}if(Dt.source=null,X.length===0)continue;We>1&&console.time("clipping");const Lt=.5*$e.buffer/$e.extent,Jt=.5-Lt,hi=.5+Lt,ai=1+Lt;let ii=null,Zi=null,Ri=null,wi=null,$i=li(X,Je,le-Lt,le+hi,0,Dt.minX,Dt.maxX,$e),Qi=li(X,Je,le+Jt,le+ai,0,Dt.minX,Dt.maxX,$e);X=null,$i&&(ii=li($i,Je,me-Lt,me+hi,1,Dt.minY,Dt.maxY,$e),Zi=li($i,Je,me+Jt,me+ai,1,Dt.minY,Dt.maxY,$e),$i=null),Qi&&(Ri=li(Qi,Je,me-Lt,me+hi,1,Dt.minY,Dt.maxY,$e),wi=li(Qi,Je,me+Jt,me+ai,1,Dt.minY,Dt.maxY,$e),Qi=null),We>1&&console.timeEnd("clipping"),Re.push(ii||[],re+1,2*le,2*me),Re.push(Zi||[],re+1,2*le,2*me+1),Re.push(Ri||[],re+1,2*le+1,2*me),Re.push(wi||[],re+1,2*le+1,2*me+1)}}getTile(X,re,le){X=+X,re=+re,le=+le;const me=this.options,{extent:ye,debug:Se}=me;if(X<0||X>24)return null;const Fe=1<<X,Re=qn(X,re=re+Fe&Fe-1,le);if(this.tiles[Re])return Ba(this.tiles[Re],ye);Se>1&&console.log("drilling down to z%d-%d-%d",X,re,le);let $e,We=X,Je=re,mt=le;for(;!$e&&We>0;)We--,Je>>=1,mt>>=1,$e=this.tiles[qn(We,Je,mt)];return $e&&$e.source?(Se>1&&(console.log("found parent tile z%d-%d-%d",We,Je,mt),console.time("drilling down")),this.splitTile($e.source,We,Je,mt,X,re,le),Se>1&&console.timeEnd("drilling down"),this.tiles[Re]?Ba(this.tiles[Re],ye):null):null}}function qn(xe,X,re){return 32*((1<<xe)*re+X)+xe}function Va(xe,X){const re=xe.tileID.canonical;if(!this._geoJSONIndex)return void X(null,null);const le=this._geoJSONIndex.getTile(re.z,re.x,re.y);if(!le)return void X(null,null);const me=new gt(le.features);let ye=Kt(me);ye.byteOffset===0&&ye.byteLength===ye.buffer.byteLength||(ye=new Uint8Array(ye)),X(null,{vectorTile:me,rawData:ye.buffer})}class Wo extends we{constructor(X,re,le,me,ye,Se){super(X,re,le,me,Va,Se),ye&&(this.loadGeoJSON=ye),this._dynamicIndex=new _t}loadData(X,re){const le=X&&X.request,me=le&&le.collectResourceTiming;this.loadGeoJSON(X,(ye,Se)=>{if(ye||!Se)return re(ye);if(typeof Se!="object")return re(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{try{if(X.filter){const Re=s.U(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Re.result==="error")throw new Error(Re.value.map($e=>`${$e.key}: ${$e.message}`).join(", "));Se.features=Se.features.filter($e=>Re.value.evaluate({zoom:0},$e))}X.dynamic?(Se.type==="Feature"&&(Se={type:"FeatureCollection",features:[Se]}),X.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(Se.features,this.loaded),X.cluster&&(Se.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=X.cluster?new sn(function({superclusterOptions:Re,clusterProperties:$e}){if(!$e||!Re)return Re;const We={},Je={},mt={accumulated:null,zoom:0},Dt={properties:null},Lt=Object.keys($e);for(const Jt of Lt){const[hi,ai]=$e[Jt],ii=s.U(ai),Zi=s.U(typeof hi=="string"?[hi,["accumulated"],["get",Jt]]:hi);We[Jt]=ii.value,Je[Jt]=Zi.value}return Re.map=Jt=>{Dt.properties=Jt;const hi={};for(const ai of Lt)hi[ai]=We[ai].evaluate(mt,Dt);return hi},Re.reduce=(Jt,hi)=>{Dt.properties=hi;for(const ai of Lt)mt.accumulated=Jt[ai],Jt[ai]=Je[ai].evaluate(mt,Dt)},Re}(X)).load(Se.features):X.dynamic?this._dynamicIndex:function(Re,$e){return new fo(Re,$e)}(Se,X.geojsonVtOptions)}catch(Re){return re(Re)}const Fe={};if(me){const Re=L(le);Re&&(Fe.resourceTiming={},Fe.resourceTiming[X.source]=JSON.parse(JSON.stringify(Re)))}re(null,Fe)}})}reloadTile(X,re){const le=this.loaded;return le&&le[X.uid]?X.partial?re(null,void 0):super.reloadTile(X,re):this.loadTile(X,re)}loadGeoJSON(X,re){if(X.request)s.n(X.request,re);else{if(typeof X.data!="string")return re(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));try{return re(null,JSON.parse(X.data))}catch{return re(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(X,re){try{re(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(le){re(le)}}getClusterChildren(X,re){try{re(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(le){re(le)}}getClusterLeaves(X,re){try{re(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(le){re(le)}}}class Ce{constructor(X,re){this.tileID=new s.aG(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.tileZoom=X.tileZoom,this.uid=X.uid,this.zoom=X.zoom,this.canonical=X.tileID.canonical,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=X.projection,this.brightness=re}parse(X,re,le,me){this.status="parsing";const ye=new s.aG(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),Se=[],Fe=re.familiesBySource[le.source],Re=new s.dZ(ye,le.promoteId);return Re.bucketLayerIDs=[],Re.is3DTile=!0,s.e9(X).then($e=>{if(!$e)return me(new Error("Could not parse tile"));const We=s.ea($e,1/s.cc(le.tileID.canonical)),Je=$e.json.extensionsUsed&&$e.json.extensionsUsed.includes("MAPBOX_mesh_features")||$e.json.asset.extras&&$e.json.asset.extras.MAPBOX_mesh_features,mt=$e.json.extensionsUsed&&$e.json.extensionsUsed.includes("EXT_meshopt_compression"),Dt=new s.a8(this.zoom,{brightness:this.brightness});for(const Lt in Fe)for(const Jt of Fe[Lt]){const hi=Jt[0];Re.bucketLayerIDs.push(Jt.map(ii=>s.aC(ii.id,ii.scope))),hi.recalculate(Dt,[]);const ai=new s.eb(Jt,We,ye,Je,mt,this.brightness,Re);Je||(ai.needsUpload=!0),Se.push(ai),ai.evaluate(hi)}this.status="done",me(null,{buckets:Se,featureIndex:Re,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:null})}).catch($e=>me(new Error($e.message)))}}class ze{constructor(X,re,le,me,ye,Se){this.actor=X,this.layerIndex=re,this.availableImages=le,this.brightness=Se,this.loading={},this.loaded={}}loadTile(X,re){const le=X.uid,me=this.loading[le]=new Ce(X,this.brightness);s.bi(X.request,(ye,Se)=>{const Fe=!this.loading[le];return delete this.loading[le],Fe||ye?(me.status="done",Fe||(this.loaded[le]=me),re(ye)):Se&&Se.byteLength!==0?void me.parse(Se,this.layerIndex,X,(Re,$e)=>{me.status="done",this.loaded=this.loaded||{},this.loaded[le]=me,Re||!$e?re(Re):re(null,$e)}):(me.status="done",this.loaded[le]=me,re())})}reloadTile(X,re){const le=this.loaded,me=X.uid;if(le&&le[me]){const ye=le[me];ye.projection=X.projection,ye.brightness=X.brightness;const Se=(Fe,Re)=>{ye.reloadCallback&&(delete ye.reloadCallback,this.loadTile(X,re)),re(Fe,Re)};ye.status==="parsing"?ye.reloadCallback=Se:ye.status==="done"&&this.loadTile(X,re)}}abortTile(X,re){const le=X.uid;this.loading[le]&&delete this.loading[le],re()}removeTile(X,re){const le=this.loaded,me=X.uid;le&&le[me]&&delete le[me],re()}}class st{constructor(X){this.self=X,this.actor=new s.ec(X,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.imageRasterizer=new s.I,this.projections={},this.defaultProjection=s.bP({name:"mercator"}),this.workerSourceTypes={vector:we,geojson:Wo,"batched-model":ze},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(re,le)=>{if(this.workerSourceTypes[re])throw new Error(`Worker source with name "${re}" already registered.`);this.workerSourceTypes[re]=le},this.self.registerRTLTextPlugin=re=>{if(s.ed.isParsed())throw new Error("RTL text plugin already registered.");s.ed.applyArabicShaping=re.applyArabicShaping,s.ed.processBidirectionalText=re.processBidirectionalText,s.ed.processStyledBidirectionalText=re.processStyledBidirectionalText}}clearCaches(X,re,le){delete this.layerIndexes[X],delete this.availableImages[X],delete this.workerSources[X],delete this.demWorkerSources[X],delete this.rasterArrayWorkerSource,le()}checkIfReady(X,re,le){le()}setReferrer(X,re){this.referrer=re}spriteLoaded(X,{scope:re,isLoaded:le}){if(this.isSpriteLoaded[X]||(this.isSpriteLoaded[X]={}),this.isSpriteLoaded[X][re]=le,this.workerSources[X]&&this.workerSources[X][re])for(const me in this.workerSources[X][re]){const ye=this.workerSources[X][re][me];for(const Se in ye){const Fe=ye[Se];Fe instanceof we&&(Fe.isSpriteLoaded=le,Fe.fire(new s.z("isSpriteLoaded")))}}}setImages(X,{scope:re,images:le},me){if(this.availableImages[X]||(this.availableImages[X]={}),this.availableImages[X][re]=le,this.workerSources[X]&&this.workerSources[X][re]){for(const ye in this.workerSources[X][re]){const Se=this.workerSources[X][re][ye];for(const Fe in Se)Se[Fe].availableImages=le}me()}else me()}setProjection(X,re){this.projections[X]=s.bP(re)}setBrightness(X,re,le){this.brightness=re,le()}setLayers(X,re,le){this.getLayerIndex(X,re.scope).replace(re.layers,re.options),le()}updateLayers(X,re,le){this.getLayerIndex(X,re.scope).update(re.layers,re.removedIds,re.options),le()}loadTile(X,re,le){re.projection=this.projections[X]||this.defaultProjection,this.getWorkerSource(X,re.type,re.source,re.scope).loadTile(re,le)}loadDEMTile(X,re,le){this.getDEMWorkerSource(X,re.source,re.scope).loadTile(re,le)}decodeRasterArray(X,re,le){this.getRasterArrayWorkerSource().decodeRasterArray(re,le)}reloadTile(X,re,le){re.projection=this.projections[X]||this.defaultProjection,this.getWorkerSource(X,re.type,re.source,re.scope).reloadTile(re,le)}abortTile(X,re,le){this.getWorkerSource(X,re.type,re.source,re.scope).abortTile(re,le)}removeTile(X,re,le){this.getWorkerSource(X,re.type,re.source,re.scope).removeTile(re,le)}removeSource(X,re,le){if(!(this.workerSources[X]&&this.workerSources[X][re.scope]&&this.workerSources[X][re.scope][re.type]&&this.workerSources[X][re.scope][re.type][re.source]))return;const me=this.workerSources[X][re.scope][re.type][re.source];delete this.workerSources[X][re.scope][re.type][re.source],me.removeSource!==void 0?me.removeSource(re,le):le()}loadWorkerSource(X,re,le){try{this.self.importScripts(re.url),le()}catch(me){le(me.toString())}}syncRTLPluginState(X,re,le){try{s.ed.setState(re);const me=s.ed.getPluginURL();if(s.ed.isLoaded()&&!s.ed.isParsed()&&me!=null){this.self.importScripts(me);const ye=s.ed.isParsed();le(ye?void 0:new Error(`RTL Text Plugin failed to import scripts from ${me}`),ye)}}catch(me){le(me.toString())}}setDracoUrl(X,re){this.dracoUrl=re}getAvailableImages(X,re){this.availableImages[X]||(this.availableImages[X]={});let le=this.availableImages[X][re];return le||(le=[]),le}getLayerIndex(X,re){this.layerIndexes[X]||(this.layerIndexes[X]={});let le=this.layerIndexes[X][re];return le||(le=this.layerIndexes[X][re]=new q,le.scope=re),le}getWorkerSource(X,re,le,me){return this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][me]||(this.workerSources[X][me]={}),this.workerSources[X][me][re]||(this.workerSources[X][me][re]={}),this.isSpriteLoaded[X]||(this.isSpriteLoaded[X]={}),this.workerSources[X][me][re][le]||(this.workerSources[X][me][re][le]=new this.workerSourceTypes[re]({send:(ye,Se,Fe,Re,$e,We)=>{this.actor.send(ye,Se,Fe,X,$e,We)},scheduler:this.actor.scheduler},this.getLayerIndex(X,me),this.getAvailableImages(X,me),this.isSpriteLoaded[X][me],void 0,this.brightness)),this.workerSources[X][me][re][le]}rasterizeImages(X,re,le){const{imageTasks:me,scope:ye}=re,Se={};for(const Fe in me){const{image:Re,imageIdWithOptions:$e}=me[Fe];Se[Fe]=this.imageRasterizer.rasterize($e,Re,ye,X)}le(void 0,Se)}removeRasterizedImages(X,re,le){const{imageIds:me,scope:ye}=re;this.imageRasterizer.removeImagesFromCacheByIds(me,ye,X),le()}getDEMWorkerSource(X,re,le){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][le]||(this.demWorkerSources[X][le]={}),this.demWorkerSources[X][le][re]||(this.demWorkerSources[X][le][re]=new De),this.demWorkerSources[X][le][re]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new Ze),this.rasterArrayWorkerSource}enforceCacheSizeLimit(X,re){s.ee(re)}getWorkerPerformanceMetrics(X,re,le){le(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new st(self)),st}),p(["./shared"],function(s){var L="3.9.4";const R={create:"create",load:"load",fullLoad:"fullLoad"},V={mark(f){performance.mark(f)},measure(f,r,l){performance.measure(f,r,l)}};function q(f){const r=f.name.split("?")[0];return s.a(r)&&r.includes("mapbox-gl.js")?"javascript":s.a(r)&&r.includes("mapbox-gl.css")?"css":s.b(r)?"fontRange":s.c(r)?"sprite":s.i(r)?"style":s.d(r)?"tilejson":"other"}var Z,ee={},se=function(){if(Z)return ee;function f(m){return!r(m)}function r(m){return typeof window>"u"||typeof document>"u"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,M,P=new Blob([""],{type:"text/javascript"}),O=URL.createObjectURL(P);try{M=new Worker(O),x=!0}catch{x=!1}return M&&M.terminate(),URL.revokeObjectURL(O),x}()?function(){var x=document.createElement("canvas");x.width=x.height=1;var M=x.getContext("2d");if(!M)return!1;var P=M.getImageData(0,0,1,1);return P&&P.width===x.width}()?(l[v=m&&m.failIfMajorPerformanceCaveat]===void 0&&(l[v]=function(x){var M,P=function(O){var z=document.createElement("canvas"),F=Object.create(f.webGLContextAttributes);return F.failIfMajorPerformanceCaveat=O,z.getContext("webgl2",F)}(x);if(!P)return!1;try{M=P.createShader(P.VERTEX_SHADER)}catch{return!1}return!(!M||P.isContextLost())&&(P.shaderSource(M,"void main() {}"),P.compileShader(M),P.getShaderParameter(M,P.COMPILE_STATUS)===!0)}(v)),l[v]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var v}Z=1,ee.supported=f,ee.notSupportedReason=r;var l={};return f.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},ee}();function he(f,r,l){const m=document.createElement(f);return r!=null&&(m.className=r),l&&l.appendChild(m),m}function we(f,r,l){const m=document.createElementNS("http://www.w3.org/2000/svg",f);for(const v of Object.keys(r))m.setAttributeNS(null,v,String(r[v]));return l&&l.appendChild(m),m}const De=typeof document<"u"?document.documentElement&&document.documentElement.style:null,Ze=De&&De.userSelect!==void 0?"userSelect":"WebkitUserSelect";let ct;function rt(){De&&Ze&&(ct=De[Ze],De[Ze]="none")}function gt(){De&&Ze&&(De[Ze]=ct)}function Tt(f){f.preventDefault(),f.stopPropagation(),window.removeEventListener("click",Tt,!0)}function it(){window.addEventListener("click",Tt,!0),window.setTimeout(()=>{window.removeEventListener("click",Tt,!0)},0)}function _t(f,r){const l=f.getBoundingClientRect();return It(f,l,r)}function Ft(f,r){const l=f.getBoundingClientRect(),m=[];for(let v=0;v<r.length;v++)m.push(It(f,l,r[v]));return m}function vt(f){return window.InstallTrigger!==void 0&&f.button===2&&f.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:f.button}function It(f,r,l){const m=f.offsetWidth===r.width?1:f.offsetWidth/r.width;return new s.P((l.clientX-r.left)*m,(l.clientY-r.top)*m)}const Qt="01",Oi="NO_ACCESS_TOKEN";class Ji{constructor(r,l,m){this._transformRequestFn=r,this._customAccessToken=l,this._silenceAuthErrors=!!m,this._createSkuToken()}_createSkuToken(){const r=function(){let l="";for(let m=0;m<10;m++)l+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Qt,l].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,l){return this._transformRequestFn&&this._transformRequestFn(r,l)||{url:r}}normalizeStyleURL(r,l){if(!s.f(r))return r;const m=Ye(r);return m.params.push(`sdk=js-${L}`),m.path=`/styles/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeGlyphsURL(r,l){if(!s.f(r))return r;const m=Ye(r);return m.path=`/fonts/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeModelURL(r,l){if(!s.f(r))return r;const m=Ye(r);return m.path=`/models/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeSourceURL(r,l,m,v){if(!s.f(r))return r;const x=Ye(r);return x.path=`/v4/${x.authority}.json`,x.params.push("secure"),m&&x.params.push(`language=${m}`),v&&x.params.push(`worldview=${v}`),this._makeAPIURL(x,this._customAccessToken||l)}normalizeIconsetURL(r,l){const m=Ye(r);return s.f(r)?(m.path=`/styles/v1${m.path}/iconset.pbf`,this._makeAPIURL(m,this._customAccessToken||l)):tt(m)}normalizeSpriteURL(r,l,m,v){const x=Ye(r);return s.f(r)?(x.path=`/styles/v1${x.path}/sprite${l}${m}`,this._makeAPIURL(x,this._customAccessToken||v)):(x.path+=`${l}${m}`,tt(x))}normalizeTileURL(r,l,m){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!s.f(r))return r;const v=Ye(r);v.path=v.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${l||m&&v.authority!=="raster"&&m===512?"@2x":""}${s.m.supported?".webp":"$1"}`),v.authority==="raster"?v.path=`/${s.e.RASTER_URL_PREFIX}${v.path}`:v.authority==="rasterarrays"?v.path=`/${s.e.RASTERARRAYS_URL_PREFIX}${v.path}`:v.authority==="3dtiles"?v.path=`/${s.e.TILES3D_URL_PREFIX}${v.path}`:(v.path=v.path.replace(/^.+\/v4\//,"/"),v.path=`/${s.e.TILE_URL_VERSION}${v.path}`);const x=this._customAccessToken||function(M){for(const P of M){const O=P.match(/^access_token=(.*)$/);if(O)return O[1]}return null}(v.params)||s.e.ACCESS_TOKEN;return s.e.REQUIRE_ACCESS_TOKEN&&x&&this._skuToken&&v.params.push(`sku=${this._skuToken}`),this._makeAPIURL(v,x)}canonicalizeTileURL(r,l){const m=Ye(r);if(!m.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!m.path.match(/\.[\w]+$/))return r;let v="mapbox://";m.path.match(/^\/raster\/v1\//)?v+=`raster/${m.path.replace(`/${s.e.RASTER_URL_PREFIX}/`,"")}`:m.path.match(/^\/rasterarrays\/v1\//)?v+=`rasterarrays/${m.path.replace(`/${s.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:v+=`tiles/${m.path.replace(`/${s.e.TILE_URL_VERSION}/`,"")}`;let x=m.params;return l&&(x=x.filter(M=>!M.match(/^access_token=/))),x.length&&(v+=`?${x.join("&")}`),v}canonicalizeTileset(r,l){const m=!!l&&s.f(l),v=[];for(const x of r.tiles||[])s.h(x)?v.push(this.canonicalizeTileURL(x,m)):v.push(x);return v}_makeAPIURL(r,l){const m="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",v=Ye(s.e.API_URL);if(r.protocol=v.protocol,r.authority=v.authority,r.protocol==="http"){const x=r.params.indexOf("secure");x>=0&&r.params.splice(x,1)}if(v.path!=="/"&&(r.path=`${v.path}${r.path}`),!s.e.REQUIRE_ACCESS_TOKEN)return tt(r);if(l=l||s.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!l)throw new Error(`An API access token is required to use Mapbox GL. ${m}`);if(l[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${m}`)}return r.params=r.params.filter(x=>x.indexOf("access_token")===-1),r.params.push(`access_token=${l||""}`),tt(r)}}const zt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ye(f){const r=f.match(zt);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function tt(f){const r=f.params.length?`?${f.params.join("&")}`:"";return`${f.protocol}://${f.authority}${f.path}${r}`}const ut="mapbox.eventData";function dt(f){if(!f)return null;const r=f.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(s.j(r[1]))}catch{return null}}class Gt{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=dt(s.e.ACCESS_TOKEN);let m="";return m=l&&l.u?s.k(l.u):s.e.ACCESS_TOKEN||"",r?`${ut}.${r}:${m}`:`${ut}:${m}`}fetchEventData(){const r=s.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid");if(r)try{const v=localStorage.getItem(l);v&&(this.eventData=JSON.parse(v));const x=localStorage.getItem(m);x&&(this.anonId=x)}catch{s.w("Unable to read from LocalStorage")}}saveEventData(){const r=s.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid"),v=this.anonId;if(r&&v)try{localStorage.setItem(m,v),Object.keys(this.eventData).length>=1&&localStorage.setItem(l,JSON.stringify(this.eventData))}catch{s.w("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,m,v){if(!s.e.EVENTS_URL)return;const x=Ye(s.e.EVENTS_URL);x.params.push(`access_token=${v||s.e.ACCESS_TOKEN||""}`);const M={event:this.type,created:new Date(r).toISOString()},P=l?s.l(M,l):M,O={url:tt(x),headers:{"Content-Type":"text/plain"},body:JSON.stringify([P])};this.pendingRequest=s.p(O,z=>{this.pendingRequest=null,m(z),this.saveEventData(),this.processRequests(v)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const Kt=new class extends Gt{constructor(f){super("appUserTurnstile"),this._customAccessToken=f}postTurnstileEvent(f,r){s.e.EVENTS_URL&&s.e.ACCESS_TOKEN&&Array.isArray(f)&&f.some(l=>s.f(l)||s.h(l))&&this.queueRequest(Date.now(),r)}processRequests(f){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=dt(s.e.ACCESS_TOKEN),l=r?r.u:s.e.ACCESS_TOKEN;let m=l!==this.eventData.tokenU;s.v(this.anonId)||(this.anonId=s.u(),m=!0);const v=this.queue.shift();if(this.eventData.lastSuccess){const x=new Date(this.eventData.lastSuccess),M=new Date(v),P=(v-this.eventData.lastSuccess)/864e5;m=m||P>=1||P<-1||x.getDate()!==M.getDate()}else m=!0;m?this.postEvent(v,{sdkIdentifier:"mapbox-gl-js",sdkVersion:L,skuId:Qt,"enabled.telemetry":!1,userId:this.anonId},x=>{x||(this.eventData.lastSuccess=v,this.eventData.tokenU=l)},f):this.processRequests()}},_i=Kt.postTurnstileEvent.bind(Kt),jt=new class extends Gt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(f,r,l,m){this.skuToken=r,this.errorCb=m,s.e.EVENTS_URL&&(l||s.e.ACCESS_TOKEN?this.queueRequest({id:f,timestamp:Date.now()},l):this.errorCb(new Error(Oi)))}processRequests(f){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),s.v(this.anonId)||(this.anonId=s.u()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:L,skuId:Qt,skuToken:this.skuToken,userId:this.anonId},m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},f))}remove(){this.errorCb=null}},kn=jt.postMapLoadEvent.bind(jt),In=new class extends Gt{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(f){let r=this.mapInstanceIdMap.get(f);return r||(r=s.u(),this.mapInstanceIdMap.set(f,r)),r}getEventId(f){const r=this.eventIdPerMapInstanceMap.get(f)||0;return this.eventIdPerMapInstanceMap.set(f,r+1),r}postStyleLoadEvent(f,r){const{map:l,style:m,importedStyles:v}=r;if(!s.e.EVENTS_URL||!f&&!s.e.ACCESS_TOKEN)return;const x=this.getMapInstanceId(l),M={mapInstanceId:x,eventId:this.getEventId(x),style:m};v.length&&(M.importedStyles=v),this.queueRequest({timestamp:Date.now(),payload:M},f)}processRequests(f){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,payload:l}=this.queue.shift();this.postEvent(r,l,()=>{},f)}},Pi=In.postStyleLoadEvent.bind(In),Hn=new class extends Gt{constructor(){super("gljs.performance")}postPerformanceEvent(f,r){s.e.EVENTS_URL&&(f||s.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},f)}processRequests(f){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),m=function(v){const x=performance.getEntriesByType("resource"),M=performance.getEntriesByType("mark"),P=function(G){const Q={};if(G){for(const J in G)if(J!=="other")for(const ie of G[J]){const ne=`${J}ResolveRangeMin`,ae=`${J}ResolveRangeMax`,fe=`${J}RequestCount`,de=`${J}RequestCachedCount`;Q[ne]=Math.min(Q[ne]||1/0,ie.startTime),Q[ae]=Math.max(Q[ae]||-1/0,ie.responseEnd);const be=ge=>{Q[ge]===void 0&&(Q[ge]=0),++Q[ge]};ie.transferSize!==void 0&&ie.transferSize===0&&be(de),be(fe)}}return Q}(function(G,Q){const J={};if(G)for(const ie of G){const ne=Q(ie);J[ne]===void 0&&(J[ne]=[]),J[ne].push(ie)}return J}(x,q)),O=window.devicePixelRatio,z=navigator.connection||navigator.mozConnection||navigator.webkitConnection,F=z?z.effectiveType:void 0,H={counters:[],metadata:[],attributes:[]},U=(G,Q,J)=>{J!=null&&G.push({name:Q,value:J.toString()})};for(const G in P)U(H.counters,G,P[G]);if(v.interactionRange[0]!==1/0&&v.interactionRange[1]!==-1/0&&(U(H.counters,"interactionRangeMin",v.interactionRange[0]),U(H.counters,"interactionRangeMax",v.interactionRange[1])),M)for(const G of Object.keys(R)){const Q=R[G],J=M.find(ie=>ie.name===Q);J&&U(H.counters,Q,J.startTime)}return U(H.counters,"visibilityHidden",v.visibilityHidden),U(H.attributes,"style",function(G){if(G)for(const Q of G){const J=Q.name.split("?")[0];if(s.i(J)){const ie=J.split("/").slice(-2);if(ie.length===2)return`mapbox://styles/${ie[0]}/${ie[1]}`}}}(x)),U(H.attributes,"terrainEnabled",v.terrainEnabled?"true":"false"),U(H.attributes,"fogEnabled",v.fogEnabled?"true":"false"),U(H.attributes,"projection",v.projection),U(H.attributes,"zoom",v.zoom),U(H.metadata,"devicePixelRatio",O),U(H.metadata,"connectionEffectiveType",F),U(H.metadata,"navigatorUserAgent",navigator.userAgent),U(H.metadata,"screenWidth",window.screen.width),U(H.metadata,"screenHeight",window.screen.height),U(H.metadata,"windowWidth",window.innerWidth),U(H.metadata,"windowHeight",window.innerHeight),U(H.metadata,"mapWidth",v.width/O),U(H.metadata,"mapHeight",v.height/O),U(H.metadata,"webglRenderer",v.renderer),U(H.metadata,"webglVendor",v.vendor),U(H.metadata,"sdkVersion",L),U(H.metadata,"sdkIdentifier","mapbox-gl-js"),H}(l);for(const v of m.metadata);for(const v of m.counters);for(const v of m.attributes);this.postEvent(r,m,()=>{},f)}},sn=Hn.postPerformanceEvent.bind(Hn),ji=new class extends Gt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(f,r,l,m){if(!s.e.API_URL||!s.e.SESSION_PATH)return;const v=Ye(s.e.API_URL+s.e.SESSION_PATH);v.params.push(`sku=${r||""}`),v.params.push(`access_token=${m||s.e.ACCESS_TOKEN||""}`);const x={url:tt(v),headers:{"Content-Type":"text/plain"}};this.pendingRequest=s.g(x,M=>{this.pendingRequest=null,l(M),this.saveEventData(),this.processRequests(m)})}getSessionAPI(f,r,l,m){this.skuToken=r,this.errorCb=m,s.e.SESSION_PATH&&s.e.API_URL&&(l||s.e.ACCESS_TOKEN?this.queueRequest({id:f,timestamp:Date.now()},l):this.errorCb(new Error(Oi)))}processRequests(f){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},f)}remove(){this.errorCb=null}},Ie=ji.getSessionAPI.bind(ji),Br=new Set;function $r(f,r){r?Br.add(f):Br.delete(f)}class xa{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(r,l){this._updatedSourceCaches[r]=l,this.setDirty()}discardSourceCacheUpdate(r){delete this._updatedSourceCaches[r]}updateLayer(r){const l=r.scope;this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._updatedLayers[l].add(r.id),this.setDirty()}removeLayer(r){const l=r.scope;this._removedLayers[l]=this._removedLayers[l]||{},this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._removedLayers[l][r.id]=r,this._updatedLayers[l].delete(r.id),this._updatedPaintProps.delete(r.fqid),this.setDirty()}getRemovedLayer(r){return this._removedLayers[r.scope]?this._removedLayers[r.scope][r.id]:null}discardLayerRemoval(r){this._removedLayers[r.scope]&&delete this._removedLayers[r.scope][r.id]}getLayerUpdatesByScope(){const r={};for(const l in this._updatedLayers)r[l]=r[l]||{},r[l].updatedIds=Array.from(this._updatedLayers[l].values());for(const l in this._removedLayers)r[l]=r[l]||{},r[l].removedIds=Object.keys(this._removedLayers[l]);return r}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(r){this._updatedPaintProps.add(r.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(r){this._updatedImages.add(r),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function Ct(f){const{userImage:r}=f;return!!(r&&r.render&&r.render())&&(f.data.replace(new Uint8Array(r.data.buffer)),!0)}class is extends s.E{constructor(r){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0,this.spriteFormat=r,r!=="raster"&&s.t()&&(this.imageRasterizerDispatcher=new s.D(s.x(),this,"Image Rasterizer Worker",1))}get imageRasterizer(){return this._imageRasterizer||(this._imageRasterizer=new s.I),this._imageRasterizer}createScope(r){this.images[r]={},this.loaded[r]=!1,this.updatedImages[r]={},this.patterns[r]={},this.callbackDispatchedThisFrame[r]={},this.atlasImage[r]=new s.r({width:1,height:1})}isLoaded(){for(const r in this.loaded)if(!this.loaded[r])return!1;return!0}setLoaded(r,l){if(this.loaded[l]!==r&&(this.loaded[l]=r,r)){for(const{ids:m,callback:v}of this.requestors)this._notify(m,l,v);this.requestors=[]}}hasImage(r,l){return!!this.getImage(r,l)}getImage(r,l){return this.images[l][r]}addImage(r,l,m){this._validate(r,m)&&(this.images[l][r]=m)}_validate(r,l){let m=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new s.y(new Error(`Image "${r}" has invalid "stretchX" value`))),m=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new s.y(new Error(`Image "${r}" has invalid "stretchY" value`))),m=!1),this._validateContent(l.content,l)||(this.fire(new s.y(new Error(`Image "${r}" has invalid "content" value`))),m=!1),m}_validateStretch(r,l){if(!r)return!0;let m=0;for(const v of r){if(v[0]<m||v[1]<v[0]||l<v[1])return!1;m=v[1]}return!0}_validateContent(r,l){return r?r.length!==4||!l.usvg&&(r[0]<0||l.data.width<r[0]||r[1]<0||l.data.height<r[1]||r[2]<0||l.data.width<r[2]||r[3]<0||l.data.height<r[3])?!1:!(r[2]<r[0]||r[3]<r[1]):!0}updateImage(r,l,m){m.version=this.images[l][r].version+1,this.images[l][r]=m,this.updatedImages[l][r]=!0,this.removeFromImageRasterizerCache(r,l)}removeFromImageRasterizerCache(r,l){this.spriteFormat!=="raster"&&(s.t()?this.imageRasterizerDispatcher.getActor().send("removeRasterizedImages",{imageIds:[r],scope:l}):this.imageRasterizer.removeImagesFromCacheByIds([r],l))}removeImage(r,l){const m=this.images[l][r];delete this.images[l][r],delete this.patterns[l][r],this.removeFromImageRasterizerCache(r,l),m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(r){return Object.keys(this.images[r])}getImages(r,l,m){let v=!0;const x=!!this.loaded[l];if(!x)for(const M of r)this.images[l][M]||(v=!1);x||v?this._notify(r,l,m):this.requestors.push({ids:r,scope:l,callback:m})}rasterizeImages({scope:r,imageTasks:l},m){const v={};for(const x in l){const M=l[x],P=this.getImage(M.id,r);P&&(v[x]={image:P,imageIdWithOptions:M})}s.t()?this.imageRasterizerDispatcher.getActor().send("rasterizeImages",{imageTasks:v,scope:r},m):this.rasterizeImagesInMainThread({imageTasks:v,scope:r},m)}rasterizeImagesInMainThread(r,l){const{imageTasks:m,scope:v}=r,x={};for(const M in m){const{image:P,imageIdWithOptions:O}=m[M];x[M]=this.imageRasterizer.rasterize(O,P,v,"")}l(void 0,x)}getUpdatedImages(r){return this.updatedImages[r]}_notify(r,l,m){const v={};for(const x of r){this.images[l][x]||this.fire(new s.z("styleimagemissing",{id:x}));const M=this.images[l][x];M?v[x]={data:M.usvg?null:M.data.clone(),pixelRatio:M.pixelRatio,sdf:M.sdf,usvg:M.usvg,version:M.version,stretchX:M.stretchX,stretchY:M.stretchY,content:M.content,hasRenderCallback:!!(M.userImage&&M.userImage.render)}:s.w(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,v)}getPixelSize(r){const{width:l,height:m}=this.atlasImage[r];return{width:l,height:m}}getPattern(r,l,m){const v=this.patterns[l][r],x=this.getImage(r,l);if(!x)return null;if(v&&v.position.version===x.version)return v.position;if(v)v.position.version=x.version;else{x.usvg&&!x.data&&(x.data=this.imageRasterizer.rasterize(s.A.from(r).getPrimary(),x,l,""));const M={w:x.data.width+2*s.B,h:x.data.height+2*s.B,x:0,y:0},P=new s.F(M,x,s.B);this.patterns[l][r]={bin:M,position:P}}return this._updatePatternAtlas(l,m),this.patterns[l][r].position}bind(r,l){const m=r.gl;let v=this.atlasTexture[l];v?this.dirty&&(v.update(this.atlasImage[l]),this.dirty=!1):(v=new s.T(r,this.atlasImage[l],m.RGBA8),this.atlasTexture[l]=v),v.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(r,l){const m=[];for(const P in this.patterns[r])m.push(this.patterns[r][P].bin);const{w:v,h:x}=s.C(m),M=this.atlasImage[r];M.resize({width:v||1,height:x||1});for(const P in this.patterns[r]){const{bin:O,position:z}=this.patterns[r][P];let F=z.padding;const H=O.x+F,U=O.y+F,G=this.images[r][P].data,Q=G.width,J=G.height;F=F>1?F-1:F,s.r.copy(G,M,{x:0,y:0},{x:H,y:U},{width:Q,height:J},l),s.r.copy(G,M,{x:0,y:J-F},{x:H,y:U-F},{width:Q,height:F},l),s.r.copy(G,M,{x:0,y:0},{x:H,y:U+J},{width:Q,height:F},l),s.r.copy(G,M,{x:Q-F,y:0},{x:H-F,y:U},{width:F,height:J},l),s.r.copy(G,M,{x:0,y:0},{x:H+Q,y:U},{width:F,height:J},l),s.r.copy(G,M,{x:Q-F,y:J-F},{x:H-F,y:U-F},{width:F,height:F},l),s.r.copy(G,M,{x:0,y:J-F},{x:H+Q,y:U-F},{width:F,height:F},l),s.r.copy(G,M,{x:0,y:0},{x:H+Q,y:U+J},{width:F,height:F},l),s.r.copy(G,M,{x:Q-F,y:0},{x:H-F,y:U+J},{width:F,height:F},l)}this.dirty=!0}beginFrame(){for(const r in this.images)this.callbackDispatchedThisFrame[r]={}}dispatchRenderCallbacks(r,l){for(const m of r){if(this.callbackDispatchedThisFrame[l][m])continue;this.callbackDispatchedThisFrame[l][m]=!0;const v=this.images[l][m];Ct(v)&&this.updateImage(m,l,v)}}}function yr(f){const r=f.key,l=f.value,m=f.valueSpec||{},v=f.objectElementValidators||{},x=f.style,M=f.styleSpec;let P=[];const O=s.H(l);if(O!=="object")return[new s.V(r,l,`object expected, ${O} found`)];for(const z in l){const F=z.split(".")[0];let H;v[F]?H=v[F]:m[F]?H=yi:v["*"]?H=v["*"]:m["*"]&&(H=yi),H?P=P.concat(H({key:(r&&`${r}.`)+z,value:l[z],valueSpec:m[F]||m["*"],style:x,styleSpec:M,object:l,objectKey:z},l)):P.push(new s.G(r,l[z],`unknown property "${z}"`))}for(const z in m)v[z]||m[z].required&&m[z].default===void 0&&l[z]===void 0&&P.push(new s.V(r,l,`missing required property "${z}"`));return P}function Is(f){const r=f.value,l=f.valueSpec,m=f.style,v=f.styleSpec,x=f.key,M=f.arrayElementValidator||yi;if(s.H(r)!=="array")return[new s.V(x,r,`array expected, ${s.H(r)} found`)];if(l.length&&r.length!==l.length)return[new s.V(x,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new s.V(x,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let P={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};v.$version<7&&(P.function=l.function),s.H(l.value)==="object"&&(P=l.value);let O=[];for(let z=0;z<r.length;z++)O=O.concat(M({array:r,arrayIndex:z,value:r[z],valueSpec:P,style:m,styleSpec:v,key:`${x}[${z}]`},!0));return O}function Mi(f){const r=f.key,l=f.value,m=f.valueSpec;let v=s.H(l);if(v==="number"&&l!=l&&(v="NaN"),v!=="number")return[new s.V(r,l,`number expected, ${v} found`)];if("minimum"in m){let x=m.minimum;if(s.H(m.minimum)==="array"&&(x=m.minimum[f.arrayIndex]),l<x)return[new s.V(r,l,`${l} is less than the minimum value ${x}`)]}if("maximum"in m){let x=m.maximum;if(s.H(m.maximum)==="array"&&(x=m.maximum[f.arrayIndex]),l>x)return[new s.V(r,l,`${l} is greater than the maximum value ${x}`)]}return[]}function Wn(f){const r=f.valueSpec,l=s.K(f.value.type);let m,v,x,M={};const P=l!=="categorical"&&f.value.property===void 0,O=!P,z=s.H(f.value.stops)==="array"&&s.H(f.value.stops[0])==="array"&&s.H(f.value.stops[0][0])==="object",F=yr({key:f.key,value:f.value,valueSpec:f.styleSpec.function,style:f.style,styleSpec:f.styleSpec,objectElementValidators:{stops:function(G){if(l==="identity")return[new s.V(G.key,G.value,'identity function may not have a "stops" property')];let Q=[];const J=G.value;return Q=Q.concat(Is({key:G.key,value:J,valueSpec:G.valueSpec,style:G.style,styleSpec:G.styleSpec,arrayElementValidator:H})),s.H(J)==="array"&&J.length===0&&Q.push(new s.V(G.key,J,"array must have at least one stop")),Q},default:function(G){return yi({key:G.key,value:G.value,valueSpec:r,style:G.style,styleSpec:G.styleSpec})}}});return l==="identity"&&P&&F.push(new s.V(f.key,f.value,'missing required property "property"')),l==="identity"||f.value.stops||F.push(new s.V(f.key,f.value,'missing required property "stops"')),l==="exponential"&&f.valueSpec.expression&&!s.L(f.valueSpec)&&F.push(new s.V(f.key,f.value,"exponential functions not supported")),f.styleSpec.$version>=8&&(O&&!s.M(f.valueSpec)?F.push(new s.V(f.key,f.value,"property functions not supported")):P&&!s.N(f.valueSpec)&&F.push(new s.V(f.key,f.value,"zoom functions not supported"))),l!=="categorical"&&!z||f.value.property!==void 0||F.push(new s.V(f.key,f.value,'"property" property is required')),F;function H(G){let Q=[];const J=G.value,ie=G.key;if(s.H(J)!=="array")return[new s.V(ie,J,`array expected, ${s.H(J)} found`)];if(J.length!==2)return[new s.V(ie,J,`array length 2 expected, length ${J.length} found`)];if(z){if(s.H(J[0])!=="object")return[new s.V(ie,J,`object expected, ${s.H(J[0])} found`)];if(J[0].zoom===void 0)return[new s.V(ie,J,"object stop key must have zoom")];if(J[0].value===void 0)return[new s.V(ie,J,"object stop key must have value")];const ne=s.K(J[0].zoom);if(typeof ne!="number")return[new s.V(ie,J[0].zoom,"stop zoom values must be numbers")];if(x&&x>ne)return[new s.V(ie,J[0].zoom,"stop zoom values must appear in ascending order")];ne!==x&&(x=ne,v=void 0,M={}),Q=Q.concat(yr({key:`${ie}[0]`,value:J[0],valueSpec:{zoom:{}},style:G.style,styleSpec:G.styleSpec,objectElementValidators:{zoom:Mi,value:U}}))}else Q=Q.concat(U({key:`${ie}[0]`,value:J[0],valueSpec:{},style:G.style,styleSpec:G.styleSpec},J));return s.O(s.Q(J[1]))?Q.concat([new s.V(`${ie}[1]`,J[1],"expressions are not allowed in function stops.")]):Q.concat(yi({key:`${ie}[1]`,value:J[1],valueSpec:r,style:G.style,styleSpec:G.styleSpec}))}function U(G,Q){const J=s.H(G.value),ie=s.K(G.value),ne=G.value!==null?G.value:Q;if(m){if(J!==m)return[new s.V(G.key,ne,`${J} stop domain type must match previous stop domain type ${m}`)]}else m=J;if(J!=="number"&&J!=="string"&&J!=="boolean"&&typeof ie!="number"&&typeof ie!="string"&&typeof ie!="boolean")return[new s.V(G.key,ne,"stop domain value must be a number, string, or boolean")];if(J!=="number"&&l!=="categorical"){let ae=`number expected, ${J} found`;return s.M(r)&&l===void 0&&(ae+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new s.V(G.key,ne,ae)]}return l!=="categorical"||J!=="number"||typeof ie=="number"&&isFinite(ie)&&Math.floor(ie)===ie?l!=="categorical"&&J==="number"&&typeof ie=="number"&&typeof v=="number"&&v!==void 0&&ie<v?[new s.V(G.key,ne,"stop domain values must appear in ascending order")]:(v=ie,l==="categorical"&&ie in M?[new s.V(G.key,ne,"stop domain values must be unique")]:(M[ie]=!0,[])):[new s.V(G.key,ne,`integer expected, found ${String(ie)}`)]}}function ws(f){const r=(f.expressionContext==="property"?s.S:s.U)(s.Q(f.value),f.valueSpec);if(r.result==="error")return r.value.map(m=>new s.V(`${f.key}${m.key}`,f.value,m.message));const l=r.value.expression||r.value._styleExpression.expression;if(f.expressionContext==="property"&&f.propertyKey==="text-font"&&!l.outputDefined())return[new s.V(f.key,f.value,`Invalid data expression for "${f.propertyKey}". Output values must be contained as literals within the expression.`)];if(f.expressionContext==="property"&&f.propertyType==="layout"&&!s.W(l))return[new s.V(f.key,f.value,'"feature-state" data expressions are not supported with layout properties.')];if(f.expressionContext==="filter")return za(l,f);if(f.expressionContext&&f.expressionContext.indexOf("cluster")===0){if(!s.X(l,["zoom","feature-state"]))return[new s.V(f.key,f.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(f.expressionContext==="cluster-initial"&&!s.Y(l))return[new s.V(f.key,f.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function za(f,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const v of r.valueSpec.expression.parameters)l.delete(v);if(l.size===0)return[];const m=[];return f instanceof s.Z&&l.has(f.name)?[new s.V(r.key,r.value,`["${f.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(f.eachChild(v=>{m.push(...za(v,r))}),m)}function Ys(f){const r=f.key,l=f.value,m=f.valueSpec,v=[];return Array.isArray(m.values)?m.values.indexOf(s.K(l))===-1&&v.push(new s.V(r,l,`expected one of [${m.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(m.values).indexOf(s.K(l))===-1&&v.push(new s.V(r,l,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(l)} found`)),v}function ba(f){return s.$(s.Q(f.value))?ws(s.J({},f,{expressionContext:"filter",valueSpec:f.styleSpec[`filter_${f.layerType||"fill"}`]})):li(f)}function li(f){const r=f.value,l=f.key;if(s.H(r)!=="array")return[new s.V(l,r,`array expected, ${s.H(r)} found`)];const m=f.styleSpec;let v,x=[];if(r.length<1)return[new s.V(l,r,"filter array must have at least 1 element")];switch(x=x.concat(Ys({key:`${l}[0]`,value:r[0],valueSpec:m.filter_operator,style:f.style,styleSpec:f.styleSpec})),s.K(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&s.K(r[1])==="$type"&&x.push(new s.V(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&x.push(new s.V(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(v=s.H(r[1]),v!=="string"&&x.push(new s.V(`${l}[1]`,r[1],`string expected, ${v} found`)));for(let M=2;M<r.length;M++)v=s.H(r[M]),s.K(r[1])==="$type"?x=x.concat(Ys({key:`${l}[${M}]`,value:r[M],valueSpec:m.geometry_type,style:f.style,styleSpec:f.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&x.push(new s.V(`${l}[${M}]`,r[M],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let M=1;M<r.length;M++)x=x.concat(li({key:`${l}[${M}]`,value:r[M],style:f.style,styleSpec:f.styleSpec}));break;case"has":case"!has":v=s.H(r[1]),r.length!==2?x.push(new s.V(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):v!=="string"&&x.push(new s.V(`${l}[1]`,r[1],`string expected, ${v} found`))}return x}function Xs(f,r){const l=f.key,m=f.style,v=f.layer,x=f.styleSpec,M=f.value,P=f.objectKey,O=x[`${r}_${f.layerType}`];if(!O)return[];const z=P.match(/^(.*)-use-theme$/);if(r==="paint"&&z&&O[z[1]])return yi({key:l,value:M,valueSpec:{type:"string"},style:m,styleSpec:x});const F=P.match(/^(.*)-transition$/);if(r==="paint"&&F&&O[F[1]]&&O[F[1]].transition)return yi({key:l,value:M,valueSpec:x.transition,style:m,styleSpec:x});const H=f.valueSpec||O[P];if(!H)return[new s.G(l,M,`unknown property "${P}"`)];let U;if(s.H(M)==="string"&&s.M(H)&&!H.tokens&&(U=/^{([^}]+)}$/.exec(M))){const Q=`\`{ "type": "identity", "property": ${U?JSON.stringify(U[1]):'"_"'} }\``;return[new s.V(l,M,`"${P}" does not support interpolation syntax
Use an identity property function instead: ${Q}.`)]}const G=[];if(f.layerType==="symbol")P!=="text-field"||!m||m.glyphs||m.imports||G.push(new s.V(l,M,'use of "text-field" requires a style "glyphs" property')),P==="text-font"&&s.a0(s.Q(M))&&s.K(M.type)==="identity"&&G.push(new s.V(l,M,'"text-font" does not support identity functions'));else if(f.layerType==="model"&&r==="paint"&&v&&v.layout&&v.layout.hasOwnProperty("model-id")&&s.M(H)&&(s.a1(H)||s.N(H))){const Q=s.S(s.Q(M),H),J=Q.value.expression||Q.value._styleExpression.expression;J&&!s.X(J,["measure-light"])&&(P==="model-emissive-strength"&&s.Y(J)&&s.W(J)||G.push(new s.V(l,M,`${P} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return G.concat(yi({key:f.key,value:M,valueSpec:H,style:m,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:P}))}function Ks(f){return Xs(f,"paint")}function wa(f){return Xs(f,"layout")}function Sr(f){let r=[];const l=f.value,m=f.key,v=f.style,x=f.styleSpec;l.type||l.ref||r.push(new s.V(m,l,'either "type" or "ref" is required'));let M=s.K(l.type);const P=s.K(l.ref);if(l.id){const O=s.K(l.id);for(let z=0;z<f.arrayIndex;z++){const F=v.layers[z];s.K(F.id)===O&&r.push(new s.V(m,l.id,`duplicate layer id "${l.id}", previously used at line ${F.id.__line__}`))}}if("ref"in l){let O;["type","source","source-layer","filter","layout"].forEach(z=>{z in l&&r.push(new s.V(m,l[z],`"${z}" is prohibited for ref layers`))}),v.layers.forEach(z=>{s.K(z.id)===P&&(O=z)}),O?O.ref?r.push(new s.V(m,l.ref,"ref cannot reference another ref layer")):M=s.K(O.type):typeof P=="string"&&r.push(new s.V(m,l.ref,`ref layer "${P}" not found`))}else if(M!=="background"&&M!=="sky"&&M!=="slot")if(l.source){const O=v.sources&&v.sources[l.source],z=O&&s.K(O.type);O?z==="vector"&&M==="raster"?r.push(new s.V(m,l.source,`layer "${l.id}" requires a raster source`)):z==="raster"&&M!=="raster"?r.push(new s.V(m,l.source,`layer "${l.id}" requires a vector source`)):z!=="vector"||l["source-layer"]?z==="raster-dem"&&M!=="hillshade"?r.push(new s.V(m,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):z!=="raster-array"||["raster","raster-particle"].includes(M)?M!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||z==="geojson"&&O.lineMetrics?M==="raster-particle"&&z!=="raster-array"&&r.push(new s.V(m,l.source,`layer "${l.id}" requires a 'raster-array' source.`)):r.push(new s.V(m,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new s.V(m,l.source,"raster-array source can only be used with layer type 'raster'.")):r.push(new s.V(m,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new s.V(m,l.source,`source "${l.source}" not found`))}else r.push(new s.V(m,l,'missing required property "source"'));return r=r.concat(yr({key:m,value:l,valueSpec:x.layer,style:f.style,styleSpec:f.styleSpec,objectElementValidators:{"*":()=>[],type:()=>yi({key:`${m}.type`,value:l.type,valueSpec:x.layer.type,style:f.style,styleSpec:f.styleSpec,object:l,objectKey:"type"}),filter:O=>ba(s.J({layerType:M},O)),layout:O=>yr({layer:l,key:O.key,value:O.value,valueSpec:{},style:O.style,styleSpec:O.styleSpec,objectElementValidators:{"*":z=>wa(s.J({layerType:M},z))}}),paint:O=>yr({layer:l,key:O.key,value:O.value,valueSpec:{},style:O.style,styleSpec:O.styleSpec,objectElementValidators:{"*":z=>Ks(s.J({layerType:M,layer:l},z))}})}})),r}function Gr(f){const r=f.value,l=f.key,m=s.H(r);return m!=="string"?[new s.V(l,r,`string expected, ${m} found`)]:[]}const $o={promoteId:function({key:f,value:r}){if(s.H(r)==="string")return Gr({key:f,value:r});{const l=[];for(const m in r)l.push(...Gr({key:`${f}.${m}`,value:r[m]}));return l}}};function Go(f){const r=f.value,l=f.key,m=f.styleSpec,v=f.style;if(!r.type)return[new s.V(l,r,'"type" is required')];const x=s.K(r.type);let M=[];switch(["vector","raster","raster-dem","raster-array"].includes(x)&&(r.url||r.tiles||M.push(new s.G(l,r,'Either "url" or "tiles" is required.'))),x){case"vector":case"raster":case"raster-dem":case"raster-array":return M=M.concat(yr({key:l,value:r,valueSpec:m[`source_${x.replace("-","_")}`],style:f.style,styleSpec:m,objectElementValidators:$o})),M;case"geojson":if(M=yr({key:l,value:r,valueSpec:m.source_geojson,style:v,styleSpec:m,objectElementValidators:$o}),r.cluster)for(const P in r.clusterProperties){const[O,z]=r.clusterProperties[P],F=typeof O=="string"?[O,["accumulated"],["get",P]]:O;M.push(...ws({key:`${l}.${P}.map`,value:z,expressionContext:"cluster-map"})),M.push(...ws({key:`${l}.${P}.reduce`,value:F,expressionContext:"cluster-reduce"}))}return M;case"video":return yr({key:l,value:r,valueSpec:m.source_video,style:v,styleSpec:m});case"image":return yr({key:l,value:r,valueSpec:m.source_image,style:v,styleSpec:m});case"canvas":return[new s.V(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ys({key:`${l}.type`,value:r.type,valueSpec:{values:Fa(m)},style:v,styleSpec:m})}}function Fa(f){return f.source.reduce((r,l)=>{const m=f[l];return m.type.type==="enum"&&(r=r.concat(Object.keys(m.type.values))),r},[])}function Js(f){const r=f.value,l=f.styleSpec,m=l.light,v=f.style;let x=[];const M=s.H(r);if(r===void 0)return x;if(M!=="object")return x=x.concat([new s.V("light",r,`object expected, ${M} found`)]),x;for(const P in r){const O=P.match(/^(.*)-transition$/),z=P.match(/^(.*)-use-theme$/);x=x.concat(z&&m[z[1]]?yi({key:P,value:r[P],valueSpec:{type:"string"},style:v,styleSpec:l}):O&&m[O[1]]&&m[O[1]].transition?yi({key:P,value:r[P],valueSpec:l.transition,style:v,styleSpec:l}):m[P]?yi({key:P,value:r[P],valueSpec:m[P],style:v,styleSpec:l}):[new s.V(P,r[P],`unknown property "${P}"`)])}return x}function Ba(f){const r=f.value;let l=[];if(!r)return l;const m=s.H(r);if(m!=="object")return l=l.concat([new s.V("light-3d",r,`object expected, ${m} found`)]),l;const v=f.styleSpec,x=v["light-3d"],M=f.key,P=f.style,O=f.style.lights;for(const H of["type","id"])if(!(H in r))return l=l.concat([new s.V("light-3d",r,`missing property ${H} on light`)]),l;if(r.type&&O)for(let H=0;H<f.arrayIndex;H++){const U=s.K(r.type),G=O[H];s.K(G.type)===U&&l.push(new s.V(M,r.id,`duplicate light type "${r.type}", previously defined at line ${G.id.__line__}`))}const z=`properties_light_${r.type}`;if(!(z in v))return l=l.concat([new s.V("light-3d",r,`Invalid light type ${r.type}`)]),l;const F=v[z];for(const H in r)if(H==="properties"){const U=r[H],G=s.H(U);if(G!=="object")return l=l.concat([new s.V("properties",U,`object expected, ${G} found`)]),l;for(const Q in U)l=l.concat(F[Q]?yi({key:Q,value:U[Q],valueSpec:F[Q],style:P,styleSpec:v}):[new s.G(f.key,U[Q],`unknown property "${Q}"`)])}else{const U=H.match(/^(.*)-transition$/),G=H.match(/^(.*)-use-theme$/);l=l.concat(G&&x[G[1]]?yi({key:H,value:r[H],valueSpec:{type:"string"},style:P,styleSpec:v}):U&&x[U[1]]&&x[U[1]].transition?yi({key:H,value:r[H],valueSpec:v.transition,style:P,styleSpec:v}):x[H]?yi({key:H,value:r[H],valueSpec:x[H],style:P,styleSpec:v}):[new s.G(H,r[H],`unknown property "${H}"`)])}return l}function Tn(f){const r=f.value,l=f.key,m=f.style,v=f.styleSpec,x=v.terrain;let M=[];const P=s.H(r);if(r===void 0||P==="null")return M;if(P!=="object")return M=M.concat([new s.V("terrain",r,`object expected, ${P} found`)]),M;for(const O in r){const z=O.match(/^(.*)-transition$/),F=O.match(/^(.*)-use-theme$/);M=M.concat(F&&x[F[1]]?yi({key:O,value:r[O],valueSpec:{type:"string"},style:m,styleSpec:v}):z&&x[z[1]]&&x[z[1]].transition?yi({key:O,value:r[O],valueSpec:v.transition,style:m,styleSpec:v}):x[O]?yi({key:O,value:r[O],valueSpec:x[O],style:m,styleSpec:v}):[new s.G(O,r[O],`unknown property "${O}"`)])}if(r.source){const O=m.sources&&m.sources[r.source],z=O&&s.K(O.type);O?z!=="raster-dem"&&M.push(new s.V(l,r.source,`terrain cannot be used with a source of type ${String(z)}, it only be used with a "raster-dem" source type`)):M.push(new s.V(l,r.source,`source "${r.source}" not found`))}else M.push(new s.V(l,r,'terrain is missing required property "source"'));return M}function Wr(f){const r=f.value,l=f.style,m=f.styleSpec,v=m.fog;let x=[];const M=s.H(r);if(r===void 0)return x;if(M!=="object")return x=x.concat([new s.V("fog",r,`object expected, ${M} found`)]),x;for(const P in r){const O=P.match(/^(.*)-transition$/),z=P.match(/^(.*)-use-theme$/);x=x.concat(z&&v[z[1]]?yi({key:P,value:r[P],valueSpec:{type:"string"},style:l,styleSpec:m}):O&&v[O[1]]&&v[O[1]].transition?yi({key:P,value:r[P],valueSpec:m.transition,style:l,styleSpec:m}):v[P]?yi({key:P,value:r[P],valueSpec:v[P],style:l,styleSpec:m}):[new s.G(P,r[P],`unknown property "${P}"`)])}return x}const Na={"*":()=>[],array:Is,boolean:function(f){const r=f.value,l=f.key,m=s.H(r);return m!=="boolean"?[new s.V(l,r,`boolean expected, ${m} found`)]:[]},number:Mi,color:function(f){const r=f.key,l=f.value,m=s.H(l);return m!=="string"?[new s.V(r,l,`color expected, ${m} found`)]:s._.parseCSSColor(l)===null?[new s.V(r,l,`color expected, "${l}" found`)]:[]},enum:Ys,filter:ba,function:Wn,layer:Sr,object:yr,source:Go,model:s.a2,light:Js,"light-3d":Ba,terrain:Tn,fog:Wr,string:Gr,formatted:function(f){return Gr(f).length===0?[]:ws(f)},resolvedImage:function(f){return Gr(f).length===0?[]:ws(f)},projection:function(f){const r=f.value,l=f.styleSpec,m=l.projection,v=f.style;let x=[];const M=s.H(r);if(M==="object")for(const P in r)x=x.concat(yi({key:P,value:r[P],valueSpec:m[P],style:v,styleSpec:l}));else M!=="string"&&(x=x.concat([new s.V("projection",r,`object or string expected, ${M} found`)]));return x},import:function(f){const{value:r,styleSpec:l}=f,{data:m,...v}=r;Object.defineProperty(v,"__line__",{value:r.__line__,enumerable:!1});let x=yr(s.J({},f,{value:v,valueSpec:l.import}));return s.K(v.id)===""&&x.push(new s.V(`${f.key}.id`,v,"import id can't be an empty string")),m&&(x=x.concat(fo(m,l,{key:`${f.key}.data`}))),x}};function yi(f,r=!1){const l=f.value,m=f.valueSpec,v=f.styleSpec;if(m.expression&&s.a0(s.K(l)))return Wn(f);if(m.expression&&s.O(s.Q(l)))return ws(f);if(m.type&&Na[m.type]){const x=Na[m.type](f);return r===!0&&x.length>0&&s.H(f.value)==="array"?ws(f):x}return yr(s.J({},f,{valueSpec:m.type?v[m.type]:m}))}function ns(f){const r=f.value,l=f.key,m=Gr(f);return m.length||(r.indexOf("{fontstack}")===-1&&m.push(new s.V(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&m.push(new s.V(l,r,'"glyphs" url must include a "{range}" token'))),m}function fo(f,r=s.a3,l={}){return yi({key:l.key||"",value:f,valueSpec:r.$root,styleSpec:r,style:f,objectElementValidators:{glyphs:ns,"*":()=>[]}})}function qn(f,r=s.a3){return Fe(fo(f,r))}const Va=f=>Fe(Go(f)),Wo=f=>Fe(Js(f)),Ce=f=>Fe(Ba(f)),ze=f=>Fe(Tn(f)),st=f=>Fe(Wr(f)),xe=f=>Fe(function(r){const l=r.value,m=r.style,v=r.styleSpec,x=v.snow;let M=[];const P=s.H(l);if(l===void 0)return M;if(P!=="object")return M=M.concat([new s.V("snow",l,`object expected, ${P} found`)]),M;for(const O in l){const z=O.match(/^(.*)-transition$/);M=M.concat(z&&x[z[1]]&&x[z[1]].transition?yi({key:O,value:l[O],valueSpec:v.transition,style:m,styleSpec:v}):x[O]?yi({key:O,value:l[O],valueSpec:x[O],style:m,styleSpec:v}):[new s.G(O,l[O],`unknown property "${O}"`)])}return M}(f)),X=f=>Fe(function(r){const l=r.value,m=r.style,v=r.styleSpec,x=v.rain;let M=[];const P=s.H(l);if(l===void 0)return M;if(P!=="object")return M=M.concat([new s.V("rain",l,`object expected, ${P} found`)]),M;for(const O in l){const z=O.match(/^(.*)-transition$/);M=M.concat(z&&x[z[1]]&&x[z[1]].transition?yi({key:O,value:l[O],valueSpec:v.transition,style:m,styleSpec:v}):x[O]?yi({key:O,value:l[O],valueSpec:x[O],style:m,styleSpec:v}):[new s.G(O,l[O],`unknown property "${O}"`)])}return M}(f)),re=f=>Fe(Sr(f)),le=f=>Fe(ba(f)),me=f=>Fe(Ks(f)),ye=f=>Fe(wa(f)),Se=f=>Fe(s.a2(f));function Fe(f){return f.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function Re(f,r){let l=!1;if(r&&r.length)for(const m of r)m instanceof s.G?s.w(m.message):(f.fire(new s.y(new Error(m.message))),l=!0);return l}let $e;class We extends s.E{constructor(r,l="flat"){super(),this._transitionable=new s.a4($e||($e=new s.a5({anchor:new s.a6(s.a3.light.anchor),position:new s.a7(s.a3.light.position),color:new s.a6(s.a3.light.color),intensity:new s.a6(s.a3.light.intensity)}))),this.setLight(r,l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,l,m={}){this._validate(Wo,r,m)||(this._transitionable.setTransitionOrValue(r),this.id=l)}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&Re(this,r.call(qn,s.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:s.a3})))}}let Je=class extends s.E{constructor(f,r,l,m){super(),this.scope=l,this._transitionable=new s.a4(new s.a5({source:new s.a6(s.a3.terrain.source),exaggeration:new s.a6(s.a3.terrain.exaggeration)}),l,m),this._transitionable.setTransitionOrValue(f,m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(f,r){this._transitionable.setTransitionOrValue(f,r)}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}getExaggeration(f){return this._transitioning.possiblyEvaluate(new s.a8(f)).get("exaggeration")}getAttenuationRange(){if(!this.isZoomDependent())return null;const f=this._transitionable._values.exaggeration;if(!f)return null;const r=f.value.expression;if(!r)return null;let l=-1,m=-1,v=1;for(const x of r.zoomStops)v=r.evaluate(new s.a8(x)),v>.01?(l=x,m=-1):m=x;return v<.01&&l>0&&m>l?[l,m]:null}isZoomDependent(){const f=this._transitionable._values.exaggeration;return f!=null&&f.value!=null&&f.value.expression!=null&&f.value.expression instanceof s.a9}};const mt=45,Dt=65,Lt=.05;function Jt(f,r,l,m){const v=s.ac(mt,Dt,l),[x,M]=hi(f,m);let P=1-Math.min(1,Math.exp((r-x)/(M-x)*-6));return P*=P*P,P=Math.min(1,1.00747*P),P*v*f.alpha}function hi(f,r){const l=.5/Math.tan(.5*r);return[f.range[0]+l,f.range[1]+l]}function ai(f,r,l,m,v){const x=s.ab.vec3.transformMat4([],[r,l,m],v.mercatorFogMatrix);return Jt(f,s.ab.vec3.length(x),v.pitch,v._fov)}function ii(f,r,l,m,v,x,M){const P=[[l,m,0],[v,m,0],[v,x,0],[l,x,0]];let O=Number.MAX_VALUE,z=-Number.MAX_VALUE;for(const F of P){const H=s.ab.vec3.transformMat4([],F,r),U=s.ab.vec3.length(H);O=Math.min(O,U),z=Math.max(z,U)}return[Jt(f,O,M.pitch,M._fov),Jt(f,z,M.pitch,M._fov)]}class Zi extends s.E{constructor(r,l,m,v){super();const x=new s.a5({range:new s.a6(s.a3.fog.range),color:new s.a6(s.a3.fog.color),"color-use-theme":new s.a6({type:"string","property-type":"data-constant",default:"default"}),"high-color":new s.a6(s.a3.fog["high-color"]),"high-color-use-theme":new s.a6({type:"string","property-type":"data-constant",default:"default"}),"space-color":new s.a6(s.a3.fog["space-color"]),"space-color-use-theme":new s.a6({type:"string","property-type":"data-constant",default:"default"}),"horizon-blend":new s.a6(s.a3.fog["horizon-blend"]),"star-intensity":new s.a6(s.a3.fog["star-intensity"]),"vertical-range":new s.a6(s.a3.fog["vertical-range"])});this._transitionable=new s.a4(x,m,new Map(v)),this.set(r,v),this._transitioning=this._transitionable.untransitioned(),this._transform=l,this.properties=new s.ad(x),this.scope=m}get state(){const r=this._transform,l=r.projection.name==="globe",m=s.ae(r.zoom),v=this.properties.get("range"),x=[.5,3];return{range:l?[s.af(x[0],v[0],m),s.af(x[1],v[1],m)]:v,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,l,m={}){if(this._validate(st,r,m))return;const v=s.l({},r);for(const x of Object.keys(s.a3.fog))v[x]===void 0&&(v[x]=s.a3.fog[x].default);this._options=v,this._transitionable.setTransitionOrValue(this._options,l)}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const l=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.ac(mt,Dt,r))*l.a}getOpacityAtLatLng(r,l){return this._transform.projection.supportsFog?function(m,v,x){const M=s.aa.fromLngLat(v),P=x.elevation?x.elevation.getAtPointOrZero(M):0;return ai(m,M.x,M.y,P,x)}(this.state,r,l):0}getOpacityForTile(r){if(!this._transform.projection.supportsFog)return[1,1];const l=this._transform.calculateFogTileMatrix(r.toUnwrapped());return ii(this.state,l,0,0,s.ag,s.ag,this._transform)}getOpacityForBounds(r,l,m,v,x){return this._transform.projection.supportsFog?ii(this.state,r,l,m,v,x,this._transform):[1,1]}getFovAdjustedRange(r){return this._transform.projection.supportsFog?hi(this.state,r):[0,1]}isVisibleOnFrustum(r){if(!this._transform.projection.supportsFog)return!1;const l=[4,5,6,7];for(const m of l){const v=r.points[m];let x;if(v[2]>=0)x=v;else{const M=r.points[m-4];x=s.ah(M,v,M[2]/(M[2]-v[2]))}if(ai(this.state,x[0],x[1],0,this._transform)>=Lt)return!0}return!1}updateConfig(r){this._transitionable.setTransitionOrValue(this._options,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&Re(this,r.call(qn,s.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:s.a3})))}}let Ri,wi,$i,Qi,Qn=class extends s.E{constructor(f,r,l,m){super();const v=Ri||(Ri=new s.a5({density:new s.a6(s.a3.snow.density),intensity:new s.a6(s.a3.snow.intensity),color:new s.a6(s.a3.snow.color),opacity:new s.a6(s.a3.snow.opacity),vignette:new s.a6(s.a3.snow.vignette),"vignette-color":new s.a6(s.a3.snow["vignette-color"]),"center-thinning":new s.a6(s.a3.snow["center-thinning"]),direction:new s.a6(s.a3.snow.direction),"flake-size":new s.a6(s.a3.snow["flake-size"])}));this._transitionable=new s.a4(v,l,new Map(m)),this.set(f,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new s.ad(v),this.scope=l}get state(){const f=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=s.ai(l[0]),v=-Math.max(s.ai(l[1]),.01),x=[Math.cos(m)*Math.cos(v),Math.sin(m)*Math.cos(v),Math.sin(v)],M=this.properties.get("vignette"),P=this.properties.get("vignette-color");return P.a=M,{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new s.aj(r.r,r.g,r.b,r.a*f),direction:x,centerThinning:this.properties.get("center-thinning"),flakeSize:this.properties.get("flake-size"),vignetteColor:P}}get(){return this._transitionable.serialize()}set(f,r,l={}){if(this._validate(xe,f,l))return;const m=s.l({},f);for(const v of Object.keys(s.a3.snow))m[v]===void 0&&(m[v]=s.a3.snow[v].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(f){this._transitionable.setTransitionOrValue(this._options,new Map(f))}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}_validate(f,r,l){return(!l||l.validate!==!1)&&Re(this,f.call(qn,s.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:s.a3})))}},Zr=class extends s.E{constructor(f,r,l,m){super();const v=wi||(wi=new s.a5({density:new s.a6(s.a3.rain.density),intensity:new s.a6(s.a3.rain.intensity),color:new s.a6(s.a3.rain.color),opacity:new s.a6(s.a3.rain.opacity),vignette:new s.a6(s.a3.rain.vignette),"vignette-color":new s.a6(s.a3.rain["vignette-color"]),"center-thinning":new s.a6(s.a3.rain["center-thinning"]),direction:new s.a6(s.a3.rain.direction),"droplet-size":new s.a6(s.a3.rain["droplet-size"]),"distortion-strength":new s.a6(s.a3.rain["distortion-strength"])}));this._transitionable=new s.a4(v,l,new Map(m)),this.set(f,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new s.ad(v),this.scope=l}get state(){const f=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=s.ai(l[0]),v=-Math.max(s.ai(l[1]),.01),x=[Math.cos(m)*Math.cos(v),Math.sin(m)*Math.cos(v),Math.sin(v)],M=this.properties.get("vignette-color");return M.a=this.properties.get("vignette"),{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new s.aj(r.r,r.g,r.b,r.a*f),direction:x,centerThinning:this.properties.get("center-thinning"),dropletSize:this.properties.get("droplet-size"),distortionStrength:this.properties.get("distortion-strength"),vignetteColor:M}}get(){return this._transitionable.serialize()}set(f,r,l={}){if(this._validate(X,f,l))return;const m=s.l({},f);for(const v of Object.keys(s.a3.rain))m[v]===void 0&&(m[v]=s.a3.rain[v].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(f){this._transitionable.setTransitionOrValue(this._options,new Map(f))}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}_validate(f,r,l){return(!l||l.validate!==!1)&&Re(this,f.call(qn,s.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:s.a3})))}};class vr extends s.E{constructor(r,l,m,v){super(),this.scope=m,this._options=r,this.properties=new s.ad(l),this._transitionable=new s.a4(l,m,new Map(v)),this._transitionable.setTransitionOrValue(r.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(r){this._transitionable.setTransitionOrValue(this._options.properties,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(r,l){this._options=r,this._transitionable.setTransitionOrValue(r.properties,l)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}class Tr{constructor(r,l,m,v){this.screenBounds=r,this.cameraPoint=l,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=m,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,v)}static createFromScreenPoints(r,l){let m,v;if(r instanceof s.P||typeof r[0]=="number"){const x=s.P.convert(r);m=[x],v=l.isPointAboveHorizon(x)}else{const x=s.P.convert(r[0]),M=s.P.convert(r[1]);m=[x,M],v=s.al(x,M).every(P=>l.isPointAboveHorizon(P))}return new Tr(m,l.getCameraPoint(),v,l)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return s.al(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new s.P(1,1)):this.screenBounds[1],v=s.al(l,m,0,!1);return this.cameraPoint.y>m.y&&(this.cameraPoint.x>l.x&&this.cameraPoint.x<m.x?v.splice(3,0,this.cameraPoint):this.cameraPoint.x>=m.x?v[2]=this.cameraPoint:this.cameraPoint.x<=l.x&&(v[3]=this.cameraPoint)),s.am(v,r)}bufferedCameraGeometryGlobe(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new s.P(1,1)):this.screenBounds[1],v=s.al(l,m,r),x=this.cameraPoint.clone();switch(3*((x.y>l.y)+(x.y>m.y))+((x.x>l.x)+(x.x>m.x))){case 0:v[0]=x,v[4]=x.clone();break;case 1:v.splice(1,0,x);break;case 2:v[1]=x;break;case 3:v.splice(4,0,x);break;case 5:v.splice(2,0,x);break;case 6:v[3]=x;break;case 7:v.splice(3,0,x);break;case 8:v[2]=x}return v}containsTile(r,l,m,v=0){const x=r.queryPadding/l._pixelsPerMercatorPixel+1,M=m?this._bufferedCameraMercator(x,l):this._bufferedScreenMercator(x,l);let P=r.tileID.wrap+(M.unwrapped?v:0);const O=M.polygon.map(ie=>s.an(r.tileTransform,ie,P));if(!s.ao(O,0,0,s.ag,s.ag))return;P=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?v:0);const z=this.screenGeometryMercator.polygon.map(ie=>s.ap(r.tileTransform,ie,P)),F=z.map(ie=>new s.P(ie[0],ie[1])),H=l.getFreeCameraOptions().position||new s.aa(0,0,0),U=s.ap(r.tileTransform,H,P),G=z.map(ie=>{const ne=s.ab.vec3.sub(ie,ie,U);return s.ab.vec3.normalize(ne,ne),new s.aq(U,ne)}),Q=s.ar(r,1,l.zoom)*l._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:F,tilespaceRays:G,bufferedTilespaceGeometry:O,bufferedTilespaceBounds:(J=s.as(O),J.min.x=s.aw(J.min.x,0,s.ag),J.min.y=s.aw(J.min.y,0,s.ag),J.max.x=s.aw(J.max.x,0,s.ag),J.max.y=s.aw(J.max.y,0,s.ag),J),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:Q};var J}_bufferedScreenMercator(r,l){const m=kp(r);if(this._screenRaycastCache[m])return this._screenRaycastCache[m];{let v;return v=l.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),l):{polygon:this.bufferedScreenGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._screenRaycastCache[m]=v,v}}_bufferedCameraMercator(r,l){const m=kp(r);if(this._cameraRaycastCache[m])return this._cameraRaycastCache[m];{let v;return v=l.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),l):{polygon:this.bufferedCameraGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._cameraRaycastCache[m]=v,v}}_projectAndResample(r,l){const m=function(x,M){const P=s.ab.mat4.multiply([],M.pixelMatrix,M.globeMatrix),O=[0,-s.ax,0,1],z=[0,s.ax,0,1],F=[0,0,0,1];s.ab.vec4.transformMat4(O,O,P),s.ab.vec4.transformMat4(z,z,P),s.ab.vec4.transformMat4(F,F,P);const H=new s.P(O[0]/O[3],O[1]/O[3]),U=new s.P(z[0]/z[3],z[1]/z[3]),G=s.au(x,H)&&O[3]<F[3],Q=s.au(x,U)&&z[3]<F[3];if(!G&&!Q)return null;const J=function(ve,_e,Ee){for(let Oe=1;Oe<ve.length;Oe++){const Ge=Ma(_e.pointCoordinate3D(ve[Oe-1]).x),je=Ma(_e.pointCoordinate3D(ve[Oe]).x);if(Ee<0){if(Ge<je)return{idx:Oe,t:-Ge/(je-1-Ge)}}else if(je<Ge)return{idx:Oe,t:(1-Ge)/(je+1-Ge)}}return null}(x,M,G?-1:1);if(!J)return null;const{idx:ie,t:ne}=J;let ae=ie>1?Zo(x.slice(0,ie),M):[],fe=ie<x.length?Zo(x.slice(ie),M):[];ae=ae.map(ve=>new s.P(Ma(ve.x),ve.y)),fe=fe.map(ve=>new s.P(Ma(ve.x),ve.y));const de=[...ae];de.length===0&&de.push(fe[fe.length-1]);const be=s.af(de[de.length-1].y,(fe.length===0?ae[0]:fe[0]).y,ne);let ge;return ge=G?[new s.P(0,be),new s.P(0,0),new s.P(1,0),new s.P(1,be)]:[new s.P(1,be),new s.P(1,1),new s.P(0,1),new s.P(0,be)],de.push(...ge),fe.length===0?de.push(ae[0]):de.push(...fe),{polygon:de.map(ve=>new s.aa(ve.x,ve.y)),unwrapped:!1}}(r,l);if(m)return m;const v=function(x,M){let P=!1,O=-1/0,z=0;for(let H=0;H<x.length-1;H++)x[H].x>O&&(O=x[H].x,z=H);for(let H=0;H<x.length-1;H++){const U=(z+H)%(x.length-1),G=x[U],Q=x[U+1];Math.abs(G.x-Q.x)>.5&&(G.x<Q.x?(G.x+=1,U===0&&(x[x.length-1].x+=1)):(Q.x+=1,U+1===x.length-1&&(x[0].x+=1)),P=!0)}const F=s.at(M.center.lng);return P&&F<Math.abs(F-1)&&x.forEach(H=>{H.x-=1}),{polygon:x,unwrapped:P}}(Zo(r,l).map(x=>new s.P(Ma(x.x),x.y)),l);return{polygon:v.polygon.map(x=>new s.aa(x.x,x.y)),unwrapped:v.unwrapped}}}function Zo(f,r){return s.av(f,l=>{const m=r.pointCoordinate3D(l);l.x=m.x,l.y=m.y},1/256)}function Ma(f){return f<0?1+f%1:f%1}function kp(f){return 100*f|0}function wu(f,r,l,m,v){const x=function(P,O){if(P)return v(P);if(O){if(f.url&&O.tiles&&f.tiles&&delete f.tiles,O.variants){if(!Array.isArray(O.variants))return v(new Error("variants must be an array"));for(const F of O.variants){if(F==null||typeof F!="object"||F.constructor!==Object)return v(new Error("variant must be an object"));if(!Array.isArray(F.capabilities))return v(new Error("capabilities must be an array"));if(F.capabilities.length===1&&F.capabilities[0]==="meshopt"){O=s.l(O,F);break}}}const z=s.ay(s.l({},O,f),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding","vector_layers","raster_layers","worldview_options","worldview_default","worldview"]);z.tiles=r.canonicalizeTileset(z,f.url),v(null,z)}},M=function(P,O,z){if(!P)return null;if(!O&&!z)return P;z=z||P.worldview_default;const F=Object.values(P.language||{});if(F.length===0)return null;const H=Object.values(P.worldview||{});if(H.length===0)return null;const U=F.every(Q=>Q===O),G=H.every(Q=>Q===z);return U&&G?P:O in(P.language_options||{})||z in(P.worldview_options||{})?null:P.language_options&&P.worldview_options?P:null}(f.data,l,m);return M?s.q.frame(()=>x(null,M)):f.url?s.n(r.transformRequest(r.normalizeSourceURL(f.url,null,l,m),s.R.Source),x):s.q.frame(()=>{const{data:P,...O}=f;x(null,O)})}class Yo{constructor(r,l,m){this.bounds=s.az.convert(this.validateBounds(r)),this.minzoom=l||0,this.maxzoom=m||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const l=Math.pow(2,r.z),m=Math.floor(s.at(this.bounds.getWest())*l),v=Math.floor(s.aA(this.bounds.getNorth())*l),x=Math.ceil(s.at(this.bounds.getEast())*l),M=Math.ceil(s.aA(this.bounds.getSouth())*l);return r.x>=m&&r.x<x&&r.y>=v&&r.y<M}}class Mu extends s.E{constructor(r,l,m,v){if(super(),this.id=r,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.l(this,s.ay(l,["url","scheme","tileSize","promoteId"])),this._options=s.l({type:"vector"},l),this._collectResourceTiming=!!l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v),this._tileWorkers={},this._deduped=new s.aB}load(r){this._loaded=!1,this.fire(new s.z("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,m=this.map.getWorldview();this._tileJSONRequest=wu(this._options,this.map._requestManager,l,m,(v,x)=>{if(this._tileJSONRequest=null,this._loaded=!0,v)l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),m&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${m}`),this.fire(new s.y(v));else if(x){if(s.l(this,x),this.hasWorldviews=!!x.worldview_options,x.worldview_default&&(this.worldviewDefault=x.worldview_default),x.vector_layers){this.vectorLayers=x.vector_layers,this.vectorLayerIds=[],this.localizableLayerIds=new Set;for(const M of x.vector_layers)this.vectorLayerIds.push(M.id),x.worldview&&x.worldview[M.source]&&this.localizableLayerIds.add(M.id)}x.bounds&&(this.tileBounds=new Yo(x.bounds,this.minzoom,this.maxzoom)),_i(x.tiles,this.map._requestManager._customAccessToken),this.fire(new s.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.z("data",{dataType:"source",sourceDataType:"content"}))}r&&r(v)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=s.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return s.l({},this._options)}loadTile(r,l){const m=r.tileID.canonical.url(this.tiles,this.scheme),v=this.map._requestManager.normalizeTileURL(m),x=this.map._requestManager.transformRequest(v,s.R.Tile),M=this.map.style?this.map.style.getLut(this.scope):null,P=M?{image:M.image.clone()}:null,O={request:x,data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,lut:P,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:s.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:r.isExtraShadowCaster,tessellationStep:this.map._tessellationStep,scaleFactor:this.map.getScaleFactor()};if(this.hasWorldviews&&s.f(m)&&(O.worldview=this.map.getWorldview()||this.worldviewDefault,O.localizableLayerIds=this.localizableLayerIds),O.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired")r.state==="loading"?r.reloadCallback=l:r.request=r.actor.send("reloadTile",O,z.bind(this));else if(r.actor=this._tileWorkers[v]=this._tileWorkers[v]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",O,z.bind(this),void 0,!0);else{const F=s.aD.call({deduped:this._deduped},O,(H,U)=>{H||!U?z.call(this,H):(O.data={cacheControl:U.cacheControl,expires:U.expires,rawData:U.rawData.slice(0)},r.actor&&r.actor.send("loadTile",O,z.bind(this),void 0,!0))},!0);r.request={cancel:F}}function z(F,H){return delete r.request,r.aborted?l(null):F&&F.status!==404?l(F):(H&&H.resourceTiming&&(r.resourceTiming=H.resourceTiming),this.map._refreshExpiredTiles&&H&&r.setExpiryData(H),r.loadVectorData(H,this.map.painter),s.aE(this.dispatcher),l(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(r,l){r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope}),r.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Vl extends s.E{constructor(r,l,m,v){super(),this.id=r,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.l({type:"raster"},l),s.l(this,s.ay(l,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new s.z("dataloading",{dataType:"source"})),this._tileJSONRequest=wu(this._options,this.map._requestManager,null,null,(l,m)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new s.y(l)):m&&(s.l(this,m),m.raster_layers&&(this.rasterLayers=m.raster_layers,this.rasterLayerIds=this.rasterLayers.map(v=>v.id)),m.bounds&&(this.tileBounds=new Yo(m.bounds,this.minzoom,this.maxzoom)),_i(m.tiles),this.fire(new s.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.z("data",{dataType:"source",sourceDataType:"content"}))),r&&r(l)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=s.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return s.l({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,l){const m=s.q.devicePixelRatio>=2,v=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),m,this.tileSize);r.request=s.o(this.map._requestManager.transformRequest(v,s.R.Tile),(x,M,P,O)=>(delete r.request,r.aborted?(r.state="unloaded",l(null)):x?(r.state="errored",l(x)):M?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:P,expires:O}),r.setTexture(M,this.map.painter),r.state="loaded",s.aE(this.dispatcher),void l(null)):l(null)))}abortTile(r,l){r.request&&(r.request.cancel(),delete r.request),l&&l()}unloadTile(r,l){r.texture&&r.texture instanceof s.T?(r.destroy(!0),r.texture&&r.texture instanceof s.T&&this.map.painter.saveTileTexture(r.texture)):r.destroy(),l&&l()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Ha extends Vl{constructor(r,l,m,v){super(r,l,m,v),this.type="raster-array",this.maxzoom=22,this._options=s.l({type:"raster-array"},l)}triggerRepaint(r){const l=this.map.painter._terrain,m=this.map.style.getSourceCache(this.id);l&&l.enabled&&m&&l._clearRenderCacheForTile(m.id,r.tileID),this.map.triggerRepaint()}loadTile(r,l){const m=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),v=this.map._requestManager.transformRequest(m,s.R.Tile);r.requestParams=v,r.actor||(r.actor=this.dispatcher.getActor()),r.request=r.fetchHeader(void 0,(x,M,P,O)=>{if(delete r.request,r.aborted)return r.state="unloaded",l(null);if(x)return x.code===20?void 0:(r.state="errored",l(x));this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:P,expires:O}),r.state="empty",l(null)})}unloadTile(r,l){const m=r.texture;m&&m instanceof s.T?(r.destroy(!0),this.map.painter.saveTileTexture(m)):(r.destroy(),r.flushQueues(),r._isHeaderLoaded=!1,delete r._mrt,delete r.textureDescriptor),r.fbo&&(r.fbo.destroy(),delete r.fbo),delete r.request,delete r.requestParams,delete r.neighboringTiles,r.state="unloaded"}prepareTile(r,l,m){r._isHeaderLoaded&&(r.state!=="empty"&&(r.state="reloading"),r.fetchBand(l,m,(v,x)=>{if(v)return r.state="errored",this.fire(new s.y(v)),void this.triggerRepaint(r);x&&(r.setTexture(x,this.map.painter),r.state="loaded",this.triggerRepaint(r))}))}getInitialBand(r){if(!this.rasterLayers)return 0;const l=this.rasterLayers.find(({id:x})=>x===r),m=l&&l.fields,v=m&&m.bands&&m.bands;return v?v[0]:0}getTextureDescriptor(r,l,m){if(!r)return;const v=l.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!v)return;let x=null;l instanceof s.aH?x=l.paint.get("raster-array-band"):l instanceof s.aI&&(x=l.paint.get("raster-particle-array-band"));const M=x||this.getInitialBand(v);if(M!=null)if(r.textureDescriptor){if(!r.updateNeeded(v,M)||m)return Object.assign({},r.textureDescriptor,{texture:r.texture})}else this.prepareTile(r,v,M)}}const Xo={vector:Mu,raster:Vl,"raster-dem":class extends Vl{constructor(f,r,l,m){super(f,r,l,m),this.type="raster-dem",this.maxzoom=22,this._options=s.l({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(f,r){const l=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function m(v,x){v&&(f.state="errored",r(v)),x&&(f.dem=x,f.dem.onDeserialize(),f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0,f.state="loaded",r(null))}f.request=s.o(this.map._requestManager.transformRequest(l,s.R.Tile),(function(v,x,M,P){if(delete f.request,f.aborted)f.state="unloaded",r(null);else if(v)f.state="errored",r(v);else if(x){this.map._refreshExpiredTiles&&f.setExpiryData({cacheControl:M,expires:P});const O=ImageBitmap&&x instanceof ImageBitmap&&s.t(),z=1-(x.width-s.aF(x.width))/2;z<1||f.neighboringTiles||(f.neighboringTiles=this._getNeighboringTiles(f.tileID));const F=O?x:s.q.getImageData(x,z),H={uid:f.uid,coord:f.tileID,source:this.id,scope:this.scope,rawImageData:F,encoding:this.encoding,padding:z};f.actor&&f.state!=="expired"||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",H,m.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(f){const r=f.canonical,l=Math.pow(2,r.z),m=(r.x-1+l)%l,v=r.x===0?f.wrap-1:f.wrap,x=(r.x+1+l)%l,M=r.x+1===l?f.wrap+1:f.wrap,P={};return P[new s.aG(f.overscaledZ,v,r.z,m,r.y).key]={backfilled:!1},P[new s.aG(f.overscaledZ,M,r.z,x,r.y).key]={backfilled:!1},r.y>0&&(P[new s.aG(f.overscaledZ,v,r.z,m,r.y-1).key]={backfilled:!1},P[new s.aG(f.overscaledZ,f.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},P[new s.aG(f.overscaledZ,M,r.z,x,r.y-1).key]={backfilled:!1}),r.y+1<l&&(P[new s.aG(f.overscaledZ,v,r.z,m,r.y+1).key]={backfilled:!1},P[new s.aG(f.overscaledZ,f.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},P[new s.aG(f.overscaledZ,M,r.z,x,r.y+1).key]={backfilled:!1}),P}},"raster-array":Ha,geojson:class extends s.E{constructor(f,r,l,m){super(),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=l.getActor(),this.setEventedParent(m),this._data=r.data,this._options=s.l({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.minzoom!==void 0&&(this.minzoom=r.minzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const v=s.ag/this.tileSize;this.workerOptions=s.l({source:this.id,scope:this.scope,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*v,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*v,extent:s.ag,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:s.ag,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*v,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter,dynamic:r.dynamic},r.workerOptions)}onAdd(f){this.map=f,this.setData(this._data)}setData(f){return this._data=f,this._updateWorkerData(),this}updateData(f){if(!this._options.dynamic)return this.fire(new s.y(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof f!="string"&&(f.type==="Feature"&&(f={type:"FeatureCollection",features:[f]}),f.type!=="FeatureCollection"))return this.fire(new s.y(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof f!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const r=new Map;for(const l of this._data.features)r.set(l.id,l);for(const l of f.features)r.set(l.id,l);this._data.features=[...r.values()]}else this._data=f;return this._updateWorkerData(!0),this}getClusterExpansionZoom(f,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id,scope:this.scope},r),this}getClusterChildren(f,r){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id,scope:this.scope},r),this}getClusterLeaves(f,r,l,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:f,limit:r,offset:l},m),this}_updateWorkerData(f=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.z("dataloading",{dataType:"source"})),this._loaded=!1;const r=s.l({append:f},this.workerOptions);r.scope=this.scope;const l=this._data;typeof l=="string"?(r.request=this.map._requestManager.transformRequest(s.q.resolveURL(l),s.R.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,r,(m,v)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new s.y(m));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&v&&v.resourceTiming&&v.resourceTiming[this.id]&&(x.resourceTiming=v.resourceTiming[this.id]),f&&(this._partialReload=!0),this.fire(new s.z("data",x)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(f),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(f,r){const l=f.actor?"reloadTile":"loadTile";f.actor=this.actor;const m=this.map.style?this.map.style.getLut(this.scope):null,v=m?{image:m.image.clone()}:null,x=this._partialReload,M={type:this.type,uid:f.uid,tileID:f.tileID,tileZoom:f.tileZoom,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:v,scope:this.scope,pixelRatio:s.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,scaleFactor:this.map.getScaleFactor(),partial:x};f.request=this.actor.send(l,M,(P,O)=>x&&!O?(f.state="loaded",r(null)):(delete f.request,f.destroy(),f.aborted?r(null):P?r(P):(f.loadVectorData(O,this.map.painter,l==="reloadTile"),r(null))),void 0,l==="loadTile")}abortTile(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0}unloadTile(f,r){this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id,scope:this.scope}),f.destroy()}onRemove(f){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends s.aJ{constructor(f,r,l,m){super(f,r,l,m),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const f=this.options;this.urls=[];for(const r of f.urls)this.urls.push(this.map._requestManager.transformRequest(r,s.R.Source).url);s.aK(this.urls,(r,l)=>{this._loaded=!0,r?this.fire(new s.y(r)):l&&(this.video=l,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(f){if(this.video){const r=this.video.seekable;f<r.start(0)||f>r.end(0)?this.fire(new s.y(new s.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=f}}getVideo(){return this.video}onAdd(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const f=this.map.painter.context,r=f.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new s.T(f,this.video,r.RGBA8),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(f)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:s.aJ,model:class extends s.E{constructor(f,r,l,m){super(),this.id=f,this.type="model",this.models=[],this._loaded=!1,this._options=r}load(){const f=[];for(const r in this._options.models){const l=this._options.models[r],m=s.aM(this.map._requestManager.transformRequest(l.uri,s.R.Model).url).then(v=>{if(!v)return;const x=s.aN(v),M=new s.aO(r,l.position,l.orientation,x);M.computeBoundsAndApplyParent(),this.models.push(M)}).catch(v=>{this.fire(new s.y(new Error(`Could not load model ${r} from ${l.uri}: ${v.message}`)))});f.push(m)}return Promise.allSettled(f).then(()=>{this._loaded=!0,this.fire(new s.z("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(r=>{this.fire(new s.y(new Error(`Could not load models: ${r.message}`)))})}onAdd(f){this.map=f,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(f,r){}serialize(){return{type:"model"}}},"batched-model":class extends s.E{constructor(f,r,l,m){super(),this.type="batched-model",this.id=f,this.tileSize=512,this._options=r,this.tiles=this._options.tiles,this.maxzoom=r.maxzoom||19,this.minzoom=r.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=l,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(m)}onAdd(f){this.map=f,this.load()}load(f){this._loaded=!1,this.fire(new s.z("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,l=this.map.getWorldview();this._tileJSONRequest=wu(this._options,this.map._requestManager,r,l,(m,v)=>{this._tileJSONRequest=null,this._loaded=!0,m?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),l&&l.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${l}`),this.fire(new s.y(m))):v&&(s.l(this,v),v.bounds&&(this.tileBounds=new Yo(v.bounds,this.minzoom,this.maxzoom)),_i(v.tiles,this.map._requestManager._customAccessToken),this.fire(new s.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.z("data",{dataType:"source",sourceDataType:"content"}))),f&&f(m)})}hasTransition(){return!1}hasTile(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)}loaded(){return this._loaded}loadTile(f,r){const l=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),m={request:this.map._requestManager.transformRequest(l,s.R.Tile),data:void 0,uid:f.uid,tileID:f.tileID,tileZoom:f.tileZoom,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:f.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,lut:null,maxZoom:null,promoteId:null,pixelRatio:null,scaleFactor:null};if(f.actor&&f.state!=="expired")if(f.state==="loading")f.reloadCallback=r;else{if(f.buckets){const x=Object.values(f.buckets);for(const M of x)M.dirty=!0;return void(f.state="loaded")}f.request=f.actor.send("reloadTile",m,v.bind(this))}else f.actor=this.dispatcher.getActor(),f.request=f.actor.send("loadTile",m,v.bind(this),void 0,!0);function v(x,M){return f.aborted?r(null):x&&x.status!==404?r(x):(this.map._refreshExpiredTiles&&M&&f.setExpiryData(M),f.loadModelData(M,this.map.painter),f.state="loaded",void r(null))}}serialize(){return s.l({},this._options)}},canvas:class extends s.aJ{constructor(f,r,l,m){super(f,r,l,m),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(v=>!Array.isArray(v)||v.length!==2||v.some(x=>typeof x!="number"))||this.fire(new s.y(new s.V(`sources.${f}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.y(new s.V(`sources.${f}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new s.y(new s.V(`sources.${f}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof HTMLCanvasElement||this.fire(new s.y(new s.V(`sources.${f}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.y(new s.V(`sources.${f}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.y(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()}onRemove(f){this.pause()}prepare(){let f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?!f&&!this._playing||this.texture instanceof s.aL||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.T(r,this.canvas,r.gl.RGBA8,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const f of[this.canvas.width,this.canvas.height])if(isNaN(f)||f<=0)return!0;return!1}},custom:class extends s.E{constructor(f,r,l,m){super(),this.id=f,this.type="custom",this._dataType="raster",this._dispatcher=l,this._implementation=r,this.setEventedParent(m),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.y(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.y(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Yo(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),s.l(this,s.ay(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.ay(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.z("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(f){this.map=f,this._loaded=!1,this.fire(new s.z("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(f),this.load()}onRemove(f){this._implementation.onRemove&&this._implementation.onRemove(f)}hasTile(f){if(this._implementation.hasTile){const{x:r,y:l,z:m}=f.canonical;return this._implementation.hasTile({x:r,y:l,z:m})}return!this.tileBounds||this.tileBounds.contains(f.canonical)}loadTile(f,r){const{x:l,y:m,z:v}=f.tileID.canonical,x=new AbortController;f.request=Promise.resolve(this._implementation.loadTile({x:l,y:m,z:v},{signal:x.signal})).then((function(M){return delete f.request,f.aborted?(f.state="unloaded",r(null)):M===void 0?(f.state="errored",r(null)):M===null?(this.loadTileData(f,{width:this.tileSize,height:this.tileSize,data:null}),f.state="loaded",r(null)):function(P){return P instanceof ImageData||P instanceof HTMLCanvasElement||P instanceof ImageBitmap||P instanceof HTMLImageElement}(M)?(this.loadTileData(f,M),f.state="loaded",void r(null)):(f.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(M=>{M.code!==20&&(f.state="errored",r(M))}),f.request.cancel=()=>x.abort()}loadTileData(f,r){f.setTexture(r,this.map.painter)}unloadTile(f,r){if(f.texture&&f.texture instanceof s.T?(f.destroy(!0),f.texture&&f.texture instanceof s.T&&this.map.painter.saveTileTexture(f.texture)):f.destroy(),this._implementation.unloadTile){const{x:l,y:m,z:v}=f.tileID.canonical;this._implementation.unloadTile({x:l,y:m,z:v})}r&&r()}abortTile(f,r){f.request&&f.request.cancel&&(f.request.cancel(),delete f.request),r&&r()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(f=>({x:f.canonical.x,y:f.canonical.y,z:f.canonical.z}))}_clearTiles(){const f=s.aC(this.id,this.scope);this.map.style.clearSource(f)}_update(){this.fire(new s.z("data",{dataType:"source",sourceDataType:"content"}))}}},Op=function(f,r,l,m){const v=new Xo[r.type](f,r,l,m);if(v.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${v.id}`);return s.aP(["load","abort","unload","serialize","prepare"],v),v};function Rm(f,r,l,m,v=!1){const x=r.sourceCache.transform,M=r.sourceCache.tilesIn(f,r.has3DLayers,v);M.sort(Tu);const P=[];for(const O of M){const z=O.tile.queryRenderedFeatures(r,O,l,m,x,v);Object.keys(z).length&&P.push({wrappedTileID:O.tile.tileID.wrapped().key,queryResults:z})}return P.length===0?{}:function(O){const z={},F={};for(const H of O){const U=H.queryResults,G=H.wrappedTileID,Q=F[G]=F[G]||{};for(const J in U){const ie=U[J],ne=Q[J]=Q[J]||{},ae=z[J]=z[J]||[];for(const fe of ie)ne[fe.featureIndex]||(ne[fe.featureIndex]=!0,ae.push(fe))}}return z}(P)}function Su(f,r,l,m,v){const x={},M=m.queryRenderedSymbols(f),P=[];for(const O of Object.keys(M).map(Number))P.push(v[O]);P.sort(Tu);for(const O of P){const z=O.featureIndex.lookupSymbolFeatures(M[O.bucketInstanceId],O.bucketIndex,O.sourceLayerIndex,r,l);for(const F in z){const H=x[F]=x[F]||[],U=z[F];U.sort((G,Q)=>{const J=O.featureSortOrder;if(J){const ie=J.indexOf(G.featureIndex);return J.indexOf(Q.featureIndex)-ie}return Q.featureIndex-G.featureIndex});for(const G of U)H.push(G)}}return x}function Kc(f,r){const l=f.getRenderableIds().map(x=>f.getTileByID(x)),m=[],v={};for(let x=0;x<l.length;x++){const M=l[x],P=M.tileID.canonical.key;v[P]||(v[P]=!0,M.querySourceFeatures(m,r))}return m}function Tu(f,r){const l=f.tileID,m=r.tileID;return l.overscaledZ-m.overscaledZ||l.canonical.y-m.canonical.y||l.wrap-m.wrap||l.canonical.x-m.canonical.x}function Rp(f,r){const l={};if(!r)return l;for(const m of f){const v=m.layerIds.map(x=>r.getLayer(x)).filter(Boolean);if(v.length!==0){m.layers=v,m.stateDependentLayerIds&&(m.stateDependentLayers=m.stateDependentLayerIds.map(x=>v.filter(M=>M.id===x)[0]));for(const x of v)l[x.fqid]=m}}return l}const Ms=32,Qs=33,Ps=new Uint16Array(8184);for(let f=0;f<2046;f++){let r=f+2,l=0,m=0,v=0,x=0,M=0,P=0;for(1&r?v=x=M=Ms:l=m=P=Ms;(r>>=1)>1;){const z=l+v>>1,F=m+x>>1;1&r?(v=l,x=m,l=M,m=P):(l=v,m=x,v=M,x=P),M=z,P=F}const O=4*f;Ps[O+0]=l,Ps[O+1]=m,Ps[O+2]=v,Ps[O+3]=x}const ea=new Uint16Array(2178),Ua=new Uint8Array(1089),Eu=new Uint16Array(1089);function Jc(f){return f===0?-.03125:f===32?.03125:0}const mo={type:2,extent:s.ag,loadGeometry:()=>[[new s.P(0,0),new s.P(s.ag+1,0),new s.P(s.ag+1,s.ag+1),new s.P(0,s.ag+1),new s.P(0,0)]]};class go{constructor(r,l,m,v,x){this.tileID=r,this.uid=s.aV(),this.uses=0,this.tileSize=l,this.tileZoom=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=x,v&&v.style&&(this._lastUpdatedBrightness=v.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",v&&v.transform&&(this.projection=v.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<s.q.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=s.aQ(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,m){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=Rp(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const x=this.buckets[v];if(x instanceof s.aX){if(this.hasSymbolBuckets=!0,!m)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const x=this.buckets[v];if(x instanceof s.aX&&x.hasRTLText){this.hasRTLText=!0,s.aY();break}}this.queryPadding=0;for(const v in this.buckets){const x=this.buckets[v],M=l.style.getOwnLayer(v);if(!M)continue;const P=M.queryRadius(x);this.queryPadding=Math.max(this.queryPadding,P)}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas),this._lastUpdatedBrightness=r.brightness}else this.collisionBoxArray=new s.aW}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}loadModelData(r,l,m){r&&(r.resourceTiming&&(this.resourceTiming=r.resourceTiming),this.buckets={...this.buckets,...Rp(r.buckets,l.style)},r.featureIndex&&(this.latestFeatureIndex=r.featureIndex))}getBucket(r){return this.buckets[r.fqid]}upload(r){for(const v in this.buckets){const x=this.buckets[v];x.uploadPending()&&x.upload(r)}const l=r.gl,m=this.imageAtlas;if(m&&!m.uploaded){const v=!!Object.keys(m.patternPositions).length;this.imageAtlasTexture=new s.T(r,m.image,l.RGBA8,{useMipmap:v}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new s.T(r,this.glyphAtlasImage,l.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new s.T(r,this.lineAtlas.image,l.R8),this.lineAtlas.uploaded=!0)}prepare(r,l,m){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture,m),!l||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const v=l.style.getBrightness();(this._lastUpdatedBrightness||v)&&(this._lastUpdatedBrightness&&v&&Math.abs(this._lastUpdatedBrightness-v)<.001||(this.updateBuckets(l,this._lastUpdatedBrightness!==v),this._lastUpdatedBrightness=v))}queryRenderedFeatures(r,l,m,v,x,M){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData&&!this.latestFeatureIndex.is3DTile)return{};const P=function(O,z){const F=s.ab.mat4.fromScaling([],[.5*O.width,.5*-O.height,1]);return s.ab.mat4.translate(F,F,[1,-1,0]),s.ab.mat4.multiply(F,F,O.calculateProjMatrix(z.toUnwrapped())),Float32Array.from(F)}(x,this.tileID);return this.latestFeatureIndex.query(r,{tilespaceGeometry:l,pixelPosMatrix:P,transform:v,availableImages:m,tileTransform:this.tileTransform})}querySourceFeatures(r,l){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const v=m.loadVTLayers(),x=l?l.sourceLayer:"",M=v._geojsonTileLayer||v[x];if(!M)return;const P=s.aZ(l&&l.filter),{z:O,x:z,y:F}=this.tileID.canonical,H={z:O,x:z,y:F};for(let U=0;U<M.length;U++){const G=M.feature(U);if(P.needGeometry){const ie=s.a_(G,!0);if(!P.filter(new s.a8(this.tileID.overscaledZ),ie,this.tileID.canonical))continue}else if(!P.filter(new s.a8(this.tileID.overscaledZ),G))continue;const Q=m.getId(G,x),J=new s.a$(G,O,z,F,Q);J.tile=H,r.push(J)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const m=s.b0(r.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const m=Date.now();let v=!1;if(this.expirationTime>m)v=!1;else if(l)if(this.expirationTime<l)v=!0;else{const x=this.expirationTime-l;x?this.expirationTime=m+Math.max(x,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}refreshFeatureState(r){this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)&&r&&this.updateBuckets(r)}updateBuckets(r,l){if(!this.latestFeatureIndex||!r.style)return;const m=this.latestFeatureIndex.loadVTLayers(),v=r.style.listImages(),x=r.style.getBrightness();for(const M in this.buckets){if(!r.style.hasLayer(M))continue;const P=this.buckets[M],O=P.layers[0],z=O.sourceLayer||"_geojsonTileLayer",F=m[z],H=r.style.getLayerSourceCache(O);let U={};H&&(U=H._state.getState(z,void 0));const G=this.imageAtlas&&this.imageAtlas.patternPositions||{},Q=Object.keys(U).length>0&&!l;Q&&!P.stateDependentLayers.length&&!l||P.update(U,F,v,G,Q?P.stateDependentLayers:P.layers,l,x),(P instanceof s.b1||P instanceof s.b2)&&r._terrain&&r._terrain.enabled&&H&&P.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(H.id,this.tileID);const J=r&&r.style&&r.style.getOwnLayer(M);J&&(this.queryPadding=Math.max(this.queryPadding,J.queryRadius(P)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<s.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=s.q.now()+r}setTexture(r,l){const m=l.context,v=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof s.T?this.texture.update(r):(this.texture=new s.T(m,r,v.RGBA8,{useMipmap:!0}),this.texture.bind(v.LINEAR,v.CLAMP_TO_EDGE))}setDependencies(r,l){const m={};for(const v of l)m[v]=!0;this.dependencies[r]=m}hasDependency(r,l){for(const m of r){const v=this.dependencies[m];if(v){for(const x of l)if(v[x])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const m=s.b3(mo,this.tileID.canonical,this.tileTransform)[0],v=new s.b4,x=new s.b5;for(let M=0;M<m.length;M++){const{x:P,y:O}=m[M];v.emplaceBack(P,O),x.emplaceBack(M)}x.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(x),this._tileDebugBuffer=r.createVertexBuffer(v,s.b6.members),this._tileDebugSegments=s.b7.simpleSegment(0,0,v.length,x.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const m=s.b3(mo,this.tileID.canonical,this.tileTransform)[0];let v,x;if(this.isRaster){const M=function(P,O){const z=s.aQ(P,O),F=Math.pow(2,P.z);for(let ie=0;ie<Qs;ie++)for(let ne=0;ne<Qs;ne++){const ae=s.aR((P.x+(ne+Jc(ne))/Ms)/F),fe=s.aS((P.y+(ie+Jc(ie))/Ms)/F),de=O.project(ae,fe),be=ie*Qs+ne;ea[2*be+0]=Math.round((de.x*z.scale-z.x)*s.ag),ea[2*be+1]=Math.round((de.y*z.scale-z.y)*s.ag)}Ua.fill(0),Eu.fill(0);for(let ie=2045;ie>=0;ie--){const ne=4*ie,ae=Ps[ne+0],fe=Ps[ne+1],de=Ps[ne+2],be=Ps[ne+3],ge=ae+de>>1,ve=fe+be>>1,_e=ge+ve-fe,Ee=ve+ae-ge,Oe=fe*Qs+ae,Ge=be*Qs+de,je=ve*Qs+ge,Le=Math.hypot((ea[2*Oe+0]+ea[2*Ge+0])/2-ea[2*je+0],(ea[2*Oe+1]+ea[2*Ge+1])/2-ea[2*je+1])>=16;Ua[je]=Ua[je]||(Le?1:0),ie<1022&&(Ua[je]=Ua[je]||Ua[(fe+Ee>>1)*Qs+(ae+_e>>1)]||Ua[(be+Ee>>1)*Qs+(de+_e>>1)])}const H=new s.aT,U=new s.aU;let G=0;function Q(ie,ne){const ae=ne*Qs+ie;return Eu[ae]===0&&(H.emplaceBack(ea[2*ae+0],ea[2*ae+1],ie*s.ag/Ms,ne*s.ag/Ms),Eu[ae]=++G),Eu[ae]-1}function J(ie,ne,ae,fe,de,be){const ge=ie+ae>>1,ve=ne+fe>>1;if(Math.abs(ie-de)+Math.abs(ne-be)>1&&Ua[ve*Qs+ge])J(de,be,ie,ne,ge,ve),J(ae,fe,de,be,ge,ve);else{const _e=Q(ie,ne),Ee=Q(ae,fe),Oe=Q(de,be);U.emplaceBack(_e,Ee,Oe)}}return J(0,0,Ms,Ms,Ms,0),J(Ms,Ms,0,0,0,Ms),{vertices:H,indices:U}}(this.tileID.canonical,l);v=M.vertices,x=M.indices}else{v=new s.aT,x=new s.aU;for(const{x:P,y:O}of m)v.emplaceBack(P,O,0,0);const M=s.b8(v.int16,void 0,4);for(let P=0;P<M.length;P+=3)x.emplaceBack(M[P],M[P+1],M[P+2])}this._tileBoundsBuffer=r.createVertexBuffer(v,s.b9.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(x),this._tileBoundsSegments=s.b7.simpleSegment(0,0,v.length,x.length)}_makeGlobeTileDebugBuffers(r,l){const m=l.projection;if(!m||m.name!=="globe"||l.freezeTileCoverage)return;const v=this.tileID.canonical,x=s.ba(v,l),M=s.bb(x),P=s.ae(l.zoom);let O;P>0&&(O=s.ab.mat4.invert(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,v,l,M,O,P),this._makeGlobeTileDebugTextBuffer(r,v,l,M,O,P)}_globePoint(r,l,m,v,x,M,P){let O=s.bc(r,l,m);if(M){const z=1<<m.z,F=s.at(v.center.lng),H=s.aA(v.center.lat),U=(m.x+.5)/z-F;let G=0;U>.5?G=-1:U<-.5&&(G=1);let Q=(r/s.ag+m.x)/z+G,J=(l/s.ag+m.y)/z;Q=(Q-F)*v._pixelsPerMercatorPixel+F,J=(J-H)*v._pixelsPerMercatorPixel+H;const ie=[Q*v.worldSize,J*v.worldSize,0];s.ab.vec3.transformMat4(ie,ie,M),O=s.bd(O,ie,P)}return s.ab.vec3.transformMat4(O,O,x)}_makeGlobeTileDebugBorderBuffer(r,l,m,v,x,M){const P=new s.b4,O=new s.b5,z=new s.be,F=(U,G,Q,J,ie)=>{const ne=(Q-U)/(ie-1),ae=(J-G)/(ie-1),fe=P.length;for(let de=0;de<ie;de++){const be=U+de*ne,ge=G+de*ae;P.emplaceBack(be,ge);const ve=this._globePoint(be,ge,l,m,v,x,M);z.emplaceBack(ve[0],ve[1],ve[2]),O.emplaceBack(fe+de)}},H=s.ag;F(0,0,H,0,16),F(H,0,H,H,16),F(H,H,0,H,16),F(0,H,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(O),this._tileDebugBuffer=r.createVertexBuffer(P,s.b6.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(z,s.bf.members),this._tileDebugSegments=s.b7.simpleSegment(0,0,P.length,O.length)}_makeGlobeTileDebugTextBuffer(r,l,m,v,x,M){const P=s.ag/4,O=new s.b4,z=new s.aU,F=new s.be,H=25;z.reserve(32),O.reserve(H),F.reserve(H);const U=(G,Q)=>H*G+Q;for(let G=0;G<H;G++){const Q=G*P;for(let J=0;J<H;J++){const ie=J*P;O.emplaceBack(ie,Q);const ne=this._globePoint(ie,Q,l,m,v,x,M);F.emplaceBack(ne[0],ne[1],ne[2])}}for(let G=0;G<4;G++)for(let Q=0;Q<4;Q++){const J=U(G,Q),ie=U(G,Q+1),ne=U(G+1,Q),ae=U(G+1,Q+1);z.emplaceBack(J,ie,ne),z.emplaceBack(ne,ie,ae)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(z),this._tileDebugTextBuffer=r.createVertexBuffer(O,s.b6.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(F,s.bf.members),this._tileDebugTextSegments=s.b7.simpleSegment(0,0,H,32)}destroy(r=!1){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!r&&this.texture&&this.texture instanceof s.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}s.bg.setPbf(s.bh);class Cu extends go{constructor(r,l,m,v,x){super(r,l,m,v,x),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(r,l){const m=l.context,v=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof s.T?this.texture.update(r,{premultiply:!1}):this.texture=new s.T(m,r,v.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(r=16384,l){const m=this._mrt=new s.bg(30),v=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(r-1)}});return this.entireBuffer=null,this.request=s.bi(v,(x,M,P,O)=>{if(x)l(x);else try{const z=m.getHeaderLength(M);if(z>r)return void(this.request=this.fetchHeader(z,l));m.parseHeader(M),this._isHeaderLoaded=!0;let F=0;for(const H of Object.values(m.layers))F=Math.max(F,H.dataIndex[H.dataIndex.length-1].last_byte);M.byteLength>=F&&(this.entireBuffer=M),l(null,this.entireBuffer||M,P,O)}catch(z){l(z)}}),this.request}fetchBand(r,l,m){const v=this._mrt;if(!this._isHeaderLoaded||!v)return void m(new Error("Tile header is not ready"));const x=this.actor;if(!x)return void m(new Error("Can't fetch tile band without an actor"));let M;const P=(H,U)=>{M.complete(H,U),H?m(H):(this.updateTextureDescriptor(r,l),m(null,this.textureDescriptor&&this.textureDescriptor.img))},O=(H,U)=>{if(H)return m(H);const G=x.send("decodeRasterArray",{buffer:U,task:M},P,void 0,!0);this._workQueue.push(()=>{G&&G.cancel(),M.cancel()})},z=v.getLayer(r);if(!z)return void m(new Error(`Unknown sourceLayer "${r}"`));if(z.hasDataForBand(l))return this.updateTextureDescriptor(r,l),void m(null,this.textureDescriptor?this.textureDescriptor.img:null);const F=z.getDataRange([l]);if(M=v.createDecodingTask(F),!M||M.tasks.length)if(this.flushQueues(),this.entireBuffer)O(null,this.entireBuffer.slice(F.firstByte,F.lastByte+1));else{const H=Object.assign({},this.requestParams,{headers:{Range:`bytes=${F.firstByte}-${F.lastByte}`}}),U=s.bi(H,O);this._fetchQueue.push(()=>{U.cancel(),M.cancel()})}else m(null)}updateNeeded(r,l){return(!this.textureDescriptor||this.textureDescriptor.band!==l||this.textureDescriptor.layer!==r)&&this.state!=="errored"}updateTextureDescriptor(r,l){if(!this._mrt)return;const m=this._mrt.getLayer(r);if(!m||!m.hasBand(l)||!m.hasDataForBand(l))return;const{bytes:v,tileSize:x,buffer:M,offset:P,scale:O}=m.getBandView(l),z=x+2*M,F={data:v,width:z,height:z},H=this.texture;H&&H instanceof s.T&&H.update(F,{premultiply:!1}),this.textureDescriptor={layer:r,band:l,img:F,buffer:M,offset:P,tileSize:x,format:m.pixelFormat,mix:[O,256*O,65536*O,16777216*O]}}}class zp{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,m){const v=r.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const x={value:l,timeout:void 0};if(m!==void 0&&(x.timeout=setTimeout(()=>{this.remove(r,x)},m)),this.data[v].push(x),this.order.push(v),this.order.length>this.max){const M=this._getAndRemoveByKey(this.order[0]);M&&this.onRemove(M)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const m=r.wrapped().key,v=l===void 0?0:this.data[m].indexOf(l),x=this.data[m][v];return this.data[m].splice(v,1),x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(x.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const m in this.data)for(const v of this.data[m])r(v.value)||l.push(v);for(const m of l)this.remove(m.value.tileID,m)}}class Hl{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,m){const v=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][v]=this.stateChanges[r][v]||{},s.l(this.stateChanges[r][v],m),this.deletedStates[r]===null){this.deletedStates[r]={};for(const x in this.state[r])x!==v&&(this.deletedStates[r][x]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][v]===null){this.deletedStates[r][v]={};for(const x in this.state[r][v])m[x]||(this.deletedStates[r][v][x]=null)}else for(const x in m)this.deletedStates[r]&&this.deletedStates[r][v]&&this.deletedStates[r][v][x]===null&&delete this.deletedStates[r][v][x]}removeFeatureState(r,l,m){if(this.deletedStates[r]===null)return;const v=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},m&&l!==void 0)this.deletedStates[r][v]!==null&&(this.deletedStates[r][v]=this.deletedStates[r][v]||{},this.deletedStates[r][v][m]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][v])for(m in this.deletedStates[r][v]={},this.stateChanges[r][v])this.deletedStates[r][v][m]=null;else this.deletedStates[r][v]=null;else this.deletedStates[r]=null}getState(r,l){const m=this.state[r]||{},v=this.stateChanges[r]||{},x=this.deletedStates[r];if(x===null)return{};if(l!==void 0){const P=String(l),O=s.l({},m[P],v[P]);if(x){const z=x[l];if(z===null)return{};for(const F in z)delete O[F]}return O}const M=s.l({},m,v);if(x)for(const P in x)delete M[P];return M}initializeTileState(r,l){r.refreshFeatureState(l)}coalesceChanges(r,l){const m={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const x={};for(const M in this.stateChanges[v])this.state[v][M]||(this.state[v][M]={}),s.l(this.state[v][M],this.stateChanges[v][M]),x[M]=this.state[v][M];m[v]=x}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const x={};if(this.deletedStates[v]===null)for(const M in this.state[v])x[M]={},this.state[v][M]={};else for(const M in this.deletedStates[v]){if(this.deletedStates[v][M]===null)this.state[v][M]={};else if(this.state[v][M])for(const P of Object.keys(this.deletedStates[v][M]))delete this.state[v][M][P];x[M]=this.state[v][M]}m[v]=m[v]||{},s.l(m[v],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const v in r)r[v].refreshFeatureState(l)}}class Ds extends s.E{constructor(r,l,m){super(),this.id=r,this._onlySymbols=m,l.on("data",v=>{v.dataType==="source"&&v.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&v.dataType==="source"&&v.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new zp(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new Hl,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,r.isExtraShadowCaster=this._shadowCasterTiles[r.tileID.key],this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r)}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r)}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const m=this._tiles[l];m.upload(r),m.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return s.bj(this._tiles).map(r=>r.tileID).sort(Au).map(r=>r.key)}getRenderableIds(r,l){const m=[];for(const v in this._tiles)this._isIdRenderable(+v,r,l)&&m.push(this._tiles[v]);return r?m.sort((v,x)=>{const M=v.tileID,P=x.tileID,O=new s.P(M.canonical.x,M.canonical.y)._rotate(this.transform.angle),z=new s.P(P.canonical.x,P.canonical.y)._rotate(this.transform.angle);return M.overscaledZ-P.overscaledZ||z.y-O.y||z.x-O.x}).map(v=>v.tileID.key):m.map(v=>v.tileID).sort(Au).map(v=>v.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l,m){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())&&(m||!this._shadowCasterTiles[r])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const m=this._tiles[r];m&&(m.state!=="loading"&&(m.state=l),this._loadTile(m,this._tileLoaded.bind(this,m,r,l)))}_tileLoaded(r,l,m,v){if(v)if(r.state="errored",v.status!==404)this._source.fire(new s.y(v,{tile:r}));else{if(this._source.fire(new s.z("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:r})),!(r.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const x=this.map.painter.terrain;this.update(this.transform,x.getScaledDemTileSize(),!0),x.resetTileLookupCache(this.id)}else this.update(this.transform)}else r.timeAdded=s.q.now(),m==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new s.z("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let v=0;v<l.length;v++){const x=l[v];if(r.neighboringTiles&&r.neighboringTiles[x]){const M=this.getTileByID(x);m(r,M),m(M,r)}}function m(v,x){if(!v.dem||v.dem.borderReady)return;v.needsHillshadePrepare=!0,v.needsDEMTextureUpload=!0;let M=x.tileID.canonical.x-v.tileID.canonical.x;const P=x.tileID.canonical.y-v.tileID.canonical.y,O=Math.pow(2,v.tileID.canonical.z),z=x.tileID.key;M===0&&P===0||Math.abs(P)>1||(Math.abs(M)>1&&(Math.abs(M+O)===1?M+=O:Math.abs(M-O)===1&&(M-=O)),x.dem&&v.dem&&(v.dem.backfillBorder(x.dem,M,P),v.neighboringTiles&&v.neighboringTiles[z]&&(v.neighboringTiles[z].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,m,v){for(const x in this._tiles){let M=this._tiles[x];if(v[x]||!M.hasData()||M.tileID.overscaledZ<=l||M.tileID.overscaledZ>m)continue;let P=M.tileID;for(;M&&M.tileID.overscaledZ>l+1;){const z=M.tileID.scaledTo(M.tileID.overscaledZ-1);M=this._tiles[z.key],M&&M.hasData()&&(P=z)}let O=P;for(;O.overscaledZ>l;)if(O=O.scaledTo(O.overscaledZ-1),r[O.key]){v[P.key]=P;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const m=this._loadedParentTiles[r.key];return m&&m.tileID.overscaledZ>=l?m:null}for(let m=r.overscaledZ-1;m>=l;m--){const v=r.scaledTo(m),x=this._getLoadedTile(v);if(x)return x}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const m=Math.ceil(r.width/l)+1,v=Math.ceil(r.height/l)+1,x=Math.floor(m*v*5),M=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,x):x,P=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,M):M;this._cache.setMaxSize(P)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const m={};for(const v in this._tiles){const x=this._tiles[v];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+l),m[x.tileID.key]=x}this._tiles=m;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(+v,this._tiles[v])}}update(r,l,m,v){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!m)return;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const x=this._source.type==="batched-model";let M,P=this._source.maxzoom;const O=this.map&&this.map.painter?this.map.painter._terrain:null;if(O&&O.sourceCache===this&&O.attenuationRange()){const H=O.attenuationRange()[0],U=Math.floor(H)-Math.log2(O.getDemUpscale());P>U&&(P=U)}if(this.used||this.usedForTerrain){if(this._source.tileID)M=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(H=>new s.aG(H.canonical.z,H.wrap,H.canonical.z,H.canonical.x,H.canonical.y));else if(this.tileCoverLift!==0){const H=r.clone();H.tileCoverLift=this.tileCoverLift,M=H.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:P,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.minzoom<=1&&r.projection.name==="globe"&&(M.push(new s.aG(1,0,1,0,0)),M.push(new s.aG(1,0,1,1,0)),M.push(new s.aG(1,0,1,0,1)),M.push(new s.aG(1,0,1,1,1)))}else if(M=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:P,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.hasTile){const H=this._source.hasTile.bind(this._source);M=M.filter(U=>H(U))}}else M=[];if(M.length>0&&this.castsShadows&&v&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Iu(this._source.type)){const H=r.coveringZoomLevel({tileSize:l||this._source.tileSize,roundZoom:this._source.roundZoom&&!m}),U=Math.min(H,this._source.maxzoom);if(x){const G=r.extendTileCover(M,U);for(const Q of G)M.push(Q)}else{const G=r.extendTileCover(M,U,v);for(const Q of G)this._shadowCasterTiles[Q.key]=!0,M.push(Q)}}const z=this._updateRetainedTiles(M);if(Iu(this._source.type)&&M.length!==0){const H={},U={},G=Object.keys(z);for(const J of G){const ie=z[J],ne=this._tiles[J];if(!ne||ne.fadeEndTime&&ne.fadeEndTime<=s.q.now())continue;const ae=this.findLoadedParent(ie,Math.max(ie.overscaledZ-Ds.maxOverzooming,this._source.minzoom));ae&&(this._addTile(ae.tileID),H[ae.tileID.key]=ae.tileID),U[J]=ie}const Q=M[M.length-1].overscaledZ;for(const J in this._tiles){const ie=this._tiles[J];if(z[J]||!ie.hasData())continue;let ne=ie.tileID;for(;ne.overscaledZ>Q;){ne=ne.scaledTo(ne.overscaledZ-1);const ae=this._tiles[ne.key];if(ae&&ae.hasData()&&U[ne.key]){z[J]=ie.tileID;break}}}for(const J in H)z[J]||(this._coveredTiles[J]=!0,z[J]=H[J])}for(const H in z)this._tiles[H].clearFadeHold();const F=s.bk(this._tiles,z);for(const H of F){const U=this._tiles[H];U.hasSymbolBuckets&&!U.holdingForFade()?U.setHoldDuration(this.map._fadeDuration):U.hasSymbolBuckets&&!U.symbolFadeFinished()||this._removeTile(+H)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const m={},v=r.reduce((z,F)=>Math.min(z,F.overscaledZ),1/0),x=r[0].overscaledZ,M=Math.max(x-Ds.maxOverzooming,this._source.minzoom),P=Math.max(x+Ds.maxUnderzooming,this._source.minzoom),O={};for(const z of r){const F=this._addTile(z);l[z.key]=z,F.hasData()||v<this._source.maxzoom&&(O[z.key]=z)}this._retainLoadedChildren(O,v,P,l);for(const z of r){let F=this._tiles[z.key];if(F.hasData())continue;if(z.canonical.z>=this._source.maxzoom){const U=z.children(this._source.maxzoom)[0],G=this.getTile(U);if(G&&G.hasData()){l[U.key]=U;continue}}else{const U=z.children(this._source.maxzoom);if(l[U[0].key]&&l[U[1].key]&&l[U[2].key]&&l[U[3].key])continue}let H=F.wasRequested();for(let U=z.overscaledZ-1;U>=M;--U){const G=z.scaledTo(U);if(m[G.key]||(m[G.key]=!0,F=this.getTile(G),!F&&H&&(F=this._addTile(G)),F&&(l[G.key]=G,H=F.wasRequested(),F.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let m,v=this._tiles[r].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}l.push(v.key);const x=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(x),m)break;v=x}for(const x of l)this._loadedParentTiles[x]=m}}_addTile(r){let l=this._tiles[r.key];if(l)return l.isExtraShadowCaster!==!0||this._shadowCasterTiles[r.key]||this._reloadTile(r.key,"reloading"),l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const m=!!l;if(!m){const v=this.map?this.map.painter:null,x=this._source.tileSize*r.overscaleFactor();l=this._source.type==="raster-array"?new Cu(r,x,this.transform.tileZoom,v,this._isRaster):new go(r,x,this.transform.tileZoom,v,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,m||this._source.fire(new s.z("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const m=l.getExpiryTimeout();m&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},m))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"||l.state==="empty"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,m){const v=[],x=this.transform;if(!x)return v;const M=x.projection.name==="globe",P=s.at(x.center.lng);for(const O in this._tiles){const z=this._tiles[O];if(m&&z.clearQueryDebugViz(),z.holdingForFade())continue;let F;if(M){const H=z.tileID.canonical;if(H.z===0){const U=[Math.abs(s.aw(P,...zi(H,-1))-P),Math.abs(s.aw(P,...zi(H,1))-P)];F=[0,2*U.indexOf(Math.min(...U))-1]}else{const U=[Math.abs(s.aw(P,...zi(H,-1))-P),Math.abs(s.aw(P,...zi(H,0))-P),Math.abs(s.aw(P,...zi(H,1))-P)];F=[U.indexOf(Math.min(...U))-1]}}else F=[0];for(const H of F){const U=r.containsTile(z,x,l,H);U&&v.push(U)}}return v}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(r){return this._getRenderableCoordinates(r)}_getRenderableCoordinates(r,l){const m=this.getRenderableIds(r,l).map(x=>this._tiles[x].tileID),v=this.transform.projection.name==="globe";for(const x of m)x.projMatrix=this.transform.calculateProjMatrix(x.toUnwrapped()),x.expandedProjMatrix=v?this.transform.calculateProjMatrix(x.toUnwrapped(),!1,!0):x.projMatrix;return m}sortCoordinatesByDistance(r){const l=r.slice(),m=this.transform._camera.position,v=this.transform._camera.forward(),x={};for(const M of l){const P=1/(1<<M.canonical.z);x[M.key]=((M.canonical.x+.5)*P+M.wrap-m[0])*v[0]+((M.canonical.y+.5)*P-m[1])*v[1]-m[2]*v[2]}return l.sort((M,P)=>x[M.key]-x[P.key]),l}hasTransition(){if(this._source.hasTransition())return!0;if(Iu(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=s.q.now())return!0}return!1}setFeatureState(r,l,m){this._state.updateState(r=r||"_geojsonTileLayer",l,m)}removeFeatureState(r,l,m){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,m)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,m){const v=this._tiles[r];v&&v.setDependencies(l,m)}reloadTilesForDependencies(r,l){for(const m in this._tiles)this._tiles[m].hasDependency(r,l)&&this._reloadTile(+m,"reloading");this._cache.filter(m=>!m.hasDependency(r,l))}_preloadTiles(r,l){if(!this._sourceLoaded){const O=()=>{this._sourceLoaded&&(this._source.off("data",O),this._preloadTiles(r,l))};return void this._source.on("data",O)}const m=new Map,v=Array.isArray(r)?r:[r],x=this.map.painter.terrain,M=this.usedForTerrain&&x?x.getScaledDemTileSize():this._source.tileSize;for(const O of v){const z=O.coveringTiles({tileSize:M,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const F of z)m.set(F.key,F);this.usedForTerrain&&O.updateElevation(!1)}const P=Array.from(m.values());s.bl(P,(O,z)=>{const F=new go(O,this._source.tileSize*O.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(F,H=>{this._source.type==="raster-dem"&&F.dem&&this._backfillDEM(F),z(H,F)})},l)}}function Au(f,r){const l=Math.abs(2*f.wrap)-+(f.wrap<0),m=Math.abs(2*r.wrap)-+(r.wrap<0);return f.overscaledZ-r.overscaledZ||m-l||r.canonical.y-f.canonical.y||r.canonical.x-f.canonical.x}function Iu(f){return f==="raster"||f==="image"||f==="video"||f==="custom"}function zi(f,r){const l=1<<f.z;return[f.x/l+r,(f.x+1)/l+r]}Ds.maxOverzooming=10,Ds.maxUnderzooming=3;class x_{constructor(r){this.style=r,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const r=!1,l=!1;for(const m in this.style._mergedLayers){const v=this.style._mergedLayers[m];if(v.type==="fill-extrusion")this.layers.push({layer:v,visible:r,visibilityChanged:l});else if(v.type==="model"){const x=this.style.getLayerSource(v);x&&x.type==="batched-model"&&this.layers.push({layer:v,visible:r,visibilityChanged:l})}}}onNewFrame(r){this.layersGotHidden=!1;for(const l of this.layers){const m=l.layer;let v=!1;m.type==="fill-extrusion"?v=!m.isHidden(r)&&m.paint.get("fill-extrusion-opacity")>0:m.type==="model"&&(v=!m.isHidden(r)&&m.paint.get("model-opacity").constantOr(1)>0),this.layersGotHidden=this.layersGotHidden||!v&&l.visible,l.visible=v}}updateZOffset(r,l){this.currentBuildingBuckets=[];for(const v of this.layers){const x=v.layer,M=this.style.getLayerSourceCache(x);let P=1;x.type==="fill-extrusion"&&(P=v.visible?x.paint.get("fill-extrusion-vertical-scale"):0);let O=M?M.getTile(l):null;if(!O&&M&&l.canonical.z>M.getSource().minzoom){let z=l.scaledTo(Math.min(M.getSource().maxzoom,l.overscaledZ-1));for(;z.overscaledZ>=M.getSource().minzoom&&(O=M.getTile(z),!O&&z.overscaledZ!==0);)z=z.scaledTo(z.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:O?O.getBucket(x):null,tileID:O?O.tileID:l,verticalScale:P})}r.hasAnyZOffset=!1;let m=!1;for(let v=0;v<r.symbolInstances.length;v++){const x=r.symbolInstances.get(v),M=x.zOffset,P=this._getHeightAtTileOffset(l,x.tileAnchorX,x.tileAnchorY);x.zOffset=P!==Number.NEGATIVE_INFINITY?P:M,m||M===x.zOffset||(m=!0),r.hasAnyZOffset||x.zOffset===0||(r.hasAnyZOffset=!0)}m&&(r.zOffsetBuffersNeedUpload=!0,r.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(r,l,m,v){let x=l,M=m;if(r.canonical.z!==v.canonical.z){const P=v.canonical,O=1/(1<<r.canonical.z-P.z);x=(l+r.canonical.x*s.ag)*O-P.x*s.ag|0,M=(m+r.canonical.y*s.ag)*O-P.y*s.ag|0}return{tileX:x,tileY:M}}_getHeightAtTileOffset(r,l,m){let v,x;for(let M=0;M<this.layers.length;++M){if(this.layers[M].layer.type!=="fill-extrusion")continue;const{bucket:P,tileID:O,verticalScale:z}=this.currentBuildingBuckets[M];if(!P)continue;const{tileX:F,tileY:H}=this._mapCoordToOverlappingTile(r,l,m,O),U=P.getHeightAtTileCoord(F,H);U&&U.height!==void 0&&(U.hidden?v=U.height:x=Math.max(U.height*z,x||0))}if(x!==void 0)return x;for(let M=0;M<this.layers.length;++M){const P=this.layers[M];if(P.layer.type!=="model"||!P.visible)continue;const{bucket:O,tileID:z}=this.currentBuildingBuckets[M];if(!O)continue;const{tileX:F,tileY:H}=this._mapCoordToOverlappingTile(r,l,m,z),U=O.getHeightAtTileCoord(F,H);if(U&&!U.hidden)return U.height===void 0&&v!==void 0?Math.min(U.maxHeight,v)*U.verticalScale:U.height?U.height*U.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function ei(f,r){const l={};for(const m in f)m!=="ref"&&(l[m]=f[m]);return s.bm.forEach(m=>{m in r&&(l[m]=r[m])}),l}function Fp(f){f=f.slice();const r=Object.create(null);for(let l=0;l<f.length;l++)r[f[l].id]=f[l];for(let l=0;l<f.length;l++)"ref"in f[l]&&(f[l]=ei(f[l],r[f[l].ref]));return f}const Di={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setSnow:"setSnow",setRain:"setRain",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function Pu(f,r,l){l.push({command:Di.addSource,args:[f,r[f]]})}function Ls(f,r,l){r.push({command:Di.removeSource,args:[f]}),l[f]=!0}function Bp(f,r,l,m){Ls(f,l,m),Pu(f,r,l)}function Ul(f,r,l){let m;for(m in f[l])if(f[l].hasOwnProperty(m)&&m!=="data"&&!s.bn(f[l][m],r[l][m]))return!1;for(m in r[l])if(r[l].hasOwnProperty(m)&&m!=="data"&&!s.bn(f[l][m],r[l][m]))return!1;return!0}function Bt(f,r,l,m,v,x){let M;for(M in r=r||{},f=f||{})f.hasOwnProperty(M)&&(s.bn(f[M],r[M])||l.push({command:x,args:[m,M,r[M],v]}));for(M in r)r.hasOwnProperty(M)&&!f.hasOwnProperty(M)&&(s.bn(f[M],r[M])||l.push({command:x,args:[m,M,r[M],v]}))}function Vi(f){return f.id}function Li(f,r){return f[r.id]=r,f}class os{constructor(r,l){this.reset(r,l)}reset(r,l){this.points=r||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=s.aw(r,0,1);let l=1,m=this._distances[l];const v=r*this.paddedLength+this.padding;for(;m<v&&l<this._distances.length;)m=this._distances[++l];const x=l-1,M=this._distances[x],P=m-M,O=P>0?(v-M)/P:0;return this.points[x].mult(1-O).add(this.points[l].mult(O))}}class Ko{constructor(r,l,m){const v=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(r/m),this.yCellCount=Math.ceil(l/m);for(let M=0;M<this.xCellCount*this.yCellCount;M++)v.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=l,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,l,m,v,x){this._forEachCell(l,m,v,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(l),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(x)}insertCircle(r,l,m,v){this._forEachCell(l-v,m-v,l+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(l),this.circles.push(m),this.circles.push(v)}_insertBoxCell(r,l,m,v,x,M){this.boxCells[x].push(M)}_insertCircleCell(r,l,m,v,x,M){this.circleCells[x].push(M)}_query(r,l,m,v,x,M){if(m<0||r>this.width||v<0||l>this.height)return!x&&[];const P=[];if(r<=0&&l<=0&&this.width<=m&&this.height<=v){if(x)return!0;for(let O=0;O<this.boxKeys.length;O++)P.push({key:this.boxKeys[O],x1:this.bboxes[4*O],y1:this.bboxes[4*O+1],x2:this.bboxes[4*O+2],y2:this.bboxes[4*O+3]});for(let O=0;O<this.circleKeys.length;O++){const z=this.circles[3*O],F=this.circles[3*O+1],H=this.circles[3*O+2];P.push({key:this.circleKeys[O],x1:z-H,y1:F-H,x2:z+H,y2:F+H})}return M?P.filter(M):P}return this._forEachCell(r,l,m,v,this._queryCell,P,{hitTest:x,seenUids:{box:{},circle:{}}},M),x?P.length>0:P}_queryCircle(r,l,m,v,x){const M=r-m,P=r+m,O=l-m,z=l+m;if(P<0||M>this.width||z<0||O>this.height)return!v&&[];const F=[];return this._forEachCell(M,O,P,z,this._queryCellCircle,F,{hitTest:v,circle:{x:r,y:l,radius:m},seenUids:{box:{},circle:{}}},x),v?F.length>0:F}query(r,l,m,v,x){return this._query(r,l,m,v,!1,x)}hitTest(r,l,m,v,x){return this._query(r,l,m,v,!0,x)}hitTestCircle(r,l,m,v){return this._queryCircle(r,l,m,!0,v)}_queryCell(r,l,m,v,x,M,P,O){const z=P.seenUids,F=this.boxCells[x];if(F!==null){const U=this.bboxes;for(const G of F)if(!z.box[G]){z.box[G]=!0;const Q=4*G;if(r<=U[Q+2]&&l<=U[Q+3]&&m>=U[Q+0]&&v>=U[Q+1]&&(!O||O(this.boxKeys[G]))){if(P.hitTest)return M.push(!0),!0;M.push({key:this.boxKeys[G],x1:U[Q],y1:U[Q+1],x2:U[Q+2],y2:U[Q+3]})}}}const H=this.circleCells[x];if(H!==null){const U=this.circles;for(const G of H)if(!z.circle[G]){z.circle[G]=!0;const Q=3*G;if(this._circleAndRectCollide(U[Q],U[Q+1],U[Q+2],r,l,m,v)&&(!O||O(this.circleKeys[G]))){if(P.hitTest)return M.push(!0),!0;{const J=U[Q],ie=U[Q+1],ne=U[Q+2];M.push({key:this.circleKeys[G],x1:J-ne,y1:ie-ne,x2:J+ne,y2:ie+ne})}}}}}_queryCellCircle(r,l,m,v,x,M,P,O){const z=P.circle,F=P.seenUids,H=this.boxCells[x];if(H!==null){const G=this.bboxes;for(const Q of H)if(!F.box[Q]){F.box[Q]=!0;const J=4*Q;if(this._circleAndRectCollide(z.x,z.y,z.radius,G[J+0],G[J+1],G[J+2],G[J+3])&&(!O||O(this.boxKeys[Q])))return M.push(!0),!0}}const U=this.circleCells[x];if(U!==null){const G=this.circles;for(const Q of U)if(!F.circle[Q]){F.circle[Q]=!0;const J=3*Q;if(this._circlesCollide(G[J],G[J+1],G[J+2],z.x,z.y,z.radius)&&(!O||O(this.circleKeys[Q])))return M.push(!0),!0}}}_forEachCell(r,l,m,v,x,M,P,O){const z=this._convertToXCellCoord(r),F=this._convertToYCellCoord(l),H=this._convertToXCellCoord(m),U=this._convertToYCellCoord(v);for(let G=z;G<=H;G++)for(let Q=F;Q<=U;Q++)if(x.call(this,r,l,m,v,this.xCellCount*Q+G,M,P,O))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,l,m,v,x,M){const P=v-r,O=x-l,z=m+M;return z*z>P*P+O*O}_circleAndRectCollide(r,l,m,v,x,M,P){const O=(M-v)/2,z=Math.abs(r-(v+O));if(z>O+m)return!1;const F=(P-x)/2,H=Math.abs(l-(x+F));if(H>F+m)return!1;if(z<=O||H<=F)return!0;const U=z-O,G=H-F;return U*U+G*G<=m*m}}const Ci={unknown:0,flipRequired:1,flipNotRequired:2},Du=Math.tan(85*Math.PI/180);function ja(f,r,l,m,v,x,M){const P=s.ab.mat4.create();if(l)if(x.name==="globe"){const O=s.bo(v,r);s.ab.mat4.multiply(P,P,O)}else{const O=s.ab.mat2.invert([],M);P[0]=O[0],P[1]=O[1],P[4]=O[2],P[5]=O[3],m||s.ab.mat4.rotateZ(P,P,v.angle)}else s.ab.mat4.multiply(P,v.labelPlaneMatrix,f);return P}function Jo(f,r,l,m,v,x,M){const P=ja(f,r,l,m,v,x,M);return x.name==="globe"&&l||(P[2]=P[6]=P[10]=P[14]=0),P}function Nr(f,r,l,m,v,x,M){if(l){if(x.name==="globe"){const P=ja(f,r,l,m,v,x,M);return s.ab.mat4.invert(P,P),s.ab.mat4.multiply(P,f,P),P}{const P=s.ab.mat4.clone(f),O=s.ab.mat4.identity([]);return O[0]=M[0],O[1]=M[1],O[4]=M[2],O[5]=M[3],s.ab.mat4.multiply(P,P,O),m||s.ab.mat4.rotateZ(P,P,-v.angle),P}}return v.glCoordMatrix}function dn(f,r,l,m){const v=[f,r,l,1];l?s.ab.vec4.transformMat4(v,v,m):el(v,v,m);const x=v[3];return v[0]/=x,v[1]/=x,v[2]/=x,v}function zm(f,r){return Math.min(.5+f/r*.5,1.5)}function Qc(f,r){const l=f[0]/f[3],m=f[1]/f[3];return l>=-r[0]&&l<=r[0]&&m>=-r[1]&&m<=r[1]}function Lu(f,r,l,m,v,x,M,P,O,z){const F=l.transform,H=m?f.textSizeData:f.iconSizeData,U=s.bp(H,l.transform.zoom),G=F.projection.name==="globe",Q=[256/l.width*2+1,256/l.height*2+1],J=m?f.text.dynamicLayoutVertexArray:f.icon.dynamicLayoutVertexArray;J.clear();let ie=null;G&&(ie=m?f.text.globeExtVertexArray:f.icon.globeExtVertexArray);const ne=f.lineVertexArray,ae=m?f.text.placedSymbolArray:f.icon.placedSymbolArray,fe=l.transform.width/l.transform.height;let de,be=!1;for(let ge=0;ge<ae.length;ge++){const ve=ae.get(ge),{numGlyphs:_e,writingMode:Ee}=ve;if(Ee!==s.bq.vertical||be||de===s.bq.horizontal||(be=!0),de=Ee,(ve.hidden||Ee===s.bq.vertical)&&!be){Qo(_e,J);continue}be=!1;const Oe=new s.P(ve.tileAnchorX,ve.tileAnchorY);let{x:Ge,y:je,z:Le}=F.projection.projectTilePoint(Oe.x,Oe.y,z.canonical);if(O){const[nt,kt,wt]=O(Oe);Ge+=nt,je+=kt,Le+=wt}const Ne=[Ge,je,Le,1];if(s.ab.vec4.transformMat4(Ne,Ne,r),!Qc(Ne,Q)){Qo(_e,J);continue}const at=Ne[3],pt=zm(l.transform.getCameraToCenterDistance(F.projection),at),bt=s.br(H,U,ve),Ue=M?bt/pt:bt*pt,lt=dn(Ge,je,Le,v);if(lt[3]<=0){Qo(_e,J);continue}let Xe={};const yt=M?null:O,ht=eh(ve,Ue,!1,P,r,v,x,f.glyphOffsetArray,ne,J,ie,lt,Oe,Xe,fe,yt,F.projection,z,M);be=ht.useVertical,yt&&ht.needsFlipping&&(Xe={}),(ht.notEnoughRoom||be||ht.needsFlipping&&eh(ve,Ue,!0,P,r,v,x,f.glyphOffsetArray,ne,J,ie,lt,Oe,Xe,fe,yt,F.projection,z,M).notEnoughRoom)&&Qo(_e,J)}m?(f.text.dynamicLayoutVertexBuffer.updateData(J),ie&&f.text.globeExtVertexBuffer&&f.text.globeExtVertexBuffer.updateData(ie)):(f.icon.dynamicLayoutVertexBuffer.updateData(J),ie&&f.icon.globeExtVertexBuffer&&f.icon.globeExtVertexBuffer.updateData(ie))}function jl(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J){const{lineStartIndex:ie,glyphStartIndex:ne,segment:ae}=P,fe=ne+P.numGlyphs,de=ie+P.lineLength,be=r.getoffsetX(ne),ge=r.getoffsetX(fe-1),ve=xr(f*be,l,m,v,x,M,ae,ie,de,O,z,F,H,U,!0,G,Q,J);if(!ve)return null;const _e=xr(f*ge,l,m,v,x,M,ae,ie,de,O,z,F,H,U,!0,G,Q,J);return _e?{first:ve,last:_e}:null}function ku(f,r,l,m){return f===s.bq.horizontal&&Math.abs(m)>Math.abs(l)?{useVertical:!0}:f===s.bq.vertical?m>0?{needsFlipping:!0}:null:r!==Ci.unknown&&function(v,x){return v===0||Math.abs(x/v)>Du}(l,m)?r===Ci.flipRequired?{needsFlipping:!0}:null:l<0?{needsFlipping:!0}:null}function eh(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie,ne,ae){const fe=r/24,de=f.lineOffsetX*fe,be=f.lineOffsetY*fe,{lineStartIndex:ge,glyphStartIndex:ve,numGlyphs:_e,segment:Ee,writingMode:Oe,flipState:Ge}=f,je=ge+f.lineLength,Le=Ne=>{if(F){const[Ue,lt,Xe]=Ne.up,yt=z.length;s.bs(F,yt+0,Ue,lt,Xe),s.bs(F,yt+1,Ue,lt,Xe),s.bs(F,yt+2,Ue,lt,Xe),s.bs(F,yt+3,Ue,lt,Xe)}const[at,pt,bt]=Ne.point;s.bt(z,at,pt,bt,Ne.angle)};if(_e>1){const Ne=jl(fe,P,de,be,l,H,U,f,O,x,G,J,!1,ie,ne,ae);if(!Ne)return{notEnoughRoom:!0};if(m&&!l){let[at,pt,bt]=Ne.first.point,[Ue,lt,Xe]=Ne.last.point;[at,pt]=dn(at,pt,bt,M),[Ue,lt]=dn(Ue,lt,Xe,M);const yt=ku(Oe,Ge,(Ue-at)*Q,lt-pt);if(f.flipState=yt&&yt.needsFlipping?Ci.flipRequired:Ci.flipNotRequired,yt)return yt}Le(Ne.first);for(let at=ve+1;at<ve+_e-1;at++){const pt=xr(fe*P.getoffsetX(at),de,be,l,H,U,Ee,ge,je,O,x,G,J,!1,!1,ie,ne,ae);if(!pt)return z.length-=4*(at-ve),{notEnoughRoom:!0};Le(pt)}Le(Ne.last)}else{if(m&&!l){const at=dn(U.x,U.y,0,v),pt=ge+Ee+1,bt=new s.P(O.getx(pt),O.gety(pt)),Ue=dn(bt.x,bt.y,0,v),lt=Ue[3]>0?Ue:Sa(U,bt,at,1,v,void 0,ie,ne.canonical),Xe=ku(Oe,Ge,(lt[0]-at[0])*Q,lt[1]-at[1]);if(f.flipState=Xe&&Xe.needsFlipping?Ci.flipRequired:Ci.flipNotRequired,Xe)return Xe}const Ne=xr(fe*P.getoffsetX(ve),de,be,l,H,U,Ee,ge,je,O,x,G,J,!1,!1,ie,ne,ae);if(!Ne)return{notEnoughRoom:!0};Le(Ne)}return{}}function Vr(f,r,l,m,v){const{x,y:M,z:P}=m.projectTilePoint(f.x,f.y,r);if(!v)return dn(x,M,P,l);const[O,z,F]=v(f);return dn(x+O,M+z,P+F,l)}function Sa(f,r,l,m,v,x,M,P){const O=Vr(f.sub(r)._unit()._add(f),P,v,M,x);return s.ab.vec3.sub(O,l,O),s.ab.vec3.normalize(O,O),s.ab.vec3.scaleAndAdd(O,l,O,m)}function xr(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie,ne){const ae=m?f-r:f+r;let fe=ae>0?1:-1,de=0;m&&(fe*=-1,de=Math.PI),fe<0&&(de+=Math.PI);let be=P+M+(fe>0?0:1)|0,ge=v,ve=v,_e=0,Ee=0;const Oe=Math.abs(ae),Ge=[],je=[];let Le=x,Ne=Le;const at=()=>Sa(Ne,Le,ve,Oe-_e+1,F,U,J,ie.canonical);for(;_e+Ee<=Oe;){if(be+=fe,be<P||be>=O)return null;if(ve=ge,Ne=Le,Ge.push(ve),G&&je.push(Ne),Le=new s.P(z.getx(be),z.gety(be)),ge=H[be],!ge){const kt=Vr(Le,ie.canonical,F,J,U);ge=kt[3]>0?H[be]=kt:at()}_e+=Ee,Ee=s.ab.vec3.distance(ve,ge)}Q&&U&&(H[be]&&(ge=at(),Ee=s.ab.vec3.distance(ve,ge)),H[be]=ge);const pt=(Oe-_e)/Ee,bt=Le.sub(Ne)._mult(pt)._add(Ne),Ue=s.ab.vec3.sub([],ge,ve),lt=s.ab.vec3.scaleAndAdd([],ve,Ue,pt);let Xe=[0,0,1],yt=Ue[0],ht=Ue[1];if(ne&&(Xe=J.upVector(ie.canonical,bt.x,bt.y),Xe[0]!==0||Xe[1]!==0||Xe[2]!==1)){const kt=[Xe[2],0,-Xe[0]],wt=s.ab.vec3.cross([],Xe,kt);s.ab.vec3.normalize(kt,kt),s.ab.vec3.normalize(wt,wt),yt=s.ab.vec3.dot(Ue,kt),ht=s.ab.vec3.dot(Ue,wt)}if(l){const kt=s.ab.vec3.cross([],Xe,Ue);s.ab.vec3.normalize(kt,kt),s.ab.vec3.scaleAndAdd(lt,lt,kt,l*fe)}const nt=de+Math.atan2(ht,yt);return Ge.push(lt),G&&je.push(bt),{point:lt,angle:nt,path:Ge,tilePath:je,up:Xe}}function Qo(f,r){const l=r.length,m=l+4*f;r.resize(m),r.float32.fill(-1/0,4*l,4*m)}function el(f,r,l){const m=r[0],v=r[1];return f[0]=l[0]*m+l[4]*v+l[12],f[1]=l[1]*m+l[5]*v+l[13],f[3]=l[3]*m+l[7]*v+l[15],f}const xn=100;class ta{constructor(r,l,m=new Ko(r.width+200,r.height+200,25),v=new Ko(r.width+200,r.height+200,25)){this.transform=r,this.grid=m,this.ignoredGrid=v,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+xn,this.screenBottomBoundary=r.height+xn,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=l}placeCollisionBox(r,l,m,v,x,M,P,O){let z=m.projectedAnchorX,F=m.projectedAnchorY,H=m.projectedAnchorZ;const U=m.elevation,G=m.tileID,Q=r.getProjection();if(U&&G){const[ge,ve,_e]=Q.upVector(G.canonical,m.tileAnchorX,m.tileAnchorY),Ee=Q.upVectorScale(G.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;z+=ge*U*Ee,F+=ve*U*Ee,H+=_e*U*Ee}const J=this.projectAndGetPerspectiveRatio(P,z,F,H,m.tileID,Q.name==="globe"||!!U||this.transform.pitch>0,Q),ie=M*J.perspectiveRatio,ne=(m.x1*l+v.x-m.padding)*ie+J.point.x,ae=(m.y1*l+v.y-m.padding)*ie+J.point.y,fe=(m.x2*l+v.x+m.padding)*ie+J.point.x,de=(m.y2*l+v.y+m.padding)*ie+J.point.y,be=J.perspectiveRatio<=.55||J.occluded;return!this.isInsideGrid(ne,ae,fe,de)||!x&&this.grid.hitTest(ne,ae,fe,de,O)||be?{box:[],offscreen:!1,occluded:J.occluded}:{box:[ne,ae,fe,de],offscreen:this.isOffscreen(ne,ae,fe,de),occluded:!1}}placeCollisionCircles(r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J){const ie=[],ne=this.transform.elevation,ae=r.getProjection(),fe=ne?ne.getAtTileOffsetFunc(J,this.transform.center.lat,this.transform.worldSize,ae):null,de=new s.P(m.tileAnchorX,m.tileAnchorY);let{x:be,y:ge,z:ve}=ae.projectTilePoint(de.x,de.y,J.canonical);if(fe){const[bt,Ue,lt]=fe(de);be+=bt,ge+=Ue,ve+=lt}const _e=ae.name==="globe",Ee=this.projectAndGetPerspectiveRatio(P,be,ge,ve,J,_e||!!ne||this.transform.pitch>0,ae),{perspectiveRatio:Oe}=Ee,Ge=(H?M/Oe:M*Oe)/s.bw,je=dn(be,ge,ve,O),Le=Ee.signedDistanceFromCamera>0?jl(Ge,x,m.lineOffsetX*Ge,m.lineOffsetY*Ge,!1,je,de,m,v,O,{},ne&&!H?fe:null,H&&!!ne,ae,J,H):null;let Ne=!1,at=!1,pt=!0;if(Le&&!Ee.occluded){const bt=.5*G*Oe+Q,Ue=new s.P(-100,-100),lt=new s.P(this.screenRightBoundary,this.screenBottomBoundary),Xe=new os,{first:yt,last:ht}=Le,nt=yt.path.length;let kt=[];for(let Vt=nt-1;Vt>=1;Vt--)kt.push(yt.path[Vt]);for(let Vt=1;Vt<ht.path.length;Vt++)kt.push(ht.path[Vt]);const wt=2.5*bt;z&&(kt=kt.map(([Vt,ni,$t],Zt)=>(fe&&!_e&&($t=fe(Zt<nt-1?yt.tilePath[nt-1-Zt]:ht.tilePath[Zt-nt+2])[2]),dn(Vt,ni,$t,z))),kt.some(Vt=>Vt[3]<=0)&&(kt=[]));let Ot=[];if(kt.length>0){let Vt=1/0,ni=-1/0,$t=1/0,Zt=-1/0;for(const ri of kt)Vt=Math.min(Vt,ri[0]),$t=Math.min($t,ri[1]),ni=Math.max(ni,ri[0]),Zt=Math.max(Zt,ri[1]);ni>=Ue.x&&Vt<=lt.x&&Zt>=Ue.y&&$t<=lt.y&&(Ot=[kt.map(ri=>new s.P(ri[0],ri[1]))],(Vt<Ue.x||ni>lt.x||$t<Ue.y||Zt>lt.y)&&(Ot=s.bu(Ot,Ue.x,Ue.y,lt.x,lt.y)))}for(const Vt of Ot){Xe.reset(Vt,.25*bt);let ni=0;ni=Xe.length<=.5*bt?1:Math.ceil(Xe.paddedLength/wt)+1;for(let $t=0;$t<ni;$t++){const Zt=$t/Math.max(ni-1,1),ri=Xe.lerp(Zt),Ei=ri.x+xn,gi=ri.y+xn;ie.push(Ei,gi,bt,0);const hn=Ei-bt,vn=gi-bt,Gi=Ei+bt,en=gi+bt;if(pt=pt&&this.isOffscreen(hn,vn,Gi,en),at=at||this.isInsideGrid(hn,vn,Gi,en),!l&&this.grid.hitTestCircle(Ei,gi,bt,U)&&(Ne=!0,!F))return{circles:[],offscreen:!1,collisionDetected:Ne,occluded:!1}}}}return{circles:!F&&Ne||!at?[]:ie,offscreen:pt,collisionDetected:Ne,occluded:Ee.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let m=1/0,v=1/0,x=-1/0,M=-1/0;for(const F of r){const H=new s.P(F.x+xn,F.y+xn);m=Math.min(m,H.x),v=Math.min(v,H.y),x=Math.max(x,H.x),M=Math.max(M,H.y),l.push(H)}const P=this.grid.query(m,v,x,M).concat(this.ignoredGrid.query(m,v,x,M)),O={},z={};for(const F of P){const H=F.key;if(O[H.bucketInstanceId]===void 0&&(O[H.bucketInstanceId]={}),O[H.bucketInstanceId][H.featureIndex])continue;const U=[new s.P(F.x1,F.y1),new s.P(F.x2,F.y1),new s.P(F.x2,F.y2),new s.P(F.x1,F.y2)];s.bv(l,U)&&(O[H.bucketInstanceId][H.featureIndex]=!0,z[H.bucketInstanceId]===void 0&&(z[H.bucketInstanceId]=[]),z[H.bucketInstanceId].push(H.featureIndex))}return z}insertCollisionBox(r,l,m,v,x){(l?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:v,collisionGroupID:x},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,l,m,v,x){const M=l?this.ignoredGrid:this.grid,P={bucketInstanceId:m,featureIndex:v,collisionGroupID:x};for(let O=0;O<r.length;O+=4)M.insertCircle(P,r[O],r[O+1],r[O+2])}projectAndGetPerspectiveRatio(r,l,m,v,x,M,P){const O=[l,m,v,1];let z=!1;v||this.transform.pitch>0?(s.ab.vec4.transformMat4(O,O,r),this.fogState&&x&&P.name!=="globe"&&(z=function(U,G,Q,J,ie,ne){const ae=ne.calculateFogTileMatrix(ie),fe=[G,Q,J];return s.ab.vec3.transformMat4(fe,fe,ae),Jt(U,s.ab.vec3.length(fe),ne.pitch,ne._fov)}(this.fogState,l,m,v,x.toUnwrapped(),this.transform)>.9)):el(O,O,r);const F=O[3];return{point:new s.P((O[0]/F+1)/2*this.transform.width+xn,(-O[1]/F+1)/2*this.transform.height+xn),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(P)/F*.5,1.5),signedDistanceFromCamera:F,occluded:M&&O[2]>F||z}}isOffscreen(r,l,m,v){return m<xn||r>=this.screenRightBoundary||v<xn||l>this.screenBottomBoundary}isInsideGrid(r,l,m,v){return m>=0&&r<this.gridRightBoundary&&v>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const r=s.ab.mat4.identity([]);return s.ab.mat4.translate(r,r,[-100,-100,0]),r}}function ks(f,r,l){const m=r.createTileMatrix(f,f.worldSize,l.toUnwrapped());return s.ab.mat4.multiply(new Float32Array(16),f.projMatrix,m)}function Zn(f,r,l){if(r.projection.name===l.projection.name)return f.projMatrix;const m=l.clone();return m.setProjection(r.projection),ks(m,r.getProjection(),f)}function th(f,r,l){return r.name===l.projection.name?f.projMatrix:ks(l,r,f)}class Os{constructor(r,l,m,v){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?l:-l))):v&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class qa{constructor(r,l,m,v,x,M=!1){this.text=new Os(r?r.text:null,l,m,x),this.icon=new Os(r?r.icon:null,l,v,x),this.clipped=M}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ql{constructor(r,l,m,v=!1){this.text=r,this.icon=l,this.skipFade=m,this.clipped=v}}class tl{constructor(){this.invProjMatrix=s.ab.mat4.create(),this.viewportMatrix=s.ab.mat4.create(),this.circles=[]}}class b_{constructor(r,l,m,v,x){this.bucketInstanceId=r,this.featureIndex=l,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=x}}class $a{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const l=++this.maxGroupID;this.collisionGroups[r]={ID:l,predicate:m=>m.collisionGroupID===l}}return this.collisionGroups[r]}}function Fm(f,r,l,m,v){const{horizontalAlign:x,verticalAlign:M}=s.bD(f),P=-(x-.5)*r,O=-(M-.5)*l,z=s.bC(f,m);return new s.P(P+z[0]*v,O+z[1]*v)}function Ou(f,r,l,m,v){const x=new s.P(f,r);return l&&x._rotate(m?v:-v),x}class ls{constructor(r,l,m,v,x,M){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new ta(this.transform,x),this.buildingIndex=M,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new $a(m),this.collisionCircleArrays={},this.prevPlacement=v,v&&(v.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,l,m,v,x=1){const M=m.getBucket(l),P=m.latestFeatureIndex;if(!M||!P||l.fqid!==M.layerIds[0])return;const O=M.layers[0].layout,z=M.layers[0].paint,F=m.collisionBoxArray,H=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),U=m.tileSize/s.ag,G=m.tileID.toUnwrapped();this.transform.setProjection(M.projection);const Q=(J=m.tileID,ie=M.getProjection(),ne=this.transform,ie.name===this.projection?ne.calculateProjMatrix(J.toUnwrapped()):ks(ne,ie,J));var J,ie,ne;const ae=O.get("text-pitch-alignment")==="map",fe=O.get("text-rotation-alignment")==="map";l.compileFilter(l.options);const de=l.dynamicFilter(),be=l.dynamicFilterNeedsFeature(),ge=this.transform.calculatePixelsToTileUnitsMatrix(m),ve=Jo(Q,m.tileID.canonical,ae,fe,this.transform,M.getProjection(),ge);let _e=null;if(ae){const bt=Nr(Q,m.tileID.canonical,ae,fe,this.transform,M.getProjection(),ge);_e=s.ab.mat4.multiply([],this.transform.labelPlaneMatrix,bt)}let Ee=null;de&&m.latestFeatureIndex&&(Ee={unwrappedTileID:G,dynamicFilter:de,dynamicFilterNeedsFeature:be}),this.retainedQueryData[M.bucketInstanceId]=new b_(M.bucketInstanceId,P,M.sourceLayerIndex,M.index,m.tileID);const[Oe,Ge]=M.layers[0].layout.get("text-size-scale-range"),je=s.aw(x,Oe,Ge),[Le,Ne]=O.get("icon-size-scale-range"),at=s.aw(x,Le,Ne),pt={bucket:M,layout:O,paint:z,posMatrix:Q,textLabelPlaneMatrix:ve,labelToScreenMatrix:_e,clippingData:Ee,scale:H,textPixelRatio:U,holdingForFade:m.holdingForFade(),collisionBoxArray:F,partiallyEvaluatedTextSize:s.bp(M.textSizeData,this.transform.zoom,je),partiallyEvaluatedIconSize:s.bp(M.iconSizeData,this.transform.zoom,at),collisionGroup:this.collisionGroups.get(M.sourceID),latestFeatureIndex:m.latestFeatureIndex};if(v)for(const bt of M.sortKeyRanges){const{sortKey:Ue,symbolInstanceStart:lt,symbolInstanceEnd:Xe}=bt;r.push({sortKey:Ue,symbolInstanceStart:lt,symbolInstanceEnd:Xe,parameters:pt})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:M.symbolInstances.length,parameters:pt})}attemptAnchorPlacement(r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie,ne,ae){const{textOffset0:fe,textOffset1:de,crossTileID:be}=U,ge=[fe,de],ve=Fm(r,m,v,ge,x),_e=this.collisionIndex.placeCollisionBox(Q,x,l,Ou(ve.x,ve.y,M,P,this.transform.angle),H,O,z,F.predicate);if(ie){const Ee=Q.getSymbolInstanceIconSize(ae,this.transform.zoom,U.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Q,Ee,ie,Ou(ve.x,ve.y,M,P,this.transform.angle),H,O,z,F.predicate).box.length===0)return}if(_e.box.length>0){let Ee;return this.prevPlacement&&this.prevPlacement.variableOffsets[be]&&this.prevPlacement.placements[be]&&this.prevPlacement.placements[be].text&&(Ee=this.prevPlacement.variableOffsets[be].anchor),this.variableOffsets[be]={textOffset:ge,width:m,height:v,anchor:r,textScale:x,prevAnchor:Ee},this.markUsedJustification(Q,r,U,J),Q.allowVerticalPlacement&&(this.markUsedOrientation(Q,J,U),this.placedOrientations[be]=J),{shift:ve,placedGlyphBoxes:_e}}}placeLayerBucketPart(r,l,m,v,x=1){const{bucket:M,layout:P,paint:O,posMatrix:z,textLabelPlaneMatrix:F,labelToScreenMatrix:H,clippingData:U,textPixelRatio:G,holdingForFade:Q,collisionBoxArray:J,partiallyEvaluatedTextSize:ie,partiallyEvaluatedIconSize:ne,collisionGroup:ae,latestFeatureIndex:fe}=r.parameters,de=P.get("text-optional"),be=P.get("icon-optional"),ge=P.get("text-allow-overlap"),ve=P.get("icon-allow-overlap"),_e=P.get("text-rotation-alignment")==="map",Ee=P.get("text-pitch-alignment")==="map",Oe=P.get("symbol-z-elevate"),Ge=O.get("symbol-z-offset"),je=P.get("symbol-elevation-reference")==="sea",[Le,Ne]=P.get("text-size-scale-range"),[at,pt]=P.get("icon-size-scale-range"),bt=s.aw(x,Le,Ne),Ue=s.aw(x,at,pt);this.transform.setProjection(M.projection);let lt=ge&&(ve||!M.hasIconData()||be),Xe=ve&&(ge||!M.hasTextData()||de);const yt=!Ge.isConstant();!M.collisionArrays&&J&&M.deserializeCollisionBoxes(J),m&&v&&M.updateCollisionDebugBuffers(this.transform.zoom,J,bt,Ue);const ht=(nt,kt,wt)=>{const{crossTileID:Ot,numVerticalGlyphVertices:Vt}=nt;let ni=null;if(U&&U.dynamicFilterNeedsFeature||yt){const on=this.retainedQueryData[M.bucketInstanceId];ni=fe.loadFeature({featureIndex:nt.featureIndex,bucketIndex:on.bucketIndex,sourceLayerIndex:on.sourceLayerIndex,layoutVertexArrayOffset:0})}if(U&&!(0,U.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},ni,this.retainedQueryData[M.bucketInstanceId].tileID.canonical,new s.P(nt.tileAnchorX,nt.tileAnchorY),this.transform.calculateDistanceTileData(U.unwrappedTileID)))return this.placements[Ot]=new ql(!1,!1,!1,!0),void l.add(Ot);const $t=Ge.evaluate(ni,{});if(l.has(Ot))return;if(Q)return void(this.placements[Ot]=new ql(!1,!1,!1));let Zt=!1,ri=!1,Ei=!0,gi=!1,hn=!1,vn=null,Gi={box:null,offscreen:null,occluded:null},en={box:null,offscreen:null,occluded:null},pi=null,Yt=null,Bi=null,Wi=0,En=0,Cr=0;wt.textFeatureIndex?Wi=wt.textFeatureIndex:nt.useRuntimeCollisionCircles&&(Wi=nt.featureIndex),wt.verticalTextFeatureIndex&&(En=wt.verticalTextFeatureIndex);const Kr=on=>{on.tileID=this.retainedQueryData[M.bucketInstanceId].tileID;const un=this.transform.elevation;on.elevation=je?$t:$t+(un?un.getAtTileOffset(on.tileID,on.tileAnchorX,on.tileAnchorY):0),on.elevation+=nt.zOffset},Yn=wt.textBox;if(Yn){Kr(Yn);const on=Ai=>{let Bn=s.bq.horizontal;if(M.allowVerticalPlacement&&!Ai&&this.prevPlacement){const Ar=this.prevPlacement.placedOrientations[Ot];Ar&&(this.placedOrientations[Ot]=Ar,Bn=Ar,this.markUsedOrientation(M,Bn,nt))}return Bn},un=(Ai,Bn)=>{if(M.allowVerticalPlacement&&Vt>0&&wt.verticalTextBox){for(const Ar of M.writingModes)if(Ar===s.bq.vertical?(Gi=Bn(),en=Gi):Gi=Ai(),Gi&&Gi.box&&Gi.box.length)break}else Gi=Ai()};if(P.get("text-variable-anchor")){let Ai=P.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ot]){const an=this.prevPlacement.variableOffsets[Ot];Ai.indexOf(an.anchor)>0&&(Ai=Ai.filter(Ur=>Ur!==an.anchor),Ai.unshift(an.anchor))}const Bn=(an,Ur,Ss)=>{const ms=M.getSymbolInstanceTextSize(ie,nt,this.transform.zoom,kt),io=(an.x2-an.x1)*ms+2*an.padding,Jr=(an.y2-an.y1)*ms+2*an.padding,la=nt.hasIconTextFit&&!ve?Ur:null;la&&Kr(la);let gs={box:[],offscreen:!1,occluded:!1};const Io=ge?2*Ai.length:Ai.length;for(let Aa=0;Aa<Io;++Aa){const ml=this.attemptAnchorPlacement(Ai[Aa%Ai.length],an,io,Jr,ms,_e,Ee,G,z,ae,Aa>=Ai.length,nt,kt,M,Ss,la,ie,ne);if(ml&&(gs=ml.placedGlyphBoxes,gs&&gs.box&&gs.box.length)){Zt=!0,vn=ml.shift;break}}return gs};un(()=>Bn(Yn,wt.iconBox,s.bq.horizontal),()=>{const an=wt.verticalTextBox;return an&&Kr(an),M.allowVerticalPlacement&&!(Gi&&Gi.box&&Gi.box.length)&&Vt>0&&an?Bn(an,wt.verticalIconBox,s.bq.vertical):{box:null,offscreen:null,occluded:null}}),Gi&&(Zt=Gi.box,Ei=Gi.offscreen,gi=Gi.occluded);const Ar=on(!(!Gi||!Gi.box));if(!Zt&&this.prevPlacement){const an=this.prevPlacement.variableOffsets[Ot];an&&(this.variableOffsets[Ot]=an,this.markUsedJustification(M,an.anchor,nt,Ar))}}else{const Ai=(Bn,Ar)=>{const an=M.getSymbolInstanceTextSize(ie,nt,this.transform.zoom,kt,x),Ur=this.collisionIndex.placeCollisionBox(M,an,Bn,new s.P(0,0),ge,G,z,ae.predicate);return Ur&&Ur.box&&Ur.box.length&&(this.markUsedOrientation(M,Ar,nt),this.placedOrientations[Ot]=Ar),Ur};un(()=>Ai(Yn,s.bq.horizontal),()=>{const Bn=wt.verticalTextBox;return M.allowVerticalPlacement&&Vt>0&&Bn?(Kr(Bn),Ai(Bn,s.bq.vertical)):{box:null,offscreen:null,occluded:null}}),on(!!(Gi&&Gi.box&&Gi.box.length))}}if(pi=Gi,Zt=pi&&pi.box&&pi.box.length>0,Ei=pi&&pi.offscreen,gi=pi&&pi.occluded,nt.useRuntimeCollisionCircles){const on=M.text.placedSymbolArray.get(nt.centerJustifiedTextSymbolIndex>=0?nt.centerJustifiedTextSymbolIndex:nt.verticalPlacedTextSymbolIndex),un=s.br(M.textSizeData,ie,on),Ai=P.get("text-padding");Yt=this.collisionIndex.placeCollisionCircles(M,ge,on,M.lineVertexArray,M.glyphOffsetArray,un,z,F,H,m,Ee,ae.predicate,nt.collisionCircleDiameter*un/s.bw,Ai,this.retainedQueryData[M.bucketInstanceId].tileID),Zt=ge||Yt.circles.length>0&&!Yt.collisionDetected,Ei=Ei&&Yt.offscreen,gi=Yt.occluded}if(wt.iconFeatureIndex&&(Cr=wt.iconFeatureIndex),wt.iconBox){const on=un=>{Kr(un);const Ai=nt.hasIconTextFit&&vn?Ou(vn.x,vn.y,_e,Ee,this.transform.angle):new s.P(0,0),Bn=M.getSymbolInstanceIconSize(ne,this.transform.zoom,nt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(M,Bn,un,Ai,ve,G,z,ae.predicate)};en&&en.box&&en.box.length&&wt.verticalIconBox?(Bi=on(wt.verticalIconBox),ri=Bi.box.length>0):(Bi=on(wt.iconBox),ri=Bi.box.length>0),Ei=Ei&&Bi.offscreen,hn=Bi.occluded}const br=de||nt.numHorizontalGlyphVertices===0&&Vt===0,Hr=be||nt.numIconVertices===0;if(br||Hr?Hr?br||(ri=ri&&Zt):Zt=ri&&Zt:ri=Zt=ri&&Zt,Zt&&pi&&pi.box&&this.collisionIndex.insertCollisionBox(pi.box,P.get("text-ignore-placement"),M.bucketInstanceId,en&&en.box&&En?En:Wi,ae.ID),ri&&Bi&&this.collisionIndex.insertCollisionBox(Bi.box,P.get("icon-ignore-placement"),M.bucketInstanceId,Cr,ae.ID),Yt&&(Zt&&this.collisionIndex.insertCollisionCircles(Yt.circles,P.get("text-ignore-placement"),M.bucketInstanceId,Wi,ae.ID),m)){const on=M.bucketInstanceId;let un=this.collisionCircleArrays[on];un===void 0&&(un=this.collisionCircleArrays[on]=new tl);for(let Ai=0;Ai<Yt.circles.length;Ai+=4)un.circles.push(Yt.circles[Ai+0]),un.circles.push(Yt.circles[Ai+1]),un.circles.push(Yt.circles[Ai+2]),un.circles.push(Yt.collisionDetected?1:0)}const Fn=M.projection.name!=="globe";lt=lt&&(Fn||!gi),Xe=Xe&&(Fn||!hn),this.placements[Ot]=new ql(Zt||lt,ri||Xe,Ei||M.justReloaded),l.add(Ot)};if(Oe&&this.buildingIndex&&(this.buildingIndex.updateZOffset(M,this.retainedQueryData[M.bucketInstanceId].tileID),M.updateZOffset()),M.sortFeaturesByY){const nt=M.getSortedSymbolIndexes(this.transform.angle);for(let kt=nt.length-1;kt>=0;--kt){const wt=nt[kt];ht(M.symbolInstances.get(wt),wt,M.collisionArrays[wt])}M.hasAnyZOffset&&s.w(`${M.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(M.hasAnyZOffset){const nt=M.getSortedIndexesByZOffset();for(let kt=0;kt<nt.length;++kt){const wt=nt[kt];ht(M.symbolInstances.get(wt),wt,M.collisionArrays[wt])}}else for(let nt=r.symbolInstanceStart;nt<r.symbolInstanceEnd;nt++)ht(M.symbolInstances.get(nt),nt,M.collisionArrays[nt]);if(m&&M.bucketInstanceId in this.collisionCircleArrays){const nt=this.collisionCircleArrays[M.bucketInstanceId];s.ab.mat4.invert(nt.invProjMatrix,z),nt.viewportMatrix=this.collisionIndex.getViewportMatrix()}M.justReloaded=!1}markUsedJustification(r,l,m,v){const{leftJustifiedTextSymbolIndex:x,centerJustifiedTextSymbolIndex:M,rightJustifiedTextSymbolIndex:P,verticalPlacedTextSymbolIndex:O,crossTileID:z}=m,F=s.bB(l),H=v===s.bq.vertical?O:F==="left"?x:F==="center"?M:F==="right"?P:-1;x>=0&&(r.text.placedSymbolArray.get(x).crossTileID=H>=0&&x!==H?0:z),M>=0&&(r.text.placedSymbolArray.get(M).crossTileID=H>=0&&M!==H?0:z),P>=0&&(r.text.placedSymbolArray.get(P).crossTileID=H>=0&&P!==H?0:z),O>=0&&(r.text.placedSymbolArray.get(O).crossTileID=H>=0&&O!==H?0:z)}markUsedOrientation(r,l,m){const v=l===s.bq.horizontal||l===s.bq.horizontalOnly?l:0,x=l===s.bq.vertical?l:0,{leftJustifiedTextSymbolIndex:M,centerJustifiedTextSymbolIndex:P,rightJustifiedTextSymbolIndex:O,verticalPlacedTextSymbolIndex:z}=m,F=r.text.placedSymbolArray;M>=0&&(F.get(M).placedOrientation=v),P>=0&&(F.get(P).placedOrientation=v),O>=0&&(F.get(O).placedOrientation=v),z>=0&&(F.get(z).placedOrientation=x)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let m=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const v=l?l.symbolFadeChange(r):1,x=l?l.opacities:{},M=l?l.variableOffsets:{},P=l?l.placedOrientations:{};for(const O in this.placements){const z=this.placements[O],F=x[O];F?(this.opacities[O]=new qa(F,v,z.text,z.icon,null,z.clipped),m=m||z.text!==F.text.placed||z.icon!==F.icon.placed):(this.opacities[O]=new qa(null,v,z.text,z.icon,z.skipFade,z.clipped),m=m||z.text||z.icon)}for(const O in x){const z=x[O];if(!this.opacities[O]){const F=new qa(z,v,!1,!1);F.isHidden()||(this.opacities[O]=F,m=m||z.text.placed||z.icon.placed)}}for(const O in M)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=M[O]);for(const O in P)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=P[O]);m?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:r)}updateLayerOpacities(r,l,m,v){const x=new Set;for(const M of l){const P=M.getBucket(r);P&&M.latestFeatureIndex&&r.fqid===P.layerIds[0]&&(this.updateBucketOpacities(P,x,M,M.collisionBoxArray,m,v,M.tileID,r.scope),P.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(P,M.tileID),P.updateZOffset()))}}updateBucketOpacities(r,l,m,v,x,M,P,O){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const z=r.layers[0].layout,F=r.layers[0].paint,H=!!r.layers[0].dynamicFilter(),U=new qa(null,0,!1,!1,!0),G=z.get("text-allow-overlap"),Q=z.get("icon-allow-overlap"),J=z.get("text-variable-anchor"),ie=z.get("text-rotation-alignment")==="map",ne=z.get("text-pitch-alignment")==="map",ae=F.get("symbol-z-offset"),fe=z.get("symbol-elevation-reference")==="sea",de=!ae.isConstant(),be=new qa(null,0,G&&(Q||!r.hasIconData()||z.get("icon-optional")),Q&&(G||!r.hasTextData()||z.get("text-optional")),!0);!r.collisionArrays&&v&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(v);const ge=(_e,Ee,Oe)=>{for(let Ge=0;Ge<Ee/4;Ge++)_e.opacityVertexArray.emplaceBack(Oe)};let ve=0;M&&r.updateReplacement(P,M);for(let _e=0;_e<r.symbolInstances.length;_e++){const Ee=r.symbolInstances.get(_e),{numHorizontalGlyphVertices:Oe,numVerticalGlyphVertices:Ge,crossTileID:je,numIconVertices:Le,tileAnchorX:Ne,tileAnchorY:at}=Ee;let pt=null;const bt=this.retainedQueryData[r.bucketInstanceId];de&&Ee&&bt&&(pt=m.latestFeatureIndex.loadFeature({featureIndex:Ee.featureIndex,bucketIndex:bt.bucketIndex,sourceLayerIndex:bt.sourceLayerIndex,layoutVertexArrayOffset:0}));const Ue=ae.evaluate(pt,{}),lt=l.has(je);let Xe=this.opacities[je];lt?Xe=U:Xe||(Xe=be,this.opacities[je]=Xe),l.add(je);const yt=Oe>0||Ge>0,ht=Le>0,nt=this.placedOrientations[je],kt=nt===s.bq.vertical,wt=nt===s.bq.horizontal||nt===s.bq.horizontalOnly;!yt&&!ht||Xe.isHidden()||ve++;let Ot=!1;if((yt||ht)&&M)for(const Vt of r.activeReplacements){if(s.bx(Vt,x,s.by.Symbol,O)||Vt.min.x>Ne||Ne>Vt.max.x||Vt.min.y>at||at>Vt.max.y)continue;const ni=s.bz(Ne,at,P.canonical,Vt.footprintTileId.canonical);if(Ot=s.bA(ni,Vt.footprint),Ot)break}if(yt){const Vt=Ot?ia:Nm(Xe.text);ge(r.text,Oe,kt?ia:Vt),ge(r.text,Ge,wt?ia:Vt);const ni=Xe.text.isHidden(),{leftJustifiedTextSymbolIndex:$t,centerJustifiedTextSymbolIndex:Zt,rightJustifiedTextSymbolIndex:ri,verticalPlacedTextSymbolIndex:Ei}=Ee,gi=r.text.placedSymbolArray,hn=ni||kt?1:0;$t>=0&&(gi.get($t).hidden=hn),Zt>=0&&(gi.get(Zt).hidden=hn),ri>=0&&(gi.get(ri).hidden=hn),Ei>=0&&(gi.get(Ei).hidden=ni||wt?1:0);const vn=this.variableOffsets[je];vn&&this.markUsedJustification(r,vn.anchor,Ee,nt);const Gi=this.placedOrientations[je];Gi&&(this.markUsedJustification(r,"left",Ee,Gi),this.markUsedOrientation(r,Gi,Ee))}if(ht){const Vt=Ot?ia:Nm(Xe.icon),{placedIconSymbolIndex:ni,verticalPlacedIconSymbolIndex:$t}=Ee,Zt=r.icon.placedSymbolArray,ri=Xe.icon.isHidden()?1:0;ni>=0&&(ge(r.icon,Le,kt?ia:Vt),Zt.get(ni).hidden=ri),$t>=0&&(ge(r.icon,Ee.numVerticalIconVertices,wt?ia:Vt),Zt.get($t).hidden=ri)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const Vt=r.collisionArrays[_e];if(Vt){let ni=new s.P(0,0),$t=!0;if(Vt.textBox||Vt.verticalTextBox){if(J){const ri=this.variableOffsets[je];ri?(ni=Fm(ri.anchor,ri.width,ri.height,ri.textOffset,ri.textScale),ie&&ni._rotate(ne?this.transform.angle:-this.transform.angle)):$t=!1}H&&($t=!Xe.clipped),Vt.textBox&&Ru(r.textCollisionBox.collisionVertexArray,Xe.text.placed,!$t||kt,Ue,fe,ni.x,ni.y),Vt.verticalTextBox&&Ru(r.textCollisionBox.collisionVertexArray,Xe.text.placed,!$t||wt,Ue,fe,ni.x,ni.y)}const Zt=$t&&!!(!wt&&Vt.verticalIconBox);Vt.iconBox&&Ru(r.iconCollisionBox.collisionVertexArray,Xe.icon.placed,Zt,Ue,fe,Ee.hasIconTextFit?ni.x:0,Ee.hasIconTextFit?ni.y:0),Vt.verticalIconBox&&Ru(r.iconCollisionBox.collisionVertexArray,Xe.icon.placed,!Zt,Ue,fe,Ee.hasIconTextFit?ni.x:0,Ee.hasIconTextFit?ni.y:0)}}}if(r.fullyClipped=ve===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const _e=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=_e.invProjMatrix,r.placementViewportMatrix=_e.viewportMatrix,r.collisionCircleArray=_e.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,l){const m=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*m>r}setStale(){this.stale=!0}}function Ru(f,r,l,m,v,x,M){f.emplaceBack(r?1:0,l?1:0,x||0,M||0,m,v?1:0),f.emplaceBack(r?1:0,l?1:0,x||0,M||0,m,v?1:0),f.emplaceBack(r?1:0,l?1:0,x||0,M||0,m,v?1:0),f.emplaceBack(r?1:0,l?1:0,x||0,M||0,m,v?1:0)}const zu=Math.pow(2,25),Bm=Math.pow(2,24),ih=Math.pow(2,17),w_=Math.pow(2,16),M_=Math.pow(2,9),nh=Math.pow(2,8),rh=Math.pow(2,1);function Nm(f){if(f.opacity===0&&!f.placed)return 0;if(f.opacity===1&&f.placed)return 4294967295;const r=f.placed?1:0,l=Math.floor(127*f.opacity);return l*zu+r*Bm+l*ih+r*w_+l*M_+r*nh+l*rh+r}const ia=0;class Vm{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,l,m,v,x,M){const P=this._bucketParts;for(;this._currentTileIndex<r.length;)if(l.getBucketParts(P,v,r[this._currentTileIndex],this._sortAcrossTiles,M),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,P.sort((O,z)=>O.sortKey-z.sortKey));this._currentPartIndex<P.length;){const O=P[this._currentPartIndex];if(l.placeLayerBucketPart(O,this._seenCrossTileIDs,m,O.symbolInstanceStart===0,M),this._currentPartIndex++,x())return!0}return!1}}class Fu{constructor(r,l,m,v,x,M,P,O,z){this.placement=new ls(r,x,M,P,O,z),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=v,this._done=!1}isDone(){return this._done}continuePlacement(r,l,m,v,x){const M=s.q.now(),P=()=>{const O=s.q.now()-M;return!this._forceFullPlacement&&O>2};for(;this._currentPlacementIndex>=0;){const O=l[r[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if(O.type==="symbol"&&(!O.minzoom||O.minzoom<=z)&&(!O.maxzoom||O.maxzoom>z)){const F=O,H=F.layout.get("symbol-z-elevate"),U=F.layout.get("symbol-sort-key").constantOr(1)!==void 0,G=F.layout.get("symbol-z-order"),Q=G==="viewport-y"||G==="auto"&&!(G!=="viewport-y"&&U),J=F.layout.get("text-allow-overlap")||F.layout.get("icon-allow-overlap")||F.layout.get("text-ignore-placement")||F.layout.get("icon-ignore-placement"),ie=Q&&J,ne=this._inProgressLayer=this._inProgressLayer||new Vm(F),ae=s.aC(O.source,O.scope);if(ne.continuePlacement(H||ie?v[ae]:m[ae],this.placement,this._showCollisionBoxes,O,P,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const Ta=512/s.ag/2;class S_{constructor(r,l,m){this.tileID=r,this.bucketInstanceId=m,this.index=new s.bE(l.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const v=r.canonical.x*s.ag,x=r.canonical.y*s.ag;for(let M=0;M<l.length;M++){const{key:P,crossTileID:O,tileAnchorX:z,tileAnchorY:F}=l.get(M),H=Math.floor((v+z)*Ta),U=Math.floor((x+F)*Ta);this.index.add(H,U),this.keys.push(P),this.crossTileIDs.push(O)}this.index.finish()}findMatches(r,l,m){const v=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),x=Ta/Math.pow(2,l.canonical.z-this.tileID.canonical.z),M=l.canonical.x*s.ag,P=l.canonical.y*s.ag;for(let O=0;O<r.length;O++){const z=r.get(O);if(z.crossTileID)continue;const{key:F,tileAnchorX:H,tileAnchorY:U}=z,G=Math.floor((M+H)*x),Q=Math.floor((P+U)*x),J=this.index.range(G-v,Q-v,G+v,Q+v);for(const ie of J){const ne=this.crossTileIDs[ie];if(this.keys[ie]===F&&!m.has(ne)){m.add(ne),z.crossTileID=ne;break}}}}}class T_{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class E_{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const l=Math.round((r-this.lng)/360);if(l!==0)for(const m in this.indexes){const v=this.indexes[m],x={};for(const M in v){const P=v[M];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+l),x[P.tileID.key]=P}this.indexes[m]=x}this.lng=r}addBucket(r,l,m){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let x=0;x<l.symbolInstances.length;x++)l.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const v=this.usedCrossTileIDs[r.overscaledZ];for(const x in this.indexes){const M=this.indexes[x];if(Number(x)>r.overscaledZ)for(const P in M){const O=M[P];O.tileID.isChildOf(r)&&O.findMatches(l.symbolInstances,r,v)}else{const P=M[r.scaledTo(Number(x)).key];P&&P.findMatches(l.symbolInstances,r,v)}}for(let x=0;x<l.symbolInstances.length;x++){const M=l.symbolInstances.get(x);M.crossTileID||(M.crossTileID=m.generate(),v.add(M.crossTileID))}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new S_(r,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(r,l){for(const m of l.crossTileIDs)this.usedCrossTileIDs[r].delete(m)}removeStaleBuckets(r){let l=!1;for(const m in this.indexes){const v=this.indexes[m];for(const x in v)r[v[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[x]),delete v[x],l=!0)}return l}}class Hm{constructor(){this.layerIndexes={},this.crossTileIDs=new T_,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,l,m,v){let x=this.layerIndexes[r.fqid];x===void 0&&(x=this.layerIndexes[r.fqid]=new E_);let M=!1;const P={};v.name!=="globe"&&x.handleWrapJump(m);for(const O of l){const z=O.getBucket(r);z&&r.fqid===z.layerIds[0]&&(z.bucketInstanceId||(z.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(O.tileID,z,this.crossTileIDs)&&(M=!0),P[z.bucketInstanceId]=!0)}return x.removeStaleBuckets(P)&&(M=!0),M}pruneUnusedLayers(r){const l={};r.forEach(m=>{l[m]=!0});for(const m in this.layerIndexes)l[m]||delete this.layerIndexes[m]}}const $l=771;class vi{constructor(r,l,m,v){this.blendFunction=r,this.blendColor=l,this.mask=m,this.blendEquation=v}}vi.Replace=[1,0,1,0],vi.disabled=new vi(vi.Replace,s.aj.transparent,[!1,!1,!1,!1]),vi.unblended=new vi(vi.Replace,s.aj.transparent,[!0,!0,!0,!0]),vi.alphaBlended=new vi([1,$l,1,$l],s.aj.transparent,[!0,!0,!0,!0]),vi.alphaBlendedNonPremultiplied=new vi([770,$l,770,$l],s.aj.transparent,[!0,!0,!0,!0]),vi.multiply=new vi([774,0,774,0],s.aj.transparent,[!0,!0,!0,!0]);class Wt{constructor(r,l,m){this.func=r,this.mask=l,this.range=m}}Wt.ReadOnly=!1,Wt.ReadWrite=!0,Wt.disabled=new Wt(519,Wt.ReadOnly,[0,1]);const Bu=7680;class ci{constructor(r,l,m,v,x,M){this.test=r,this.ref=l,this.mask=m,this.fail=v,this.depthFail=x,this.pass=M}}ci.disabled=new ci({func:519,mask:0},0,0,Bu,Bu,Bu);const Nu=1029,Ga=2305;class ti{constructor(r,l,m){this.enable=r,this.mode=l,this.frontFace=m}}function Np(f,r){const l=s.bG(f,3);s.ab.mat4.fromQuat(f,r),s.bI(f,3,l)}function Vu(f,r){const l=s.ab.quat.identity([]);return s.ab.quat.rotateZ(l,l,-r),s.ab.quat.rotateX(l,l,-f),l}function Gl(f,r){const l=[f[0],f[1],0],m=[r[0],r[1],0];if(s.ab.vec3.length(l)>=1e-15){const M=s.ab.vec3.normalize([],l);s.ab.vec3.scale(m,M,s.ab.vec3.dot(m,M)),r[0]=m[0],r[1]=m[1]}const v=s.ab.vec3.cross([],r,f);if(s.ab.vec3.len(v)<1e-15)return null;const x=Math.atan2(-v[1],v[0]);return Vu(Math.atan2(Math.sqrt(f[0]*f[0]+f[1]*f[1]),-f[2]),x)}ti.disabled=new ti(!1,Nu,Ga),ti.backCCW=new ti(!0,Nu,Ga),ti.backCW=new ti(!0,Nu,2304),ti.frontCW=new ti(!0,1028,2304),ti.frontCCW=new ti(!0,1028,Ga);class Wl{constructor(r,l){this.position=r,this.orientation=l}get position(){return this._position}set position(r){if(r){const l=r instanceof s.aa?r:new s.aa(r[0],r[1],r[2]);this._renderWorldCopies&&(l.x=s.bF(l.x,0,1)),this._position=l}else this._position=null}lookAtPoint(r,l){if(this.orientation=null,!this.position)return;const m=this.position,v=this._elevation?this._elevation.getAtPointOrZero(s.aa.fromLngLat(r)):0,x=s.aa.fromLngLat(r,v),M=[x.x-m.x,x.y-m.y,x.z-m.z];l||(l=[0,0,1]),l[2]=Math.abs(l[2]),this.orientation=Gl(M,l)}setPitchBearing(r,l){this.orientation=Vu(s.ai(r),s.ai(-l))}}class sh{constructor(r,l){this._transform=s.ab.mat4.identity([]),this.orientation=l,this.position=r}get mercatorPosition(){const r=this.position;return new s.aa(r[0],r[1],r[2])}get position(){const r=s.bG(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var l;r&&s.bI(this._transform,3,[(l=r)[0],l[1],l[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||s.ab.quat.identity([]),r&&Np(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),l=this.right();return{bearing:Math.atan2(-l[1],l[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,l){this._orientation=Vu(r,l),Np(this._transform,this._orientation)}forward(){const r=s.bG(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=s.bG(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=s.bG(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,l){const m=new Float64Array(16);return s.ab.mat4.invert(m,this.getWorldToCamera(r,l)),m}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(r,l,m){const v=this.position;s.ab.vec3.scale(v,v,-r);const x=new Float64Array(16);return s.ab.mat4.fromScaling(x,[m,m,m]),s.ab.mat4.translate(x,x,v),x[10]*=l,x}getWorldToCamera(r,l){const m=new Float64Array(16),v=new Float64Array(4),x=this.position;return s.ab.quat.conjugate(v,this._orientation),s.ab.vec3.scale(x,x,-r),s.ab.mat4.fromQuat(m,v),s.ab.mat4.translate(m,m,x),m[1]*=-1,m[5]*=-1,m[9]*=-1,m[13]*=-1,m[8]*=l,m[9]*=l,m[10]*=l,m[11]*=l,m}getCameraToClipPerspective(r,l,m,v){const x=new Float64Array(16);return s.ab.mat4.perspective(x,r,l,m,v),x}getCameraToClipOrthographic(r,l,m,v,x,M){const P=new Float64Array(16);return s.ab.mat4.ortho(P,r,l,m,v,x,M),P}getDistanceToElevation(r,l=!1){const m=r===0?0:s.bH(r,l?s.aS(this.position[1]):this.position[1]),v=this.forward();return(m-this.position[2])/v[2]}clone(){return new sh([...this.position],[...this.orientation])}}const Rr={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class cs{constructor(r=0,l=0,m=0,v=0){if(isNaN(r)||r<0||isNaN(l)||l<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=l,this.left=m,this.right=v}interpolate(r,l,m){return l.top!=null&&r.top!=null&&(this.top=s.af(r.top,l.top,m)),l.bottom!=null&&r.bottom!=null&&(this.bottom=s.af(r.bottom,l.bottom,m)),l.left!=null&&r.left!=null&&(this.left=s.af(r.left,l.left,m)),l.right!=null&&r.right!=null&&(this.right=s.af(r.right,l.right,m)),this}getCenter(r,l){const m=s.aw((this.left+r-this.right)/2,0,r),v=s.aw((this.top+l-this.bottom)/2,0,l);return new s.P(m,v)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new cs(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Hu=(f,r,l)=>(1-l)*f+l*r,At=f=>f*f*f*f*f;class Uu{constructor(r,l,m,v,x,M,P){this.tileSize=512,this._renderWorldCopies=x===void 0||x,this._minZoom=r||0,this._maxZoom=l||22,this._minPitch=m??0,this._maxPitch=v??60,this.setProjection(M),this.setMaxBounds(P),this.width=0,this.height=0,this._center=new s.bO(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new cs,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new sh,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const r=new Uu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(r,l=!1){const m=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||m)&&this._updateCameraOnTerrain(),(r||m)&&this._constrainCamera(l),this._calcMatrices()}getProjection(){return s.ay(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const l=this.projection?this.getProjection():void 0;this.projection=s.bP(this.projectionOptions);const m=this.getProjection(),v=!s.bn(l,m);return v&&this._calcMatrices(),this.mercatorFromTransition=!1,v}setOrthographicProjectionAtLowPitch(r){return this._orthographicProjectionAtLowPitch!==r&&(this._orthographicProjectionAtLowPitch=r,this._calcMatrices(),!0)}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.bP({name:"mercator"});const l=r!==this.projection.name;return l&&this._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.bH(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this.width,this.height)}get bearing(){return s.bF(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const l=-r*Math.PI/180;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=s.ab.mat2.create(),s.ab.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const l=s.aw(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=s.ai(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const l=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._setZoom(l),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(r){this._tileCoverLift!==r&&(this._tileCoverLift=r)}_updateCameraOnTerrain(){const r=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,l=this.elevation&&r===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||r===Number.NEGATIVE_INFINITY&&(!l||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const m=this._elevation;l||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&m.exaggeration()&&this._centerAltitudeValidForExaggeration!==m.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*m.exaggeration(),this._centerAltitudeValidForExaggeration=m.exaggeration()):(this._centerAltitude=r||0,this._centerAltitudeValidForExaggeration=m.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,l=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],m=this.horizonLineFromTop();let v=0,x=0;for(let M=0;M<l.length;M++){const P=new s.P(l[M][0]*this.width,m+l[M][1]*(this.height-m)),O=r.pointCoordinate(P);if(!O)continue;const z=1/Math.hypot(O[0]-this._camera.position[0],O[1]-this._camera.position[1]);v+=O[3]*z,x+=z}return x===0?NaN:v/x}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),m=this.pixelsPerMeter/this.worldSize*l,v=this._mercatorZfromZoom(r),x=this._mercatorZfromZoom(this._maxZoom),M=Math.max(v-m,x);this._setZoom(this._zoomFromMercatorZ(M))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const l=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let m;m=r.z<this._camera.position[2]?[l.x,l.y,l.z]:[r.x,r.y,r.z];const v=s.ab.vec3.length(s.ab.vec3.sub([],this._camera.position,m));return s.aw(this._zoomFromMercatorZ(v),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let l=!1;if(r.orientation&&!s.ab.quat.exactEquals(r.orientation,this._camera.orientation)&&(l=this._setCameraOrientation(r.orientation)),r.position){const m=[r.position.x,r.position.y,r.position.z];s.ab.vec3.exactEquals(m,this._camera.position)||(this._setCameraPosition(m),l=!0)}l&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,l=new Wl;return l.position=new s.aa(r[0],r[1],r[2]),l.orientation=this._camera.orientation,l._elevation=this.elevation,l._renderWorldCopies=this.renderWorldCopies,l}_setCameraOrientation(r){if(!s.ab.quat.length(r))return!1;s.ab.quat.normalize(r,r);const l=s.ab.vec3.transformQuat([],[0,0,-1],r),m=s.ab.vec3.transformQuat([],[0,-1,0],r);if(m[2]<0)return!1;const v=Gl(l,m);return!!v&&(this._camera.orientation=v,!0)}_setCameraPosition(r){const l=this.zoomScale(this.minZoom)*this.tileSize,m=this.zoomScale(this.maxZoom)*this.tileSize,v=this.cameraToCenterDistance;r[2]=s.aw(r[2],v/m,v/l),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,l,m){this._unmodified=!1,this._edgeInsets.interpolate(r,l,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const l=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(r){const l=[new s.bQ(0,r)];if(this.renderWorldCopies){const m=this.pointCoordinate(new s.P(0,0)),v=this.pointCoordinate(new s.P(this.width,0)),x=this.pointCoordinate(new s.P(this.width,this.height)),M=this.pointCoordinate(new s.P(0,this.height)),P=Math.floor(Math.min(m.x,v.x,x.x,M.x)),O=Math.floor(Math.max(m.x,v.x,x.x,M.x)),z=1;for(let F=P-z;F<=O+z;F++)F!==0&&l.push(new s.bQ(F,r))}return l}isLODDisabled(r){return(!r||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(r,l,m){let v=[];const x=m!==void 0,M=!x;if(M&&this.zoom<l||x&&m[0]===0&&m[1]===0)return v;const P=new Set,O=(F,H,U,G,Q)=>{const J=s.c5(H,F,U,G,Q);P.has(J)||(v.push(new s.aG(F,H,U,G,Q)),P.add(J))};for(let F=0;F<r.length;F++){const H=r[F];if(M&&H.canonical.z!==l)continue;const U=H.canonical,G=H.overscaledZ,Q=H.wrap,J=1<<U.z,ie=U.x+1<J,ne=U.x>0,ae=U.y+1<J,fe=U.y>0,de=H.wrap-(ne?0:1),be=H.wrap+(ie?0:1),ge=ne?U.x-1:J-1,ve=ie?U.x+1:0;if(x)m[0]<0?(O(G,be,U.z,ve,U.y),m[1]<0&&ae&&(O(G,Q,U.z,U.x,U.y+1),O(G,be,U.z,ve,U.y+1)),m[1]>0&&fe&&(O(G,Q,U.z,U.x,U.y-1),O(G,be,U.z,ve,U.y-1))):m[0]>0?(O(G,de,U.z,ge,U.y),m[1]<0&&ae&&(O(G,Q,U.z,U.x,U.y+1),O(G,de,U.z,ge,U.y+1)),m[1]>0&&fe&&(O(G,Q,U.z,U.x,U.y-1),O(G,de,U.z,ge,U.y-1))):m[1]<0&&ae?O(G,Q,U.z,U.x,U.y+1):fe&&O(G,Q,U.z,U.x,U.y-1);else{const _e=H.visibleQuadrants;1&_e&&(O(G,de,U.z,ge,U.y),fe&&(O(G,Q,U.z,U.x,U.y-1),O(G,de,U.z,ge,U.y-1))),2&_e&&(O(G,be,U.z,ve,U.y),fe&&(O(G,Q,U.z,U.x,U.y-1),O(G,be,U.z,ve,U.y-1))),4&_e&&(O(G,de,U.z,ge,U.y),ae&&(O(G,Q,U.z,U.x,U.y+1),O(G,de,U.z,ge,U.y+1))),8&_e&&(O(G,be,U.z,ve,U.y),ae&&(O(G,Q,U.z,U.x,U.y+1),O(G,be,U.z,ve,U.y+1)))}}const z=[];for(const F of v)v.some(H=>F.isChildOf(H))||z.push(F);if(v=z.filter(F=>!r.some(H=>!!(F.overscaledZ<l&&H.isChildOf(F))||F.equals(H)||F.isChildOf(H))),M){const F=1<<l,H=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),U=[F*H.x,F*H.y],G=4,Q=G*G;v=v.filter(J=>{const ie=J.canonical.x+.5-U[0],ne=J.canonical.y+.5-U[1];return ie*ie+ne*ne<Q})}return v}coveringTiles(r){let l=this.coveringZoomLevel(r);const m=l,v=this.elevation&&this.elevation.exaggeration(),x=v&&!r.isTerrainDEM,M=this.projection.name==="mercator";if(r.minzoom!==void 0&&l<r.minzoom)return[];r.maxzoom!==void 0&&l>r.maxzoom&&(l=r.maxzoom);const P=this.locationCoordinate(this.center),O=this.center.lat,z=1<<l,F=[z*P.x,z*P.y,0],H=this.projection.name==="globe",U=!H,G=s.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,l,U),Q=H?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),J=z*s.bH(1,this.center.lat),ie=this._camera.position[2]/s.bH(1,this.center.lat),ne=[z*Q.x,z*Q.y,ie*(U?1:J)],ae=H||v,fe=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),de=this.isLODDisabled(!0)?l:0;let be;if(this._elevation&&r.isTerrainDEM)be=1e4*this._elevation.exaggeration();else if(this._elevation){const Ue=this._elevation.getMinMaxForVisibleTiles();be=Ue?Ue.max:this._centerAltitude}else be=this._centerAltitude;const ge=r.isTerrainDEM?-be:this._elevation?this._elevation.getMinElevationBelowMSL():0,ve=this.projection.isReprojectedInTileSpace?s.bS(this):1,_e=Ue=>{const Xe=new s.aa(Ue.x+25e-6,Ue.y,Ue.z),yt=new s.aa(Ue.x,Ue.y+25e-6,Ue.z),ht=Ue.toLngLat(),nt=Xe.toLngLat(),kt=yt.toLngLat(),wt=this.locationCoordinate(ht),Ot=this.locationCoordinate(nt),Vt=this.locationCoordinate(kt),ni=Math.hypot(Ot.x-wt.x,Ot.y-wt.y),$t=Math.hypot(Vt.x-wt.x,Vt.y-wt.y);return Math.sqrt(ni*$t)*ve/25e-6},Ee=Ue=>{const lt=be,Xe=ge;return{aabb:s.bV(this,z,0,0,0,Ue,Xe,lt,this.projection),zoom:0,x:0,y:0,minZ:Xe,maxZ:lt,wrap:Ue,fullyVisible:!1}},Oe=[];let Ge=[];const je=l,Le=r.reparseOverscaled?m:l,Ne=(ie-this._centerAltitude)*J,at=Ue=>{if(!this._elevation||!Ue.tileID||!M)return;const lt=this._elevation.getMinMaxForTile(Ue.tileID),Xe=Ue.aabb;lt?(Xe.min[2]=lt.min,Xe.max[2]=lt.max,Xe.center[2]=(Xe.min[2]+Xe.max[2])/2):(Ue.shouldSplit=bt(Ue),Ue.shouldSplit||(Xe.min[2]=Xe.max[2]=Xe.center[2]=this._centerAltitude))},pt=(Ue,lt)=>{if(.707*lt<Ue)return 1;const Xe=lt/Ue;return Xe/(1.4144271570014144+(Math.pow(1.1,Xe-1.4144271570014144+1)-1)/(1.1-1)-1)},bt=Ue=>{if(Ue.zoom<de)return!0;if(Ue.zoom===je)return!1;if(Ue.shouldSplit!=null)return Ue.shouldSplit;const lt=Ue.aabb.distanceX(ne),Xe=Ue.aabb.distanceY(ne);let yt=Ne,ht=1;if(H){yt=Ue.aabb.distanceZ(ne);const $t=Math.pow(2,Ue.zoom),Zt=s.aS((Ue.y+1)/$t),ri=s.aS(Ue.y/$t),Ei=Math.min(Math.max(O,Zt),ri),gi=s.c9(Ei)/s.c9(O);if(ht=Ei===O?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,gi/this._mercatorScaleRatio),this.zoom<=s.c6&&Ue.zoom===je-1&&gi>=.9)return!0}else if(x&&(yt=Ue.aabb.distanceZ(ne)*J),this.projection.isReprojectedInTileSpace&&m<=5){const $t=Math.pow(2,Ue.zoom),Zt=_e(new s.aa((Ue.x+.5)/$t,(Ue.y+.5)/$t));ht=Zt>.85?1:Zt}if(!M){const $t=Math.sqrt(lt*lt+Xe*Xe+yt*yt);let Zt=(1<<je-Ue.zoom)*fe*ht;return Zt*=pt(Math.max(yt,Ne),$t),$t<Zt}let nt=Number.MAX_VALUE,kt=0;const wt=Ue.aabb.getCorners(),Ot=[];for(const $t of wt){s.ab.vec3.sub(Ot,$t,ne),H||(x?Ot[2]*=J:Ot[2]=Ne);const Zt=s.ab.vec3.dot(Ot,this._camera.forward());Zt<nt&&(nt=Zt,kt=Math.abs(Ot[2]))}let Vt=(1<<je-Ue.zoom)*fe*ht;if(Vt*=pt(Math.max(kt,Ne),nt),nt<Vt)return!0;const ni=Ue.aabb.closestPoint(F);return ni[0]===F[0]&&ni[1]===F[1]};if(this.renderWorldCopies)for(let Ue=1;Ue<=3;Ue++)Oe.push(Ee(-Ue)),Oe.push(Ee(Ue));for(Oe.push(Ee(0));Oe.length>0;){const Ue=Oe.pop(),lt=Ue.x,Xe=Ue.y;let yt=Ue.fullyVisible;const ht=()=>this.projection.name==="globe"&&(Ue.y===0||Ue.y===(1<<Ue.zoom)-1);if(!yt){let nt=ae?Ue.aabb.intersects(G):Ue.aabb.intersectsFlat(G);if(nt===0&&ht()){const kt=new s.bT(Ue.zoom,lt,Xe);nt=s.bU(this,z,kt,!0).intersects(G)}if(nt===0)continue;yt=nt===2}if(Ue.zoom!==je&&bt(Ue))for(let nt=0;nt<4;nt++){const kt=(lt<<1)+nt%2,wt=(Xe<<1)+(nt>>1),Ot={aabb:M?Ue.aabb.quadrant(nt):s.bV(this,z,Ue.zoom+1,kt,wt,Ue.wrap,Ue.minZ,Ue.maxZ,this.projection),zoom:Ue.zoom+1,x:kt,y:wt,wrap:Ue.wrap,fullyVisible:yt,tileID:void 0,shouldSplit:void 0,minZ:Ue.minZ,maxZ:Ue.maxZ};x&&!H&&(Ot.tileID=new s.aG(Ue.zoom+1===je?Le:Ue.zoom+1,Ue.wrap,Ue.zoom+1,kt,wt),at(Ot)),Oe.push(Ot)}else{const nt=Ue.zoom===je?Le:Ue.zoom;if(r.minzoom&&r.minzoom>nt)continue;let kt=0;if(!yt){let ni=ae?Ue.aabb.intersectsPrecise(G):Ue.aabb.intersectsPreciseFlat(G);if(ni===0&&ht()){const $t=new s.bT(Ue.zoom,lt,Xe);ni=s.bU(this,z,$t,!0).intersectsPrecise(G)}if(ni===0)continue;if(r.calculateQuadrantVisibility)if(G.containsPoint(Ue.aabb.center))kt=15;else for(let $t=0;$t<4;$t++)Ue.aabb.quadrant($t).intersects(G)!==0&&(kt|=1<<$t)}const wt=F[0]-(.5+lt+(Ue.wrap<<Ue.zoom))*(1<<l-Ue.zoom),Ot=F[1]-.5-Xe,Vt=Ue.tileID?Ue.tileID:new s.aG(nt,Ue.wrap,Ue.zoom,lt,Xe);r.calculateQuadrantVisibility&&(Vt.visibleQuadrants=kt),Ge.push({tileID:Vt,distanceSq:wt*wt+Ot*Ot})}}if(this.fogCullDistSq){const Ue=this.fogCullDistSq,lt=this.horizonLineFromTop();Ge=Ge.filter(Xe=>{const yt=[0,0,0,1],ht=[s.ag,s.ag,0,1],nt=this.calculateFogTileMatrix(Xe.tileID.toUnwrapped());s.ab.vec4.transformMat4(yt,yt,nt),s.ab.vec4.transformMat4(ht,ht,nt);const kt=s.ab.vec4.min([],yt,ht),wt=s.ab.vec4.max([],yt,ht),Ot=s.bW(kt,wt);if(Ot===0)return!0;let Vt=!1;const ni=this._elevation;if(ni&&Ot>Ue&&lt!==0){const $t=this.calculateProjMatrix(Xe.tileID.toUnwrapped());let Zt;r.isTerrainDEM||(Zt=ni.getMinMaxForTile(Xe.tileID)),Zt||(Zt={min:ge,max:be});const ri=s.c7(this.rotation),Ei=[ri[0]*s.ag,ri[1]*s.ag,Zt.max];s.ab.vec3.transformMat4(Ei,Ei,$t),Vt=(1-Ei[1])*this.height*.5<lt}return Ot<Ue||Vt})}return Ge.sort((Ue,lt)=>Ue.distanceSq-lt.distanceSq).map(Ue=>Ue.tileID)}resize(r,l){this.width=r,this.height=l,this.pixelsToGLUnits=[2/r,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const l=s.aw(r.lat,-s.bX,s.bX),m=this.projection.project(r.lng,l);return new s.P(m.x*this.worldSize,m.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/s.bH(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,l){let m,v;const x=this.centerPoint;if(this.projection.name==="globe"){const P=this.worldSize;m=(l.x-x.x)/P,v=(l.y-x.y)/P}else{const P=this.pointCoordinate(l),O=this.pointCoordinate(x);m=P.x-O.x,v=P.y-O.y}const M=this.locationCoordinate(r);this.setLocation(new s.aa(M.x-m,M.y-v))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,l){const m=l?s.bH(l,r.lat):void 0,v=this.projection.project(r.lng,r.lat);return new s.aa(v.x,v.y,m)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,l){const m=l??this._centerAltitude,v=[r.x,r.y,0,1],x=[r.x,r.y,1,1];s.ab.vec4.transformMat4(v,v,this.pixelMatrixInverse),s.ab.vec4.transformMat4(x,x,this.pixelMatrixInverse);const M=x[3];s.ab.vec4.scale(v,v,1/v[3]),s.ab.vec4.scale(x,x,1/M);const P=v[2],O=x[2];return{p0:v,p1:x,t:P===O?0:(m-P)/(O-P)}}screenPointToMercatorRay(r){const l=[r.x,r.y,0,1],m=[r.x,r.y,1,1];return s.ab.vec4.transformMat4(l,l,this.pixelMatrixInverse),s.ab.vec4.transformMat4(m,m,this.pixelMatrixInverse),s.ab.vec4.scale(l,l,1/l[3]),s.ab.vec4.scale(m,m,1/m[3]),l[2]=s.bH(l[2],this._center.lat)*this.worldSize,m[2]=s.bH(m[2],this._center.lat)*this.worldSize,s.ab.vec4.scale(l,l,1/this.worldSize),s.ab.vec4.scale(m,m,1/this.worldSize),new s.aq([l[0],l[1],l[2]],s.ab.vec3.normalize([],s.ab.vec3.sub([],m,l)))}rayIntersectionCoordinate(r){const{p0:l,p1:m,t:v}=r,x=s.bH(l[2],this._center.lat),M=s.bH(m[2],this._center.lat);return new s.aa(s.af(l[0],m[0],v)/this.worldSize,s.af(l[1],m[1],v)/this.worldSize,s.af(x,M,v))}pointCoordinate(r,l=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,l)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let l=this.projection.pointCoordinate3D(this,r.x,r.y);if(l)return new s.aa(l[0],l[1],l[2]);let m=0,v=this.horizonLineFromTop();if(r.y>v)return this.pointCoordinate(r);const x=.02*v,M=r.clone();for(let P=0;P<10&&v-m>x;P++){M.y=s.af(m,v,.66);const O=this.projection.pointCoordinate3D(this,M.x,M.y);O?(v=M.y,l=O):m=M.y}return l?new s.aa(l[0],l[1],l[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=s.bY)return!this.isPointAboveHorizon(r);const l=this.pointCoordinate(r);return l.y>=0&&l.y<=1}_coordinatePoint(r,l){const m=l&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,v=[r.x*this.worldSize,r.y*this.worldSize,m+r.toAltitude(),1];return s.ab.vec4.transformMat4(v,v,this.pixelMatrix),v[3]>0?new s.P(v[0]/v[3],v[1]/v[3]):new s.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:l}=this._edgeInsets,m=this.height-this._edgeInsets.bottom,v=this.width-this._edgeInsets.right,x=this.pointLocation3D(new s.P(l,r)),M=this.pointLocation3D(new s.P(v,r)),P=this.pointLocation3D(new s.P(v,m)),O=this.pointLocation3D(new s.P(l,m));let z=Math.min(x.lng,M.lng,P.lng,O.lng),F=Math.max(x.lng,M.lng,P.lng,O.lng),H=Math.min(x.lat,M.lat,P.lat,O.lat),U=Math.max(x.lat,M.lat,P.lat,O.lat);const G=Math.pow(2,-this.zoom)/16*270,Q=this.projection.name==="globe"?1:4,J=(ie,ne,ae,fe,de)=>{const be=(ie+ae)/2,ge=(ne+fe)/2,ve=new s.P(be,ge),{lng:_e,lat:Ee}=this.pointLocation3D(ve),Oe=Math.max(0,z-_e,H-Ee,_e-F,Ee-U);z=Math.min(z,_e),F=Math.max(F,_e),H=Math.min(H,Ee),U=Math.max(U,Ee),(de<Q||Oe>G)&&(J(ie,ne,be,ge,de+1),J(be,ge,ae,fe,de+1))};if(J(l,r,v,r,1),J(v,r,v,m,1),J(v,m,l,m,1),J(l,m,l,r,1),this.projection.name==="globe"){const[ie,ne]=s.bZ(this);ie?(U=90,F=180,z=-180):ne&&(H=-90,F=180,z=-180)}return new s.az(new s.bO(z,H),new s.bO(F,U))}_getBoundsRectangular(r,l){const{top:m,left:v}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,M=this.width-this._edgeInsets.right,P=new s.P(v,m),O=new s.P(M,m),z=new s.P(M,x),F=new s.P(v,x);let H=this.pointCoordinate(P,r),U=this.pointCoordinate(O,r);const G=this.pointCoordinate(z,l),Q=this.pointCoordinate(F,l),J=(ie,ne)=>(ne.y-ie.y)/(ne.x-ie.x);return H.y>1&&U.y>=0?H=new s.aa((1-Q.y)/J(Q,H)+Q.x,1):H.y<0&&U.y<=1&&(H=new s.aa(-Q.y/J(Q,H)+Q.x,0)),U.y>1&&H.y>=0?U=new s.aa((1-G.y)/J(G,U)+G.x,1):U.y<0&&H.y<=1&&(U=new s.aa(-G.y/J(G,U)+G.x,0)),new s.az().extend(this.coordinateLocation(H)).extend(this.coordinateLocation(U)).extend(this.coordinateLocation(Q)).extend(this.coordinateLocation(G))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const l=r.visibleDemTiles.reduce((m,v)=>{if(v.dem){const x=v.dem.tree;m.min=Math.min(m.min,x.minimums[0]),m.max=Math.max(m.max,x.maximums[0])}return m},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(l.min*r.exaggeration(),l.max*r.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const l=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,m=this.height/2-l*(1-this._horizonShift);return r?Math.max(0,m):m}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-s.bX,this.maxLat=s.bX,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.at(this.minLng)*this.tileSize,this.worldMaxX=s.at(this.maxLng)*this.tileSize,this.worldMinY=s.aA(this.maxLat)*this.tileSize,this.worldMaxY=s.aA(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,l){return this.projection.createTileMatrix(this,l,r)}calculateDistanceTileData(r){const l=r.key,m=this._distanceTileDataCache;if(m[l])return m[l];const v=r.canonical,x=1/this.height,M=this.cameraWorldSize,P=M/this.zoomScale(v.z),O=(v.x+Math.pow(2,v.z)*r.wrap)*P,z=v.y*P,F=this.point;F.x*=M/this.worldSize,F.y*=M/this.worldSize;const H=this.angle,U=Math.sin(-H),G=-Math.cos(-H);return m[l]={bearing:[U,G],center:[(F.x-O)*x,(F.y-z)*x],scale:P/s.ag*x},m[l]}calculateFogTileMatrix(r){const l=r.key,m=this._fogTileMatrixCache;if(m[l])return m[l];const v=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return s.ab.mat4.multiply(v,this.worldToFogMatrix,v),m[l]=new Float32Array(v),m[l]}calculateProjMatrix(r,l=!1,m=!1){const v=r.key;let x;if(x=m?this._expandedProjMatrixCache:l?this._alignedProjMatrixCache:this._projMatrixCache,x[v])return x[v];const M=this.calculatePosMatrix(r,this.worldSize);let P;return P=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:m?this.expandedFarZProjMatrix:l?this.alignedProjMatrix:this.projMatrix,s.ab.mat4.multiply(M,P,M),x[v]=new Float32Array(M),x[v]}calculatePixelsToTileUnitsMatrix(r){const l=r.tileID.key,m=this._pixelsToTileUnitsCache;if(m[l])return m[l];const v=s.b_(r,this);return m[l]=v,m[l]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const r=1/this.worldSize,l=s.ab.mat4.fromScaling([],[r,r,r]);return s.ab.mat4.multiply(l,l,this.globeMatrix),l}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const l=s.bH(1,this._center.lat)*this.worldSize,m=this._computeCameraPosition(l),v=this._camera.forward(),x=s.bH(1,this._center.lat);m[2]/=x,v[2]/=x,s.ab.vec3.normalize(v,v);const M=r.raycast(m,v,r.exaggeration());if(M){const P=s.ab.vec3.scaleAndAdd([],m,v,M),O=new s.aa(P[0],P[1],s.bH(P[2],s.aS(P[1]))),z=(O.z+s.ab.vec3.length([O.x-m[0],O.y-m[1],O.z-m[2]*x]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(z),this._centerAltitude=O.toAltitude(),this._center=this.coordinateLocation(O),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const l=this._elevation,m=s.bH(1,this._center.lat)*this.worldSize,v=this._computeCameraPosition(m),x=l.getAtPointOrZero(new s.aa(...v)),M=this.pixelsPerMeter/this.worldSize*x,P=this._minimumHeightOverTerrain(),O=v[2]-M;if(O<=P)if(O<0||r){const z=this.locationCoordinate(this._center,this._centerAltitude),F=[v[0],v[1],z.z-v[2]],H=s.ab.vec3.length(F);F[2]-=(P-O)/this._pixelsPerMercatorPixel;const U=s.ab.vec3.length(F);if(U===0)return;s.ab.vec3.scale(F,F,H/U*this._pixelsPerMercatorPixel),this._camera.position=[v[0],v[1],z.z*this._pixelsPerMercatorPixel-F[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const U=this.center;return U.lat=s.aw(U.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(U.lng=s.aw(U.lng,this.minLng,this.maxLng)),this.center=U,void(this._constraining=!1)}const l=this._unmodified,{x:m,y:v}=this.point;let x=0,M=m,P=v;const O=this.width/2,z=this.height/2,F=this.worldMinY*this.scale,H=this.worldMaxY*this.scale;if(v-z<F&&(P=F+z),v+z>H&&(P=H-z),H-F<this.height&&(x=Math.max(x,this.height/(H-F)),P=(H+F)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const U=this.worldMinX*this.scale,G=this.worldMaxX*this.scale,Q=this.worldSize/2-(U+G)/2;M=(m+Q+this.worldSize)%this.worldSize-Q,M-O<U&&(M=U+O),M+O>G&&(M=G-O),G-U<this.width&&(x=Math.max(x,this.width/(G-U)),M=(G+U)/2)}M===m&&P===v||(this.center=this.unproject(new s.P(M,P))),x&&(this.zoom+=this.scaleZoom(x)),this._constrainCamera(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,l=this.projection.name==="globe",m=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.bH(1,this.center.lat)/s.bH(1,s.c8));const v=s.b$(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,v),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this.projection.zAxisUnit==="meters"?m:1,M=this._camera.getWorldToCamera(this.worldSize,x);let P;const O=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(O[8]=2*-r.x/this.width,O[9]=2*r.y/this.height,this.isOrthographic){let Ee=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),Oe=Ee*this.aspect,Ge=-Oe,je=-Ee;Oe-=r.x,Ge-=r.x,Ee+=r.y,je+=r.y,P=this._camera.getCameraToClipOrthographic(Ge,Oe,je,Ee,this._nearZ,this._farZ),((Le,Ne,at,pt)=>{for(let bt=0;bt<16;bt++)Le[bt]=Hu(Ne[bt],at[bt],pt)})(P,P,O,At(this.pitch>=15?1:this.pitch/15))}else P=O;const z=s.ab.mat4.mul([],O,M);let F=s.ab.mat4.mul([],P,M);if(this.projection.isReprojectedInTileSpace){const Ee=this.locationCoordinate(this.center),Oe=s.ab.mat4.identity([]);s.ab.mat4.translate(Oe,Oe,[Ee.x*this.worldSize,Ee.y*this.worldSize,0]),s.ab.mat4.multiply(Oe,Oe,s.c0(this)),s.ab.mat4.translate(Oe,Oe,[-Ee.x*this.worldSize,-Ee.y*this.worldSize,0]),s.ab.mat4.multiply(F,F,Oe),s.ab.mat4.multiply(z,z,Oe),this.inverseAdjustmentMatrix=s.c1(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=s.ab.mat4.scale([],F,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=F,this.invProjMatrix=s.ab.mat4.invert(new Float64Array(16),this.projMatrix),l){const Ee=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);Ee[8]=2*-r.x/this.width,Ee[9]=2*r.y/this.height,this.expandedFarZProjMatrix=s.ab.mat4.mul([],Ee,M)}else this.expandedFarZProjMatrix=this.projMatrix;const H=s.ab.mat4.invert([],P);this.frustumCorners=s.c2.fromInvProjectionMatrix(H,this.horizonLineFromTop(),this.height),this.cameraFrustum=s.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!l);const U=new Float32Array(16);s.ab.mat4.identity(U),s.ab.mat4.scale(U,U,[1,-1,1]),s.ab.mat4.rotateX(U,U,this._pitch),s.ab.mat4.rotateZ(U,U,this.angle);const G=s.ab.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=s.ab.mat4.clone(G);const Q=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;G[8]=2*-r.x/this.width,G[9]=2*(r.y+Q)/this.height,this.skyboxMatrix=s.ab.mat4.multiply(U,G,U);const J=this.point,ie=J.x,ne=J.y,ae=this.width%2/2,fe=this.height%2/2,de=Math.cos(this.angle),be=Math.sin(this.angle),ge=ie-Math.round(ie)+de*ae+be*fe,ve=ne-Math.round(ne)+de*fe+be*ae,_e=new Float64Array(F);if(s.ab.mat4.translate(_e,_e,[ge>.5?ge-1:ge,ve>.5?ve-1:ve,0]),this.alignedProjMatrix=_e,F=s.ab.mat4.create(),s.ab.mat4.scale(F,F,[this.width/2,-this.height/2,1]),s.ab.mat4.translate(F,F,[1,-1,0]),this.labelPlaneMatrix=F,F=s.ab.mat4.create(),s.ab.mat4.scale(F,F,[1,-1,1]),s.ab.mat4.translate(F,F,[-1,-1,0]),s.ab.mat4.scale(F,F,[2/this.width,2/this.height,1]),this.glCoordMatrix=F,this.pixelMatrix=s.ab.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,z),this._calcFogMatrices(),this._distanceTileDataCache={},F=s.ab.mat4.invert(new Float64Array(16),this.pixelMatrix),!F)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=F,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.c3(this);const Ee=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.ab.vec3.transformMat4(Ee,Ee,M),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=F;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,l=this.cameraPixelsPerMeter,m=this._camera.position,v=1/this.height/this._pixelsPerMercatorPixel,x=[r,r,l];s.ab.vec3.scale(x,x,v),s.ab.vec3.scale(m,m,-1),s.ab.vec3.multiply(m,m,x);const M=s.ab.mat4.create();s.ab.mat4.translate(M,M,m),s.ab.mat4.scale(M,M,x),this.mercatorFogMatrix=M,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,l,v)}_computeCameraPosition(r){const l=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,m=this._camera.forward(),v=this.point,x=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*l-r/this.worldSize*this._centerAltitude;return[v.x/this.worldSize-m[0]*x,v.y/this.worldSize-m[1]*x,r/this.worldSize*this._centerAltitude-m[2]*x]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const l=this._maxCameraBoundsDistance()*Math.cos(this._pitch),m=this._camera.position[2],v=r[2];let x=1;this.projection.wrap&&(this.center=this.center.wrap()),v>0&&(x=Math.min((l-m)/v,1)),this._camera.position=s.ab.vec3.scaleAndAdd([],this._camera.position,r,x),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,l=this._camera.forward(),{pitch:m,bearing:v}=this._camera.getPitchBearing(),x=s.bH(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,M=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.ai(this._maxPitch)),P=Math.max((r[2]-x)/Math.cos(m),M),O=this._zoomFromMercatorZ(P);s.ab.vec3.scaleAndAdd(r,r,l,P),this._pitch=s.aw(m,s.ai(this.minPitch),s.ai(this.maxPitch)),this.angle=s.bF(v,-Math.PI,Math.PI),this._setZoom(s.aw(O,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.aa(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let l=0,m=s.bY,v=0,x=1/0;for(;m-l>1e-6&&m>l;){const M=l+.5*(m-l),P=this.tileSize*Math.pow(2,M),O=this.getCameraToCenterDistance(this.projection,M,P),z=this.scaleZoom(O/(r*this.tileSize)),F=Math.abs(M-z);F<x&&(x=F,v=M),M<z?l=M:m=M}return v}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,l){const m=Math.min(r.x,l.x),v=Math.max(r.x,l.x),x=Math.min(r.y,l.y),M=Math.max(r.y,l.y);if(x<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const P=[new s.P(m,x),new s.P(v,M),new s.P(m,M),new s.P(v,x)],O=this.renderWorldCopies?-3:0,z=this.renderWorldCopies?4:1;for(const F of P){const H=this.pointRayIntersection(F);if(H.t<0)return!0;const U=this.rayIntersectionCoordinate(H);if(U.x<O||U.y<0||U.x>z||U.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.c4(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.P(0,0),new s.P(this.width,this.height))}zoomDeltaToMovement(r,l){const m=s.ab.vec3.length(s.ab.vec3.sub([],this._camera.position,r)),v=this._zoomFromMercatorZ(m)+l;return m-this._mercatorZfromZoom(v)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([l,m,v],x){const M=[l,m,v,1];s.ab.vec4.transformMat4(M,M,x);const P=M[3]=Math.max(M[3],1e-6);return M[0]/=P,M[1]/=P,M[2]/=P,M}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.P(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(0,r))}}getCameraToCenterDistance(r,l=this.zoom,m=this.worldSize){const v=s.b$(r,l,this.width,this.height,1024),x=r.pixelSpaceConversion(this.center.lat,m,v);let M=.5/Math.tan(.5*this._fov)*this.height*x;return this.isOrthographic&&(M=Hu(1,M,At(this.pitch>=15?1:this.pitch/15))),M}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.ab.mat4.multiply(r,r,this.globeMatrix),r}getFrustum(r){return s.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,this.projection.zAxisUnit==="meters")}}const Wa=(f,r)=>{if(r>0&&f.terrain&&s.w("Cutoff is currently disabled on terrain"),r<=0||f.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const l=f.transform,m=Math.max(Math.abs(l._zoom-(f.minCutoffZoom-1)),1),v=l.isLODDisabled(!1)?s.ac(60,45,l.pitch):s.ac(30,15,l.pitch),x=l._farZ-l._nearZ,M=r*l.height,P=((1-(O=v))*l.cameraToCenterDistance+O*(l._farZ+M))*m;var O;return{shouldRenderCutoff:v<1,uniformValues:{u_cutoff_params:[l._nearZ,l._farZ,(P-l._nearZ)/x,(P-M-l._nearZ)/x]}}},zr={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class Um{constructor(r,l){this.aabb=r,this.lastCascade=l}}class ju{add(r,l){const m=this.receivers[r.key];m!==void 0?(m.aabb.min[0]=Math.min(m.aabb.min[0],l.min[0]),m.aabb.min[1]=Math.min(m.aabb.min[1],l.min[1]),m.aabb.min[2]=Math.min(m.aabb.min[2],l.min[2]),m.aabb.max[0]=Math.max(m.aabb.max[0],l.max[0]),m.aabb.max[1]=Math.max(m.aabb.max[1],l.max[1]),m.aabb.max[2]=Math.max(m.aabb.max[2],l.max[2])):this.receivers[r.key]=new Um(l,null)}clear(){this.receivers={}}get(r){return this.receivers[r.key]}computeRequiredCascades(r,l,m){const v=s.cd.fromPoints(r.points);let x=0;for(const M in this.receivers){const P=this.receivers[M];if(!P||!v.intersectsAabb(P.aabb))continue;P.aabb.min=v.closestPoint(P.aabb.min),P.aabb.max=v.closestPoint(P.aabb.max);const O=P.aabb.getCorners();for(let z=0;z<m.length;z++){let F=!0;for(const H of O){const U=[H[0]*l,H[1]*l,H[2]];if(s.ab.vec3.transformMat4(U,U,m[z].matrix),U[0]<-1||U[0]>1||U[1]<-1||U[1]>1){F=!1;break}}if(P.lastCascade=z,x=Math.max(x,z),F)break}}return x+1}}class Za{constructor(r){this.painter=r,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new ju,this._depthMode=new Wt(r.context.gl.LEQUAL,Wt.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,r.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),r.tp.registerParameter(zr,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),r.tp.registerParameter(zr,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),r.tp.registerParameter(zr,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),r.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const r of this._cascades)r.texture.destroy(),r.framebuffer.destroy();this._cascades=[]}updateShadowParameters(r,l){const m=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!l||!l.properties)return;const v=l.properties.get("shadow-intensity");if(!l.shadowsEnabled()||v<=0||(this._shadowLayerCount=m.style.order.reduce((Q,J)=>{const ie=m.style._mergedLayers[J];return Q+(ie.hasShadowPass()&&!ie.isHidden(r.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const x=m.context,M=zr.shadowMapResolution,P=zr.shadowMapResolution;if(this._cascades.length===0||zr.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Q=0;Q<zr.cascadeCount;++Q){const J=m._shadowMapDebug,ie=x.gl,ne=x.createFramebuffer(M,P,J,"texture"),ae=new s.T(x,{width:M,height:P,data:null},ie.DEPTH_COMPONENT16);if(ne.depthAttachment.set(ae.texture),J){const fe=new s.T(x,{width:M,height:P,data:null},ie.RGBA8);ne.colorAttachment.set(fe.texture)}this._cascades.push({framebuffer:ne,texture:ae,matrix:[],far:0,boundingSphereRadius:0,frustum:new s.bR,scale:0})}}this.shadowDirection=_o(l);let O=0;if(r.elevation){const Q=r.elevation,J=[1e4,-1e4];Q.visibleDemTiles.filter(ie=>ie.dem).forEach(ie=>{const ne=ie.dem.tree;J[0]=Math.min(J[0],ne.minimums[0]),J[1]=Math.max(J[1],ne.maximums[0])}),J[0]!==1e4&&(O=(J[1]-J[0])*Q.exaggeration())}const z=1.5*r.cameraToCenterDistance,F=3*z,H=new Float64Array(16);for(let Q=0;Q<this._cascades.length;++Q){const J=this._cascades[Q];let ie=r.height/50,ne=1;zr.cascadeCount===1?ne=F:Q===0?ne=z:(ie=z,ne=F);const[ae,fe]=Xl(r,this.shadowDirection,ie,ne,zr.shadowMapResolution,O);J.scale=r.scale,J.matrix=ae,J.boundingSphereRadius=fe,s.ab.mat4.invert(H,J.matrix),J.frustum=s.bR.fromInvProjectionMatrix(H,1,0,!0),J.far=ne}const U=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[U].far,this._cascades[U].far],this._uniformValues.u_shadow_intensity=v,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/zr.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=zr.shadowMapResolution,this._uniformValues.u_shadowmap_0=Rr.ShadowMap0,this._uniformValues.u_shadowmap_1=Rr.ShadowMap0+1,this._groundShadowTiles=m.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const G=m.transform.elevation;for(const Q of this._groundShadowTiles){let J={min:0,max:0};if(G){const ie=G.getMinMaxForTile(Q);ie&&(J=ie)}this.addShadowReceiver(Q.toUnwrapped(),J.min,J.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(r){this._enabled=r}drawShadowPass(r,l){if(!this.enabled)return;const m=this.painter,v=m.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(m.transform.getFrustum(0),m.transform.worldSize,this._cascades),v.viewport.set([0,0,zr.shadowMapResolution,zr.shadowMapResolution]);for(let x=0;x<this._numCascadesToRender;++x){m.currentShadowCascade=x,v.bindFramebuffer.set(this._cascades[x].framebuffer.framebuffer),v.clear({color:s.aj.white,depth:1});for(const M of r.order){const P=r._mergedLayers[M];if(!P.hasShadowPass()||P.isHidden(m.transform.zoom))continue;const O=r.getLayerSourceCache(P),z=O?l[O.id]:void 0;(P.type==="model"||z&&z.length)&&m.renderLayer(m,O,P,z)}}m.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const r=this.painter,l=r.style,m=r.context,v=l.directionalLight,x=l.ambientLight;if(!v||!x)return;const M=[],P=Wa(r,r.longestCutoffRange);P.shouldRenderCutoff&&M.push("RENDER_CUTOFF"),M.push("RENDER_SHADOWS","DEPTH_TEXTURE"),this.useNormalOffset&&M.push("NORMAL_OFFSET");const O=Yl(l,v,x),z=new Wt(m.gl.LEQUAL,Wt.ReadOnly,r.depthRangeFor3D);for(const F of this._groundShadowTiles){const H=F.toUnwrapped(),U=r.isTileAffectedByFog(F),G=r.getOrCreateProgram("groundShadow",{defines:M,overrideFog:U});this.setupShadows(H,G),r.uploadCommonUniforms(m,G,H,null,P);const Q={u_matrix:r.transform.calculateProjMatrix(H),u_ground_shadow_factor:O};G.draw(r,m.gl.TRIANGLES,z,ci.disabled,vi.multiply,ti.disabled,Q,"ground_shadow",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments,{},r.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?vi.unblended:vi.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(r){const l=this.painter.transform,m=l.calculatePosMatrix(r,l.worldSize);return s.ab.mat4.multiply(m,this._cascades[this.painter.currentShadowCascade].matrix,m),Float32Array.from(m)}calculateShadowPassMatrixFromMatrix(r){return s.ab.mat4.multiply(r,this._cascades[this.painter.currentShadowCascade].matrix,r),Float32Array.from(r)}setupShadows(r,l,m,v=0){if(!this.enabled)return;const x=this.painter.transform,M=this.painter.context,P=M.gl,O=this._uniformValues,z=new Float64Array(16),F=x.calculatePosMatrix(r,x.worldSize);for(let H=0;H<this._cascades.length;H++)s.ab.mat4.multiply(z,this._cascades[H].matrix,F),O[H===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(z),M.activeTexture.set(P.TEXTURE0+Rr.ShadowMap0+H),this._cascades[H].texture.bind(P.NEAREST,P.CLAMP_TO_EDGE);if(this.useNormalOffset=!!m,this.useNormalOffset){const H=s.cc(r.canonical),U=2/x.tileSize*s.ag/zr.shadowMapResolution,G=U*this._cascades[0].boundingSphereRadius,Q=U*this._cascades[this._cascades.length-1].boundingSphereRadius,J=(m==="vector-tile"?1:3)/Math.pow(2,v-r.canonical.z-(1-x.zoom+Math.floor(x.zoom)));O.u_shadow_normal_offset=[H,G*J,Q*J],O.u_shadow_bias=[6e-5,.0012,.012]}else O.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(M,O)}setupShadowsFromMatrix(r,l,m=!1){if(!this.enabled)return;const v=this.painter.context,x=v.gl,M=this._uniformValues,P=new Float64Array(16);for(let O=0;O<zr.cascadeCount;O++)s.ab.mat4.multiply(P,this._cascades[O].matrix,r),M[O===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(P),v.activeTexture.set(x.TEXTURE0+Rr.ShadowMap0+O),this._cascades[O].texture.bind(x.NEAREST,x.CLAMP_TO_EDGE);if(this.useNormalOffset=m,m){const O=zr.normalOffset;M.u_shadow_normal_offset=[1,O,O],M.u_shadow_bias=[6e-5,.0012,.012]}else M.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(v,M)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(r,l,m,v){if(v[2]>=0)return{};const x=function(O,z,F){const H=F/(1<<O.canonical.z);return new s.cd([O.canonical.x*H+O.wrap*F,O.canonical.y*H+O.wrap*F,0],[(O.canonical.x+1)*H+O.wrap*F,(O.canonical.y+1)*H+O.wrap*F,z])}(r,l,m).getCorners(),M=l/-v[2];v[0]<0?(s.ab.vec3.add(x[0],x[0],[v[0]*M,0,0]),s.ab.vec3.add(x[3],x[3],[v[0]*M,0,0])):v[0]>0&&(s.ab.vec3.add(x[1],x[1],[v[0]*M,0,0]),s.ab.vec3.add(x[2],x[2],[v[0]*M,0,0])),v[1]<0?(s.ab.vec3.add(x[0],x[0],[0,v[1]*M,0]),s.ab.vec3.add(x[1],x[1],[0,v[1]*M,0])):v[1]>0&&(s.ab.vec3.add(x[2],x[2],[0,v[1]*M,0]),s.ab.vec3.add(x[3],x[3],[0,v[1]*M,0]));const P={};return P.vertices=x,P.planes=[Zl(x[1],x[0],x[4]),Zl(x[2],x[1],x[5]),Zl(x[3],x[2],x[6]),Zl(x[0],x[3],x[7])],P}addShadowReceiver(r,l,m){this._receivers.add(r,s.cd.fromTileIdAndHeight(r,l,m))}getMaxCascadeForTile(r){const l=this._receivers.get(r);return l&&l.lastCascade?l.lastCascade:0}}function Zl(f,r,l){const m=s.ab.vec3.sub([],l,r),v=s.ab.vec3.sub([],f,r),x=s.ab.vec3.cross([],m,v),M=s.ab.vec3.length(x);return M===0?[0,0,1,0]:(s.ab.vec3.scale(x,x,1/M),[x[0],x[1],x[2],-s.ab.vec3.dot(x,r)])}function _o(f){const r=f.properties.get("direction"),l=s.cb(r.x,r.y,r.z);l[2]=s.aw(l[2],0,75);const m=s.ce([l[0],l[1],l[2]]);return s.ab.vec3.fromValues(m.x,m.y,m.z)}function Yl(f,r,l){const m=r.properties.get("color-use-theme")==="none",v=r.properties.get("color"),x=r.properties.get("intensity"),M=r.properties.get("direction"),P=[M.x,M.y,M.z],O=l.properties.get("color-use-theme")==="none",z=l.properties.get("color"),F=l.properties.get("intensity"),H=Math.max(s.ab.vec3.dot([0,0,1],P),0),U=[0,0,0];s.ab.vec3.scale(U,z.toRenderColor(O?null:f.getLut(r.scope)).toArray01Linear().slice(0,3),F);const G=[0,0,0];return s.ab.vec3.scale(G,v.toRenderColor(m?null:f.getLut(l.scope)).toArray01Linear().slice(0,3),H*x),s.cf([U[0]>0?U[0]/(U[0]+G[0]):0,U[1]>0?U[1]/(U[1]+G[1]):0,U[2]>0?U[2]/(U[2]+G[2]):0])}function Xl(f,r,l,m,v,x){const M=f.zoom,P=f.scale,O=f.worldSize,z=1/O,F=f.aspect,H=Math.sqrt(1+F*F)*Math.tan(.5*f.fovX),U=H*H,G=m-l,Q=m+l;let J,ie;U>G/Q?(J=m,ie=m*H):(J=.5*Q*(1+U),ie=.5*Math.sqrt(G*G+2*(m*m+l*l)*U+Q*Q*U*U));const ne=f.projection.pixelsPerMeter(f.center.lat,O),ae=f._camera.getCameraToWorldMercator(),fe=[0,0,-J*z];s.ab.vec3.transformMat4(fe,fe,ae);let de=ie*z;const be=f._edgeInsets;if(!(be.left===0&&be.top===0&&be.right===0&&be.bottom===0||be.left===be.right&&be.top===be.bottom)){const yt=f._camera.getWorldToCamera(f.worldSize,f.projection.zAxisUnit==="meters"?ne:1),ht=f._camera.getCameraToClipPerspective(f._fov,f.width/f.height,l,m);ht[8]=2*-f.centerOffset.x/f.width,ht[9]=2*f.centerOffset.y/f.height;const nt=new Float64Array(16);s.ab.mat4.mul(nt,ht,yt);const kt=new Float64Array(16);s.ab.mat4.invert(kt,nt);const wt=s.bR.fromInvProjectionMatrix(kt,O,M,!0);for(const Ot of wt.points){const Vt=((ge=Ot)[0]/=P,ge[1]/=P,ge[2]=s.bH(ge[2],f._center.lat),ge);de=Math.max(de,s.ab.vec3.len(s.ab.vec3.subtract([],fe,Vt)))}}var ge;de*=v/(v-1);const ve=Math.acos(r[2]),_e=Math.atan2(-r[0],-r[1]),Ee=new sh;Ee.position=fe,Ee.setPitchBearing(ve,_e);const Oe=Ee.getWorldToCamera(O,ne),Ge=de*O,je=Math.min(f._mercatorZfromZoom(17)*O*-2,-2*Ge),Le=Ee.getCameraToClipOrthographic(-Ge,Ge,-Ge,Ge,je,(Ge+x*ne)/r[2]),Ne=new Float64Array(16);s.ab.mat4.multiply(Ne,Le,Oe);const at=s.ab.vec3.fromValues(Math.floor(1e6*fe[0])/1e6*O,Math.floor(1e6*fe[1])/1e6*O,0),pt=.5*v,bt=[0,0,0];s.ab.vec3.transformMat4(bt,at,Ne),s.ab.vec3.scale(bt,bt,pt);const Ue=[Math.floor(bt[0]),Math.floor(bt[1]),Math.floor(bt[2])],lt=[0,0,0];s.ab.vec3.sub(lt,bt,Ue),s.ab.vec3.scale(lt,lt,-1/pt);const Xe=new Float64Array(16);return s.ab.mat4.identity(Xe),s.ab.mat4.translate(Xe,Xe,lt),s.ab.mat4.multiply(Ne,Xe,Ne),[Ne,Ge]}class C_ extends s.E{constructor(r){super(),this.requestManager=r,this.models={"":{}},this.numModelsLoading={}}loadModel(r,l){return s.aM(this.requestManager.transformRequest(l,s.R.Model).url).then(m=>{if(!m)return;const v=s.aN(m),x=new s.aO(r,void 0,void 0,v);return x.computeBoundsAndApplyParent(),x}).catch(m=>{if(m&&m.status===404)return null;this.fire(new s.y(new Error(`Could not load model ${r} from ${l}: ${m.message}`)))})}load(r,l){this.models[l]||(this.models[l]={});const m=Object.keys(r);this.numModelsLoading[l]=(this.numModelsLoading[l]||0)+m.length;const v=[];for(const x of m)v.push(this.loadModel(x,r[x]));Promise.allSettled(v).then(x=>{for(let M=0;M<x.length;M++){const{status:P,value:O}=x[M];P==="fulfilled"&&O&&(this.models[l][m[M]]={model:O,numReferences:1})}this.numModelsLoading[l]-=m.length,this.fire(new s.z("data",{dataType:"style"}))}).catch(x=>{this.fire(new s.y(new Error(`Could not load models: ${x.message}`)))})}isLoaded(){for(const r in this.numModelsLoading)if(this.numModelsLoading[r]>0)return!1;return!0}hasModel(r,l){return!!this.getModel(r,l)}getModel(r,l){return this.models[l]||(this.models[l]={}),this.models[l][r]?this.models[l][r].model:void 0}addModel(r,l,m){this.models[m]||(this.models[m]={}),this.hasModel(r,m)&&this.models[m][r].numReferences++,this.load({[r]:this.requestManager.normalizeModelURL(l)},m)}addModels(r,l){this.models[l]||(this.models[l]={});const m={};for(const v in r)this.models[l][v]={},m[v]=this.requestManager.normalizeModelURL(r[v]);this.load(m,l)}addModelsFromBucket(r,l){this.models[l]||(this.models[l]={});const m={};for(const v of r)this.hasModel(v,l)?this.models[l][v].numReferences++:m[v]=this.requestManager.normalizeModelURL(v);this.load(m,l)}removeModel(r,l){if(this.models[l]&&this.models[l][r]&&(this.models[l][r].numReferences--,this.models[l][r].numReferences===0)){const m=this.models[l][r].model;delete this.models[l][r],m.destroy()}}listModels(r){return this.models[r]||(this.models[r]={}),Object.keys(this.models[r])}upload(r,l){this.models[l]||(this.models[l]={});for(const m in this.models[l])this.models[l][m].model&&this.models[l][m].model.upload(r.context)}}const A_=new s.a5({data:new s.a6(s.a3.colorTheme.data)}),Vp={"mbx-indoor-active-floorplans":{default:["literal",[]]},"mbx-indoor-underground":{default:["literal",!1]},"mbx-indoor-loaded-levels":{default:["literal",[]]},"mbx-indoor-level-height":{default:["literal",{}]},"mbx-indoor-level-base":{default:["literal",{}]},"mbx-indoor-level-selected":{default:["literal",{}]},"mbx-indoor-level-overlapped":{default:["literal",{}]}};function jm(f){return f=f||{},Object.assign(f,Vp)}class qm extends s.E{constructor(r){super(),this.mergeFloors=!0,this._scope=void 0,this._queryFeatureSetId=void 0,this._buildingEntryFeatureSetId=void 0,this._selectedFloorplan=void 0,this._indoorData=void 0,this._selectedLevel=void 0,this._floorplanStates={},s.aP(["_onLoad","_onMove","_checkFloorplanVisible"],this),this._map=r,this._checkFloorplanVisible(!0),this._map.on("load",this._onLoad),this._map.on("move",this._onMove)}destroy(){this._map.indoor.off("load",this._onLoad),this._map.indoor.off("move",this._onMove),this._map=void 0}_onLoad(){this._map.style.forEachFragmentStyle(r=>{r.stylesheet.indoor&&(this._queryFeatureSetId?this.fire(new s.y(new Error("Multiple indoor map styles detected, simultaneous usage is not allowed currently."))):(this._queryFeatureSetId=r.stylesheet.indoor.floorplanFeaturesetId,this._buildingEntryFeatureSetId=r.stylesheet.indoor.buildingFeaturesetId,this._scope=r.scope))}),this._queryFeatureSetId&&this._buildingEntryFeatureSetId&&this._map.addInteraction("mbx-indoor-buildingclick",{type:"click",target:{featuresetId:this._buildingEntryFeatureSetId,importId:this._scope},handler:r=>(r.feature&&r.feature.properties.floorplan&&this.selectFloorplan(r.feature.properties.floorplan),!0)}),this._checkFloorplanVisible(!0)}_onMove(){this._checkFloorplanVisible(!1)}_checkFloorplanVisible(r){if(!this._queryFeatureSetId||!this._map.isStyleLoaded()||this._map.transform.zoom<13)return;this._indoorData&&!function(M,P){const[O,z]=M,{center:F,radius:H}=P,[U,G]=F,Q=Math.abs(O-U);return Math.sqrt((Q>180?360-Q:Q)**2+(z-G)**2)<=H}([this._map.getCenter().lng,this._map.getCenter().lat],this._indoorData.circumCircle)&&(this._indoorData=void 0,this._selectedFloorplan=void 0,this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",["literal",[]]),this.fire(new s.z("floorplangone")));const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=new s.P(this._map.transform.width/2,this._map.transform.height/2),v=[new s.P(0,0),new s.P(this._map.transform.width,this._map.transform.height)],x=this._map.queryRenderedFeatures(r?v:m,l);x.length>0&&(this._selectedFloorplan&&x[0].properties.id===this._selectedFloorplan.properties.id||(this._selectedFloorplan=x[0],this._floorplanSelected(!1)))}_floorplanSelected(r){this._indoorData=JSON.parse(this._selectedFloorplan.properties["indoor-data"]),this._indoorData.id=this._selectedFloorplan.properties.id,this._indoorData.circumCircle=function(x){const[[M,P],[O,z]]=x,F=(O-M+360)%360,H=F>180?360-F:F;return{center:[(M+H/2+360)%360,(P+z)/2],radius:Math.sqrt(H**2+(z-P)**2)/2}}(this._indoorData.extent),this._floorplanStates[this._indoorData.id]||(this._floorplanStates[this._indoorData.id]={});const l=this._floorplanStates[this._indoorData.id].selectedBuilding,m=this._floorplanStates[this._indoorData.id].selectedLevel;let v;if(this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",this._indoorData.floorplanIDs),this._selectedLevel)for(const x of this._indoorData.levels)x.id===this._selectedLevel.id&&(v=x.id);if(this.fire(new s.z("floorplanselected",{buildings:this._indoorData.buildings,levels:this._indoorData.levels,selectedLevelId:v})),l){const x=this._indoorData.buildings.find(M=>M.id===l);this._buildingSelected(x,!1)}else this._indoorData.buildings.length>0&&this._buildingSelected(this._indoorData.buildings[0],!1);if(m){const x=this._indoorData.levels.find(M=>M.id===m);this._updateLevels(x,r)}else r&&this._indoorData["default-levels"].length>0&&this.selectLevel(this._indoorData["default-levels"][0])}_buildingSelected(r,l){l&&r&&r.extent&&this._map.fitBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),this._floorplanStates[this._indoorData.id].selectedBuilding=r?r.id:void 0;const m=this._indoorData.levels.filter(v=>r.levels.includes(v.id));this.fire(new s.z("buildingselected",{buildingId:r.id,levels:m}))}_levelSelected(r){if(r==="overview")this._updateLevels(void 0,!0);else{const l=this._indoorData.levels.find(m=>m.id===r);this._updateLevels(l,!0)}this.fire(new s.z("levelselected",{levelId:r==="overview"?void 0:r}))}_updateLevels(r,l){if(!r)return this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",[]]),this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._floorplanStates[this._indoorData.id].selectedLevel=void 0,void(l&&this._indoorData.extent&&this._map.fitBounds(this._indoorData.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}));function m(z){const F=z.indexOf("/floor/");if(F===-1)return z;const H=F+7,U=z.indexOf("/",H);return U===-1?z.slice(H):z.slice(H,U)}this._selectedLevel=r,this._floorplanStates[this._indoorData.id].selectedLevel=r?r.id:void 0;const v=[],x={},M={},P={},O={};for(const z of this._indoorData.levels)if(v.push(z.id),x[z.id]=z.height,M[z.id]=z.base,r){if(this.mergeFloors){const F=m(r.id),H=m(z.id);P[z.id]=H===F?"true":"false"}else P[z.id]=z.id===r.id?"true":"false";O[z.id]=z.base<r.base?"true":"false"}else O[z.id]=!0;if(this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",v]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-height",["literal",x]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-base",["literal",M]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-selected",["literal",P]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-overlapped",["literal",O]),r&&(this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!!r.isUnderground),l&&r.extent)){const z=this._map.cameraForBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),F=this._map.getZoom(),H=z.zoom?Math.abs(F-z.zoom):0;this._map.fitBounds(r.extent,H>=1?{pitch:this._map.getPitch(),bearing:this._map.getBearing()}:{pitch:this._map.getPitch(),bearing:this._map.getBearing(),zoom:F})}}selectFloorplan(r){const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=[new s.P(0,0),new s.P(this._map.transform.width,this._map.transform.height)],v=this._map.queryRenderedFeatures(m,l);if(v.length>0){for(const x of v)if(JSON.parse(x.properties["indoor-data"]).floorplanIDs.includes(r)){this._selectedFloorplan=x,this._floorplanSelected(!0);break}}}selectBuilding(r){const l=this._indoorData.buildings.find(m=>m.id===r);this._buildingSelected(l,!0)}selectLevel(r){this._levelSelected(r)}}function $m(f){if(!f.metadata||!f.metadata.content_area)return;const r=s.q.devicePixelRatio,{left:l,top:m,width:v,height:x}=f.metadata.content_area,M=l*r,P=m*r;return[M,P,M+v*r,P+x*r]}function qu(f){if(f)return f.map(([r,l])=>[r*s.q.devicePixelRatio,l*s.q.devicePixelRatio])}const il=(f,r)=>Re(f,r&&r.filter(l=>l.identifier!=="source.canvas")),I_=s.ay(Di,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setSnow","setRain","setProjection","setCamera","addImport","removeImport","updateImport"]),P_=s.ay(Di,["setCenter","setZoom","setBearing","setPitch"]),Hp=new Set(["background","sky","slot","custom"]),Up={version:8,layers:[],sources:{}},Gm={duration:300,delay:0};class hs extends s.E{constructor(r,l={}){super(),this.map=r,this.scope=l.scope||"",this.globalId=null,this.fragments=[],this.importDepth=l.importDepth||0,this.importsCache=l.importsCache||new Map,this.resolvedImports=l.resolvedImports||new Set,this.transition=s.l({},Gm),this._buildingIndex=new x_(this),this.crossTileSymbolIndex=new Hm,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=l.styleChanges||new xa,this.dispatcher=l.dispatcher?l.dispatcher:new s.D(s.ci(),this),l.imageManager?this.imageManager=l.imageManager:(this.imageManager=new is(this.map._spriteFormat),this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=l.glyphManager?l.glyphManager:new s.cj(r._requestManager,l.localFontFamily?s.ck.all:l.localIdeographFontFamily?s.ck.ideographs:s.ck.none,l.localFontFamily||l.localIdeographFontFamily),l.modelManager?this.modelManager=l.modelManager:(this.modelManager=new C_(r._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=l.configOptions?l.configOptions:new Map,this._configDependentLayers=l.configDependentLayers?l.configDependentLayers:new Set,this._config=l.config,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null,colorThemeOverride:l.colorThemeOverride},this._styleColorThemeForScope={},this._initialConfig=l.initialConfig,this.dispatcher.broadcast("setReferrer",s.cl());const m=this;this._rtlTextPluginCallback=hs.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(x,M)=>{if(s.cm(x),M&&M.every(P=>P))for(const P in m._sourceCaches){const O=m._sourceCaches[P],z=O.getSource().type;z!=="vector"&&z!=="geojson"||O.reload()}})}),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const x=this.getOwnSource(v.sourceId);if(x&&x.vectorLayerIds)for(const M in this._layers){const P=this._layers[M];P.source===x.id&&this._validateLayer(P)}})}load(r){return r?(typeof r=="string"?this.loadURL(r):this.loadJSON(r),this):this}_getGlobalId(r){if(!r)return null;if(typeof r=="string"){if(s.f(r))return r;const l=s.cn(r);if(!l.startsWith("http"))try{return new URL(l,location.href).toString()}catch{return l}return l}return`json://${s.co(JSON.stringify(r))}`}_diffStyle(r,l,m){this.globalId=this._getGlobalId(r);const v=(x,M)=>{try{M(null,this.setState(x,m))}catch(P){M(P,!1)}};if(typeof r=="string"){const x=this.map._requestManager.normalizeStyleURL(r),M=this.map._requestManager.transformRequest(x,s.R.Style);s.n(M,(P,O)=>{P?this.fire(new s.y(P)):O&&v(O,l)})}else typeof r=="object"&&v(r,l)}loadURL(r,l={}){this.fire(new s.z("dataloading",{dataType:"style"}));const m=typeof l.validate=="boolean"?l.validate:!s.f(r);this.globalId=this._getGlobalId(r),r=this.map._requestManager.normalizeStyleURL(r,l.accessToken),this.resolvedImports.add(r);const v=this.importsCache.get(r);if(v)return this._load(v,m);const x=this.map._requestManager.transformRequest(r,s.R.Style);this._request=s.n(x,(M,P)=>{if(this._request=null,M)this.fire(new s.y(M));else if(P)return this.importsCache.set(r,P),this._load(P,m)})}loadJSON(r,l={}){this.fire(new s.z("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(r),this._request=s.q.frame(()=>{this._request=null,this._load(r,l.validate!==!1)})}loadEmpty(){this.fire(new s.z("dataloading",{dataType:"style"})),this._load(Up,!1)}_loadImports(r,l,m){if(this.importDepth>=4)return s.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const v=[];for(const x of r){const M=this._createFragmentStyle(x),P=new Promise(F=>{M.once("style.import.load",F),M.once("error",F)}).then(()=>this.mergeAll());if(v.push(P),this.resolvedImports.has(x.url)){M.loadEmpty();continue}const O=x.data||this.importsCache.get(x.url);O?(M.loadJSON(O,{validate:l}),this._isInternalStyle(O)&&(M.globalId=null)):x.url?M.loadURL(x.url,{validate:l}):M.loadEmpty();const z={style:M,id:x.id,config:x.config};if(m){const F=this.fragments.findIndex(({id:H})=>H===m);this.fragments=this.fragments.slice(0,F).concat(z).concat(this.fragments.slice(F))}else this.fragments.push(z)}return Promise.allSettled(v)}getImportGlobalIds(r=this,l=new Set){for(const m of r.fragments)m.style.globalId&&l.add(m.style.globalId),this.getImportGlobalIds(m.style,l);return[...l.values()]}_createFragmentStyle(r){const l=this.scope?s.aC(r.id,this.scope):r.id;let m;const v=this._initialConfig&&this._initialConfig[l];(r.config||v)&&(m=s.l({},r.config,v));const x=new hs(this.map,{scope:l,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:m,configOptions:this.options,colorThemeOverride:r["color-theme"],configDependentLayers:this._configDependentLayers});return x.setEventedParent(this.map,{style:x}),x}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(r){return this.isRootStyle()&&(r.fragment||!!r.schema&&r.fragment!==!1)}_load(r,l){const m=r.indoor?jm(r.schema):r.schema;if(this._isInternalStyle(r)){const M=s.l({},Up,{imports:[{id:"basemap",data:r,url:""}]});return void this._load(M,l)}if(this.updateConfig(this._config,m),l&&il(this,qn(r)))return;this._loaded=!0,this.stylesheet=s.cp(r);const v=()=>{for(const z in r.sources)this.addSource(z,r.sources[z],{validate:!1,isInitialLoad:!0});r.sprite?this._loadIconset(r.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(r.glyphs,this.scope);const M=Fp(this.stylesheet.layers);if(this._order=M.map(z=>z.id),this.stylesheet.light&&s.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const z=this.stylesheet.lights[0];this.light=new We(z.properties,z.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new We(this.stylesheet.light)),this._layers={};for(const z of M){const F=s.cu(z,this.scope,this._styleColorTheme.lut,this.options);F.configDependencies.size!==0&&this._configDependentLayers.add(F.fqid),F.setEventedParent(this,{layer:{id:F.id}}),this._layers[F.id]=F;const H=this.getOwnLayerSourceCache(F),U=!!this.directionalLight&&this.directionalLight.shadowsEnabled();H&&F.canCastShadows()&&U&&(H.castsShadows=!0)}this.stylesheet.featuresets&&this.setFeaturesetSelectors(this.stylesheet.featuresets),this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const P=this.stylesheet.terrain;P&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(P,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.snow&&this._createSnow(this.stylesheet.snow),this.stylesheet.rain&&this._createRain(this.stylesheet.rain),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new s.z("data",{dataType:"style"}));const O=this.isRootStyle();r.imports?this._loadImports(r.imports,l).then(()=>{this._reloadImports(),this.fire(new s.z(O?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new s.z(O?"style.load":"style.import.load")))};this._styleColorTheme.colorTheme=this.stylesheet["color-theme"];const x=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(x){const M=this._evaluateColorThemeData(x);this._loadColorTheme(M).then(()=>{v()}).catch(P=>{s.w(`Couldn't load color theme from the stylesheet: ${P}`),v()})}else this._styleColorTheme.lut=null,v()}isRootStyle(){return this.importDepth===0}mergeAll(){let r,l,m,v,x,M,P,O,z,F;const H={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(U=>{if(U.stylesheet){if(U.light!=null&&(r=U.light),U.stylesheet.lights)for(const G of U.stylesheet.lights)G.type==="ambient"&&U.ambientLight!=null&&(l=U.ambientLight),G.type==="directional"&&U.directionalLight!=null&&(m=U.directionalLight);v=this._prioritizeTerrain(v,U.terrain,U.stylesheet.terrain),U.stylesheet.fog&&U.fog!=null&&(x=U.fog),U.stylesheet.snow&&U.snow!=null&&(M=U.snow),U.stylesheet.rain&&U.rain!=null&&(P=U.rain),U.stylesheet.camera!=null&&(F=U.stylesheet.camera),U.stylesheet.projection!=null&&(O=U.stylesheet.projection),U.stylesheet.transition!=null&&(z=U.stylesheet.transition),H[U.scope]=U._styleColorTheme}}),this.light=r,this.ambientLight=l,this.directionalLight=m,this.fog=x,this.snow=M,this.rain=P,this._styleColorThemeForScope=H,v===null?delete this.terrain:this.terrain=v,this.camera=F||{"camera-projection":"perspective"},this.projection=O||{name:"mercator"},this.transition=s.l({},Gm,z),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(r){const l=m=>{for(const v of m.fragments)l(v.style);r(m)};l(this)}_prioritizeTerrain(r,l,m){const v=r&&r.drapeRenderMode===0;return m===null?l&&l.drapeRenderMode===0?l:v?r:null:l!=null&&(!r||v||l&&l.drapeRenderMode===1)?l:r}mergeTerrain(){let r;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(l=>{r=this._prioritizeTerrain(r,l.terrain,l.stylesheet.terrain)}),r===null?delete this.terrain:this.terrain=r}mergeProjection(){let r;this.forEachFragmentStyle(l=>{l.stylesheet.projection!=null&&(r=l.stylesheet.projection)}),this.projection=r||{name:"mercator"}}mergeSources(){const r={},l={},m={};this.forEachFragmentStyle(v=>{for(const x in v._sourceCaches){const M=s.aC(x,v.scope);r[M]=v._sourceCaches[x]}for(const x in v._otherSourceCaches){const M=s.aC(x,v.scope);l[M]=v._otherSourceCaches[x]}for(const x in v._symbolSourceCaches){const M=s.aC(x,v.scope);m[M]=v._symbolSourceCaches[x]}}),this._mergedSourceCaches=r,this._mergedOtherSourceCaches=l,this._mergedSymbolSourceCaches=m}mergeLayers(){const r={},l=[],m={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(x=>{for(const M of x._order){const P=x._layers[M];if(P.type==="slot"){const O=s.cq(M);if(r[O])continue;r[O]=[]}P.slot&&r[P.slot]?r[P.slot].push(P):l.push(P)}}),this._mergedOrder=[];const v=(x=[])=>{for(const M of x)if(M.type==="slot"){const P=s.cq(M.id);r[P]&&v(r[P]),this._mergedSlots.push(P)}else{const P=s.aC(M.id,M.scope);this._mergedOrder.push(P),m[P]=M,M.is3D()&&(this._has3DLayers=!0),M.type==="circle"&&(this._hasCircleLayers=!0),M.type==="symbol"&&(this._hasSymbolLayers=!0),M.type==="clip"&&(this._clipLayerPresent=!0)}};v(l),this._mergedOrder.sort((x,M)=>{const P=m[x],O=m[M];return P.hasInitialOcclusionOpacityProperties?O.is3D()?1:0:P.is3D()&&O.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=m,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(r){return this.stylesheet.camera=s.l({},this.stylesheet.camera,r),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(r){return r.data?function(l,m,v){const x=s.l({},m);for(const P of Object.keys(s.a3.colorTheme))x[P]===void 0&&(x[P]=s.a3.colorTheme[P].default);const M=new s.a4(A_,l,new Map(v));return M.setTransitionOrValue(x,v),M.untransitioned().possiblyEvaluate(new s.a8(0))}(this.scope,r,this.options).get("data"):null}_loadColorTheme(r){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const l=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((m,v)=>{const x="data:image/png;base64,";if(!r||r.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void m();let M=r;M.startsWith(x)||(M=x+M);const P="mapbox-reserved-lut",O=new Image;O.src=M,O.onerror=()=>{this._styleColorTheme.lutLoading=!1,v(new Error("Failed to load image data"))},O.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==l)return void m();this._styleColorTheme.lutLoading=!1;const{width:z,height:F,data:H}=s.q.getImageData(O);if(F>32)return void v(new Error("The height of the image must be less than or equal to 32 pixels."));if(z!==F*F)return void v(new Error("The width of the image must be equal to the height squared."));this.getImage(P)&&this.removeImage(P),this.addImage(P,{data:new s.r({width:z,height:F},H),pixelRatio:1,sdf:!1,usvg:!1,version:0});const U=this.imageManager.getImage(P,this.scope);U?(this._styleColorTheme.lut={image:U.data,data:r},m()):v(new Error("Missing LUT image."))}})}getLut(r){const l=this._styleColorThemeForScope[r];return l?l.lut:null}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(r){this._spriteRequest=function(l,m,v){let x,M,P;const O=s.q.devicePixelRatio>1?"@2x":"";let z=s.n(m.transformRequest(m.normalizeSpriteURL(l,O,".json"),s.R.SpriteJSON),(U,G)=>{z=null,P||(P=U,x=G,H())}),F=s.o(m.transformRequest(m.normalizeSpriteURL(l,O,".png"),s.R.SpriteImage),(U,G)=>{F=null,P||(P=U,M=G,H())});function H(){if(P)v(P);else if(x&&M){const U=s.q.getImageData(M),G={};for(const Q in x){const{width:J,height:ie,x:ne,y:ae,sdf:fe,pixelRatio:de,stretchX:be,stretchY:ge,content:ve}=x[Q],_e=new s.r({width:J,height:ie});s.r.copy(U,_e,{x:ne,y:ae},{x:0,y:0},{width:J,height:ie},null),G[Q]={data:_e,pixelRatio:de,sdf:fe,stretchX:be,stretchY:ge,content:ve,usvg:!1}}v(null,G)}}return{cancel(){z&&(z.cancel(),z=null),F&&(F.cancel(),F=null)}}}(r,this.map._requestManager,(l,m)=>{if(this._spriteRequest=null,l)this.fire(new s.y(l));else if(m)for(const v in m)this.imageManager.addImage(v,this.scope,m[v]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new s.z("data",{dataType:"style"}))})}_loadIconset(r){if(!s.f(r)&&this.map._spriteFormat!=="icon_set"||this.map._spriteFormat==="raster")return void this._loadSprite(r);const l=this.map._spriteFormat==="auto";var m,v;this._spriteRequest=(v=(x,M)=>{if(this._spriteRequest=null,x)l?this._loadSprite(r):this.fire(new s.y(x));else if(M)for(const P in M)this.imageManager.addImage(P,this.scope,M[P]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new s.z("data",{dataType:"style"}))},s.bi((m=this.map._requestManager).transformRequest(m.normalizeIconsetURL(r),s.R.Iconset),(x,M)=>{if(x)return void v(x);const P={},O=s.cg(new s.bh(M));for(const z of O.icons){const F={version:1,pixelRatio:s.q.devicePixelRatio,content:$m(z),stretchX:z.metadata?qu(z.metadata.stretch_x_areas):void 0,stretchY:z.metadata?qu(z.metadata.stretch_y_areas):void 0,sdf:!1,usvg:!0,icon:z};P[z.name]=F}v(null,P)}))}_validateLayer(r){const l=this.getOwnSource(r.source);if(!l)return;const m=r.sourceLayer;m&&(l.type==="geojson"||l.vectorLayerIds&&l.vectorLayerIds.indexOf(m)===-1)&&this.fire(new s.y(new Error(`Source layer "${m}" does not exist on source "${l.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:r}of this.fragments)if(!r.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((r,l)=>{const m=this.fragments[l];return m&&m.style&&(r.data=m.style.serialize()),r})}_serializeSources(){const r={};for(const l in this._sourceCaches){const m=this._sourceCaches[l].getSource();r[m.id]||(r[m.id]=m.serialize())}return r}_serializeLayers(r){const l=[];for(const m of r){const v=this._layers[m];v&&v.type!=="custom"&&l.push(v.serialize())}return l}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasSnowTransition(){return!!this.snow&&this.snow.hasTransition()}hasRainTransition(){return!!this.rain&&this.rain.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition()||this.hasSnowTransition()||this.hasRainTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}_getOrder(r){return r?this.order:this._mergedOrder}isLayerDraped(r){return!!this.terrain&&r.isDraped(this.getLayerSourceCache(r))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(r){const l=this.getOwnLayer(r);if(l)return l;this.fire(new s.y(new Error(`The layer '${r}' does not exist in the map's style.`)))}_checkSource(r){const l=this.getOwnSource(r);if(l)return l;this.fire(new s.y(new Error(`The source '${r}' does not exist in the map's style.`)))}precompilePrograms(r,l){const m=this.map.painter;if(m)for(let v=r.minzoom||0;v<(r.maxzoom||25.5);v++){const x=r.getProgramIds();if(x)for(const M of x){const P=r.getDefaultProgramParams(M,l.zoom,this._styleColorTheme.lut);P&&(m.style=this,this.fog&&(m._fogVisible=!0,P.overrideFog=!0,m.getOrCreateProgram(M,P)),m._fogVisible=!1,P.overrideFog=!1,m.getOrCreateProgram(M,P),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(P.overrideRtt=!0,m.getOrCreateProgram(M,P)))}}}update(r){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(r),this.directionalLight&&this.directionalLight.recalculate(r);const l=this.calculateLightsBrightness();r.brightness=l||0,l!==this._brightness&&(this._brightness=l,this.dispatcher.broadcast("setBrightness",l));const m=this._changes.isDirty();let v=!1;if(this._changes.isDirty()){const M=this._changes.getLayerUpdatesByScope();for(const P in M){const{updatedIds:O,removedIds:z}=M[P];(O||z)&&(this._updateWorkerLayers(P,O,z),v=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(r),this.light&&this.light.updateTransitions(r),this.ambientLight&&this.ambientLight.updateTransitions(r),this.directionalLight&&this.directionalLight.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this.snow&&this.snow.updateTransitions(r),this.rain&&this.rain.updateTransitions(r),this._changes.reset()}const x={};for(const M in this._mergedSourceCaches){const P=this._mergedSourceCaches[M];x[M]=P.used,P.used=!1,P.tileCoverLift=0}for(const M of this._mergedOrder){const P=this._mergedLayers[M];if(P.recalculate(r,this._availableImages),!P.isHidden(r.zoom)){const O=this.getLayerSourceCache(P);O&&(O.used=!0,O.tileCoverLift=Math.max(O.tileCoverLift,P.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(P,r)}):this.precompilePrograms(P,r))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&v&&this.mergeLayers();for(const M in x){const P=this._mergedSourceCaches[M];x[M]!==P.used&&P.getSource().fire(new s.z("data",{sourceDataType:"visibility",dataType:"source",sourceId:P.getSource().id}))}this.light&&this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.snow&&this.snow.recalculate(r),this.rain&&this.rain.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new s.z("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=this._changes.getUpdatedImages();if(r.length){for(const l in this._sourceCaches)this._sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],r);this._changes.resetUpdatedImages()}}_updateWorkerLayers(r,l,m){const v=this.getFragmentStyle(r);v&&this.dispatcher.broadcast("updateLayers",{layers:l?v._serializeLayers(l):[],scope:r,removedIds:m||[],options:v.options})}setState(r,l){if(this._checkLoaded(),il(this,qn(r)))return!1;(r=s.cp(r)).layers=Fp(r.layers);const m=function(M,P){if(!M)return[{command:Di.setStyle,args:[P]}];let O=[];try{if(!s.bn(M.version,P.version))return[{command:Di.setStyle,args:[P]}];if(s.bn(M.center,P.center)||O.push({command:Di.setCenter,args:[P.center]}),s.bn(M.zoom,P.zoom)||O.push({command:Di.setZoom,args:[P.zoom]}),s.bn(M.bearing,P.bearing)||O.push({command:Di.setBearing,args:[P.bearing]}),s.bn(M.pitch,P.pitch)||O.push({command:Di.setPitch,args:[P.pitch]}),s.bn(M.sprite,P.sprite)||O.push({command:Di.setSprite,args:[P.sprite]}),s.bn(M.glyphs,P.glyphs)||O.push({command:Di.setGlyphs,args:[P.glyphs]}),s.bn(M.imports,P.imports)||function(G=[],Q=[],J){Q=Q||[];const ie=(G=G||[]).map(Vi),ne=Q.map(Vi),ae=G.reduce(Li,{}),fe=Q.reduce(Li,{}),de=ie.slice();let be,ge,ve,_e;for(be=0,ge=0;be<ie.length;be++)ve=ie[be],fe.hasOwnProperty(ve)?ge++:(J.push({command:Di.removeImport,args:[ve]}),de.splice(de.indexOf(ve,ge),1));for(be=0,ge=0;be<ne.length;be++)ve=ne[ne.length-1-be],de[de.length-1-be]!==ve&&(ae.hasOwnProperty(ve)?(J.push({command:Di.removeImport,args:[ve]}),de.splice(de.lastIndexOf(ve,de.length-ge),1)):ge++,_e=de[de.length-be],J.push({command:Di.addImport,args:[fe[ve],_e]}),de.splice(de.length-be,0,ve));for(const Ee of Q){const Oe=ae[Ee.id];Oe&&!s.bn(Oe,Ee)&&J.push({command:Di.updateImport,args:[Ee.id,Ee]})}}(M.imports,P.imports,O),s.bn(M.transition,P.transition)||O.push({command:Di.setTransition,args:[P.transition]}),s.bn(M.light,P.light)||O.push({command:Di.setLight,args:[P.light]}),s.bn(M.fog,P.fog)||O.push({command:Di.setFog,args:[P.fog]}),s.bn(M.snow,P.snow)||O.push({command:Di.setSnow,args:[P.snow]}),s.bn(M.rain,P.rain)||O.push({command:Di.setRain,args:[P.rain]}),s.bn(M.projection,P.projection)||O.push({command:Di.setProjection,args:[P.projection]}),s.bn(M.lights,P.lights)||O.push({command:Di.setLights,args:[P.lights]}),s.bn(M.camera,P.camera)||O.push({command:Di.setCamera,args:[P.camera]}),!s.bn(M["color-theme"],P["color-theme"]))return[{command:Di.setStyle,args:[P]}];const z={},F=[];(function(G,Q,J,ie){let ne;for(ne in Q=Q||{},G=G||{})G.hasOwnProperty(ne)&&(Q.hasOwnProperty(ne)||Ls(ne,J,ie));for(ne in Q){if(!Q.hasOwnProperty(ne))continue;const ae=Q[ne];G.hasOwnProperty(ne)?s.bn(G[ne],ae)||(G[ne].type==="geojson"&&ae.type==="geojson"&&Ul(G,Q,ne)?J.push({command:Di.setGeoJSONSourceData,args:[ne,ae.data]}):Bp(ne,Q,J,ie)):Pu(ne,Q,J)}})(M.sources,P.sources,F,z);const H=[];M.layers&&M.layers.forEach(G=>{G.source&&z[G.source]?O.push({command:Di.removeLayer,args:[G.id]}):H.push(G)});let U=M.terrain;U&&z[U.source]&&(O.push({command:Di.setTerrain,args:[void 0]}),U=void 0),O=O.concat(F),s.bn(U,P.terrain)||O.push({command:Di.setTerrain,args:[P.terrain]}),function(G,Q,J){Q=Q||[];const ie=(G=G||[]).map(Vi),ne=Q.map(Vi),ae=G.reduce(Li,{}),fe=Q.reduce(Li,{}),de=ie.slice(),be=Object.create(null);let ge,ve,_e,Ee,Oe,Ge,je;for(ge=0,ve=0;ge<ie.length;ge++)_e=ie[ge],fe.hasOwnProperty(_e)?ve++:(J.push({command:Di.removeLayer,args:[_e]}),de.splice(de.indexOf(_e,ve),1));for(ge=0,ve=0;ge<ne.length;ge++)_e=ne[ne.length-1-ge],de[de.length-1-ge]!==_e&&(ae.hasOwnProperty(_e)?(J.push({command:Di.removeLayer,args:[_e]}),de.splice(de.lastIndexOf(_e,de.length-ve),1)):ve++,Ge=de[de.length-ge],J.push({command:Di.addLayer,args:[fe[_e],Ge]}),de.splice(de.length-ge,0,_e),be[_e]=!0);for(ge=0;ge<ne.length;ge++)if(_e=ne[ge],Ee=ae[_e],Oe=fe[_e],!be[_e]&&!s.bn(Ee,Oe))if(s.bn(Ee.source,Oe.source)&&s.bn(Ee["source-layer"],Oe["source-layer"])&&s.bn(Ee.type,Oe.type)){for(je in Bt(Ee.layout,Oe.layout,J,_e,null,Di.setLayoutProperty),Bt(Ee.paint,Oe.paint,J,_e,null,Di.setPaintProperty),s.bn(Ee.slot,Oe.slot)||J.push({command:Di.setSlot,args:[_e,Oe.slot]}),s.bn(Ee.filter,Oe.filter)||J.push({command:Di.setFilter,args:[_e,Oe.filter]}),s.bn(Ee.minzoom,Oe.minzoom)&&s.bn(Ee.maxzoom,Oe.maxzoom)||J.push({command:Di.setLayerZoomRange,args:[_e,Oe.minzoom,Oe.maxzoom]}),Ee)Ee.hasOwnProperty(je)&&je!=="layout"&&je!=="paint"&&je!=="filter"&&je!=="metadata"&&je!=="minzoom"&&je!=="maxzoom"&&je!=="slot"&&(je.indexOf("paint.")===0?Bt(Ee[je],Oe[je],J,_e,je.slice(6),Di.setPaintProperty):s.bn(Ee[je],Oe[je])||J.push({command:Di.setLayerProperty,args:[_e,je,Oe[je]]}));for(je in Oe)Oe.hasOwnProperty(je)&&!Ee.hasOwnProperty(je)&&je!=="layout"&&je!=="paint"&&je!=="filter"&&je!=="metadata"&&je!=="minzoom"&&je!=="maxzoom"&&je!=="slot"&&(je.indexOf("paint.")===0?Bt(Ee[je],Oe[je],J,_e,je.slice(6),Di.setPaintProperty):s.bn(Ee[je],Oe[je])||J.push({command:Di.setLayerProperty,args:[_e,je,Oe[je]]}))}else J.push({command:Di.removeLayer,args:[_e]}),Ge=de[de.lastIndexOf(_e)+1],J.push({command:Di.addLayer,args:[Oe,Ge]})}(H,P.layers,O)}catch(z){console.warn("Unable to compute style diff:",z),O=[{command:Di.setStyle,args:[P]}]}return O}(this.serialize(),r).filter(M=>!(M.command in P_));if(m.length===0)return!1;const v=m.filter(M=>!(M.command in I_));if(v.length>0)throw new Error(`Unimplemented: ${v.map(M=>M.command).join(", ")}.`);const x=[];return m.forEach(M=>{x.push(this[M.command].apply(this,M.args))}),l&&Promise.all(x).then(l),this.stylesheet=r,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(r,l){return this.getImage(r)?this.fire(new s.y(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,this.scope,l),this._afterImageUpdated(r),this)}updateImage(r,l,m=!1){this.imageManager.updateImage(r,this.scope,l),m&&this._afterImageUpdated(r)}getImage(r){return this.imageManager.getImage(r,this.scope)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r,this.scope),this._afterImageUpdated(r),this):this.fire(new s.y(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(r),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new s.z("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(r,l,m={}){return this._checkLoaded(),this._validate(Se,`models.${r}`,l,null,m)||(this.modelManager.addModel(r,l,this.scope),this._changes.setDirty()),this}hasModel(r){return this.modelManager.hasModel(r,this.scope)}removeModel(r){return this.hasModel(r)?(this.modelManager.removeModel(r,this.scope),this):this.fire(new s.y(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(r,l,m={}){if(this._checkLoaded(),this.getOwnSource(r)!==void 0)throw new Error(`There is already a source with ID "${r}".`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(Va,`sources.${r}`,l,null,m))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const v=Op(r,l,this.dispatcher,this);v.scope=this.scope,v.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(v.id),source:v.serialize(),sourceId:v.id}));const x=M=>{const P=(M?"symbol:":"other:")+v.id,O=s.aC(P,this.scope),z=this._sourceCaches[P]=new Ds(O,v,M);(M?this._symbolSourceCaches:this._otherSourceCaches)[v.id]=z,z.onAdd(this.map)};x(!1),l.type!=="vector"&&l.type!=="geojson"||x(!0),v.onAdd&&v.onAdd(this.map),m.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(r){this._checkLoaded();const l=this.getOwnSource(r);if(!l)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===r)return this.fire(new s.y(new Error(`Source "${r}" cannot be removed while layer "${v}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===r)return this.fire(new s.y(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const m=this.getOwnSourceCaches(r);for(const v of m){const x=s.cq(v.id);delete this._sourceCaches[x],this._changes.discardSourceCacheUpdate(v.id),v.fire(new s.z("data",{sourceDataType:"metadata",dataType:"source",sourceId:v.getSource().id})),v.setEventedParent(null),v.clearTiles()}return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],this.mergeSources(),l.setEventedParent(null),l.onRemove&&l.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(r,l){this._checkLoaded(),this.getOwnSource(r).setData(l),this._changes.setDirty()}getOwnSource(r){const l=this.getOwnSourceCache(r);return l&&l.getSource()}getOwnSources(){const r=[];for(const l in this._otherSourceCaches){const m=this.getOwnSourceCache(l);m&&r.push(m.getSource())}return r}areTilesLoaded(){const r=this._mergedSourceCaches;for(const l in r){const m=r[l]._tiles;for(const v in m){const x=m[v];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}setLights(r){if(this._checkLoaded(),!r)return delete this.ambientLight,void delete this.directionalLight;const l=this._getTransitionParameters();for(const v of r){if(this._validate(Ce,"lights",v))return;switch(v.type){case"ambient":if(this.ambientLight){const x=this.ambientLight;x.set(v),x.updateTransitions(l)}else this.ambientLight=new vr(v,$i||($i=new s.a5({color:new s.a6(s.a3.properties_light_ambient.color),"color-use-theme":new s.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new s.a6(s.a3.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const x=this.directionalLight;x.set(v),x.updateTransitions(l)}else this.directionalLight=new vr(v,Qi||(Qi=new s.a5({direction:new s.ak(s.a3.properties_light_directional.direction),color:new s.a6(s.a3.properties_light_directional.color),"color-use-theme":new s.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new s.a6(s.a3.properties_light_directional.intensity),"cast-shadows":new s.a6(s.a3.properties_light_directional["cast-shadows"]),"shadow-quality":new s.a6(s.a3.properties_light_directional["shadow-quality"]),"shadow-intensity":new s.a6(s.a3.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const m=new s.a8(this.z||0,l);this.ambientLight&&this.ambientLight.recalculate(m),this.directionalLight&&this.directionalLight.recalculate(m),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const r=this.directionalLight,l=this.ambientLight;if(!r||!l)return;const m=U=>.2126*(U[0]<=.03928?U[0]/12.92:Math.pow((U[0]+.055)/1.055,2.4))+.7152*(U[1]<=.03928?U[1]/12.92:Math.pow((U[1]+.055)/1.055,2.4))+.0722*(U[2]<=.03928?U[2]/12.92:Math.pow((U[2]+.055)/1.055,2.4)),v=r.properties.get("color").toRenderColor(null).toArray01(),x=r.properties.get("intensity"),M=r.properties.get("direction"),P=1-s.cb(M.x,M.y,M.z)[2]/90,O=m(v)*x*P,z=l.properties.get("color").toRenderColor(null).toArray01(),F=l.properties.get("intensity"),H=m(z)*F;return Number(((O+H)/2).toFixed(6))}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const r=[];return this.directionalLight&&r.push(this.directionalLight.get()),this.ambientLight&&r.push(this.ambientLight.get()),r}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(r){if(!r)return this;if(s.cr(r)){const l=s.cs(r),m=this.fragments.find(({id:x})=>x===l);if(!m)throw new Error(`Style import '${r}' not found`);const v=s.cq(r);return m.style.getFragmentStyle(v)}{const l=this.fragments.find(({id:m})=>m===r);if(!l)throw new Error(`Style import '${r}' not found`);return l.style}}setFeaturesetSelectors(r){if(!r)return;const l={},m=(v,x="")=>`${v}::${x}`;this.featuresetSelectors={};for(const v in r){const x=this.featuresetSelectors[v]=[];for(const M of r[v].selectors){if(M.featureNamespace){const O=this.getOwnLayer(M.layer);if(!O){s.w(`Layer is undefined for selector: ${M.layer}`);continue}const z=m(O.source,O.sourceLayer);if(z in l&&l[z]!==M.featureNamespace){s.w(`"featureNamespace ${M.featureNamespace} of featureset ${v}'s selector is not associated to the same source, skip this selector`);continue}l[z]=M.featureNamespace}let P;if(M.properties)for(const O in M.properties){const z=s.U(M.properties[O]);z.result==="success"&&(P=P||{},P[O]=z.value)}x.push({layerId:M.layer,namespace:M.featureNamespace,properties:P})}}}getFeaturesetDescriptors(r){const l=this.getFragmentStyle(r);if(!l||!l.stylesheet.featuresets)return[];const m=[];for(const v in l.stylesheet.featuresets)m.push({featuresetId:v,importId:l.scope?l.scope:void 0});return m}getFeaturesetLayers(r,l){const m=this.getFragmentStyle(l),v=m.stylesheet.featuresets;if(!v||!v[r])return this.fire(new s.y(new Error(`The featureset '${r}' does not exist in the map's style and cannot be queried.`))),[];const x=[];for(const M of v[r].selectors){const P=m.getOwnLayer(M.layer);P&&x.push(P)}return x}getConfigProperty(r,l){const m=this.getFragmentStyle(r);if(!m)return null;const v=s.aC(l,m.scope),x=m.options.get(v),M=x?x.value||x.default:null;return M?M.serialize():null}setConfigProperty(r,l,m){const v=this.getFragmentStyle(r);if(!v)return;const x=v.stylesheet.indoor?jm(v.stylesheet.schema):v.stylesheet.schema;if(!x||!x[l])return;const M=s.U(m);if(M.result!=="success")return void il(this,M.value);const P=M.value.expression,O=s.aC(l,v.scope),z=v.options.get(O);if(!z)return;let F;const{minValue:H,maxValue:U,stepValue:G,type:Q,values:J}=x[l],ie=s.U(x[l].default);ie.result==="success"&&(F=ie.value.expression),F?(this.options.set(O,{...z,value:P,default:F,minValue:H,maxValue:U,stepValue:G,type:Q,values:J}),this.updateConfigDependencies(l)):this.fire(new s.y(new Error(`No schema defined for the config option "${l}" in the "${r}" fragment.`)))}getConfig(r){const l=this.getFragmentStyle(r);if(!l)return null;const m=l.stylesheet.schema;if(!m)return null;const v={};for(const x in m){const M=s.aC(x,l.scope),P=l.options.get(M),O=P?P.value||P.default:null;v[x]=O?O.serialize():null}return v}setConfig(r,l){const m=this.getFragmentStyle(r);m&&(m.updateConfig(l,m.stylesheet.schema),this.updateConfigDependencies())}getSchema(r){const l=this.getFragmentStyle(r);return l?l.stylesheet.schema:null}setSchema(r,l){const m=this.getFragmentStyle(r);m&&(m.stylesheet.schema=l,m.updateConfig(m._config,l),this.updateConfigDependencies())}updateConfig(r,l){if(this._config=r,r||l)if(l)for(const m in l){let v,x;const M=s.U(l[m].default);if(M.result==="success"&&(v=M.value.expression),r&&r[m]!==void 0){const U=s.U(r[m]);U.result==="success"&&(x=U.value.expression)}const{minValue:P,maxValue:O,stepValue:z,type:F,values:H}=l[m];if(v){const U=s.aC(m,this.scope);this.options.set(U,{default:v,value:x,minValue:P,maxValue:O,stepValue:z,type:F,values:H})}else this.fire(new s.y(new Error(`No schema defined for config option "${m}".`)))}else this.fire(new s.y(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(r){for(const l of this._configDependentLayers){const m=this.getLayer(l);if(m){if(r&&!m.configDependencies.has(r))continue;m.possiblyEvaluateVisibility(),this._updateLayer(m)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.snow&&this.snow.updateConfig(this.options),this.rain&&this.rain.updateConfig(this.options),this.forEachFragmentStyle(l=>{const m=l._styleColorTheme.colorThemeOverride?l._styleColorTheme.colorThemeOverride:l._styleColorTheme.colorTheme;if(m){const v=l._evaluateColorThemeData(m);(!l._styleColorTheme.lut&&v!==""||l._styleColorTheme.lut&&v!==l._styleColorTheme.lut.data)&&l.setColorTheme(m)}}),this._changes.setDirty()}addLayer(r,l,m={}){this._checkLoaded();const v=r.id;if(this._layers[v])return void this.fire(new s.y(new Error(`Layer with id "${v}" already exists on this map`)));let x;if(r.type==="custom"){if(il(this,s.ct(r)))return;x=s.cu(r,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof r.source=="object"&&(this.addSource(v,r.source),r=s.cp(r),r=s.l(r,{source:v})),this._validate(re,`layers.${v}`,r,{arrayIndex:-1},m))return;x=s.cu(r,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(x),x.setEventedParent(this,{layer:{id:v}})}x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid);let M=this._order.length;if(l){const F=this._order.indexOf(l);if(F===-1)return void this.fire(new s.y(new Error(`Layer with id "${l}" does not exist on this map.`)));x.slot===this._layers[l].slot?M=F:s.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(M,0,v),this._layerOrderChanged=!0,this._layers[v]=x;const P=this.getOwnLayerSourceCache(x),O=!!this.directionalLight&&this.directionalLight.shadowsEnabled();P&&x.canCastShadows()&&O&&(P.castsShadows=!0);const z=this._changes.getRemovedLayer(x);if(z&&x.source&&P&&x.type!=="custom"){this._changes.discardLayerRemoval(x);const F=s.aC(x.source,x.scope);z.type!==x.type?this._changes.updateSourceCache(F,"clear"):(this._changes.updateSourceCache(F,"reload"),P.pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map),x.scope=this.scope,this.mergeLayers()}moveLayer(r,l){this._checkLoaded();const m=this._checkLayer(r);if(!m||r===l)return;const v=this._order.indexOf(r);this._order.splice(v,1);let x=this._order.length;if(l){const M=this._order.indexOf(l);if(M===-1)return void this.fire(new s.y(new Error(`Layer with id "${l}" does not exist on this map.`)));m.slot===this._layers[l].slot?x=M:s.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(x,0,r),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(r){this._checkLoaded();const l=this._checkLayer(r);if(!l)return;l.setEventedParent(null);const m=this._order.indexOf(r);this._order.splice(m,1),delete this._layers[r],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(l.fqid),this._changes.removeLayer(l);const v=this.getOwnLayerSourceCache(l);if(v&&v.castsShadows){let x=!1;for(const M in this._layers)if(this._layers[M].source===l.source&&this._layers[M].canCastShadows()){x=!0;break}v.castsShadows=x}l.onRemove&&l.onRemove(this.map),this.mergeLayers()}getOwnLayer(r){return this._layers[r]}hasLayer(r){return r in this._mergedLayers}hasLayerType(r){for(const l in this._layers)if(this._layers[l].type===r)return!0;return!1}setLayerZoomRange(r,l,m){this._checkLoaded();const v=this._checkLayer(r);v&&(v.minzoom===l&&v.maxzoom===m||(l!=null&&(v.minzoom=l),m!=null&&(v.maxzoom=m),this._updateLayer(v)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(r,l){this._checkLoaded();const m=this._checkLayer(r);m&&m.slot!==l&&(m.slot=l,this._updateLayer(m))}setFilter(r,l,m={}){this._checkLoaded();const v=this._checkLayer(r);if(v&&!s.bn(v.filter,l))return l==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(le,`layers.${v.id}.filter`,l,{layerType:v.type},m)||(v.filter=s.cp(l),this._updateLayer(v)))}getFilter(r){const l=this._checkLayer(r);if(l)return s.cp(l.filter)}setLayoutProperty(r,l,m,v={}){this._checkLoaded();const x=this._checkLayer(r);if(x&&!s.bn(x.getLayoutProperty(l),m)){if(m!=null&&(!v||v.validate!==!1)&&il(x,ye.call(qn,{key:`layers.${r}.layout.${l}`,layerType:x.type,objectKey:l,value:m,styleSpec:s.a3,style:{glyphs:!0,sprite:!0}})))return;x.setLayoutProperty(l,m),x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),this._updateLayer(x)}}getLayoutProperty(r,l){const m=this._checkLayer(r);if(m)return m.getLayoutProperty(l)}setPaintProperty(r,l,m,v={}){this._checkLoaded();const x=this._checkLayer(r);if(!x||s.bn(x.getPaintProperty(l),m)||m!=null&&(!v||v.validate!==!1)&&il(x,me.call(qn,{key:`layers.${r}.paint.${l}`,layerType:x.type,objectKey:l,value:m,styleSpec:s.a3})))return;const M=x.setPaintProperty(l,m);x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),M&&this._updateLayer(x),this._changes.updatePaintProperties(x)}getPaintProperty(r,l){const m=this._checkLayer(r);if(m)return m.getPaintProperty(l)}setFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:O,importId:z}=r.target,F=this.getFragmentStyle(z),H=F.getFeaturesetLayers(O);for(const{source:U,sourceLayer:G}of H)F.setFeatureState({id:r.id,source:U,sourceLayer:G},l)}else if("layerId"in r.target){const{layerId:O}=r.target,z=this.getLayer(O);this.setFeatureState({id:r.id,source:z.source,sourceLayer:z.sourceLayer},l)}return}const m=r.source,v=r.sourceLayer,x=this._checkSource(m);if(!x)return;const M=x.type;if(M==="geojson"&&v)return void this.fire(new s.y(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(M==="vector"&&!v)return void this.fire(new s.y(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new s.y(new Error("The feature id parameter must be provided.")));const P=this.getOwnSourceCaches(m);for(const O of P)O.setFeatureState(v,r.id,l)}removeFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:O,importId:z}=r.target,F=this.getFragmentStyle(z),H=F.getFeaturesetLayers(O);for(const{source:U,sourceLayer:G}of H)F.removeFeatureState({id:r.id,source:U,sourceLayer:G},l)}else if("layerId"in r.target){const{layerId:O}=r.target,z=this.getLayer(O);this.removeFeatureState({id:r.id,source:z.source,sourceLayer:z.sourceLayer},l)}return}const m=r.source,v=this._checkSource(m);if(!v)return;const x=v.type,M=x==="vector"?r.sourceLayer:void 0;if(x==="vector"&&!M)return void this.fire(new s.y(new Error("The sourceLayer parameter must be provided for vector source types.")));if(l&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new s.y(new Error("A feature id is required to remove its specific state property.")));const P=this.getOwnSourceCaches(m);for(const O of P)O.removeFeatureState(M,r.id,l)}getFeatureState(r){if(this._checkLoaded(),"target"in r){let x;if("featuresetId"in r.target){const{featuresetId:M,importId:P}=r.target,O=this.getFragmentStyle(P),z=O.getFeaturesetLayers(M);for(const{source:F,sourceLayer:H}of z){const U=O.getFeatureState({id:r.id,source:F,sourceLayer:H});if(U&&!x)x=U;else if(!s.bn(x,U))return void this.fire(new s.y(new Error("The same feature id exists in multiple sources in the featureset, but their feature states are not consistent through the sources.")))}}else if("layerId"in r.target){const{layerId:M}=r.target,P=this.getLayer(M);x=this.getFeatureState({id:r.id,source:P.source,sourceLayer:P.sourceLayer})}return x}const l=r.source,m=r.sourceLayer,v=this._checkSource(l);if(v){if(v.type!=="vector"||m)return r.id===void 0&&this.fire(new s.y(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(l)[0].getFeatureState(m,r.id);this.fire(new s.y(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(r){return this.stylesheet.transition=s.l({},this.stylesheet.transition,r),this.transition=this.stylesheet.transition,this}getTransition(){return s.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const r=this.getTerrain(),l=r&&this.terrain&&this.terrain.scope===this.scope?r:this.stylesheet.terrain;return s.cv({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:l,fog:this.stylesheet.fog,snow:this.stylesheet.snow,rain:this.stylesheet.rain,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},m=>m!==void 0)}_updateFilteredLayers(r){for(const l of Object.values(this._mergedLayers))r(l)&&this._updateLayer(l)}_updateLayer(r){this._changes.updateLayer(r);const l=this.getLayerSourceCache(r),m=s.aC(r.source,r.scope),v=this._changes.getUpdatedSourceCaches();r.source&&!v[m]&&l&&l.getSource().type!=="raster"&&(this._changes.updateSourceCache(m,"reload"),l.pause()),r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const l=P=>this._mergedLayers[P].is3D(),m=this.order,v={},x=[];for(let P=m.length-1;P>=0;P--){const O=m[P];if(l(O)){v[O]=P;for(const z of r){const F=z[O];if(F)for(const H of F)x.push(H)}}}x.sort((P,O)=>O.intersectionZ-P.intersectionZ);const M=[];for(let P=m.length-1;P>=0;P--){const O=m[P];if(l(O))for(let z=x.length-1;z>=0;z--){const F=x[z].feature;if(F.layer&&v[F.layer.id]<P)break;M.push(F),x.pop()}else for(const z of r){const F=z[O];if(F)for(const H of F)M.push(H.feature)}}return M}queryRenderedFeatures(r,l,m){let v;l&&!Array.isArray(l)&&l.filter&&(this._validate(le,"queryRenderedFeatures.filter",l.filter,null,l),v=s.aZ(l.filter));const x={},M=F=>{if(Hp.has(F.type))return;const H=this.getOwnLayerSourceCache(F),U=x[H.id]=x[H.id]||{sourceCache:H,layers:{},has3DLayers:!1};F.is3D()&&(U.has3DLayers=!0),U.layers[F.fqid]=U.layers[F.fqid]||{styleLayer:F,targets:[]},U.layers[F.fqid].targets.push({filter:v})};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new s.y(new Error("parameters.layers must be an Array."))),[];for(const F of l.layers){const H=this._layers[F];if(!H)return this.fire(new s.y(new Error(`The layer '${F}' does not exist in the map's style and cannot be queried for features.`))),[];M(H)}}else for(const F in this._layers)M(this._layers[F]);const P=this._queryRenderedFeatures(r,x,m),O=this._flattenAndSortRenderedFeatures(P),z=[];for(const F of O)s.cs(F.layer.id)===this.scope&&z.push(F);return z}queryRenderedFeatureset(r,l,m){let v;l&&!Array.isArray(l)&&l.filter&&(this._validate(le,"queryRenderedFeatures.filter",l.filter,null,l),v=s.aZ(l.filter));const x="mock",M=[];if(l&&l.target)M.push({...l,targetId:x,filter:v});else{const z=this.getFeaturesetDescriptors();for(const F of z)M.push({targetId:x,filter:v,target:F});for(const{style:F}of this.fragments){const H=F.getFeaturesetDescriptors();for(const U of H)M.push({targetId:x,filter:v,target:U})}}const P=this.queryRenderedTargets(r,M,m),O=[];for(const z of P)for(const F of z.variants[x])O.push(new s.cw(z,F));return O}queryRenderedTargets(r,l,m){const v={},x=(P,O,z,F)=>{const H=v[O.id]=v[O.id]||{sourceCache:O,layers:{},has3DLayers:!1};H.layers[P.fqid]=H.layers[P.fqid]||{styleLayer:P,targets:[]},P.is3D()&&(H.has3DLayers=!0),H.layers[P.fqid].targets.push(F?{...z,namespace:F.namespace,properties:F.properties}:z)};for(const P of l)if("featuresetId"in P.target){const{featuresetId:O,importId:z}=P.target,F=this.getFragmentStyle(z),H=F.featuresetSelectors[O];if(!H){this.fire(new s.y(new Error(`The featureset '${O}' does not exist in the map's style and cannot be queried for features.`)));continue}for(const U of H){const G=F.getOwnLayer(U.layerId);G&&!Hp.has(G.type)&&x(G,F.getOwnLayerSourceCache(G),P,U)}}else if("layerId"in P.target){const{layerId:O}=P.target,z=this.getLayer(O);if(!z||Hp.has(z.type))continue;x(z,this.getLayerSourceCache(z),P)}const M=this._queryRenderedFeatures(r,v,m);return this._flattenAndSortRenderedFeatures(M)}_queryRenderedFeatures(r,l,m){const v=[],x=!!this.map._showQueryGeometry,M=Tr.createFromScreenPoints(r,m);for(const P in l){const O=Rm(M,l[P],this._availableImages,m,x);Object.keys(O).length&&v.push(O)}if(this.placement)for(const P in l){if(!l[P].sourceCache._onlySymbols)continue;const O=Su(M.screenGeometry,l[P],this._availableImages,this.placement.collisionIndex,this.placement.retainedQueryData);Object.keys(O).length&&v.push(O)}return v}querySourceFeatures(r,l){const m=l&&l.filter;m&&this._validate(le,"querySourceFeatures.filter",m,null,l);let v=[];const x=this.getOwnSourceCaches(r);for(const M of x)v=v.concat(Kc(M,l));return v}addSourceType(r,l,m){return hs.getSourceType(r)?m(new Error(`A source type called "${r}" already exists.`)):(hs.setSourceType(r,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:l.workerSourceURL},m):m(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(r,l,m={}){this._checkLoaded();const v=this.light.getLight();let x=!1;for(const P in r)if(!s.bn(r[P],v[P])){x=!0;break}if(!x)return;const M=this._getTransitionParameters();this.light.setLight(r,l,m),this.light.updateTransitions(M)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=s.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&s.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(r,l=1){if(this._checkLoaded(),!r)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),l===0&&delete this.terrain,r===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let m=r;const v=r.source==null;if(l===1){if(this.disableElevatedTerrain)return;if(typeof m.source=="object"){const P="terrain-dem-src";this.addSource(P,m.source),m=s.cp(m),m=s.l(m,{source:P})}const x=s.l({},m),M={};if(this.terrain&&v){x.source=this.terrain.get().source;const P=this.terrain?this.getFragmentStyle(this.terrain.scope):null;P&&(M.style=P.serialize())}if(this._validate(ze,"terrain",x,M))return}if(!this.terrain||this.terrain.scope!==this.scope&&!v||this.terrain&&l!==this.terrain.drapeRenderMode){if(!m)return;this._createTerrain(m,l),this.fire(new s.z("data",{dataType:"style"}))}else{const x=this.terrain,M=x.get();for(const P of Object.keys(s.a3.terrain))!m.hasOwnProperty(P)&&s.a3.terrain[P].default&&(m[P]=s.a3.terrain[P].default);for(const P in r)if(!s.bn(r[P],M[P])){x.set(r,this.options),this.stylesheet.terrain=r;const O=this._getTransitionParameters({duration:0});x.updateTransitions(O),this.fire(new s.z("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const l=this.fog=new Zi(r,this.map.transform,this.scope,this.options);this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createSnow(r){const l=this.snow=new Qn(r,this.map.transform,this.scope,this.options);this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createRain(r){const l=this.rain=new Zr(r,this.map.transform,this.scope,this.options);this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const l=this.fog;if(!s.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createFog(r);this._markersNeedUpdate=!0}getSnow(){return this.snow?this.snow.get():null}setSnow(r){if(this._checkLoaded(),!r)return delete this.snow,void delete this.stylesheet.snow;if(this.snow){const l=this.snow;if(!s.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createSnow(r);this._markersNeedUpdate=!0}getRain(){return this.rain?this.rain.get():null}setRain(r){if(this._checkLoaded(),!r)return delete this.rain,void delete this.stylesheet.rain;if(this.rain){const l=this.rain;if(!s.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createRain(r);this._markersNeedUpdate=!0}_reloadColorTheme(){const r=()=>{for(const v in this._layers)this._layers[v].lut=this._styleColorTheme.lut;for(const v in this._sourceCaches)this._sourceCaches[v].clearTiles()},l=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(!l)return this._styleColorTheme.lut=null,void r();const m=this._evaluateColorThemeData(l);this._loadColorTheme(m).then(()=>{this.fire(new s.z("colorthemeset")),r()}).catch(v=>{s.w(`Couldn't set color theme: ${v}`)})}setColorTheme(r){this._checkLoaded(),this._styleColorTheme.colorThemeOverride&&s.w("Note: setColorTheme is called on a style with a color-theme override, the passed color-theme won't be visible."),this._styleColorTheme.colorTheme=r,this._reloadColorTheme()}setImportColorTheme(r,l){const m=this.getFragmentStyle(r);m&&(m._styleColorTheme.colorThemeOverride=l,m._reloadColorTheme())}_getTransitionParameters(r){return{now:s.q.now(),transition:s.l(this.transition,r)}}updateDrapeFirstLayers(){if(!this.terrain)return;const r=[],l=[];for(const m of this._mergedOrder)this.isLayerDraped(this._mergedLayers[m])?r.push(m):l.push(m);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...l)}_createTerrain(r,l){const m=this.terrain=new Je(r,l,this.scope,this.options);l===1&&(this.stylesheet.terrain=r),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const v=this._getTransitionParameters({duration:0});m.updateTransitions(v)}_force3DLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="fill-extrusion"&&this._updateLayer(l)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="symbol"&&this._updateLayer(l)}}_validate(r,l,m,v,x={}){if(x&&x.validate===!1)return!1;const M=s.l({},this.serialize());return il(this,r.call(qn,s.l({key:l,style:M,value:m,styleSpec:s.a3},v)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.cx.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._mergedLayers)this._mergedLayers[r].setEventedParent(null);for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles(),this._mergedSourceCaches[r].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.snow,delete this.rain,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(r){const l=this.getSourceCaches(r);for(const m of l)m.clearTiles()}clearSources(){for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles()}reloadSource(r){const l=this.getSourceCaches(r);for(const m of l)m.resume(),m.reload()}reloadSources(){for(const r of this.getSources())r.reload&&r.reload()}updateSources(r){let l;this.directionalLight&&(l=_o(this.directionalLight));for(const m in this._mergedSourceCaches)this._mergedSourceCaches[m].update(r,void 0,void 0,l)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const l=this._sourceCaches[r];l.resume(),l.reload()}}_updatePlacement(r,l,m,v,x,M,P=!1){let O=!1,z=!1;const F={},H={};for(const U of this._mergedOrder){const G=this._mergedLayers[U];if(G.type!=="symbol")continue;const Q=s.aC(G.source,G.scope);let J=F[Q];if(!J){const ne=this.getLayerSourceCache(G);if(!ne)continue;const ae=ne.getRenderableIds(!0).map(fe=>ne.getTileByID(fe));H[Q]=ae.slice(),J=F[Q]=ae.sort((fe,de)=>de.tileID.overscaledZ-fe.tileID.overscaledZ||(fe.tileID.isLessThan(de.tileID)?-1:1))}const ie=this.crossTileSymbolIndex.addLayer(G,J,l.center.lng,l.projection);O=O||ie}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),P=P||this._layerOrderChanged||v===0,this._layerOrderChanged&&this.fire(new s.z("neworder")),(P||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.q.now(),l.zoom))&&(this.pauseablePlacement=new Fu(l,this._mergedOrder,P,m,v,x,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,F,H,this.map.painter.scaleFactor),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.q.now()),z=!0),O&&this.pauseablePlacement.placement.setStale()),z||O){this._buildingIndex.onNewFrame(l.zoom);for(let U=0;U<this._mergedOrder.length;U++){const G=this._mergedLayers[this._mergedOrder[U]];if(G.type!=="symbol")continue;const Q=this.isLayerClipped(G);this.placement.updateLayerOpacities(G,F[s.aC(G.source,G.scope)],U,Q?M:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.q.now())}}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}addImport(r,l){this._checkLoaded();const m=this.stylesheet.imports=this.stylesheet.imports||[];if(m.findIndex(({id:x})=>x===r.id)!==-1)return void this.fire(new s.y(new Error(`Import with id '${r.id}' already exists in the map's style.`)));if(!l)return m.push(r),this._loadImports([r],!0);const v=m.findIndex(({id:x})=>x===l);return v===-1&&this.fire(new s.y(new Error(`Import with id "${l}" does not exist on this map.`))),this.stylesheet.imports=m.slice(0,v).concat(r).concat(m.slice(v)),this._loadImports([r],!0,l)}updateImport(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],v=this.getImportIndex(r);return v===-1?this:typeof l=="string"?(this.setImportUrl(r,l),this):(l.url&&l.url!==m[v].url&&this.setImportUrl(r,l.url),s.bn(l.config,m[v].config)||this.setImportConfig(r,l.config),s.bn(l.data,m[v].data)||this.setImportData(r,l.data),this)}moveImport(r,l){this._checkLoaded();let m=this.stylesheet.imports||[];const v=this.getImportIndex(r);if(v===-1)return this;const x=this.getImportIndex(l);if(x===-1)return this;const M=m[v],P=this.fragments[v];return m=m.filter(({id:O})=>O!==r),this.fragments=this.fragments.filter(({id:O})=>O!==r),this.stylesheet.imports=m.slice(0,x).concat(M).concat(m.slice(x)),this.fragments=this.fragments.slice(0,x).concat(P).concat(this.fragments.slice(x)),this.mergeLayers(),this}setImportUrl(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],v=this.getImportIndex(r);if(v===-1)return this;m[v].url=l;const x=this.fragments[v];return x.style=this._createFragmentStyle(m[v]),x.style.on("style.import.load",()=>this.mergeAll()),x.style.loadURL(l),this}setImportData(r,l){this._checkLoaded();const m=this.getImportIndex(r),v=this.stylesheet.imports||[];return m===-1?this:l?(this.fragments[m].style.setState(l),this._reloadImports(),this):(delete v[m].data,this.setImportUrl(r,v[m].url))}setImportConfig(r,l){this._checkLoaded();const m=this.getImportIndex(r),v=this.stylesheet.imports||[];if(m===-1)return this;l?v[m].config=l:delete v[m].config;const x=this.fragments[m],M=x.style.stylesheet&&x.style.stylesheet.schema;return x.config=l,x.style.updateConfig(l,M),this.updateConfigDependencies(),this}removeImport(r){this._checkLoaded();const l=this.stylesheet.imports||[],m=this.getImportIndex(r);m!==-1&&(l.splice(m,1),this.fragments[m].style._remove(),this.fragments.splice(m,1),this._reloadImports())}getImportIndex(r){const l=(this.stylesheet.imports||[]).findIndex(m=>m.id===r);return l===-1&&this.fire(new s.y(new Error(`Import '${r}' does not exist in the map's style and cannot be updated.`))),l}getLayer(r){return this._mergedLayers[r]}getSources(){const r=[];for(const l in this._mergedOtherSourceCaches){const m=this._mergedOtherSourceCaches[l];m&&r.push(m.getSource())}return r}getSource(r,l){const m=this.getSourceCache(r,l);return m&&m.getSource()}getLayerSource(r){const l=this.getLayerSourceCache(r);return l&&l.getSource()}getSourceCache(r,l){const m=s.aC(r,l);return this._mergedOtherSourceCaches[m]}getLayerSourceCache(r){const l=s.aC(r.source,r.scope);return r.type==="symbol"?this._mergedSymbolSourceCaches[l]:this._mergedOtherSourceCaches[l]}getSourceCaches(r){if(r==null)return Object.values(this._mergedSourceCaches);const l=[];return this._mergedOtherSourceCaches[r]&&l.push(this._mergedOtherSourceCaches[r]),this._mergedSymbolSourceCaches[r]&&l.push(this._mergedSymbolSourceCaches[r]),l}updateSourceCaches(){const r=this._changes.getUpdatedSourceCaches();for(const l in r){const m=r[l];m==="reload"?this.reloadSource(l):m==="clear"&&this.clearSource(l)}}updateLayers(r){const l=this._changes.getUpdatedPaintProperties();for(const m of l){const v=this.getLayer(m);v&&v.updateTransitions(r)}}getImages(r,l,m){this.imageManager.getImages(l.icons,l.scope,m),this._updateTilesForChangedImages();const v=x=>{x&&x.setDependencies(l.tileID.key,l.type,l.icons)};v(this._otherSourceCaches[l.source]),v(this._symbolSourceCaches[l.source])}rasterizeImages(r,l,m){this.imageManager.rasterizeImages(l,m)}getGlyphs(r,l,m){this.glyphManager.getGlyphs(l.stacks,l.scope,m)}getResource(r,l,m){return s.cy(l,m)}getOwnSourceCache(r){return this._otherSourceCaches[r]}getOwnLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}getOwnSourceCaches(r){const l=[];return this._otherSourceCaches[r]&&l.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&l.push(this._symbolSourceCaches[r]),l}_isSourceCacheLoaded(r){const l=this.getOwnSourceCaches(r);return l.length===0?(this.fire(new s.y(new Error(`There is no source with ID '${r}'`))),!1):l.every(m=>m.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(r,l){if(!this._clipLayerPresent&&r.type!=="fill-extrusion")return!1;const m=r.type==="fill-extrusion"&&r.sourceLayer==="building";if(r.is3D()){if(m||l&&l.type==="batched-model"||r.type==="model")return!0}else if(r.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(r=>{r.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}hs.getSourceType=function(f){return Xo[f]},hs.setSourceType=function(f,r){Xo[f]=r},hs.registerForPluginStateChange=s.ch;var Wm=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,jp=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec3 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color,float height) {
#ifdef INDICATOR_CUTOUT
float verticalFadeRange=u_indicator_cutout_centers.z*0.25;float holeMinOpacity=mix(1.0,u_indicator_cutout_params.x,smoothstep(u_indicator_cutout_centers.z,u_indicator_cutout_centers.z+verticalFadeRange,height));float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,$u=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,ah="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Gu=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,yo=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Wu=`highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {
#ifdef FOG_DITHERING
vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);
#else
return color;
#endif
}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,qp=`#ifdef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,nl=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,Kl=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,oh=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef TEXTURE_GATHER
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz/=light_view_pos0.w;vec2 abs_bounds=abs(light_view_pos0.xy);if (abs_bounds.x >=1.0 || abs_bounds.y >=1.0) {return 0.0;}light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}highp vec2 compute_receiver_plane_depth_bias(highp vec3 pos_dx,highp vec3 pos_dy)
{highp vec2 biasUV=vec2(
pos_dy.y*pos_dx.z-pos_dx.y*pos_dy.z,pos_dx.x*pos_dy.z-pos_dy.x*pos_dx.z);biasUV*=1.0/((pos_dx.x*pos_dy.y)-(pos_dx.y*pos_dy.x));return biasUV;}float shadowed_light_factor_plane_bias(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {highp vec3 light_view_pos0_xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;highp vec3 light_view_pos0_ddx=dFdx(light_view_pos0_xyz);highp vec3 light_view_pos0_ddy=dFdy(light_view_pos0_xyz);highp vec2 plane_depth_bias=compute_receiver_plane_depth_bias(light_view_pos0_ddx,light_view_pos0_ddy);highp float bias=dot(vec2(u_shadow_texel_size,u_shadow_texel_size),plane_depth_bias)+0.0001;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const rl=[];Xa(Wm,rl),Xa($u,rl),Xa(jp,rl);const Ya={"_prelude_fog.vertex.glsl":yo,"_prelude_terrain.vertex.glsl":Gu,"_prelude_shadow.vertex.glsl":Kl,"_prelude_fog.fragment.glsl":Wu,"_prelude_shadow.fragment.glsl":oh,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":qp,"_prelude_raster_particle.glsl":nl},sl={};Si("",Gu),Si(Wu,yo),Si(oh,Kl),Si(qp,""),Si(nl,"");const Zu=Si(jp,$u),$p=Wm;var Yu={background:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float opacity_t=smoothstep((1.0-blur_positive)*antialiased_blur,blur_positive*antialiased_blur,extrude_length-1.0)-smoothstep(0.0,antialiasblur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Si("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Si(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Si(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Si("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Si("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Si("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=opacity;
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=z_offset;
#endif
}`),fillOutline:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,h);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);float ndotl=calculate_NdotL(normal);v_flat.rgb=sRGBToLinear(color.rgb);v_flat.rgb=v_flat.rgb*(ndotl+(1.0-min(ndotl*57.29,1.0))*emissive_strength);v_flat=vec4(linearTosRGB(v_flat.rgb),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:Si(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;float ele=elevation(pos_nx.xy);float c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);float h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,height);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:Si(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor_plane_bias(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0),0.0).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:Si(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:Si(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform lowp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_floor_width_scale;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;float scaled_floorwidth=(floorwidth*u_floor_width_scale);alpha*=linearstep(0.5-sdfgamma/scaled_floorwidth,0.5+sdfgamma/scaled_floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=1.0-transition_factor;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=((border_width*u_width_scale)+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color=mix(border_color*trim_alpha,out_color,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
out_color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS) || defined(VARIABLE_LINE_WIDTH)
in vec2 a_z_offset_width;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;uniform float u_width_scale;uniform highp float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth;
#ifdef VARIABLE_LINE_WIDTH
halfwidth=(u_width_scale*a_z_offset_width.y)/2.0;
#else
halfwidth=(u_width_scale*width)/2.0;
#endif
offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset+0.01*step(0.01,a_z_offset),1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/(floorwidth*u_floor_width_scale),(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),linePattern:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 v_uv;
#endif
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
uniform float u_emissive_strength;
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;highp float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);color=mix(color,color.a*u_trim_color,transition_factor);}
#endif
#ifdef LINE_JOIN_NONE
highp float pattern_len=pattern_size/aspect;highp float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);highp float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;highp float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_with_emission_ground(color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,v_z_offset);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in vec2 a_z_offset_width;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;uniform float u_width_scale;uniform float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec4 v_uv;
#endif
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=(u_width_scale*width)/2.0;offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset+0.01*step(0.01,a_z_offset),1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
float a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=(floorwidth*u_floor_width_scale);
#ifdef LINE_JOIN_NONE
v_width=(floorwidth*u_floor_width_scale)+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),raster:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:Si("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:Si("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:Si(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:Si(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;uniform lowp float u_scale_factor;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*u_scale_factor*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width*u_scale_factor/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=e;
#endif
}`),terrainRaster:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:Si("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:Si(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,ah),skyboxGradient:Si(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,ah),skyboxCapture:Si(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Si(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;
#ifndef NATIVE
c=dither(c,gl_FragCoord.xy+u_temporal_offset);
#endif
glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:Si(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor,v_position_height.w);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:Si(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:Si(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),snowParticle:Si("in highp vec2 uv;in highp float alphaMultiplier;uniform vec4 u_particleColor;uniform vec2 u_simpleShapeParameters;void main() {float t=clamp((length(uv)-u_simpleShapeParameters.x)/(1.0-u_simpleShapeParameters.x),0.0,1.0);float alpha=1.0-pow(t,pow(10.0,u_simpleShapeParameters.y));alpha*=alphaMultiplier;alpha*=u_particleColor.a;vec3 color=u_particleColor.rgb*alpha;glFragColor=vec4(color,alpha) ;HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_snowParticleData;in highp vec4 a_snowParticleDataHorizontalOscillation;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform vec2 u_screenSize;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity;uniform vec3 u_direction;uniform float u_horizontalOscillationRadius; 
uniform float u_horizontalOscillationRate; 
uniform float u_billboardSize;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;out highp vec2 uv;out highp float alphaMultiplier;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos.xyz*=halfBoxSize;pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_snowParticleData.z;float coneAngleHeadingRad=a_snowParticleData.w*radians(360.0);vec3 localZ=normalize(u_direction);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 direction;direction.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.z=cos(coneAnglePichRad);direction=normalize(direction);vec3 simPosLocal=vec3(0,0,0);float velocityScale=(1.0+3.0*a_snowParticleData.y)*u_velocity;simPosLocal+=direction*velocityScale*u_time;float horizontalOscillationRadius=u_horizontalOscillationRadius*a_snowParticleDataHorizontalOscillation.x;float horizontalOscillationAngle=u_horizontalOscillationRate*u_time*(-1.0+2.0*a_snowParticleDataHorizontalOscillation.y);simPosLocal.xy+=horizontalOscillationRadius*vec2(cos(horizontalOscillationAngle),sin(horizontalOscillationAngle));vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);float clipZ=-u_cam_pos.z+pos.z;vec4 posView=u_modelview*vec4(pos,1.0);float size=u_billboardSize;alphaMultiplier=1.0;vec4 posScreen=u_projection*posView;posScreen/=posScreen.w;posScreen.xy=vec2(0.5)+posScreen.xy*0.5;posScreen.xy*=u_screenSize;vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=u_screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-posScreen.xy)/(0.5*u_screenSize));screenDist+=a_snowParticleData.x*u_thinningParticleOffset;float scaleFactorMode=0.0;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);if (a_snowParticleData.x < u_thinningAffectedRatio) {scaleFactorMode=1.0-thinningFadeRatio;alphaMultiplier=thinningFadeRatio;}}vec4 posScreen1=u_projection*vec4(posView.x-size,posView.yzw);posScreen1/=posScreen1.w;vec4 posScreen2=u_projection*vec4(posView.x+size,posView.yzw);posScreen2/=posScreen2.w;posScreen1.xy=vec2(0.5)+posScreen1.xy*0.5;posScreen1.xy*=u_screenSize;posScreen2.xy=vec2(0.5)+posScreen2.xy*0.5;posScreen2.xy*=u_screenSize;float screenLength=length(posScreen1.xy-posScreen2.xy);float screenEpsilon=3.0;float scaleFactor=1.0;if (screenLength < screenEpsilon) {scaleFactor=screenEpsilon/max(screenLength,0.01);scaleFactor=mix(scaleFactor,1.0,scaleFactorMode);}float screenEpsilon2=15.0;if (screenLength > screenEpsilon2) {scaleFactor=screenEpsilon2/max(screenLength,0.01);}size*=scaleFactor;vec2 right=size*vec2(1,0);vec2 up=size*vec2(0,1);posView.xy+=right*a_uv.x;posView.xy+=up*a_uv.y;uv=a_uv;gl_Position=u_projection*posView;}`),rainParticle:Si("in highp vec2 uv;in highp float particleRandomValue;uniform sampler2D u_texScreen;uniform float u_distortionStrength;uniform vec4 u_color;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;uniform float u_shapeDirectionalPower;uniform float u_mode;void main() {vec2 st=uv*0.5+vec2(0.5);vec2 uvm=uv;uvm.y=-1.0+2.0*pow(st.y,u_shapeDirectionalPower);float shape=clamp(1.0-length(uvm),0.0,1.0);float alpha=abs(shape)*u_color.a;vec2 screenSize=vec2(textureSize(u_texScreen,0));vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-gl_FragCoord.xy)/(0.5*screenSize));screenDist+=(0.5+0.5*particleRandomValue)*u_thinningParticleOffset;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;float thinningAlpha=1.0;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);thinningAlpha*=thinningFadeRatio;}vec2 offsetXY=normalize(uvm)*abs(shape);vec2 stScreen=(gl_FragCoord.xy+offsetXY*u_distortionStrength*thinningAlpha)/screenSize;vec3 colorScreen=texture(u_texScreen,stScreen).rgb;alpha*=thinningAlpha;glFragColor=mix(vec4(colorScreen,1.0),vec4(u_color.rgb*alpha,alpha),u_mode);HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_rainParticleData;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity; 
uniform vec2 u_rainDropletSize;uniform vec3 u_rainDirection;out highp vec2 uv;out highp float particleRandomValue;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos*=halfBoxSize; 
pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_rainParticleData.z;float coneAngleHeadingRad=a_rainParticleData.w*radians(360.0);vec3 localZ=normalize(u_rainDirection);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 directionLocal;directionLocal.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.z=cos(coneAnglePichRad);directionLocal=normalize(directionLocal);vec3 directionWorld=localX*directionLocal.x+localY*directionLocal.y+localZ*directionLocal.z;float velocityScale=(1.0+3.0*a_rainParticleData.y)*u_velocity;vec3 simPosLocal=vec3(0,0,0);simPosLocal+=directionLocal*velocityScale*u_time;vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);vec4 posView=u_modelview*vec4(pos,1.0);vec3 directionView=normalize((u_modelview*vec4(directionWorld,0.0)).xyz);vec3 side=cross(directionView,normalize(posView.xyz));posView.xyz+=side*a_uv.x*u_rainDropletSize.x;posView.xyz+=directionView*a_uv.y*u_rainDropletSize.y;uv=a_uv;particleRandomValue=a_rainParticleData.x;gl_Position=u_projection*posView;}`),vignette:Si("uniform vec3 u_vignetteShape;uniform vec4 u_vignetteColor;in vec2 st;void main() {float screenDist=length(st);float alpha=clamp((screenDist-u_vignetteShape.x)/u_vignetteShape.y,0.0,1.0);alpha=pow(alpha,u_vignetteShape.z)*u_vignetteColor.a;vec3 color=u_vignetteColor.rgb;glFragColor=vec4(color*alpha,alpha) ;}","in vec2 a_pos_2f;out vec2 st;void main() {st=a_pos_2f;gl_Position=vec4(a_pos_2f,0,1);}"),occlusion:Si("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function Xa(f,r){const l=f.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let m of l)if(m=m.trim(),m[0]==="#"&&m.includes("if")&&!m.includes("endif")){m=m.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const v=m.split(" ");for(const x of v)r.includes(x)||r.push(x)}}function Si(f,r){const l=/#include\s+"([^"]+)"/g,m=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let v=r.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);v&&(v=v.map(z=>{const F=z.split(" ");return F[F.length-1]}),v=[...new Set(v)]);const x={},M=[],P=[];if(f=f.replace(l,(z,F)=>(P.push(F),"")),(r=r.replace(l,(z,F)=>(M.push(F),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let O=[...rl];Xa(f,O),Xa(r,O);for(const z of[...M,...P])Ya[z]||console.error(`Undefined include: ${z}`),sl[z]||(sl[z]=[],Xa(Ya[z],sl[z])),O=[...O,...sl[z]];return{fragmentSource:f=f.replace(m,(z,F,H,U,G)=>(x[G]=!0,F==="define"?`
#ifndef HAS_UNIFORM_u_${G}
in ${H} ${U} ${G};
#else
uniform ${H} ${U} u_${G};
#endif
`:F==="initialize"?`
#ifdef HAS_UNIFORM_u_${G}
    ${H} ${U} ${G} = u_${G};
#endif
`:F==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${G}
    in ${H} ${U} ${G};
#endif
`:F==="initialize-attribute"?"":void 0)),vertexSource:r=r.replace(m,(z,F,H,U,G)=>{const Q=U==="float"?"vec2":U,J=G.match(/color/)?"color":Q;return F==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${G}
in ${H} ${U} a_${G};
#endif
`:x[G]?F==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${H} ${Q} a_${G};
out ${H} ${U} ${G};
#else
uniform ${H} ${U} u_${G};
#endif
`:F==="initialize"?J==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = a_${G};
#else
    ${H} ${U} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = unpack_mix_${J}(a_${G}, u_${G}_t);
#else
    ${H} ${U} ${G} = u_${G};
#endif
`:F==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${G}
    in ${H} ${U} a_${G};
    out ${H} ${U} ${G};
#endif
`:F==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${G}
    ${G} = a_${G};
#endif
`:void 0:F==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${H} ${Q} a_${G};
#else
uniform ${H} ${U} u_${G};
#endif
`:F==="define-instanced"?J==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${G}0;
in vec4 a_${G}1;
in vec4 a_${G}2;
in vec4 a_${G}3;
#else
uniform ${H} ${U} u_${G};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${H} ${Q} a_${G};
#else
uniform ${H} ${U} u_${G};
#endif
`:F==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${G}
    ${H} ${U} ${G} = a_${G};
#endif
`:J==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${H} ${U} ${G} = a_${G};
#else
    ${H} ${U} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${H} ${U} ${G} = unpack_mix_${J}(a_${G}, u_${G}_t);
#else
    ${H} ${U} ${G} = u_${G};
#endif
`}),staticAttributes:v,usedDefines:O,vertexIncludes:M,fragmentIncludes:P}}class Zm{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,l,m,v,x,M,P,O){this.context=r;let z=this.boundPaintVertexBuffers.length!==v.length;for(let H=0;!z&&H<v.length;H++)this.boundPaintVertexBuffers[H]!==v[H]&&(z=!0);let F=this.boundDynamicVertexBuffers.length!==P.length;for(let H=0;!F&&H<P.length;H++)this.boundDynamicVertexBuffers[H]!==P[H]&&(F=!0);if(!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==m||z||F||this.boundIndexBuffer!==x||this.boundVertexOffset!==M)this.freshBind(l,m,v,x,M,P,O);else{r.bindVertexArrayOES.set(this.vao);for(const H of P)H&&(H.bind(),O&&H.instanceCount&&H.setVertexAttribDivisor(r.gl,l,O));x&&x.dynamicDraw&&x.bind()}}freshBind(r,l,m,v,x,M,P){const O=r.numAttributes,z=this.context,F=z.gl;this.vao&&this.destroy(),this.vao=z.gl.createVertexArray(),z.bindVertexArrayOES.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=x,this.boundDynamicVertexBuffers=M,l.enableAttributes(F,r),l.bind(),l.setVertexAttribPointers(F,r,x);for(const H of m)H.enableAttributes(F,r),H.bind(),H.setVertexAttribPointers(F,r,x);for(const H of M)H&&(H.enableAttributes(F,r),H.bind(),H.setVertexAttribPointers(F,r,x),P&&H.instanceCount&&H.setVertexAttribDivisor(F,r,P));v&&v.bind(),z.currentNumAttributes=O}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function Ym(f,r){const l=Math.pow(2,r.canonical.z),m=r.canonical.y;return[new s.aa(0,m/l).toLngLat().lat,new s.aa(0,(m+1)/l).toLngLat().lat]}function Xm(f,r,l,m,v,x,M){const P=f.context,O=P.gl,z=l.hillshadeFBO;if(!z)return;f.prepareDrawTile();const F=f.isTileAffectedByFog(r),H=f.getOrCreateProgram("hillshade",{overrideFog:F});P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,z.colorAttachment.get());const U=((ie,ne,ae,fe)=>{const de=ae.paint.get("hillshade-shadow-color"),be=ae.paint.get("hillshade-shadow-color-use-theme").constantOr("default")==="none",ge=ae.paint.get("hillshade-highlight-color"),ve=ae.paint.get("hillshade-highlight-color-use-theme").constantOr("default")==="none",_e=ae.paint.get("hillshade-accent-color"),Ee=ae.paint.get("hillshade-accent-color-use-theme").constantOr("default")==="none",Oe=ae.paint.get("hillshade-emissive-strength");let Ge=s.ai(ae.paint.get("hillshade-illumination-direction"));if(ae.paint.get("hillshade-illumination-anchor")==="viewport")Ge-=ie.transform.angle;else if(ie.style&&ie.style.enable3dLights()&&ie.style.directionalLight){const Le=ie.style.directionalLight.properties.get("direction"),Ne=s.cb(Le.x,Le.y,Le.z);Ge=s.ai(Ne[1])}const je=!ie.options.moving;return{u_matrix:fe||ie.transform.calculateProjMatrix(ne.tileID.toUnwrapped(),je),u_image:0,u_latrange:Ym(0,ne.tileID),u_light:[ae.paint.get("hillshade-exaggeration"),Ge],u_shadow:de.toRenderColor(be?null:ae.lut),u_highlight:ge.toRenderColor(ve?null:ae.lut),u_emissive_strength:Oe,u_accent:_e.toRenderColor(Ee?null:ae.lut)}})(f,l,m,f.terrain?r.projMatrix:null);f.uploadCommonUniforms(P,H,r.toUnwrapped());const{tileBoundsBuffer:G,tileBoundsIndexBuffer:Q,tileBoundsSegments:J}=f.getTileBoundsBuffers(l);H.draw(f,O.TRIANGLES,v,x,M,ti.disabled,U,m.id,G,Q,J)}function al(f,r,l){if(!r.needsDEMTextureUpload)return;const m=f.context,v=m.gl;m.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||f.getTileTexture(l.stride);const x=l.getPixels();r.demTexture?r.demTexture.update(x,{premultiply:!1}):r.demTexture=new s.T(m,x,v.R32F,{premultiply:!1}),r.needsDEMTextureUpload=!1}function Km(f,r,l){const m=f.context,v=m.gl;if(!r.dem)return;const x=r.dem;if(m.activeTexture.set(v.TEXTURE1),al(f,r,x),!r.demTexture)return;r.demTexture.bind(v.NEAREST,v.CLAMP_TO_EDGE);const M=x.dim;m.activeTexture.set(v.TEXTURE0);let P=r.hillshadeFBO;if(!P){const U=new s.T(m,{width:M,height:M,data:null},v.RGBA8);U.bind(v.LINEAR,v.CLAMP_TO_EDGE),P=r.hillshadeFBO=m.createFramebuffer(M,M,!0,"renderbuffer"),P.colorAttachment.set(U.texture)}m.bindFramebuffer.set(P.framebuffer),m.viewport.set([0,0,M,M]);const{tileBoundsBuffer:O,tileBoundsIndexBuffer:z,tileBoundsSegments:F}=f.getMercatorTileBoundsBuffers(),H=[];f.linearFloatFilteringSupported()&&H.push("TERRAIN_DEM_FLOAT_FORMAT"),f.getOrCreateProgram("hillshadePrepare",{defines:H}).draw(f,v.TRIANGLES,Wt.disabled,ci.disabled,vi.unblended,ti.disabled,((U,G)=>{const Q=G.stride,J=s.ab.mat4.create();return s.ab.mat4.ortho(J,0,s.ag,-s.ag,0,0,1),s.ab.mat4.translate(J,J,[0,-s.ag,0]),{u_matrix:J,u_image:1,u_dimension:[Q,Q],u_zoom:U.overscaledZ}})(r.tileID,x),l.id,O,z,F),r.needsHillshadePrepare=!1}class _n{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class D_ extends _n{getDefault(){return s.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class L_ extends _n{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class Gp extends _n{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class Wp extends _n{getDefault(){return[!0,!0,!0,!0]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Zp extends _n{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class Yp extends _n{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Jm extends _n{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const l=this.current;(r.func!==l.func||r.ref!==l.ref||r.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class Qm extends _n{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class k_ extends _n{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=r,this.dirty=!1}}class lh extends _n{getDefault(){return[0,1]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class ch extends _n{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=r,this.dirty=!1}}class e0 extends _n{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class us extends _n{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.BLEND):l.disable(l.BLEND),this.current=r,this.dirty=!1}}class Xp extends _n{getDefault(){const r=this.gl;return[r.ONE,r.ZERO,r.ONE,r.ZERO]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Xu extends _n{getDefault(){return s.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Ku extends _n{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(r,r),this.current=r,this.dirty=!1)}}class Kp extends _n{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=r,this.dirty=!1}}class Jp extends _n{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class Ju extends _n{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let Qp=class extends _n{getDefault(){return null}set(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)}};class ef extends _n{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class Qu extends _n{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class t0 extends _n{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class i0 extends _n{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Jl extends _n{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class O_ extends _n{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class R_ extends _n{getDefault(){return null}set(r){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class z_ extends _n{getDefault(){return null}set(r){this.gl&&(r!==this.current||this.dirty)&&(this.gl.bindVertexArray(r),this.current=r,this.dirty=!1)}}class F_ extends _n{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class B_ extends _n{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class N_ extends _n{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class hh extends _n{constructor(r,l){super(r),this.context=r,this.parent=l}getDefault(){return null}}class tf extends hh{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class nf extends hh{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,this.attachment(),l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Ql extends hh{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,this.attachment(),l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class n0 extends nf{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const r0=(f,r,l)=>({u_matrix:f,u_image0:0,u_skirt_height:r,u_ground_shadow_factor:l}),rf=(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J)=>({u_proj_matrix:Float32Array.from(f),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(m),u_merc_matrix:l,u_zoom_transition:v,u_merc_center:x,u_image0:0,u_frustum_tl:M,u_frustum_tr:P,u_frustum_br:O,u_frustum_bl:z,u_globe_pos:F,u_globe_radius:H,u_viewport:U,u_grid_matrix:J?Float32Array.from(J):new Float32Array(9),u_skirt_height:G,u_far_z_cutoff:Q});function ed(f,r){return f!=null&&r!=null&&!(!f.hasData()||!r.hasData())&&f.demTexture!=null&&r.demTexture!=null&&f.tileID.key!==r.tileID.key}const Rs=new class{constructor(){this.operations={}}newMorphing(f,r,l,m,v){if(f in this.operations){const x=this.operations[f];x.to.tileID.key!==l.tileID.key&&(x.queued=l)}else this.operations[f]={startTime:m,phase:0,duration:v,from:r,to:l,queued:null}}getMorphValuesForProxy(f){if(!(f in this.operations))return null;const r=this.operations[f];return{from:r.from,to:r.to,phase:r.phase}}update(f){for(const r in this.operations){const l=this.operations[r];for(l.phase=(f-l.startTime)/l.duration;l.phase>=1||!this._validOp(l);)if(!this._nextOp(l,f)){delete this.operations[r];break}}}_nextOp(f,r){return!!f.queued&&(f.from=f.to,f.to=f.queued,f.queued=null,f.phase=0,f.startTime=r,!0)}_validOp(f){return f.from.hasData()&&f.to.hasData()}},sf={0:null,1:"TERRAIN_VERTEX_MORPHING"};function Ka(f,r,l){if(r===0)return 0;const m=r<1&&l===514?.25/r:1;return 6*Math.pow(1.5,22-f)*Math.max(r,1)*m}function af(f,r){const l=1<<f.z;return!r&&(f.x===0||f.x===l-1)||f.y===0||f.y===l-1}const ec=f=>({u_matrix:f});function td(f,r,l,m,v){if(v>0){const x=s.q.now(),M=(x-f.timeAdded)/v,P=r?(x-r.timeAdded)/v:-1,O=l.getSource(),z=m.coveringZoomLevel({tileSize:O.tileSize,roundZoom:O.roundZoom}),F=!r||Math.abs(r.tileID.overscaledZ-z)>Math.abs(f.tileID.overscaledZ-z),H=F&&f.refreshedUponExpiration?1:s.aw(F?M:1-P,0,1);return f.refreshedUponExpiration&&M>=1&&(f.refreshedUponExpiration=!1),r?{opacity:1,mix:1-H}:{opacity:H,mix:0}}return{opacity:1,mix:0}}class s0 extends Ds{constructor(r){const l={type:"raster-dem",maxzoom:r.transform.maxZoom},m=new s.D(s.ci(),null),v=Op("mock-dem",l,m,r.style);super("mock-dem",v,!1),v.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,l){r.state="loaded",l(null)}}class of extends Ds{constructor(r){const l=Op("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new s.D(s.ci(),null),r.style);super("proxy",l,!1),l.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,l,m){if(r.freezeTileCoverage)return;this.transform=r;const v=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((x,M)=>{if(x[M.key]="",!this._tiles[M.key]){const P=new go(M,this._source.tileSize*M.overscaleFactor(),r.tileZoom);P.state="loaded",this._tiles[M.key]=P}return x},{});for(const x in this._tiles)x in v||(this.freeFBO(x),this._tiles[x].unloadVectorData(),delete this._tiles[x])}freeFBO(r){const l=this.proxyCachedFBO[r];if(l!==void 0){const m=Object.values(l);this.renderCachePool.push(...m),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class id extends s.aG{constructor(r,l,m){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=l,this.projMatrix=m}}class a0 extends s.cJ{constructor(r,l){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},r.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[m,v,x]=function(O){const z=new s.b4,F=new s.aU,H=131;z.reserve(17161),F.reserve(33800);const U=s.ag/128,G=s.ag+U/2,Q=G+U;for(let ie=-U;ie<Q;ie+=U)for(let ne=-U;ne<Q;ne+=U){const ae=ne<0||ne>G||ie<0||ie>G?24575:0,fe=s.aw(Math.round(ne),0,s.ag),de=s.aw(Math.round(ie),0,s.ag);z.emplaceBack(fe+ae,de)}const J=(ie,ne)=>{const ae=ne*H+ie;F.emplaceBack(ae+1,ae,ae+H),F.emplaceBack(ae+H,ae+H+1,ae+1)};for(let ie=1;ie<129;ie++)for(let ne=1;ne<129;ne++)J(ne,ie);return[0,129].forEach(ie=>{for(let ne=0;ne<130;ne++)J(ne,ie),J(ie,ne)}),[z,F,32768]}(),M=r.context;this.gridBuffer=M.createVertexBuffer(m,s.b6.members),this.gridIndexBuffer=M.createIndexBuffer(v),this.gridSegments=s.b7.simpleSegment(0,0,m.length,v.length),this.gridNoSkirtSegments=s.b7.simpleSegment(0,0,m.length,x),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new of(l.map),this.orthoMatrix=s.ab.mat4.create(),s.ab.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.ag,0,s.ag,0,1);const P=M.gl;this._overlapStencilMode=new ci({func:P.GEQUAL,mask:255},0,255,P.KEEP,P.KEEP,P.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=l,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new s0(l.map),this._pendingGroundEffectLayers=[]}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),this._style=r,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,l,m){if(r&&r.terrain){this._style!==r&&(this.style=r,this._evaluationZoom=void 0);const v=r.terrain.properties,x=r.terrain.drapeRenderMode===0,M=r.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=s.q.now();const P=r.terrain&&r.terrain.scope,O=v.get("source"),z=x?this._mockSourceCache:r.getSourceCache(O,P);if(!z)return void s.w(`Couldn't find terrain source "${O}".`);if(this.sourceCache=z,this._attenuationRange=r.terrain.getAttenuationRange(),this._exaggeration=M?this.calculateExaggeration(l):v.get("exaggeration"),!l.projection.requiresDraping&&M&&this._exaggeration===0)return void this._disable();this.enabled=!0;const F=()=>{this.sourceCache.used&&s.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const H=this.getScaledDemTileSize();this.sourceCache.update(l,H,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,F(),this._initializing=!0),F(),l.updateElevation(!0,m),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(l),this._emptyDEMTextureDirty=!0,this._previousZoom=l.zoom}else this._disable()}calculateExaggeration(r){if(this._attenuationRange&&r.zoom>=Math.ceil(this._attenuationRange[1]))return this._style.terrain.getExaggeration(r.zoom);const l=this._previousCameraAltitude,m=r.getFreeCameraOptions().position.z/r.pixelsPerMeter*r.worldSize;this._previousCameraAltitude=m;const v=l!=null?m-l:Number.MAX_VALUE;if(Math.abs(v)<2)return this._exaggeration;const x=r.zoom,M=this._style.terrain;if(!this._previousUpdateTimestamp)return M.getExaggeration(x);let P=x-this._previousZoom;const O=this._previousUpdateTimestamp;let z=x;this._evaluationZoom!=null&&(z=this._evaluationZoom,Math.abs(x-z)>.5&&(P=.5*(x-z+P)),P*v<0&&(z+=P)),this._evaluationZoom=z;const F=M.getExaggeration(z),H=F===M.getExaggeration(Math.max(0,z-.1));if(H&&Math.abs(F-this._exaggeration)<.01)return F;let U=Math.min(.1,.00375*(this._updateTimestamp-O));return(H||F<.1||Math.abs(P)<1e-4)&&(U=Math.min(.2,4*U)),s.af(this._exaggeration,F,U)}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}attenuationRange(){return this._attenuationRange}getDemUpscale(){return this.proxySourceCache.getSource().tileSize/128}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._mergedSourceCaches)this._style._mergedSourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const l=this.proxySourceCache,m=this.painter.transform;this._initializing&&(this._initializing=m._centerAltitude===0&&this.getAtPointOrZero(s.aa.fromLngLat(m.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const v=this.proxyCoords=l.getIds().map(O=>{const z=l.getTileByID(O).tileID;return z.projMatrix=m.calculateProjMatrix(z.toUnwrapped()),z});(function(O,z){const F=z.transform.pointCoordinate(z.transform.getCameraPoint()),H=new s.P(F.x,F.y);O.sort((U,G)=>{if(G.overscaledZ-U.overscaledZ)return G.overscaledZ-U.overscaledZ;const Q=new s.P(U.canonical.x+(1<<U.canonical.z)*U.wrap,U.canonical.y),J=new s.P(G.canonical.x+(1<<G.canonical.z)*G.wrap,G.canonical.y),ie=H.mult(1<<U.canonical.z);return ie.x-=.5,ie.y-=.5,ie.distSqr(Q)-ie.distSqr(J)})})(v,this.painter);const x=this.proxyToSource||{};this.proxyToSource={},v.forEach(O=>{this.proxyToSource[O.key]={}}),this.terrainTileForTile={};const M=this._style._mergedSourceCaches;for(const O in M){const z=M[O];if(!z.used||(z!==this.sourceCache&&this.resetTileLookupCache(z.id),this._setupProxiedCoordsForOrtho(z,r[O],x),z.usedForTerrain))continue;const F=r[O];z.getSource().reparseOverscaled&&this._assignTerrainTiles(F)}this.proxiedCoords[l.id]=v.map(O=>new id(O,O.key,this.orthoMatrix)),this._assignTerrainTiles(v),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(x),this.renderingToTexture=!1;const P={};this._visibleDemTiles=[];for(const O of this.proxyCoords){const z=this.terrainTileForTile[O.key];if(!z)continue;const F=z.tileID.key;F in P||(this._visibleDemTiles.push(z),P[F]=F)}}_assignTerrainTiles(r){this._initializing||r.forEach(l=>{if(this.terrainTileForTile[l.key])return;const m=this._findTileCoveringTileID(l,this.sourceCache);m&&(this.terrainTileForTile[l.key]=m)})}_prepareDEMTextures(){const r=this.painter.context,l=r.gl;for(const m in this.terrainTileForTile){const v=this.terrainTileForTile[m],x=v.dem;!x||v.demTexture&&!v.needsDEMTextureUpload||(r.activeTexture.set(l.TEXTURE1),al(this.painter,v,x))}}_prepareDemTileUniforms(r,l,m,v){if(!l||l.demTexture==null)return!1;const x=r.tileID.canonical,M=Math.pow(2,l.tileID.canonical.z-x.z),P=v||"";return m[`u_dem_tl${P}`]=[x.x*M%1,x.y*M%1],m[`u_dem_scale${P}`]=M,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let r=0;const l=this._visibleDemTiles.reduce((m,v)=>{if(!v.dem)return m;const x=v.dem.tree.minimums[0];return x>0&&r++,m+x},0);return r?l/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,l=r.gl;r.activeTexture.set(l.TEXTURE2);const m=this._getLoadedAreaMinimum(),v=new s.cK({width:1,height:1},new Float32Array([m]));this._emptyDEMTextureDirty=!1;let x=this._emptyDEMTexture;return x?x.update(v,{premultiply:!1}):x=this._emptyDEMTexture=new s.T(r,v,l.R32F,{premultiply:!1}),x}setupElevationDraw(r,l,m){const v=this.painter.context,x=v.gl,M={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};M.u_exaggeration=this.exaggeration();let P=null,O=null,z=1;if(m&&m.morphing&&this._useVertexMorphing){const G=m.morphing.srcDemTile,Q=m.morphing.dstDemTile;z=m.morphing.phase,G&&Q&&(this._prepareDemTileUniforms(r,G,M,"_prev")&&(O=G),this._prepareDemTileUniforms(r,Q,M)&&(P=Q))}const F=G=>G&&G.demTexture&&this.painter.linearFloatFilteringSupported()?x.LINEAR:x.NEAREST;let H=null;var U;if(this.enabled?O&&P?(H=P.demTexture,v.activeTexture.set(x.TEXTURE4),O.demTexture.bind(F(O),x.CLAMP_TO_EDGE),M.u_dem_lerp=z):(P=this.terrainTileForTile[r.tileID.key],H=this._prepareDemTileUniforms(r,P,M)?P.demTexture:this.emptyDEMTexture):H=this.emptyDEMTexture,v.activeTexture.set(x.TEXTURE2),H&&(M.u_dem_size=(U=H).size[0]===1?1:U.size[0]-2,H.bind(F(P),x.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(m&&m.useDepthForOcclusion,l,M),m&&m.useMeterToDem&&P){const G=(1<<P.tileID.canonical.z)*s.bH(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;M.u_meter_to_dem=G}if(m&&m.labelPlaneMatrixInv&&(M.u_label_plane_matrix_inv=m.labelPlaneMatrixInv),l.setTerrainUniformValues(v,M),this.painter.transform.projection.name==="globe"){const G=this.globeUniformValues(this.painter.transform,r.tileID.canonical,m&&m.useDenormalizedUpVectorScale);l.setGlobeUniformValues(v,G)}}globeUniformValues(r,l,m){const v=r.projection;return{u_tile_tl_up:v.upVector(l,0,0),u_tile_tr_up:v.upVector(l,s.ag,0),u_tile_br_up:v.upVector(l,s.ag,s.ag),u_tile_bl_up:v.upVector(l,0,s.ag),u_tile_up_scale:m?s.cL(1):v.upVectorScale(l,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const l=this.painter,m=this.painter.context;r.length!==0&&(m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),l.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(v,x,M,P,O){if(v.transform.projection.name==="globe")(function(z,F,H,U,G){const Q=z.context,J=Q.gl;let ie,ne;const ae=z.transform,fe=s.cC(z,Q,ae),de=(Le,Ne)=>{if(ne===Ne)return;const at=[sf[Ne],"PROJECTION_GLOBE_VIEW"];fe&&at.push("CUSTOM_ANTIALIASING");const pt=z.isTileAffectedByFog(Le);ie=z.getOrCreateProgram("globeRaster",{defines:at,overrideFog:pt}),ne=Ne},be=z.colorModeForRenderPass(),ge=new Wt(J.LEQUAL,Wt.ReadWrite,z.depthRangeFor3D);Rs.update(G);const ve=s.cD(ae),_e=[s.at(ae.center.lng),s.aA(ae.center.lat)],Ee=z.globeSharedBuffers,Oe=[ae.width*s.q.devicePixelRatio,ae.height*s.q.devicePixelRatio],Ge=Float32Array.from(ae.globeMatrix),je={useDenormalizedUpVectorScale:!0};{const Le=z.transform,Ne=Ka(Le.zoom,F.exaggeration(),F.sourceCache._source.tileSize);ne=-1;const at=J.TRIANGLES;for(const pt of U){const bt=H.getTile(pt),Ue=ci.disabled,lt=F.prevTerrainTileForTile[pt.key],Xe=F.terrainTileForTile[pt.key];ed(lt,Xe)&&Rs.newMorphing(pt.key,lt,Xe,G,250),Q.activeTexture.set(J.TEXTURE0),bt.texture&&bt.texture.bind(J.LINEAR,J.CLAMP_TO_EDGE);const yt=Rs.getMorphValuesForProxy(pt.key),ht=yt?1:0;yt&&s.J(je,{morphing:{srcDemTile:yt.from,dstDemTile:yt.to,phase:s.cB(yt.phase)}});const nt=s.cE(pt.canonical),kt=s.cF(nt.getCenter().lat),wt=s.cG(pt.canonical,nt,kt,Le.worldSize/Le._pixelsPerMercatorPixel),Ot=s.bb(s.cH(pt.canonical)),Vt=rf(Le.expandedFarZProjMatrix,Ge,ve,Ot,s.ae(Le.zoom),_e,Le.frustumCorners.TL,Le.frustumCorners.TR,Le.frustumCorners.BR,Le.frustumCorners.BL,Le.globeCenterInViewSpace,Le.globeRadius,Oe,Ne,Le._farZ,wt);if(de(pt,ht),ie&&(F.setupElevationDraw(bt,ie,je),z.uploadCommonUniforms(Q,ie,pt.toUnwrapped()),Ee)){const[ni,$t,Zt]=Ee.getGridBuffers(kt,Ne!==0);ie.draw(z,at,ge,Ue,be,ti.backCCW,Vt,"globe_raster",ni,$t,Zt)}}}if(Ee&&(z.renderDefaultNorthPole||z.renderDefaultSouthPole)){const Le=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];fe&&Le.push("CUSTOM_ANTIALIASING"),ie=z.getOrCreateProgram("globeRaster",{defines:Le});for(const Ne of U){const{x:at,y:pt,z:bt}=Ne.canonical,Ue=pt===0,lt=pt===(1<<bt)-1,[Xe,yt,ht,nt]=Ee.getPoleBuffers(bt,!1);if(nt&&(Ue||lt)){const kt=H.getTile(Ne);Q.activeTexture.set(J.TEXTURE0),kt.texture&&kt.texture.bind(J.LINEAR,J.CLAMP_TO_EDGE);let wt=s.cI(bt,at,ae);const Ot=s.bb(s.cH(Ne.canonical)),Vt=(ni,$t)=>ni.draw(z,J.TRIANGLES,ge,ci.disabled,be,ti.disabled,rf(ae.expandedFarZProjMatrix,wt,wt,Ot,0,_e,ae.frustumCorners.TL,ae.frustumCorners.TR,ae.frustumCorners.BR,ae.frustumCorners.BL,ae.globeCenterInViewSpace,ae.globeRadius,Oe,0,ae._farZ),"globe_pole_raster",$t,ht,nt);F.setupElevationDraw(kt,ie,je),z.uploadCommonUniforms(Q,ie,Ne.toUnwrapped()),Ue&&z.renderDefaultNorthPole&&Vt(ie,Xe),lt&&z.renderDefaultSouthPole&&(wt=s.ab.mat4.scale(s.ab.mat4.create(),wt,[1,-1,1]),Vt(ie,yt))}}}})(v,x,M,P,O);else{const z=v.context,F=z.gl;let H,U;const G=v.shadowRenderer,Q=Wa(v,v.longestCutoffRange),J=be=>{if(U===be)return;const ge=[];ge.push(sf[be]),Q.shouldRenderCutoff&&ge.push("RENDER_CUTOFF"),G&&(ge.push("RENDER_SHADOWS","DEPTH_TEXTURE"),G.useNormalOffset&&ge.push("NORMAL_OFFSET")),H=v.getOrCreateProgram("terrainRaster",{defines:ge}),U=be},ie=v.colorModeForRenderPass(),ne=new Wt(F.LEQUAL,Wt.ReadWrite,v.depthRangeFor3D);Rs.update(O);const ae=v.transform,fe=Ka(ae.zoom,x.exaggeration(),x.sourceCache._source.tileSize);let de=[0,0,0];if(G){const be=v.style.directionalLight,ge=v.style.ambientLight;be&&ge&&(de=Yl(v.style,be,ge))}{U=-1;const be=F.TRIANGLES,[ge,ve]=[x.gridIndexBuffer,x.gridSegments];for(const _e of P){const Ee=M.getTile(_e),Oe=ci.disabled,Ge=x.prevTerrainTileForTile[_e.key],je=x.terrainTileForTile[_e.key];ed(Ge,je)&&Rs.newMorphing(_e.key,Ge,je,O,250),z.activeTexture.set(F.TEXTURE0),Ee.texture&&Ee.texture.bind(F.LINEAR,F.CLAMP_TO_EDGE);const Le=Rs.getMorphValuesForProxy(_e.key),Ne=Le?1:0;let at;Le&&(at={morphing:{srcDemTile:Le.from,dstDemTile:Le.to,phase:s.cB(Le.phase)}});const pt=r0(_e.projMatrix,af(_e.canonical,ae.renderWorldCopies)?fe/10:fe,de);if(J(Ne),!H)continue;x.setupElevationDraw(Ee,H,at);const bt=_e.toUnwrapped();G&&G.setupShadows(bt,H),v.uploadCommonUniforms(z,H,bt,null,Q),H.draw(v,be,ne,Oe,ie,ti.backCCW,pt,"terrain_raster",x.gridBuffer,ge,ve)}}}}(l,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,l.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const l=this.painter,m=this.painter.context,v=this.proxySourceCache,x=this.proxiedCoords[v.id],M=this._drapedRenderBatches.shift(),P=l.style.order,O=[];let z=0;for(const F of x){const H=v.getTileByID(F.proxyTileKey),U=v.proxyCachedFBO[F.key]?v.proxyCachedFBO[F.key][r]:void 0,G=U!==void 0?v.renderCache[U]:this.pool[z++],Q=U!==void 0;if(H.texture=G.tex,Q&&!G.dirty){O.push(H.tileID);continue}let J;m.bindFramebuffer.set(G.fb.framebuffer),this.renderedToTile=!1,G.dirty&&(m.clear({color:s.aj.transparent,stencil:0}),G.dirty=!1);for(let ie=M.start;ie<=M.end;++ie){const ne=l.style._mergedLayers[P[ie]];if(ne.isHidden(l.transform.zoom))continue;const ae=l.style.getLayerSourceCache(ne),fe=ae?this.proxyToSource[F.key][ae.id]:[F];if(!fe)continue;const de=fe;m.viewport.set([0,0,G.fb.width,G.fb.height]),J!==(ae?ae.id:null)&&(this._setupStencil(G,fe,ne,ae),J=ae?ae.id:null),l.renderLayer(l,ae,ne,de)}if(this._drapedRenderBatches.length===0)for(const ie of this._pendingGroundEffectLayers){const ne=l.style._mergedLayers[P[ie]];if(ne.isHidden(l.transform.zoom))continue;const ae=l.style.getLayerSourceCache(ne),fe=ae?this.proxyToSource[F.key][ae.id]:[F];if(!fe)continue;const de=fe;m.viewport.set([0,0,G.fb.width,G.fb.height]),J!==(ae?ae.id:null)&&(this._setupStencil(G,fe,ne,ae),J=ae?ae.id:null),l.renderLayer(l,ae,ne,de)}this.renderedToTile?(G.dirty=!0,O.push(H.tileID)):Q||--z,z===5&&(z=0,this.renderToBackBuffer(O))}return this.renderToBackBuffer(O),this.renderingToTexture=!1,m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),M.end+1}postRender(){}isLayerOrderingCorrect(r){const l=r.order.length;let m=-1,v=l;for(let x=0;x<l;++x)this._style.isLayerDraped(r._mergedLayers[r.order[x]])?m=Math.max(m,x):v=Math.min(v,x);return v>m}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(l=>l.dem).forEach(l=>{r=Math.min(r,l.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,l,m){if(!this._visibleDemTiles)return null;const v=this._visibleDemTiles.filter(x=>x.dem).map(x=>{const M=x.tileID,P=1<<M.overscaledZ,{x:O,y:z}=M.canonical,F=O/P,H=(O+1)/P,U=z/P,G=(z+1)/P;return{minx:F,miny:U,maxx:H,maxy:G,t:x.dem.tree.raycastRoot(F,U,H,G,r,l,m),tile:x}});v.sort((x,M)=>(x.t!==null?x.t:Number.MAX_VALUE)-(M.t!==null?M.t:Number.MAX_VALUE));for(const x of v){if(x.t==null)return null;const M=x.tile.dem.tree.raycast(x.minx,x.miny,x.maxx,x.maxy,r,l,m);if(M!=null)return M}return null}_createFBO(){const r=this.painter.context,l=r.gl,m=this.drapeBufferSize;r.activeTexture.set(l.TEXTURE0);const v=new s.T(r,{width:m[0],height:m[1],data:null},l.RGBA8);v.bind(l.LINEAR,l.CLAMP_TO_EDGE);const x=r.createFramebuffer(m[0],m[1],!0,null);return x.colorAttachment.set(v.texture),x.depthAttachment=new n0(r,x.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,m[0],m[1]),this._stencilRef=0,x.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):x.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&l.texParameterf(l.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:x,tex:v,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const r in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const l=this._style._mergedLayers[r],m=l.isHidden(this.painter.transform.zoom);return l.type==="hillshade"||l.type==="custom"?!m&&l.shouldRedrape():!m&&l.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const m of this._style.getSources())if(m instanceof Mu){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const v=this._style._mergedLayers[this._style.order[m]],x=this._style.getLayerSourceCache(v);if(x&&!l[x.id]&&!v.isHidden(this.painter.transform.zoom)&&v.type==="line"&&v.widthExpression()instanceof s.a9){l[x.id]=!0;for(const M of this.proxyCoords){const P=this.proxyToSource[M.key][x.id];if(P)for(const O of P)this._clearRenderCacheForTile(x.id,O)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const m in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[m]._source instanceof Vl){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const v=this._style._mergedLayers[this._style.order[m]],x=this._style.getLayerSourceCache(v);if(!x||l[x.id]||v.isHidden(this.painter.transform.zoom)||v.type!=="raster")continue;const M=v.paint.get("raster-fade-duration");for(const P of this.proxyCoords){const O=this.proxyToSource[P.key][x.id];if(O)for(const z of O){const F=td(x.getTile(z),x.findLoadedParent(z,0),x,this.painter.transform,M);(F.opacity!==1||F.mix!==0)&&this._clearRenderCacheForTile(x.id,z)}}}}_setupDrapedRenderBatches(){this._style.updateDrapeFirstLayers();const r=this._style.order,l=r.length;if(l===0)return;const m=[];this._pendingGroundEffectLayers=[];let v,x=0,M=this._style._mergedLayers[r[x]];for(;!this._style.isLayerDraped(M)&&M.isHidden(this.painter.transform.zoom)&&++x<l;)M=this._style._mergedLayers[r[x]];for(;x<l;++x){const P=this._style._mergedLayers[r[x]];P.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(P)?v===void 0&&(v=x):(P.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(x),v!==void 0&&(m.push({start:v,end:x-1}),v=void 0)))}if(v!==void 0&&m.push({start:v,end:x-1}),m.length!==0){const P=m[m.length-1];this._pendingGroundEffectLayers.every(O=>O>P.end)||s.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=m}_setupRenderCache(r){const l=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,l.renderCache.length>l.renderCachePool.length){const M=Object.values(l.proxyCachedFBO);l.proxyCachedFBO={};for(let P=0;P<M.length;++P){const O=Object.values(M[P]);l.renderCachePool.push(...O)}}return}this._clearRasterLayersFromRenderCache();const m=this.proxyCoords,v=this._tilesDirty;for(let M=m.length-1;M>=0;M--){const P=m[M];if(l.getTileByID(P.key),l.proxyCachedFBO[P.key]!==void 0){const O=r[P.key],z=this.proxyToSource[P.key];let F=0;for(const H in z){const U=z[H],G=O[H];if(!G||G.length!==U.length||U.some((Q,J)=>Q!==G[J]||v[H]&&v[H].hasOwnProperty(Q.key))){F=-1;break}++F}for(const H in l.proxyCachedFBO[P.key])l.renderCache[l.proxyCachedFBO[P.key][H]].dirty=F<0||F!==Object.values(O).length}}const x=[...this._drapedRenderBatches];x.sort((M,P)=>P.end-P.start-(M.end-M.start));for(const M of x)for(const P of m){if(l.proxyCachedFBO[P.key])continue;let O=l.renderCachePool.pop();O===void 0&&l.renderCache.length<50&&(O=l.renderCache.length,l.renderCache.push(this._createFBO())),O!==void 0&&(l.proxyCachedFBO[P.key]={},l.proxyCachedFBO[P.key][M.start]=O,l.renderCache[O].dirty=!0)}this._tilesDirty={}}_setupStencil(r,l,m,v){if(!v||!this._sourceTilesOverlap[v.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const x=this.painter.context,M=x.gl;if(l.length<=1)return void(this._overlapStencilType=!1);let P;if(m.isTileClipped())P=l.length,this._overlapStencilMode.test={func:M.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(l[0].overscaledZ>l[l.length-1].overscaledZ))return void(this._overlapStencilType=!1);P=1,this._overlapStencilMode.test={func:M.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+P>255&&(x.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=P,this._overlapStencilMode.ref=this._stencilRef,m.isTileClipped()&&this._renderTileClippingMasks(l,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):ci.disabled}_renderTileClippingMasks(r,l){const m=this.painter,v=this.painter.context,x=v.gl;m._tileClippingMaskIDs={},v.setColorMode(vi.disabled),v.setDepthMode(Wt.disabled);const M=m.getOrCreateProgram("clippingMask");for(const P of r){const O=m._tileClippingMaskIDs[P.key]=--l;M.draw(m,x.TRIANGLES,Wt.disabled,new ci({func:x.ALWAYS,mask:0},O,255,x.KEEP,x.KEEP,x.REPLACE),vi.disabled,ti.disabled,ec(P.projMatrix),"$clipping",m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}pointCoordinate(r){const l=this.painter.transform;if(r.x<0||r.x>l.width||r.y<0||r.y>l.height)return null;const m=[r.x,r.y,1,1];s.ab.vec4.transformMat4(m,m,l.pixelMatrixInverse),s.ab.vec4.scale(m,m,1/m[3]),m[0]/=l.worldSize,m[1]/=l.worldSize;const v=l._camera.position,x=s.bH(1,l.center.lat),M=[v[0],v[1],v[2]/x,0],P=s.ab.vec3.subtract([],m.slice(0,3),M);s.ab.vec3.normalize(P,P);const O=this.raycast(M,P,this._exaggeration);return O!==null&&O?(s.ab.vec3.scaleAndAdd(M,M,P,O),M[3]=M[2],M[2]*=x,M):null}_setupProxiedCoordsForOrtho(r,l,m){if(r.getSource()instanceof s.aJ)return this._setupProxiedCoordsForImageSource(r,l,m);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const v=this.proxiedCoords[r.id]=[],x=this.proxyCoords;for(let O=0;O<x.length;O++){const z=x[O],F=this._findTileCoveringTileID(z,r);if(F){const H=this._createProxiedId(z,F,m[z.key]&&m[z.key][r.id]);v.push(H),this.proxyToSource[z.key][r.id]=[H]}}let M=!1;const P=new Set;for(let O=0;O<l.length;O++){const z=r.getTile(l[O]);if(!z||!z.hasData())continue;const F=this._findTileCoveringTileID(z.tileID,this.proxySourceCache);if(F&&F.tileID.canonical.z!==z.tileID.canonical.z){const H=this.proxyToSource[F.tileID.key][r.id],U=this._createProxiedId(F.tileID,z,m[F.tileID.key]&&m[F.tileID.key][r.id]);H?H.splice(H.length-1,0,U):this.proxyToSource[F.tileID.key][r.id]=[U];const G=this.proxyToSource[F.tileID.key][r.id];P.has(G)||P.add(G),v.push(U),M=!0}}if(this._sourceTilesOverlap[r.id]=M,M&&this._debugParams.sortTilesHiZFirst)for(const O of P)O.sort((z,F)=>F.overscaledZ-z.overscaledZ)}_setupProxiedCoordsForImageSource(r,l,m){if(!r.getSource().loaded())return;const v=this.proxiedCoords[r.id]=[],x=this.proxyCoords,M=r.getSource(),P=M.tileID;if(!P)return;const O=new s.P(P.x,P.y)._div(1<<P.z),z=M.coordinates.map(s.aa.fromLngLat).reduce((H,U)=>(H.min.x=Math.min(H.min.x,U.x-O.x),H.min.y=Math.min(H.min.y,U.y-O.y),H.max.x=Math.max(H.max.x,U.x-O.x),H.max.y=Math.max(H.max.y,U.y-O.y),H),{min:new s.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),F=(H,U)=>{const G=H.wrap+H.canonical.x/(1<<H.canonical.z),Q=H.canonical.y/(1<<H.canonical.z),J=s.ag/(1<<H.canonical.z),ie=U.wrap+U.canonical.x/(1<<U.canonical.z),ne=U.canonical.y/(1<<U.canonical.z);return G+J<ie+z.min.x||G>ie+z.max.x||Q+J<ne+z.min.y||Q>ne+z.max.y};for(let H=0;H<x.length;H++){const U=x[H];for(let G=0;G<l.length;G++){const Q=r.getTile(l[G]);if(!Q||!Q.hasData()||F(U,Q.tileID))continue;const J=this._createProxiedId(U,Q,m[U.key]&&m[U.key][r.id]),ie=this.proxyToSource[U.key][r.id];ie?ie.push(J):this.proxyToSource[U.key][r.id]=[J],v.push(J)}}}_createProxiedId(r,l,m){let v=this.orthoMatrix;if(m){const x=m.find(M=>M.key===l.tileID.key);if(x)return x}if(l.tileID.key!==r.key){const x=r.canonical.z-l.tileID.canonical.z;let M,P,O;v=s.ab.mat4.create();const z=l.tileID.wrap-r.wrap<<r.overscaledZ;x>0?(M=s.ag>>x,P=M*((l.tileID.canonical.x<<x)-r.canonical.x+z),O=M*((l.tileID.canonical.y<<x)-r.canonical.y)):(M=s.ag<<-x,P=s.ag*(l.tileID.canonical.x-(r.canonical.x+z<<-x)),O=s.ag*(l.tileID.canonical.y-(r.canonical.y<<-x))),s.ab.mat4.ortho(v,0,M,0,M,0,1),s.ab.mat4.translate(v,v,[P,O,0])}return new id(l.tileID,r.key,v)}_findTileCoveringTileID(r,l){let m=l.getTile(r);if(m&&m.hasData())return m;const v=this._findCoveringTileCache[l.id],x=v[r.key];if(m=x?l.getTileByID(x):null,m&&m.hasData()||x===null)return m;let M=m?m.tileID:r,P=M.overscaledZ;const O=l.getSource().minzoom,z=[];if(!x){const H=l.getSource().maxzoom;if(r.canonical.z>=H){const U=r.canonical.z-H;l.getSource().reparseOverscaled?(P=Math.max(r.canonical.z+2,l.transform.tileZoom),M=new s.aG(P,r.wrap,H,r.canonical.x>>U,r.canonical.y>>U)):U!==0&&(P=H,M=new s.aG(P,r.wrap,H,r.canonical.x>>U,r.canonical.y>>U))}M.key!==r.key&&(z.push(M.key),m=l.getTile(M))}const F=H=>{z.forEach(U=>{v[U]=H}),z.length=0};for(P-=1;P>=O&&(!m||!m.hasData());P--){m&&F(m.tileID.key);const H=M.calculateScaledKey(P);if(m=l.getTileByID(H),m&&m.hasData())break;const U=v[H];if(U===null)break;U===void 0?z.push(H):m=l.getTileByID(U)}return F(m?m.tileID.key:null),m&&m.hasData()?m:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,l){let m=this._tilesDirty[r];m||(m=this._tilesDirty[r]={}),m[l.key]=!0}}function o0(f,r,l){const m=function(P,O,z){const F=s.ab.vec3.dot(O,P),H=s.ab.vec3.dot(z,[.2126,.7152,.0722]),U=(Q,J,ie)=>(1-ie)*Q+ie*J,G=U(1-.3*Math.min(H,1),1,Math.min(F+1,1));return U(.92,1,Math.asin(s.aw(O[2],-1,1))/Math.PI+.5)*G}(f,[0,0,1],r),v=[0,0,0];s.ab.vec3.scale(v,l.slice(0,3),m);const x=[0,0,0];s.ab.vec3.scale(x,r.slice(0,3),f[2]);const M=[0,0,0];return s.ab.vec3.add(M,v,x),s.cf(M)}const uh=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],V_=["stars","rainParticle","snowParticle","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class l0{static cacheKey(r,l,m,v){let x=`${l}${v?v.cacheKey:""}`;for(const M of m)r.usedDefines.includes(M)&&(x+=`/${M}`);return x}constructor(r,l,m,v,x,M){const P=r.gl;this.program=P.createProgram(),this.configuration=v,this.name=l,this.fixedDefines=[...M];const O=v?v.getBinderAttributes():[],z=(m.staticAttributes||[]).concat(O);let F=v?v.defines():[];F=F.concat(M.map(ie=>`#define ${ie}`));const H=`#version 300 es
`;let U=H+F.concat("precision mediump float;",$p,Zu.fragmentSource).join(`
`);for(const ie of m.fragmentIncludes)U+=`
${Ya[ie]}`;U+=`
${m.fragmentSource}`;let G=H+F.concat("precision highp float;",$p,Zu.vertexSource).join(`
`);for(const ie of m.vertexIncludes)G+=`
${Ya[ie]}`;this.forceManualRenderingForInstanceIDShaders=r.forceManualRenderingForInstanceIDShaders&&m.vertexSource.indexOf("gl_InstanceID")!==-1,this.forceManualRenderingForInstanceIDShaders&&(G+=`
uniform int u_instanceID;
`),G+=`
${m.vertexSource}`,this.forceManualRenderingForInstanceIDShaders&&(G=G.replaceAll("gl_InstanceID","u_instanceID"));const Q=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);P.shaderSource(Q,U),P.compileShader(Q),P.attachShader(this.program,Q);const J=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())this.failedToCreate=!0;else{P.shaderSource(J,G),P.compileShader(J),P.attachShader(this.program,J),this.attributes={},this.numAttributes=z.length;for(let ie=0;ie<this.numAttributes;ie++)if(z[ie]){const ne=z[ie].startsWith("a_")?z[ie]:`a_${z[ie]}`;P.bindAttribLocation(this.program,ie,ne),this.attributes[ne]=ie}P.linkProgram(this.program),P.deleteShader(J),P.deleteShader(Q),this.fixedUniforms=x(r),this.binderUniforms=v?v.getUniforms(r):[],this.forceManualRenderingForInstanceIDShaders&&(this.instancingUniforms=(ie=>({u_instanceID:new s.bN(ie)}))(r)),(M.includes("TERRAIN")||l.indexOf("symbol")!==-1||l.indexOf("circle")!==-1)&&(this.terrainUniforms=(ie=>({u_dem:new s.bN(ie),u_dem_prev:new s.bN(ie),u_dem_tl:new s.bK(ie),u_dem_scale:new s.bM(ie),u_dem_tl_prev:new s.bK(ie),u_dem_scale_prev:new s.bM(ie),u_dem_size:new s.bM(ie),u_dem_lerp:new s.bM(ie),u_exaggeration:new s.bM(ie),u_depth:new s.bN(ie),u_depth_size_inv:new s.bK(ie),u_depth_range_unpack:new s.bK(ie),u_occluder_half_size:new s.bM(ie),u_occlusion_depth_offset:new s.bM(ie),u_meter_to_dem:new s.bM(ie),u_label_plane_matrix_inv:new s.bJ(ie)}))(r)),M.includes("GLOBE")&&(this.globeUniforms=(ie=>({u_tile_tl_up:new s.bL(ie),u_tile_tr_up:new s.bL(ie),u_tile_br_up:new s.bL(ie),u_tile_bl_up:new s.bL(ie),u_tile_up_scale:new s.bM(ie)}))(r)),M.includes("FOG")&&(this.fogUniforms=(ie=>({u_fog_matrix:new s.bJ(ie),u_fog_range:new s.bK(ie),u_fog_color:new s.ca(ie),u_fog_horizon_blend:new s.bM(ie),u_fog_vertical_limit:new s.bK(ie),u_fog_temporal_offset:new s.bM(ie),u_frustum_tl:new s.bL(ie),u_frustum_tr:new s.bL(ie),u_frustum_br:new s.bL(ie),u_frustum_bl:new s.bL(ie),u_globe_pos:new s.bL(ie),u_globe_radius:new s.bM(ie),u_globe_transition:new s.bM(ie),u_is_globe:new s.bN(ie),u_viewport:new s.bK(ie)}))(r)),M.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(ie=>({u_cutoff_params:new s.ca(ie)}))(r)),M.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(ie=>({u_lighting_ambient_color:new s.bL(ie),u_lighting_directional_dir:new s.bL(ie),u_lighting_directional_color:new s.bL(ie),u_ground_radiance:new s.bL(ie)}))(r)),M.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(ie=>({u_light_matrix_0:new s.bJ(ie),u_light_matrix_1:new s.bJ(ie),u_fade_range:new s.bK(ie),u_shadow_normal_offset:new s.bL(ie),u_shadow_intensity:new s.bM(ie),u_shadow_texel_size:new s.bM(ie),u_shadow_map_resolution:new s.bM(ie),u_shadow_direction:new s.bL(ie),u_shadow_bias:new s.bL(ie),u_shadowmap_0:new s.bN(ie),u_shadowmap_1:new s.bN(ie)}))(r))}}setTerrainUniformValues(r,l){if(!this.terrainUniforms)return;const m=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const v in l)m[v]&&m[v].set(this.program,v,l[v])}}setGlobeUniformValues(r,l){if(!this.globeUniforms)return;const m=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const v in l)m[v]&&m[v].set(this.program,v,l[v])}}setFogUniformValues(r,l){if(!this.fogUniforms)return;const m=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const v in l)m[v].set(this.program,v,l[v])}}setCutoffUniformValues(r,l){if(!this.cutoffUniforms)return;const m=this.cutoffUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const v in l)m[v].set(this.program,v,l[v])}}setLightsUniformValues(r,l){if(!this.lightsUniforms)return;const m=this.lightsUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const v in l)m[v].set(this.program,v,l[v])}}setShadowUniformValues(r,l){if(this.failedToCreate||!this.shadowUniforms)return;const m=this.shadowUniforms;r.program.set(this.program);for(const v in l)m[v].set(this.program,v,l[v])}_drawDebugWireframe(r,l,m,v,x,M,P,O,z,F){const H=r.options.wireframe;if(H.terrain===!1&&H.layers2D===!1&&H.layers3D===!1)return;const U=r.context;if(!(!(!H.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!H.layers2D||r._terrain&&r._terrain.renderingToTexture||!uh.includes(this.name))||!(!H.layers3D||!V_.includes(this.name))))return;const G=U.gl,Q=r.wireframeDebugCache.getLinesFromTrianglesBuffer(r.frameCounter,x,U);if(!Q)return;const J=[...this.fixedDefines];J.push("DEBUG_WIREFRAME");const ie=r.getOrCreateProgram(this.name,{config:this.configuration,defines:J});U.program.set(ie.program);const ne=(de,be,ge)=>{if(be[de]&&ge[de])for(const ve in be[de])ge[de][ve]&&ge[de][ve].set(ge.program,ve,be[de][ve].current)};z&&z.setUniforms(ie.program,U,ie.binderUniforms,P,{zoom:O}),ne("fixedUniforms",this,ie),ne("terrainUniforms",this,ie),ne("globeUniforms",this,ie),ne("fogUniforms",this,ie),ne("lightsUniforms",this,ie),ne("shadowUniforms",this,ie),Q.bind(),U.setColorMode(new vi([G.ONE,G.ONE_MINUS_SRC_ALPHA,G.ZERO,G.ONE],s.aj.transparent,[!0,!0,!0,!1])),U.setDepthMode(new Wt(l.func===G.LESS?G.LEQUAL:l.func,Wt.ReadOnly,l.range)),U.setStencilMode(ci.disabled);const ae=3*M.primitiveLength*2,fe=3*M.primitiveOffset*2*2;if(this.forceManualRenderingForInstanceIDShaders){const de=F||1;for(let be=0;be<de;++be)ie.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",be),G.drawElements(G.LINES,ae,G.UNSIGNED_SHORT,fe)}else F&&F>1?G.drawElementsInstanced(G.LINES,ae,G.UNSIGNED_SHORT,fe,F):G.drawElements(G.LINES,ae,G.UNSIGNED_SHORT,fe);x.bind(),U.program.set(this.program),U.setDepthMode(l),U.setStencilMode(m),U.setColorMode(v)}checkUniforms(r,l,m){if(this.fixedDefines.includes(l)){for(const v of Object.keys(m))if(!m[v].initialized)throw new Error(`Program '${this.name}', from draw '${r}': uniform ${v} not set but required by ${l} being defined`)}}draw(r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie){const ne=r.context,ae=ne.gl;if(this.failedToCreate)return;ne.program.set(this.program),ne.setDepthMode(m),ne.setStencilMode(v),ne.setColorMode(x),ne.setCullFace(M);for(const be of Object.keys(this.fixedUniforms))this.fixedUniforms[be].set(this.program,be,P[be]);Q&&Q.setUniforms(this.program,ne,this.binderUniforms,U,{zoom:G});const fe={[ae.POINTS]:1,[ae.LINES]:2,[ae.TRIANGLES]:3,[ae.LINE_STRIP]:1}[l];this.checkUniforms(O,"RENDER_SHADOWS",this.shadowUniforms);const de=ie&&ie>0?1:void 0;for(const be of H.get()){const ge=be.vaos||(be.vaos={});if((ge[O]||(ge[O]=new Zm)).bind(ne,this,z,Q?Q.getPaintVertexBuffers():[],F,be.vertexOffset,J||[],de),this.forceManualRenderingForInstanceIDShaders){const ve=ie||1;for(let _e=0;_e<ve;++_e)this.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",_e),F?ae.drawElements(l,be.primitiveLength*fe,ae.UNSIGNED_SHORT,be.primitiveOffset*fe*2):ae.drawArrays(l,be.vertexOffset,be.vertexLength)}else ie&&ie>1?ae.drawElementsInstanced(l,be.primitiveLength*fe,ae.UNSIGNED_SHORT,be.primitiveOffset*fe*2,ie):F?ae.drawElements(l,be.primitiveLength*fe,ae.UNSIGNED_SHORT,be.primitiveOffset*fe*2):ae.drawArrays(l,be.vertexOffset,be.vertexLength);l===ae.TRIANGLES&&F&&this._drawDebugWireframe(r,m,v,x,F,be,U,G,Q,ie)}}}function lf(f,r){const l=Math.pow(2,r.tileID.overscaledZ),m=r.tileSize*Math.pow(2,f.transform.tileZoom)/l,v=m*(r.tileID.canonical.x+r.tileID.wrap*l),x=m*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/s.ar(r,1,f.transform.tileZoom),u_pixel_coord_upper:[v>>16,x>>16],u_pixel_coord_lower:[65535&v,65535&x]}}const nd={terrain:0,flat:1},cf=s.ab.mat4.create(),rd=(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie,ne)=>{const ae=r.style.light,fe=ae.properties.get("position"),de=[fe.x,fe.y,fe.z],be=s.ab.mat3.create();ae.properties.get("anchor")==="viewport"&&(s.ab.mat3.fromRotation(be,-r.transform.angle),s.ab.vec3.transformMat3(de,de,be));const ge=ae.properties.get("color"),ve=r.transform,_e={u_matrix:f,u_lightpos:de,u_lightintensity:ae.properties.get("intensity"),u_lightcolor:[ge.r,ge.g,ge.b],u_vertical_gradient:+l,u_opacity:m,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:cf,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_height_type:nd[z],u_base_type:nd[F],u_ao:v,u_edge_radius:x,u_width_scale:M,u_flood_light_color:Q,u_vertical_scale:J,u_flood_light_intensity:ie,u_ground_shadow_factor:ne};return ve.projection.name==="globe"&&(_e.u_tile_id=[P.canonical.x,P.canonical.y,1<<P.canonical.z],_e.u_zoom_transition=H,_e.u_inv_rot_matrix=G,_e.u_merc_center=U,_e.u_up_dir=ve.projection.upVector(new s.bT(0,0,0),U[0]*s.ag,U[1]*s.ag),_e.u_height_lift=O),_e},dh=(f,r,l,m,v,x)=>({u_matrix:f,u_edge_radius:r,u_width_scale:l,u_vertical_scale:m,u_height_type:nd[v],u_base_type:nd[x]}),hf=(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie)=>{const ne=rd(f,r,l,m,v,x,M,P,z,F,H,U,G,Q,J,ie,1,[0,0,0]),ae={u_height_factor:-Math.pow(2,P.overscaledZ)/O.tileSize/8};return s.l(ne,lf(r,O),ae)},tc=(f,r)=>({u_matrix:f,u_emissive_strength:r}),uf=(f,r,l,m)=>s.l(tc(f,r),lf(l,m)),sd=(f,r,l)=>({u_matrix:f,u_world:l,u_emissive_strength:r}),ad=(f,r,l,m,v)=>s.l(uf(f,r,l,m),{u_world:v}),df=(f,r,l,m)=>{const v=s.ag/l.tileSize;return{u_matrix:f,u_camera_to_center_distance:r.getCameraToCenterDistance(m),u_extrude_scale:[r.pixelsToGLUnits[0]/v,r.pixelsToGLUnits[1]/v]}},pf=(f,r,l=1)=>({u_matrix:f,u_color:r.toRenderColor(null),u_overlay:0,u_overlay_scale:l}),H_=s.ab.mat4.create(),ic=(f,r,l,m,v,x,M)=>{const P=f.transform,O=P.projection.name==="globe",z=O?s.cN(P.zoom,r.canonical)*P._pixelsPerMercatorPixel:s.ar(l,1,x),F={u_matrix:r.projMatrix,u_extrude_scale:z,u_intensity:M,u_inv_rot_matrix:H_,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(O){F.u_inv_rot_matrix=m,F.u_merc_center=v,F.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],F.u_zoom_transition=s.ae(P.zoom);const H=v[0]*s.ag,U=v[1]*s.ag;F.u_up_dir=P.projection.upVector(new s.bT(0,0,0),H,U)}return F};function ph(f,[r,l,m,v],[x,M]){if(x===M)return[0,0,0,0];const P=255*(f-1)/(f*(M-x));return[r*P,l*P,m*P,v*P]}function Nt(f,r,[l,m]){return l===m?0:.5/f+(r-l)*(f-1)/(f*(m-l))}const ff=(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie,ne,ae,fe,de)=>({u_matrix:f,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:v,u_tl_parent:x,u_scale_parent:z,u_fade_t:F.mix,u_opacity:F.opacity*H.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:H.paint.get("raster-brightness-min"),u_brightness_high:H.paint.get("raster-brightness-max"),u_saturation_factor:s.cO(H.paint.get("raster-saturation")),u_contrast_factor:s.cP(H.paint.get("raster-contrast")),u_spin_weights:c0(H.paint.get("raster-hue-rotate")),u_perspective_transform:U,u_raster_elevation:G,u_zoom_transition:M,u_merc_center:P,u_cutoff_params:O,u_colorization_mix:ph(s.cQ,J,ne),u_colorization_offset:Nt(s.cQ,ie,ne),u_color_ramp:Q,u_texture_offset:[fe/(ae+2*fe),ae/(ae+2*fe)],u_texture_res:[ae+2*fe,ae+2*fe],u_emissive_strength:de});function c0(f){f*=Math.PI/180;const r=Math.sin(f),l=Math.cos(f);return[(2*l+1)/3,(-Math.sqrt(3)*r-l+1)/3,(Math.sqrt(3)*r-l+1)/3]}const zs=.05,ol=(f,r,l,m,v,x,M,P,O,z,F,H)=>({u_matrix:f,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:v,u_tl_parent:x,u_scale_parent:z,u_fade_t:F.mix,u_opacity:F.opacity,u_image0:0,u_image1:1,u_raster_elevation:H,u_zoom_transition:M,u_merc_center:P,u_cutoff_params:O}),qt=(f,r,l,m,v,x,M,P,O,z)=>({u_particle_texture:f,u_particle_texture_side_len:r,u_tile_offset:l,u_velocity:m,u_color_ramp:x,u_velocity_res:v,u_max_speed:M,u_uv_offset:P,u_data_scale:[255*O[0],255*O[1]],u_data_offset:z,u_particle_pos_scale:1.1,u_particle_pos_offset:[zs,zs]}),mf=(f,r,l,m,v,x,M,P,O,z)=>({u_particle_texture:f,u_particle_texture_side_len:r,u_velocity:l,u_velocity_res:m,u_max_speed:v,u_speed_factor:x,u_reset_rate:M,u_rand_seed:Math.random(),u_uv_offset:P,u_data_scale:[255*O[0],255*O[1]],u_data_offset:z,u_particle_pos_scale:1.1,u_particle_pos_offset:[zs,zs]}),h0=s.ab.mat4.create(),u0=(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie,ne,ae,fe,de,be)=>{const ge=v.transform,ve={u_is_size_zoom_constant:+(f==="constant"||f==="source"),u_is_size_feature_constant:+(f==="constant"||f==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:ge.getCameraToCenterDistance(ae),u_rotate_symbol:+l,u_aspect_ratio:ge.width/ge.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:M,u_coord_matrix:P,u_is_text:+z,u_elevation_from_sea:O?1:0,u_pitch_with_map:+m,u_texsize:F,u_texsize_icon:H,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:h0,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:h0,u_up_vector:[0,-1,0],u_color_adj_mat:fe,u_icon_transition:de||0,u_gamma_scale:m?v.transform.getCameraToCenterDistance(ae)*Math.cos(v.terrain?0:v.transform._pitch):1,u_device_pixel_ratio:s.q.devicePixelRatio,u_is_halo:+U,u_scale_factor:be||1};return ae.name==="globe"&&(ve.u_tile_id=[G.canonical.x,G.canonical.y,1<<G.canonical.z],ve.u_zoom_transition=Q,ve.u_inv_rot_matrix=ie,ve.u_merc_center=J,ve.u_camera_forward=ge._camera.forward(),ve.u_ecef_origin=s.cR(ge.globeMatrix,G.toUnwrapped()),ve.u_tile_matrix=Float32Array.from(ge.globeMatrix),ve.u_up_vector=ne),ve},od=(f,r,l,m)=>({u_matrix:f,u_emissive_strength:r,u_opacity:l,u_color:m}),gf=(f,r,l,m,v,x,M,P,O)=>s.l(function(z,F,H,U,G,Q){const{width:J,height:ie}=U.imageManager.getPixelSize(F),ne=Math.pow(2,Q.tileID.overscaledZ),ae=Q.tileSize*Math.pow(2,U.transform.tileZoom)/ne,fe=ae*(Q.tileID.canonical.x+Q.tileID.wrap*ne),de=ae*Q.tileID.canonical.y;return{u_image:0,u_pattern_tl:H.tl,u_pattern_br:H.br,u_texsize:[J,ie],u_pattern_size:H.displaySize,u_pattern_units_to_pixels:G?[U.transform.width,-1*U.transform.height]:[1/s.ar(Q,1,U.transform.tileZoom),1/s.ar(Q,1,U.transform.tileZoom)],u_pixel_coord_upper:[fe>>16,de>>16],u_pixel_coord_lower:[65535&fe,65535&de]}}(0,x,M,m,P,O),{u_matrix:f,u_emissive_strength:r,u_opacity:l}),ld=new Float32Array(s.ab.mat4.identity([])),_f=(f,r,l,m,v,x,M,P,O,z,F,H,U,G=[0,0,0],Q)=>{const J=v.style.light,ie=J.properties.get("position"),ne=[-ie.x,-ie.y,ie.z],ae=s.ab.mat3.create();J.properties.get("anchor")==="viewport"&&(s.ab.mat3.fromRotation(ae,-v.transform.angle),s.ab.vec3.transformMat3(ne,ne,ae));const fe=F.alphaMode==="MASK",de=J.properties.get("color").toRenderColor(null),be=U.paint.get("model-ambient-occlusion-intensity"),ge=U.paint.get("model-color").constantOr(s.aj.white).toRenderColor(null),ve=U.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:f,u_lighting_matrix:r,u_normal_matrix:l,u_node_matrix:m||ld,u_lightpos:ne,u_lightintensity:J.properties.get("intensity"),u_lightcolor:[de.r,de.g,de.b],u_camera_pos:G,u_opacity:x,u_baseTextureIsAlpha:0,u_alphaMask:+fe,u_alphaCutoff:F.alphaCutoff,u_baseColorFactor:[M.r,M.g,M.b,M.a],u_emissiveFactor:[P[0],P[1],P[2],1],u_metallicFactor:O,u_roughnessFactor:z,u_baseColorTexture:Rr.BaseColor,u_metallicRoughnessTexture:Rr.MetallicRoughness,u_normalTexture:Rr.Normal,u_occlusionTexture:Rr.Occlusion,u_emissionTexture:Rr.Emission,u_lutTexture:Rr.LUT,u_color_mix:[ge.r,ge.g,ge.b,ve],u_aoIntensity:be,u_emissive_strength:H,u_occlusionTextureTransform:Q||[0,0,0,0]}},d0=(f,r=ld,l=ld)=>({u_matrix:f,u_instance:r,u_node_matrix:l}),yf={fillExtrusion:f=>({u_matrix:new s.bJ(f),u_lightpos:new s.bL(f),u_lightintensity:new s.bM(f),u_lightcolor:new s.bL(f),u_vertical_gradient:new s.bM(f),u_opacity:new s.bM(f),u_edge_radius:new s.bM(f),u_width_scale:new s.bM(f),u_ao:new s.bK(f),u_height_type:new s.bN(f),u_base_type:new s.bN(f),u_tile_id:new s.bL(f),u_zoom_transition:new s.bM(f),u_inv_rot_matrix:new s.bJ(f),u_merc_center:new s.bK(f),u_up_dir:new s.bL(f),u_height_lift:new s.bM(f),u_flood_light_color:new s.bL(f),u_vertical_scale:new s.bM(f),u_flood_light_intensity:new s.bM(f),u_ground_shadow_factor:new s.bL(f)}),fillExtrusionDepth:f=>({u_matrix:new s.bJ(f),u_edge_radius:new s.bM(f),u_width_scale:new s.bM(f),u_vertical_scale:new s.bM(f),u_height_type:new s.bN(f),u_base_type:new s.bN(f)}),fillExtrusionPattern:f=>({u_matrix:new s.bJ(f),u_lightpos:new s.bL(f),u_lightintensity:new s.bM(f),u_lightcolor:new s.bL(f),u_vertical_gradient:new s.bM(f),u_height_factor:new s.bM(f),u_edge_radius:new s.bM(f),u_width_scale:new s.bM(f),u_ao:new s.bK(f),u_height_type:new s.bN(f),u_base_type:new s.bN(f),u_tile_id:new s.bL(f),u_zoom_transition:new s.bM(f),u_inv_rot_matrix:new s.bJ(f),u_merc_center:new s.bK(f),u_up_dir:new s.bL(f),u_height_lift:new s.bM(f),u_image:new s.bN(f),u_texsize:new s.bK(f),u_pixel_coord_upper:new s.bK(f),u_pixel_coord_lower:new s.bK(f),u_tile_units_to_pixels:new s.bM(f),u_opacity:new s.bM(f)}),fillExtrusionGroundEffect:f=>({u_matrix:new s.bJ(f),u_opacity:new s.bM(f),u_ao_pass:new s.bM(f),u_meter_to_tile:new s.bM(f),u_ao:new s.bK(f),u_flood_light_intensity:new s.bM(f),u_flood_light_color:new s.bL(f),u_attenuation:new s.bM(f),u_edge_radius:new s.bM(f),u_fb:new s.bN(f),u_fb_size:new s.bM(f),u_dynamic_offset:new s.bM(f)}),fill:f=>({u_matrix:new s.bJ(f),u_emissive_strength:new s.bM(f)}),fillPattern:f=>({u_matrix:new s.bJ(f),u_emissive_strength:new s.bM(f),u_image:new s.bN(f),u_texsize:new s.bK(f),u_pixel_coord_upper:new s.bK(f),u_pixel_coord_lower:new s.bK(f),u_tile_units_to_pixels:new s.bM(f)}),fillOutline:f=>({u_matrix:new s.bJ(f),u_emissive_strength:new s.bM(f),u_world:new s.bK(f)}),fillOutlinePattern:f=>({u_matrix:new s.bJ(f),u_emissive_strength:new s.bM(f),u_world:new s.bK(f),u_image:new s.bN(f),u_texsize:new s.bK(f),u_pixel_coord_upper:new s.bK(f),u_pixel_coord_lower:new s.bK(f),u_tile_units_to_pixels:new s.bM(f)}),circle:s.cS,collisionBox:f=>({u_matrix:new s.bJ(f),u_camera_to_center_distance:new s.bM(f),u_extrude_scale:new s.bK(f)}),collisionCircle:f=>({u_matrix:new s.bJ(f),u_inv_matrix:new s.bJ(f),u_camera_to_center_distance:new s.bM(f),u_viewport_size:new s.bK(f)}),debug:f=>({u_color:new s.cz(f),u_matrix:new s.bJ(f),u_overlay:new s.bN(f),u_overlay_scale:new s.bM(f)}),clippingMask:f=>({u_matrix:new s.bJ(f)}),heatmap:f=>({u_extrude_scale:new s.bM(f),u_intensity:new s.bM(f),u_matrix:new s.bJ(f),u_inv_rot_matrix:new s.bJ(f),u_merc_center:new s.bK(f),u_tile_id:new s.bL(f),u_zoom_transition:new s.bM(f),u_up_dir:new s.bL(f)}),heatmapTexture:f=>({u_image:new s.bN(f),u_color_ramp:new s.bN(f),u_opacity:new s.bM(f)}),hillshade:f=>({u_matrix:new s.bJ(f),u_image:new s.bN(f),u_latrange:new s.bK(f),u_light:new s.bK(f),u_shadow:new s.cz(f),u_highlight:new s.cz(f),u_emissive_strength:new s.bM(f),u_accent:new s.cz(f)}),hillshadePrepare:f=>({u_matrix:new s.bJ(f),u_image:new s.bN(f),u_dimension:new s.bK(f),u_zoom:new s.bM(f)}),line:s.cT,linePattern:s.cU,raster:f=>({u_matrix:new s.bJ(f),u_normalize_matrix:new s.bJ(f),u_globe_matrix:new s.bJ(f),u_merc_matrix:new s.bJ(f),u_grid_matrix:new s.cA(f),u_tl_parent:new s.bK(f),u_scale_parent:new s.bM(f),u_fade_t:new s.bM(f),u_opacity:new s.bM(f),u_image0:new s.bN(f),u_image1:new s.bN(f),u_brightness_low:new s.bM(f),u_brightness_high:new s.bM(f),u_saturation_factor:new s.bM(f),u_contrast_factor:new s.bM(f),u_spin_weights:new s.bL(f),u_perspective_transform:new s.bK(f),u_raster_elevation:new s.bM(f),u_zoom_transition:new s.bM(f),u_merc_center:new s.bK(f),u_cutoff_params:new s.ca(f),u_colorization_mix:new s.ca(f),u_colorization_offset:new s.bM(f),u_color_ramp:new s.bN(f),u_texture_offset:new s.bK(f),u_texture_res:new s.bK(f),u_emissive_strength:new s.bM(f)}),rasterParticle:f=>({u_matrix:new s.bJ(f),u_normalize_matrix:new s.bJ(f),u_globe_matrix:new s.bJ(f),u_merc_matrix:new s.bJ(f),u_grid_matrix:new s.cA(f),u_tl_parent:new s.bK(f),u_scale_parent:new s.bM(f),u_fade_t:new s.bM(f),u_opacity:new s.bM(f),u_image0:new s.bN(f),u_image1:new s.bN(f),u_raster_elevation:new s.bM(f),u_zoom_transition:new s.bM(f),u_merc_center:new s.bK(f),u_cutoff_params:new s.ca(f)}),rasterParticleTexture:f=>({u_texture:new s.bN(f),u_opacity:new s.bM(f)}),rasterParticleDraw:f=>({u_particle_texture:new s.bN(f),u_particle_texture_side_len:new s.bM(f),u_tile_offset:new s.bK(f),u_velocity:new s.bN(f),u_color_ramp:new s.bN(f),u_velocity_res:new s.bK(f),u_max_speed:new s.bM(f),u_uv_offset:new s.bK(f),u_data_scale:new s.bK(f),u_data_offset:new s.bM(f),u_particle_pos_scale:new s.bM(f),u_particle_pos_offset:new s.bK(f)}),rasterParticleUpdate:f=>({u_particle_texture:new s.bN(f),u_particle_texture_side_len:new s.bM(f),u_velocity:new s.bN(f),u_velocity_res:new s.bK(f),u_max_speed:new s.bM(f),u_speed_factor:new s.bM(f),u_reset_rate:new s.bM(f),u_rand_seed:new s.bM(f),u_uv_offset:new s.bK(f),u_data_scale:new s.bK(f),u_data_offset:new s.bM(f),u_particle_pos_scale:new s.bM(f),u_particle_pos_offset:new s.bK(f)}),symbol:f=>({u_is_size_zoom_constant:new s.bN(f),u_is_size_feature_constant:new s.bN(f),u_size_t:new s.bM(f),u_size:new s.bM(f),u_camera_to_center_distance:new s.bM(f),u_rotate_symbol:new s.bN(f),u_aspect_ratio:new s.bM(f),u_fade_change:new s.bM(f),u_matrix:new s.bJ(f),u_label_plane_matrix:new s.bJ(f),u_coord_matrix:new s.bJ(f),u_is_text:new s.bN(f),u_elevation_from_sea:new s.bN(f),u_pitch_with_map:new s.bN(f),u_texsize:new s.bK(f),u_texsize_icon:new s.bK(f),u_texture:new s.bN(f),u_texture_icon:new s.bN(f),u_gamma_scale:new s.bM(f),u_device_pixel_ratio:new s.bM(f),u_tile_id:new s.bL(f),u_zoom_transition:new s.bM(f),u_inv_rot_matrix:new s.bJ(f),u_merc_center:new s.bK(f),u_camera_forward:new s.bL(f),u_tile_matrix:new s.bJ(f),u_up_vector:new s.bL(f),u_ecef_origin:new s.bL(f),u_is_halo:new s.bN(f),u_icon_transition:new s.bM(f),u_color_adj_mat:new s.bJ(f),u_scale_factor:new s.bM(f)}),background:f=>({u_matrix:new s.bJ(f),u_emissive_strength:new s.bM(f),u_opacity:new s.bM(f),u_color:new s.cz(f)}),backgroundPattern:f=>({u_matrix:new s.bJ(f),u_emissive_strength:new s.bM(f),u_opacity:new s.bM(f),u_image:new s.bN(f),u_pattern_tl:new s.bK(f),u_pattern_br:new s.bK(f),u_texsize:new s.bK(f),u_pattern_size:new s.bK(f),u_pixel_coord_upper:new s.bK(f),u_pixel_coord_lower:new s.bK(f),u_pattern_units_to_pixels:new s.bK(f)}),terrainRaster:f=>({u_matrix:new s.bJ(f),u_image0:new s.bN(f),u_skirt_height:new s.bM(f),u_ground_shadow_factor:new s.bL(f)}),skybox:f=>({u_matrix:new s.bJ(f),u_sun_direction:new s.bL(f),u_cubemap:new s.bN(f),u_opacity:new s.bM(f),u_temporal_offset:new s.bM(f)}),skyboxGradient:f=>({u_matrix:new s.bJ(f),u_color_ramp:new s.bN(f),u_center_direction:new s.bL(f),u_radius:new s.bM(f),u_opacity:new s.bM(f),u_temporal_offset:new s.bM(f)}),skyboxCapture:f=>({u_matrix_3f:new s.cA(f),u_sun_direction:new s.bL(f),u_sun_intensity:new s.bM(f),u_color_tint_r:new s.ca(f),u_color_tint_m:new s.ca(f),u_luminance:new s.bM(f)}),globeRaster:f=>({u_proj_matrix:new s.bJ(f),u_globe_matrix:new s.bJ(f),u_normalize_matrix:new s.bJ(f),u_merc_matrix:new s.bJ(f),u_zoom_transition:new s.bM(f),u_merc_center:new s.bK(f),u_image0:new s.bN(f),u_grid_matrix:new s.cA(f),u_skirt_height:new s.bM(f),u_far_z_cutoff:new s.bM(f),u_frustum_tl:new s.bL(f),u_frustum_tr:new s.bL(f),u_frustum_br:new s.bL(f),u_frustum_bl:new s.bL(f),u_globe_pos:new s.bL(f),u_globe_radius:new s.bM(f),u_viewport:new s.bK(f)}),globeAtmosphere:f=>({u_frustum_tl:new s.bL(f),u_frustum_tr:new s.bL(f),u_frustum_br:new s.bL(f),u_frustum_bl:new s.bL(f),u_horizon:new s.bM(f),u_transition:new s.bM(f),u_fadeout_range:new s.bM(f),u_color:new s.ca(f),u_high_color:new s.ca(f),u_space_color:new s.ca(f),u_temporal_offset:new s.bM(f),u_horizon_angle:new s.bM(f)}),model:f=>({u_matrix:new s.bJ(f),u_lighting_matrix:new s.bJ(f),u_normal_matrix:new s.bJ(f),u_node_matrix:new s.bJ(f),u_lightpos:new s.bL(f),u_lightintensity:new s.bM(f),u_lightcolor:new s.bL(f),u_camera_pos:new s.bL(f),u_opacity:new s.bM(f),u_baseColorFactor:new s.ca(f),u_emissiveFactor:new s.ca(f),u_metallicFactor:new s.bM(f),u_roughnessFactor:new s.bM(f),u_baseTextureIsAlpha:new s.bN(f),u_alphaMask:new s.bN(f),u_alphaCutoff:new s.bM(f),u_baseColorTexture:new s.bN(f),u_metallicRoughnessTexture:new s.bN(f),u_normalTexture:new s.bN(f),u_occlusionTexture:new s.bN(f),u_emissionTexture:new s.bN(f),u_lutTexture:new s.bN(f),u_color_mix:new s.ca(f),u_aoIntensity:new s.bM(f),u_emissive_strength:new s.bM(f),u_occlusionTextureTransform:new s.ca(f)}),modelDepth:f=>({u_matrix:new s.bJ(f),u_instance:new s.bJ(f),u_node_matrix:new s.bJ(f)}),groundShadow:f=>({u_matrix:new s.bJ(f),u_ground_shadow_factor:new s.bL(f)}),stars:f=>({u_matrix:new s.bJ(f),u_up:new s.bL(f),u_right:new s.bL(f),u_intensity_multiplier:new s.bM(f)}),snowParticle:f=>({u_modelview:new s.bJ(f),u_projection:new s.bJ(f),u_time:new s.bM(f),u_cam_pos:new s.bL(f),u_velocityConeAperture:new s.bM(f),u_velocity:new s.bM(f),u_horizontalOscillationRadius:new s.bM(f),u_horizontalOscillationRate:new s.bM(f),u_boxSize:new s.bM(f),u_billboardSize:new s.bM(f),u_simpleShapeParameters:new s.bK(f),u_screenSize:new s.bK(f),u_thinningCenterPos:new s.bK(f),u_thinningShape:new s.bL(f),u_thinningAffectedRatio:new s.bM(f),u_thinningParticleOffset:new s.bM(f),u_particleColor:new s.ca(f),u_direction:new s.bL(f)}),rainParticle:f=>({u_modelview:new s.bJ(f),u_projection:new s.bJ(f),u_time:new s.bM(f),u_cam_pos:new s.bL(f),u_texScreen:new s.bN(f),u_velocityConeAperture:new s.bM(f),u_velocity:new s.bM(f),u_boxSize:new s.bM(f),u_rainDropletSize:new s.bK(f),u_distortionStrength:new s.bM(f),u_rainDirection:new s.bL(f),u_color:new s.ca(f),u_screenSize:new s.bK(f),u_thinningCenterPos:new s.bK(f),u_thinningShape:new s.bL(f),u_thinningAffectedRatio:new s.bM(f),u_thinningParticleOffset:new s.bM(f),u_shapeDirectionalPower:new s.bM(f),u_shapeNormalPower:new s.bM(f),u_mode:new s.bM(f)}),vignette:f=>({u_vignetteShape:new s.bL(f),u_vignetteColor:new s.ca(f)}),occlusion:f=>({u_matrix:new s.bJ(f),u_anchorPos:new s.bL(f),u_screenSizePx:new s.bK(f),u_occluderSizePx:new s.bK(f),u_color:new s.ca(f)})};class Ea{constructor(r,l,m,v){this.id=Ea.uniqueIdxCounter,Ea.uniqueIdxCounter++,this.context=r;const x=r.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||v||l.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){this.id=Ea.uniqueIdxCounter,Ea.uniqueIdxCounter++;const l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}Ea.uniqueIdxCounter=0;const vf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class xf{constructor(r,l,m,v,x,M){this.length=l.length,this.attributes=m,this.itemSize=l.bytesPerElement,this.dynamicDraw=v,this.instanceCount=M,this.context=r;const P=r.gl;this.buffer=P.createBuffer(),r.bindVertexBuffer.set(this.buffer),P.bufferData(P.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?P.DYNAMIC_DRAW:P.STATIC_DRAW),this.dynamicDraw||x||l.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,l){for(let m=0;m<this.attributes.length;m++){const v=l.attributes[this.attributes[m].name];v!==void 0&&r.enableVertexAttribArray(v)}}setVertexAttribPointers(r,l,m){for(let v=0;v<this.attributes.length;v++){const x=this.attributes[v],M=l.attributes[x.name];M!==void 0&&r.vertexAttribPointer(M,x.components,r[vf[x.type]],!1,this.itemSize,x.offset+this.itemSize*(m||0))}}setVertexAttribDivisor(r,l,m){for(let v=0;v<this.attributes.length;v++){const x=l.attributes[this.attributes[v].name];x!==void 0&&this.instanceCount&&this.instanceCount>0&&r.vertexAttribDivisor(x,m)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class rs{constructor(r,l,m,v,x){this.context=r,this.width=l,this.height=m;const M=this.framebuffer=r.gl.createFramebuffer();v&&(this.colorAttachment=new tf(r,M)),x&&(this.depthAttachmentType=x,this.depthAttachment=x==="renderbuffer"?new nf(r,M):new Ql(r,M))}destroy(){const r=this.context.gl;if(this.colorAttachment){const l=this.colorAttachment.get();l&&r.deleteTexture(l)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const l=this.depthAttachment.get();l&&r.deleteRenderbuffer(l)}else{const l=this.depthAttachment.get();l&&r.deleteTexture(l)}r.deleteFramebuffer(this.framebuffer)}}class vo{constructor(r,l){this.gl=r,this.clearColor=new D_(this),this.clearDepth=new L_(this),this.clearStencil=new Gp(this),this.colorMask=new Wp(this),this.depthMask=new Zp(this),this.stencilMask=new Yp(this),this.stencilFunc=new Jm(this),this.stencilOp=new Qm(this),this.stencilTest=new k_(this),this.depthRange=new lh(this),this.depthTest=new ch(this),this.depthFunc=new e0(this),this.blend=new us(this),this.blendFunc=new Xp(this),this.blendColor=new Xu(this),this.blendEquation=new Ku(this),this.cullFace=new Kp(this),this.cullFaceSide=new Jp(this),this.frontFace=new Ju(this),this.program=new Qp(this),this.activeTexture=new ef(this),this.viewport=new Qu(this),this.bindFramebuffer=new t0(this),this.bindRenderbuffer=new i0(this),this.bindTexture=new Jl(this),this.bindVertexBuffer=new O_(this),this.bindElementBuffer=new R_(this),this.bindVertexArrayOES=new z_(this),this.pixelStoreUnpack=new F_(this),this.pixelStoreUnpackPremultiplyAlpha=new B_(this),this.pixelStoreUnpackFlipY=new N_(this),this.options=l?{...l}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.forceManualRenderingForInstanceIDShaders=l&&!!l.forceManualRenderingForInstanceIDShaders||this.renderer&&this.renderer.indexOf("PowerVR")!==-1,this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=r.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxPointSize=r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,l,m){return new Ea(this,r,l,m)}createVertexBuffer(r,l,m,v,x){return new xf(this,r,l,m,v,x)}createRenderbuffer(r,l,m){const v=this.gl,x=v.createRenderbuffer();return this.bindRenderbuffer.set(x),v.renderbufferStorage(v.RENDERBUFFER,r,l,m),this.bindRenderbuffer.set(null),x}createFramebuffer(r,l,m,v){return new rs(this,r,l,m,v)}clear({color:r,depth:l,stencil:m,colorMask:v}){const x=this.gl;let M=0;r&&(M|=x.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set(v||[!0,!0,!0,!0])),l!==void 0&&(M|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),m!==void 0&&(M|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),x.clear(M)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){s.bn(r.blendFunction,vi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor),r.blendEquation?this.blendEquation.set(r.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(r.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let fh;function cd(f,r,l,m,v,x,M){const P=f.context,O=P.gl,z=f.transform,F=f.getOrCreateProgram("collisionBox"),H=[];let U=0,G=0;for(let de=0;de<m.length;de++){const be=m[de],ge=r.getTile(be),ve=ge.getBucket(l);if(!ve)continue;const _e=Zn(be,ve,z);let Ee=_e;v[0]===0&&v[1]===0||(Ee=f.translatePosMatrix(_e,ge,v,x));const Oe=M?ve.textCollisionBox:ve.iconCollisionBox,Ge=ve.collisionCircleArray;if(Ge.length>0){const je=s.ab.mat4.create(),Le=Ee;s.ab.mat4.mul(je,ve.placementInvProjMatrix,z.glCoordMatrix),s.ab.mat4.mul(je,je,ve.placementViewportMatrix),H.push({circleArray:Ge,circleOffset:G,transform:Le,invTransform:je,projection:ve.getProjection()}),U+=Ge.length/4,G=U}Oe&&(f.terrain&&f.terrain.setupElevationDraw(ge,F),F.draw(f,O.LINES,Wt.disabled,ci.disabled,f.colorModeForRenderPass(),ti.disabled,df(Ee,z,ge,ve.getProjection()),l.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,null,z.zoom,null,[Oe.collisionVertexBuffer,Oe.collisionVertexBufferExt]))}if(!M||!H.length)return;const Q=f.getOrCreateProgram("collisionCircle"),J=new s.cV;J.resize(4*U),J._trim();let ie=0;for(const de of H)for(let be=0;be<de.circleArray.length/4;be++){const ge=4*be,ve=de.circleArray[ge+0],_e=de.circleArray[ge+1],Ee=de.circleArray[ge+2],Oe=de.circleArray[ge+3];J.emplace(ie++,ve,_e,Ee,Oe,0),J.emplace(ie++,ve,_e,Ee,Oe,1),J.emplace(ie++,ve,_e,Ee,Oe,2),J.emplace(ie++,ve,_e,Ee,Oe,3)}(!fh||fh.length<2*U)&&(fh=function(de){const be=2*de,ge=new s.aU;ge.resize(be),ge._trim();for(let ve=0;ve<be;ve++){const _e=6*ve;ge.uint16[_e+0]=4*ve+0,ge.uint16[_e+1]=4*ve+1,ge.uint16[_e+2]=4*ve+2,ge.uint16[_e+3]=4*ve+2,ge.uint16[_e+4]=4*ve+3,ge.uint16[_e+5]=4*ve+0}return ge}(U));const ne=P.createIndexBuffer(fh,!0),ae=P.createVertexBuffer(J,s.cW.members,!0);for(const de of H){const be={u_matrix:de.transform,u_inv_matrix:de.invTransform,u_camera_to_center_distance:(fe=z).getCameraToCenterDistance(de.projection),u_viewport_size:[fe.width,fe.height]};Q.draw(f,O.TRIANGLES,Wt.disabled,ci.disabled,f.colorModeForRenderPass(),ti.disabled,be,l.id,ae,ne,s.b7.simpleSegment(0,2*de.circleOffset,de.circleArray.length,de.circleArray.length/2),null,z.zoom)}var fe;ae.destroy(),ne.destroy()}const nc=s.ab.mat4.create();function hd(f){const r=f._camera.getWorldToCamera(f.worldSize,1),l=s.ab.mat4.multiply([],r,f.globeMatrix);s.ab.mat4.invert(l,l);const m=[0,0,0],v=[0,1,0,0];return s.ab.vec4.transformMat4(v,v,l),m[0]=v[0],m[1]=v[1],m[2]=v[2],s.ab.vec3.normalize(m,m),m}function p0({width:f,height:r,anchor:l,textOffset:m,textScale:v},x){const{horizontalAlign:M,verticalAlign:P}=s.bD(l),O=-(M-.5)*f,z=-(P-.5)*r,F=s.bC(l,m);return new s.P((O/v+F[0])*x,(z/v+F[1])*x)}function Fs(f,r,l,m,v,x,M,P,O,z,F){const H=f.text.placedSymbolArray,U=f.text.dynamicLayoutVertexArray,G=f.icon.dynamicLayoutVertexArray,Q={},J=f.getProjection(),ie=th(P,J,x),ne=x.elevation,ae=J.upVectorScale(P.canonical,x.center.lat,x.worldSize).metersToTile;U.clear();for(let fe=0;fe<H.length;fe++){const de=H.get(fe),{tileAnchorX:be,tileAnchorY:ge,numGlyphs:ve}=de,_e=de.hidden||!de.crossTileID||f.allowVerticalPlacement&&!de.placedOrientation?null:m[de.crossTileID];if(_e){let Ee=0,Oe=0,Ge=0;if(ne){const Xe=ne?ne.getAtTileOffset(P,be,ge):0,[yt,ht,nt]=J.upVector(P.canonical,be,ge);Ee=Xe*yt*ae,Oe=Xe*ht*ae,Ge=Xe*nt*ae}let[je,Le,Ne,at]=dn(de.projectedAnchorX+Ee,de.projectedAnchorY+Oe,de.projectedAnchorZ+Ge,l?ie:M);const pt=zm(x.getCameraToCenterDistance(J),at);let bt=v.evaluateSizeForFeature(f.textSizeData,z,de)*pt/s.bw;l&&(bt*=f.tilePixelRatio/O);const Ue=p0(_e,bt);l?({x:je,y:Le,z:Ne}=J.projectTilePoint(be+Ue.x,ge+Ue.y,P.canonical),[je,Le,Ne]=dn(je+Ee,Le+Oe,Ne+Ge,M)):(r&&Ue._rotate(-x.angle),je+=Ue.x,Le+=Ue.y,Ne=0);const lt=f.allowVerticalPlacement&&de.placedOrientation===s.bq.vertical?Math.PI/2:0;for(let Xe=0;Xe<ve;Xe++)s.bt(U,je,Le,Ne,lt);F&&de.associatedIconIndex>=0&&(Q[de.associatedIconIndex]={x:je,y:Le,z:Ne,angle:lt})}else Qo(ve,U)}if(F){G.clear();const fe=f.icon.placedSymbolArray;for(let de=0;de<fe.length;de++){const be=fe.get(de),{numGlyphs:ge}=be,ve=Q[de];if(be.hidden||!ve)Qo(ge,G);else{const{x:_e,y:Ee,z:Oe,angle:Ge}=ve;for(let je=0;je<ge;je++)s.bt(G,_e,Ee,Oe,Ge)}}f.icon.dynamicLayoutVertexBuffer.updateData(G)}f.text.dynamicLayoutVertexBuffer.updateData(U)}function yn(f,r,l,m,v,x,M={}){const P=l.paint.get("icon-translate"),O=l.paint.get("text-translate"),z=l.paint.get("icon-translate-anchor"),F=l.paint.get("text-translate-anchor"),H=l.layout.get("icon-rotation-alignment"),U=l.layout.get("text-rotation-alignment"),G=l.layout.get("icon-pitch-alignment"),Q=l.layout.get("text-pitch-alignment"),J=l.layout.get("icon-keep-upright"),ie=l.layout.get("text-keep-upright"),ne=l.paint.get("icon-color-saturation"),ae=l.paint.get("icon-color-contrast"),fe=l.paint.get("icon-color-brightness-min"),de=l.paint.get("icon-color-brightness-max"),be=l.layout.get("symbol-elevation-reference")==="sea",ge=f.context,ve=ge.gl,_e=f.transform,Ee=H==="map",Oe=U==="map",Ge=G==="map",je=Q==="map",Le=l.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ne=!1;const at=f.depthModeForSublayer(0,Wt.ReadOnly),pt=[s.at(_e.center.lng),s.aA(_e.center.lat)],bt=l.layout.get("text-variable-anchor"),Ue=_e.projection.name==="globe",lt=[],Xe=[0,-1,0];for(const yt of m){const ht=r.getTile(yt),nt=ht.getBucket(l);if(!nt||nt.projection.name==="mercator"&&Ue||nt.fullyClipped)continue;const kt=nt.projection.name==="globe",wt=kt?s.ae(_e.zoom):0,Ot=th(yt,nt.getProjection(),_e),Vt=_e.calculatePixelsToTileUnitsMatrix(ht),ni=bt&&nt.hasTextData(),$t=nt.hasIconTextFit()&&ni&&nt.hasIconData(),Zt=nt.getProjection().createInversionMatrix(_e,yt.canonical),ri=Bi=>{_e.depthOcclusionForSymbolsAndCircles&&(l.hasInitialOcclusionOpacityProperties||f.terrain)&&(Bi.push("DEPTH_D24"),Bi.push("DEPTH_OCCLUSION"))},Ei=()=>{const Bi=Ee&&l.layout.get("symbol-placement")!=="point",Wi=[];ri(Wi);const En=Bi||$t,Cr=l.paint.get("icon-image-cross-fade").constantOr(0);f.terrainRenderModeElevated()&&Ge&&Wi.push("PITCH_WITH_MAP_TERRAIN"),kt&&(Wi.push("PROJECTION_GLOBE_VIEW"),En&&Wi.push("PROJECTED_POS_ON_VIEWPORT")),Cr>0&&Wi.push("ICON_TRANSITION"),nt.icon.zOffsetVertexBuffer&&Wi.push("Z_OFFSET"),ne===0&&ae===0&&fe===0&&de===1||Wi.push("COLOR_ADJUSTMENT"),nt.sdfIcons&&Wi.push("RENDER_SDF");const Kr=nt.icon.programConfigurations.get(l.id),Yn=f.getOrCreateProgram("symbol",{config:Kr,defines:Wi}),br=ht.imageAtlasTexture?ht.imageAtlasTexture.size:[0,0],Hr=nt.iconSizeData,Fn=s.bp(Hr,_e.zoom),on=Ge||_e.pitch!==0,un=ja(Ot,ht.tileID.canonical,Ge,Ee,_e,nt.getProjection(),Vt),Ai=Nr(Ot,ht.tileID.canonical,Ge,Ee,_e,nt.getProjection(),Vt),Bn=f.translatePosMatrix(Ai,ht,P,z,!0),Ar=f.translatePosMatrix(Ot,ht,P,z),an=En?nc:un,Ur=Ee&&!Ge&&!Bi;let Ss=Xe;!Ue&&!_e.mercatorFromTransition||Ee||(Ss=hd(_e));const ms=kt?Ss:Xe,io=l.getColorAdjustmentMatrix(ne,ae,fe,de),Jr=u0(Hr.kind,Fn,Ur,Ge,f,Ar,an,Bn,be,!1,br,[0,0],!0,yt,wt,pt,Zt,ms,nt.getProjection(),io,Cr),la=ht.imageAtlasTexture?ht.imageAtlasTexture:null,gs=l.layout.get("icon-size").constantOr(0)!==1||nt.iconsNeedLinear,Io=nt.sdfIcons||f.options.rotating||f.options.zooming||gs||on?ve.LINEAR:ve.NEAREST,Aa=nt.sdfIcons&&l.paint.get("icon-halo-width").constantOr(1)!==0,ml=f.terrain&&Ge&&Bi?s.ab.mat4.invert(s.ab.mat4.create(),un):nc;if(Bi&&nt.icon){const Dh=_e.elevation,Pd=Dh?Dh.getAtTileOffsetFunc(yt,_e.center.lat,_e.worldSize,nt.getProjection()):null,Dd=Jo(Ot,ht.tileID.canonical,Ge,Ee,_e,nt.getProjection(),Vt);Lu(nt,Ot,f,!1,Dd,Ai,Ge,J,Pd,yt)}return{program:Yn,buffers:nt.icon,uniformValues:Jr,atlasTexture:la,atlasTextureIcon:null,atlasInterpolation:Io,atlasInterpolationIcon:null,isSDF:nt.sdfIcons,hasHalo:Aa,tile:ht,labelPlaneMatrixInv:ml}},gi=()=>{const Bi=Oe&&l.layout.get("symbol-placement")!=="point",Wi=[],En=Bi||bt||$t;f.terrainRenderModeElevated()&&je&&Wi.push("PITCH_WITH_MAP_TERRAIN"),kt&&(Wi.push("PROJECTION_GLOBE_VIEW"),En&&Wi.push("PROJECTED_POS_ON_VIEWPORT")),nt.text.zOffsetVertexBuffer&&Wi.push("Z_OFFSET"),nt.iconsInText&&Wi.push("RENDER_TEXT_AND_SYMBOL"),Wi.push("RENDER_SDF"),ri(Wi);const Cr=nt.text.programConfigurations.get(l.id),Kr=f.getOrCreateProgram("symbol",{config:Cr,defines:Wi});let Yn,br=[0,0],Hr=null;const Fn=nt.textSizeData;nt.iconsInText&&(br=ht.imageAtlasTexture?ht.imageAtlasTexture.size:[0,0],Hr=ht.imageAtlasTexture?ht.imageAtlasTexture:null,Yn=je||_e.pitch!==0||f.options.rotating||f.options.zooming||Fn.kind==="composite"||Fn.kind==="camera"?ve.LINEAR:ve.NEAREST);const on=ht.glyphAtlasTexture?ht.glyphAtlasTexture.size:[0,0],un=l.layout.get("text-size-scale-range"),Ai=s.aw(f.scaleFactor,un[0],un[1]),Bn=s.bp(Fn,_e.zoom,Ai),Ar=ja(Ot,ht.tileID.canonical,je,Oe,_e,nt.getProjection(),Vt),an=Nr(Ot,ht.tileID.canonical,je,Oe,_e,nt.getProjection(),Vt),Ur=f.translatePosMatrix(an,ht,O,F,!0),Ss=f.translatePosMatrix(Ot,ht,O,F),ms=En?nc:Ar,io=Oe&&!je&&!Bi;let Jr=Xe;!Ue&&!_e.mercatorFromTransition||Oe||(Jr=hd(_e));const la=u0(Fn.kind,Bn,io,je,f,Ss,ms,Ur,be,!0,on,br,!0,yt,wt,pt,Zt,kt?Jr:Xe,nt.getProjection(),null,null,Ai),gs=ht.glyphAtlasTexture?ht.glyphAtlasTexture:null,Io=ve.LINEAR,Aa=l.paint.get("text-halo-width").constantOr(1)!==0,ml=f.terrain&&je&&Bi?s.ab.mat4.invert(s.ab.mat4.create(),Ar):nc;if(Bi&&nt.text){const Dh=_e.elevation,Pd=Dh?Dh.getAtTileOffsetFunc(yt,_e.center.lat,_e.worldSize,nt.getProjection()):null,Dd=Jo(Ot,ht.tileID.canonical,je,Oe,_e,nt.getProjection(),Vt);Lu(nt,Ot,f,!0,Dd,an,je,ie,Pd,yt)}return{program:Kr,buffers:nt.text,uniformValues:la,atlasTexture:gs,atlasTextureIcon:Hr,atlasInterpolation:Io,atlasInterpolationIcon:Yn,isSDF:!0,hasHalo:Aa,tile:ht,labelPlaneMatrixInv:ml}},hn=nt.icon.segments.get().length,vn=nt.text.segments.get().length,Gi=hn&&!M.onlyText?Ei():null,en=vn&&!M.onlyIcons?gi():null,pi=l.paint.get("icon-opacity").constantOr(1),Yt=l.paint.get("text-opacity").constantOr(1);if(Le&&nt.canOverlap){Ne=!0;const Bi=pi&&!M.onlyText?nt.icon.segments.get():[],Wi=Yt&&!M.onlyIcons?nt.text.segments.get():[];for(const En of Bi)lt.push({segments:new s.b7([En]),sortKey:En.sortKey,state:Gi});for(const En of Wi)lt.push({segments:new s.b7([En]),sortKey:En.sortKey,state:en})}else M.onlyText||lt.push({segments:pi?nt.icon.segments:new s.b7([]),sortKey:0,state:Gi}),M.onlyIcons||lt.push({segments:Yt?nt.text.segments:new s.b7([]),sortKey:0,state:en})}Ne&&lt.sort((yt,ht)=>yt.sortKey-ht.sortKey);for(const yt of lt){const ht=yt.state;if(ht)if(f.terrain?f.terrain.setupElevationDraw(ht.tile,ht.program,{useDepthForOcclusion:_e.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:ht.labelPlaneMatrixInv}):f.setupDepthForOcclusion(_e.depthOcclusionForSymbolsAndCircles,ht.program),ge.activeTexture.set(ve.TEXTURE0),ht.atlasTexture&&ht.atlasTexture.bind(ht.atlasInterpolation,ve.CLAMP_TO_EDGE,!0),ht.atlasTextureIcon&&(ge.activeTexture.set(ve.TEXTURE1),ht.atlasTextureIcon&&ht.atlasTextureIcon.bind(ht.atlasInterpolationIcon,ve.CLAMP_TO_EDGE,!0)),f.uploadCommonLightUniforms(f.context,ht.program),ht.hasHalo){const nt=ht.uniformValues;nt.u_is_halo=1,rc(ht.buffers,yt.segments,l,f,ht.program,at,v,x,nt,2),nt.u_is_halo=0}else{if(ht.isSDF){const nt=ht.uniformValues;ht.hasHalo&&(nt.u_is_halo=1,rc(ht.buffers,yt.segments,l,f,ht.program,at,v,x,nt,1)),nt.u_is_halo=0}rc(ht.buffers,yt.segments,l,f,ht.program,at,v,x,ht.uniformValues,1)}}}function rc(f,r,l,m,v,x,M,P,O,z){const F=[f.dynamicLayoutVertexBuffer,f.opacityVertexBuffer,f.iconTransitioningVertexBuffer,f.globeExtVertexBuffer,f.zOffsetVertexBuffer];v.draw(m,m.context.gl.TRIANGLES,x,M,P,ti.disabled,O,l.id,f.layoutVertexBuffer,f.indexBuffer,r,l.paint,m.transform.zoom,f.programConfigurations.get(l.id),F,z)}function ud(f,r,l,m,v,x,M){const P=f.context.gl,O=l.paint.get("fill-pattern"),z=l.is3D(),F=z?f.stencilModeFor3D():ci.disabled,H=O&&O.constantOr(1);let U,G,Q,J,ie;M?(G=H&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",U=P.LINES):(G=H?"fillPattern":"fill",U=P.TRIANGLES);for(const ne of m){const ae=r.getTile(ne);if(H&&!ae.patternsLoaded())continue;const fe=ae.getBucket(l);if(!fe)continue;f.prepareDrawTile();const de=fe.programConfigurations.get(l.id),be=f.isTileAffectedByFog(ne),ge=f.getOrCreateProgram(G,{config:de,overrideFog:be});H&&(f.context.activeTexture.set(P.TEXTURE0),ae.imageAtlasTexture&&ae.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),de.updatePaintBuffers());const ve=O.constantOr(null);if(ve&&ae.imageAtlas){const Oe=ae.imageAtlas,Ge=s.A.from(ve),je=Oe.patternPositions[Ge.getSerializedPrimary()];je&&de.setConstantPatternPositions(je)}const _e=f.translatePosMatrix(ne.projMatrix,ae,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor")),Ee=l.paint.get("fill-emissive-strength");if(M){J=fe.indexBuffer2,ie=fe.segments2;const Oe=f.terrain&&f.terrain.renderingToTexture?f.terrain.drapeBufferSize:[P.drawingBufferWidth,P.drawingBufferHeight];Q=G==="fillOutlinePattern"&&H?ad(_e,Ee,f,ae,Oe):sd(_e,Ee,Oe)}else J=fe.indexBuffer,ie=fe.segments,Q=H?uf(_e,Ee,f,ae):tc(_e,Ee);f.uploadCommonUniforms(f.context,ge,ne.toUnwrapped()),ge.draw(f,U,v,z?F:f.stencilModeForClipping(ne),x,ti.disabled,Q,l.id,fe.layoutVertexBuffer,J,ie,l.paint,f.transform.zoom,de,void 0)}}function mh(f,r,l,m,v,x,M,P){l.resetLayerRenderingStats(f);const O=f.context,z=O.gl,F=f.transform,H=l.paint.get("fill-extrusion-pattern"),U=H.constantOr(1),G=l.paint.get("fill-extrusion-opacity"),Q=f.style.enable3dLights(),J=l.paint.get(Q&&!U?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),ie=[l.paint.get("fill-extrusion-ambient-occlusion-intensity"),J],ne=l.layout.get("fill-extrusion-edge-radius"),ae=ne>0&&!l.paint.get("fill-extrusion-rounded-roof"),fe=ae?0:ne,de=F.projection.name==="globe"?s.d3():0,be=F.projection.name==="globe",ge=be?s.ae(F.zoom):0,ve=[s.at(F.center.lng),s.aA(F.center.lat)],_e=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",Ee=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(_e?null:l.lut).toArray01().slice(0,3),Oe=l.paint.get("fill-extrusion-flood-light-intensity"),Ge=l.paint.get("fill-extrusion-vertical-scale"),je=l.paint.get("fill-extrusion-line-width").constantOr(1)!==0,Le=l.paint.get("fill-extrusion-height-alignment"),Ne=l.paint.get("fill-extrusion-base-alignment"),at=Wa(f,l.paint.get("fill-extrusion-cutoff-fade-range")),pt=[];let bt;be&&pt.push("PROJECTION_GLOBE_VIEW"),ie[0]>0&&pt.push("FAUX_AO"),ae&&pt.push("ZERO_ROOF_RADIUS"),P&&pt.push("HAS_CENTROID"),Oe>0&&pt.push("FLOOD_LIGHT"),at.shouldRenderCutoff&&pt.push("RENDER_CUTOFF"),je&&pt.push("RENDER_WALL_MODE");const Ue=f.renderPass==="shadow",lt=f.shadowRenderer,Xe=Ue&&!!lt;f.shadowRenderer&&(f.shadowRenderer.useNormalOffset=!0);let yt=[0,0,0];if(lt){const kt=f.style.directionalLight,wt=f.style.ambientLight;kt&&wt&&(yt=Yl(f.style,kt,wt)),Ue||(pt.push("RENDER_SHADOWS","DEPTH_TEXTURE"),lt.useNormalOffset&&pt.push("NORMAL_OFFSET")),bt=pt.concat(["SHADOWS_SINGLE_CASCADE"])}const ht=Xe?"fillExtrusionDepth":U?"fillExtrusionPattern":"fillExtrusion",nt=l.getLayerRenderingStats();for(const kt of m){const wt=r.getTile(kt),Ot=wt.getBucket(l);if(!Ot||Ot.projection.name!==F.projection.name)continue;let Vt=!1;lt&&(Vt=lt.getMaxCascadeForTile(kt.toUnwrapped())===0);const ni=f.isTileAffectedByFog(kt),$t=Ot.programConfigurations.get(l.id),Zt=f.getOrCreateProgram(ht,{config:$t,defines:Vt?bt:pt,overrideFog:ni});if(f.terrain&&f.terrain.setupElevationDraw(wt,Zt,{useMeterToDem:!0}),!Ot.centroidVertexBuffer){const en=Zt.attributes.a_centroid_pos;en!==void 0&&z.vertexAttrib2f(en,0,0)}!Ue&&lt&&lt.setupShadows(wt.tileID.toUnwrapped(),Zt,"vector-tile",wt.tileID.overscaledZ),U&&(f.context.activeTexture.set(z.TEXTURE0),wt.imageAtlasTexture&&wt.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),$t.updatePaintBuffers());const ri=H.constantOr(null);if(ri&&wt.imageAtlas){const en=wt.imageAtlas,pi=s.A.from(ri),Yt=en.patternPositions[pi.getSerializedPrimary()];Yt&&$t.setConstantPatternPositions(Yt)}const Ei=l.paint.get("fill-extrusion-vertical-gradient"),gi=1/Ot.tileToMeter;let hn;if(Ue&&lt){if(xt(wt.tileID,Ot,f))continue;const en=lt.calculateShadowPassMatrixFromTile(wt.tileID.toUnwrapped());hn=dh(en,fe,gi,Ge,Le,Ne)}else{const en=f.translatePosMatrix(kt.expandedProjMatrix,wt,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),pi=F.projection.createInversionMatrix(F,kt.canonical);hn=U?hf(en,f,Ei,G,ie,fe,gi,kt,wt,de,Le,Ne,ge,ve,pi,Ee,Ge):rd(en,f,Ei,G,ie,fe,gi,kt,de,Le,Ne,ge,ve,pi,Ee,Ge,Oe,yt)}f.uploadCommonUniforms(O,Zt,kt.toUnwrapped(),null,at);let vn=Ot.segments;if(F.projection.name==="mercator"&&!Ue&&(vn=Ot.getVisibleSegments(wt.tileID,f.terrain,f.transform.getFrustum(0)),!vn.get().length))continue;if(nt)if(Ue)for(const en of vn.get())nt.numRenderedVerticesInShadowPass+=en.primitiveLength;else for(const en of vn.get())nt.numRenderedVerticesInTransparentPass+=en.primitiveLength;const Gi=[];(f.terrain||P)&&Gi.push(Ot.centroidVertexBuffer),be&&Gi.push(Ot.layoutVertexExtBuffer),je&&Gi.push(Ot.wallVertexBuffer),Zt.draw(f,O.gl.TRIANGLES,v,x,M,ti.backCCW,hn,l.id,Ot.layoutVertexBuffer,Ot.indexBuffer,vn,l.paint,f.transform.zoom,$t,Gi)}f.shadowRenderer&&(f.shadowRenderer.useNormalOffset=!1)}function ll(f,r,l,m,v,x,M,P,O,z,F,H,U,G,Q,J,ie,ne,ae){const fe=f.context,de=fe.gl,be=f.transform,ge=f.transform.zoom,ve=[],_e=Wa(f,l.paint.get("fill-extrusion-cutoff-fade-range"));z==="clear"?(ve.push("CLEAR_SUBPASS"),ae&&(ve.push("CLEAR_FROM_TEXTURE"),fe.activeTexture.set(de.TEXTURE0),ae.bind(de.LINEAR,de.CLAMP_TO_EDGE))):z==="sdf"&&ve.push("SDF_SUBPASS"),ie&&ve.push("HAS_CENTROID"),_e.shouldRenderCutoff&&ve.push("RENDER_CUTOFF");const Ee=l.layout.get("fill-extrusion-edge-radius"),Oe=(Ge,je,Le,Ne,at)=>{const pt=je.programConfigurations.get(l.id),bt=f.isTileAffectedByFog(Ge),Ue=f.getOrCreateProgram("fillExtrusionGroundEffect",{config:pt,defines:ve,overrideFog:bt}),lt=((yt,ht,nt,kt,wt,Ot,Vt,ni,$t,Zt,ri)=>({u_matrix:ht,u_opacity:nt,u_ao_pass:kt?1:0,u_meter_to_tile:wt,u_ao:Ot,u_flood_light_intensity:Vt,u_flood_light_color:ni,u_attenuation:$t,u_edge_radius:Zt,u_fb:0,u_fb_size:ri,u_dynamic_offset:1}))(0,Ne,F,O,at,[H,U*at],G,Q,J,ge>=17?0:Ee*at,ae?ae.size[0]:0),Xe=[];ie&&Xe.push(je.hiddenByLandmarkVertexBuffer),f.uploadCommonUniforms(fe,Ue,Ge.toUnwrapped(),null,_e),Ue.draw(f,fe.gl.TRIANGLES,v,x,M,P,lt,l.id,je.vertexBuffer,je.indexBuffer,Le,l.paint,ge,pt,Xe)};for(const Ge of m){const je=r.getTile(Ge),Le=je.getBucket(l);if(!Le||Le.projection.name!==be.projection.name||!Le.groundEffect||Le.groundEffect&&!Le.groundEffect.hasData())continue;const Ne=Le.groundEffect,at=1/Le.tileToMeter;{const pt=f.translatePosMatrix(Ge.projMatrix,je,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),bt=Ne.getDefaultSegment();Oe(Ge,Ne,bt,pt,at)}if(ne)for(let pt=0;pt<4;pt++){const bt=s.d4[pt](Ge),Ue=r.getTile(bt);if(!Ue)continue;const lt=Ue.getBucket(l);if(!lt||lt.projection.name!==be.projection.name||!lt.groundEffect||lt.groundEffect&&!lt.groundEffect.hasData())continue;const Xe=lt.groundEffect;let yt,ht;pt===0?(yt=[-s.ag,0,0],ht=1):pt===1?(yt=[s.ag,0,0],ht=0):pt===2?(yt=[0,-s.ag,0],ht=3):(yt=[0,s.ag,0],ht=2);const nt=Xe.regionSegments[ht];if(!nt)continue;const kt=new Float32Array(16);s.ab.mat4.translate(kt,Ge.projMatrix,yt),Oe(Ge,Xe,nt,f.translatePosMatrix(kt,je,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),at)}}}function f0(f,r,l,m,v,x,M){m.centroidVertexArray.length===0&&m.createCentroidsBuffer();const P=x?x.findDEMTileFor(l):null;if(!(P&&P.dem||M))return;x&&P&&P.dem&&m.selfDEMTileTimestamp!==P.dem._timestamp&&(m.borderDoneWithNeighborZ=[-1,-1,-1,-1],m.selfDEMTileTimestamp=P.dem._timestamp);const O=ne=>new s.P(Math.ceil((ne+s.d7)*s.d8),0),z=ne=>{const ae=r.getSource().minzoom,fe=be=>{const ge=r.getTileByID(be);if(ge&&ge.hasData())return ge.getBucket(v)},de=[0,-1,1];for(const be of de){if(ne.overscaledZ+be<ae)continue;const ge=fe(ne.calculateScaledKey(ne.overscaledZ+be));if(ge)return ge}},F=[0,0,0],H=(ne,ae)=>(F[0]=Math.min(ne.min.y,ae.min.y),F[1]=Math.max(ne.max.y,ae.max.y),F[2]=s.ag-ae.min.x>ne.max.x?ae.min.x-s.ag:ne.max.x,F),U=(ne,ae)=>(F[0]=Math.min(ne.min.x,ae.min.x),F[1]=Math.max(ne.max.x,ae.max.x),F[2]=s.ag-ae.min.y>ne.max.y?ae.min.y-s.ag:ne.max.y,F),G=[(ne,ae)=>H(ne,ae),(ne,ae)=>H(ae,ne),(ne,ae)=>U(ne,ae),(ne,ae)=>U(ae,ne)],Q=(ne,ae,fe,de,be,ge,ve)=>{if(!x)return 0;const _e=[[ge?fe:ne,ge?ne:fe,0],[ge?fe:ae,ge?ae:fe,0]],Ee=ve<0?s.ag+ve:ve,Oe=[ge?Ee:(ne+ae)/2,ge?(ne+ae)/2:Ee,0];return fe===0&&ve<0||fe!==0&&ve>0?x.getForTilePoints(be,[Oe],!0,de):_e.push(Oe),x.getForTilePoints(l,_e,!0,P),Math.max(_e[0][2],_e[1][2],Oe[2])/x.exaggeration()};for(let ne=0;ne<4;ne++){const ae=m.borderFeatureIndices[ne];if(ae.length===0)continue;const fe=s.d4[ne](l),de=z(fe);if(!(de&&de instanceof s.d5))continue;const be=x?x.findDEMTileFor(fe):null;if(!(be&&be.dem||M)||(x&&be&&be.dem&&m.borderDEMTileTimestamp[ne]!==be.dem._timestamp&&(m.borderDoneWithNeighborZ[ne]=-1,m.borderDEMTileTimestamp[ne]=be.dem._timestamp),m.borderDoneWithNeighborZ[ne]===de.canonical.z))continue;de.centroidVertexArray.length===0&&de.createCentroidsBuffer();const ge=(ne<2?1:5)-ne,ve=de.borderDoneWithNeighborZ[ge]!==m.canonical.z,_e=de.borderFeatureIndices[ge];let Ee=0;if(m.canonical.z!==de.canonical.z){for(const Oe of ae)m.showCentroid(m.featuresOnBorder[Oe]);if(ve)for(const Oe of _e)de.showCentroid(de.featuresOnBorder[Oe]);m.borderDoneWithNeighborZ[ne]=de.canonical.z,de.borderDoneWithNeighborZ[ge]=m.canonical.z}for(const Oe of ae){const Ge=m.featuresOnBorder[Oe],je=m.centroidData[Ge.centroidDataIndex],Le=Ge.borders[ne];let Ne;for(;Ee<_e.length;){Ne=de.featuresOnBorder[_e[Ee]];const at=Ne.borders[ge];if(at[1]>Le[0]+3||at[0]>Le[0]-3)break;de.showCentroid(Ne),Ee++}if(Ne&&Ee<_e.length){const at=Ee;let pt=0;for(;!(Ne.borders[ge][0]>Le[1]-3)&&(pt++,++Ee!==_e.length);)Ne=de.featuresOnBorder[_e[Ee]];Ne=de.featuresOnBorder[_e[at]];let bt=!1;if(pt>=1){const Xe=Ne.borders[ge];Math.abs(Le[0]-Xe[0])<3&&Math.abs(Le[1]-Xe[1])<3&&(pt=1,bt=!0,Ee=at+1)}else if(pt===0){m.showCentroid(Ge);continue}const Ue=de.centroidData[Ne.centroidDataIndex];M&&bt&&(((J=je).flags|(ie=Ue).flags)&s.d6?(J.flags|=s.d6,ie.flags|=s.d6):(J.flags&=~s.d6,ie.flags&=~s.d6));const lt=Ge.intersectsCount()>1||Ne.intersectsCount()>1;if(pt>1)Ee=at,je.centroidXY=Ue.centroidXY=new s.P(0,0);else if(be&&be.dem&&!lt){const Xe=G[ne](je,Ue),yt=ne%2?s.ag-1:0,ht=Q(Xe[0],Math.min(s.ag-1,Xe[1]),yt,be,fe,ne<2,Xe[2]);je.centroidXY=Ue.centroidXY=O(ht)}else lt?je.centroidXY=Ue.centroidXY=new s.P(0,0):(je.centroidXY=m.encodeBorderCentroid(Ge),Ue.centroidXY=de.encodeBorderCentroid(Ne));m.writeCentroidToBuffer(je),de.writeCentroidToBuffer(Ue)}else m.showCentroid(Ge)}m.borderDoneWithNeighborZ[ne]=de.canonical.z,de.borderDoneWithNeighborZ[ge]=m.canonical.z}var J,ie;(m.needsCentroidUpdate||!m.centroidVertexBuffer&&m.centroidVertexArray.length!==0)&&m.uploadCentroid(f)}const U_=[1,0,0],sc=[0,1,0],ac=[0,0,1];function xt(f,r,l){const m=l.transform,v=l.shadowRenderer;if(!v)return!0;const x=f.toUnwrapped(),M=m.tileSize*v._cascades[l.currentShadowCascade].scale;let P=r.maxHeight;if(m.elevation){const J=m.elevation.getMinMaxForTile(f);J&&(P+=J.max)}const O=[...v.shadowDirection];O[2]=-O[2];const z=v.computeSimplifiedTileShadowVolume(x,P,M,O);if(!z)return!1;const F=[U_,sc,ac,O,[O[0],0,O[2]],[0,O[1],O[2]]],H=m.projection.name==="globe",U=m.scaleZoom(M),G=s.bR.fromInvProjectionMatrix(m.invProjMatrix,m.worldSize,U,!H),Q=v.getCurrentCascadeFrustum();return G.intersectsPrecise(z.vertices,z.planes,F)===0||Q.intersectsPrecise(z.vertices,z.planes,F)===0}function Rt(f){return[f[0]*s.d9,f[1]*s.d9,f[2]*s.d9,0]}function xo(f,r,l,m,v,x,M,P,O){const z=m.getSource(),F=l.globeSharedBuffers;if(!F)return;let H,U,G;if(r&&(H=m.getTile(r)),z instanceof s.aJ?(U=z.texture,G=s.cI(0,0,l.transform)):H&&r&&(U=H.texture,G=s.cI(r.canonical.z,r.canonical.x,l.transform)),!U||!G)return;f||(G=s.ab.mat4.scale(s.ab.mat4.create(),G,[1,-1,1]));const Q=l.context,J=Q.gl,ie=v.paint.get("raster-resampling")==="nearest"?J.NEAREST:J.LINEAR,ne=l.colorModeForDrapableLayerRenderPass(x),ae=M.defines;ae.push("GLOBE_POLES");const fe=new Wt(J.LEQUAL,Wt.ReadWrite,l.depthRangeFor3D),de=Float32Array.from(l.transform.expandedFarZProjMatrix),be=Float32Array.from(s.bb(s.cH(new s.bT(0,0,0))));l.terrain&&l.terrain.prepareDrawTile(),Q.activeTexture.set(J.TEXTURE0),U.bind(ie,J.CLAMP_TO_EDGE),Q.activeTexture.set(J.TEXTURE1),U.bind(ie,J.CLAMP_TO_EDGE),U.useMipmap&&Q.extTextureFilterAnisotropic&&l.transform.pitch>20&&J.texParameterf(J.TEXTURE_2D,Q.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Q.extTextureFilterAnisotropicMax);const[ge,ve,_e,Ee]=r?F.getPoleBuffers(r.canonical.z,!1):F.getPoleBuffers(0,!0),Oe=v.paint.get("raster-elevation");let Ge;f?(Ge=ge,l.renderDefaultNorthPole=Oe!==0):(Ge=ve,l.renderDefaultSouthPole=Oe!==0);const je=Rt(M.mix),Le=((at,pt,bt,Ue,lt,Xe,yt,ht,nt,kt,wt,Ot,Vt)=>ff(at,pt,bt,new Float32Array(16),new Float32Array(9),[0,0],Ue,[0,0],[0,0,0,0],1,{opacity:1,mix:0},Xe,[0,0],ht,2,kt,wt,Ot,1,0,Vt))(de,be,G,s.ae(l.transform.zoom),0,v,0,Oe,0,je,M.offset,M.range,x),Ne=l.getOrCreateProgram("raster",{defines:ae});l.uploadCommonUniforms(Q,Ne,null),Ne.draw(l,J.TRIANGLES,fe,O,ne,P,Le,v.id,Ge,_e,Ee)}function On(f){const r=f._nearZ,l=f.projection.farthestPixelDistance(f),m=l-r,v=.2*f.height,x=r+v;return[r,l,(x-v-r)/m,(x-r)/m]}function qe(f,r,l,m){if(f)return r instanceof Ha&&f instanceof Cu?r.getTextureDescriptor(f,l,!0):{texture:f.texture,mix:Rt(m.mix),offset:m.offset,buffer:0,tileSize:1}}var m0=s.da([{name:"a_index",type:"Int16",components:1}]);class dd{constructor(r,l,m,v){const x={width:m[0],height:m[1],data:null},M=r.gl;this.targetColorTexture=new s.T(r,x,M.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new s.T(r,x,M.RGBA8,{useMipmap:!1}),this.context=r,this.updateParticleTexture(l,v),this.lastInvalidatedAt=0}updateParticleTexture(r,l){if(this.particleTextureDimension===l.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const m=this.context.gl,v=l.width*l.height;this.particleTexture0=new s.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new s.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1});const x=new s.db;x.reserve(v);for(let M=0;M<v;M++)x.emplaceBack(M);this.particleIndexBuffer=this.context.createVertexBuffer(x,m0.members,!0),this.particleSegment=s.b7.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=l.width}update(r){return!(this.lastInvalidatedAt<r&&(this.lastInvalidatedAt=s.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function bf(f,r,l){if(!f)return null;const m=r.getTextureDescriptor(f,l,!0);if(!m)return null;let{texture:v,mix:x,offset:M,tileSize:P,buffer:O,format:z}=m;if(!v||!z)return null;let F=!1;return z==="uint32"&&(F=!0,x[3]=0,x=ph(s.dc,x,[0,l.paint.get("raster-particle-max-speed")]),M=Nt(s.dc,M,[0,l.paint.get("raster-particle-max-speed")])),{texture:v,textureOffset:[O/(P+2*O),P/(P+2*O)],tileSize:P,scalarData:F,scale:x,offset:M,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[z]]}}function g0(f){const r=f._nearZ,l=f.projection.farthestPixelDistance(f),m=l-r,v=.2*f.height,x=r+v;return[r,l,(x-v-r)/m,(x-r)/m]}const _0=new s.aj(1,0,0,1),y0=new s.aj(0,1,0,1),oc=new s.aj(0,0,1,1),j_=new s.aj(1,0,1,1),q_=new s.aj(0,1,1,1);function cl(f,r,l,m,v,x,M){const P=f.context,O=f.transform,z=P.gl,F=O.projection.name==="globe",H=F?["PROJECTION_GLOBE_VIEW"]:[];let U=s.ab.mat4.clone(l.projMatrix);if(F&&s.ae(O.zoom)>0){const je=s.ba(l.canonical,O),Le=s.dd(je);U=s.ab.mat4.multiply(new Float32Array(16),O.globeMatrix,Le),s.ab.mat4.multiply(U,O.projMatrix,U)}const G=s.ab.mat4.create();G[12]+=2*v/(s.q.devicePixelRatio*O.width),G[13]+=2*x/(s.q.devicePixelRatio*O.height),s.ab.mat4.multiply(U,G,U);const Q=f.getOrCreateProgram("debug",{defines:H}),J=r.getTileByID(l.key);f.terrain&&f.terrain.setupElevationDraw(J,Q);const ie=Wt.disabled,ne=ci.disabled,ae=f.colorModeForRenderPass(),fe="$debug";P.activeTexture.set(z.TEXTURE0),f.emptyTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),F?J._makeGlobeTileDebugBuffers(f.context,O):J._makeDebugTileBoundsBuffers(f.context,O.projection);const de=J._tileDebugBuffer||f.debugBuffer,be=J._tileDebugIndexBuffer||f.debugIndexBuffer,ge=J._tileDebugSegments||f.debugSegments;if(Q.draw(f,z.LINE_STRIP,ie,ne,ae,ti.disabled,pf(U,m),fe,de,be,ge,null,null,null,[J._globeTileDebugBorderBuffer]),M){const je=J.latestRawTileData,Le=Math.floor((je&&je.byteLength||0)/1024);let Ne=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(Ne+=` => ${l.overscaledZ}`),Ne+=` ${J.state}`,Ne+=` ${Le}kb`,function(at,pt){at.initDebugOverlayCanvas();const bt=at.debugOverlayCanvas,Ue=at.context.gl,lt=at.debugOverlayCanvas.getContext("2d");lt.clearRect(0,0,bt.width,bt.height),lt.shadowColor="white",lt.shadowBlur=2,lt.lineWidth=1.5,lt.strokeStyle="white",lt.textBaseline="top",lt.font="bold 36px Open Sans, sans-serif",lt.fillText(pt,5,5),lt.strokeText(pt,5,5),at.debugOverlayTexture.update(bt),at.debugOverlayTexture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE)}(f,Ne)}const ve=r.getTile(l).tileSize,_e=512/Math.min(ve,512)*(l.overscaledZ/O.zoom)*.5,Ee=J._tileDebugTextBuffer||f.debugBuffer,Oe=J._tileDebugTextIndexBuffer||f.quadTriangleIndexBuffer,Ge=J._tileDebugTextSegments||f.debugSegments;Q.draw(f,z.TRIANGLES,ie,ne,vi.alphaBlended,ti.disabled,pf(U,s.aj.transparent,_e),fe,Ee,Oe,Ge,null,null,null,[J._globeTileDebugTextBuffer])}function gh(f,r,l,m){_h(f,0,r+l/2,f.transform.width,l,m)}function pd(f,r,l,m){_h(f,r-l/2,0,l,f.transform.height,m)}function _h(f,r,l,m,v,x){const M=f.context,P=M.gl;P.enable(P.SCISSOR_TEST),P.scissor(r*s.q.devicePixelRatio,l*s.q.devicePixelRatio,m*s.q.devicePixelRatio,v*s.q.devicePixelRatio),M.clear({color:x}),P.disable(P.SCISSOR_TEST)}const v0=s.da([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:fd}=v0;function na(f,r,l,m){f.emplaceBack(r,l,m)}class ra{constructor(r){this.vertexArray=new s.de,this.indices=new s.aU,na(this.vertexArray,-1,-1,1),na(this.vertexArray,1,-1,1),na(this.vertexArray,-1,1,1),na(this.vertexArray,1,1,1),na(this.vertexArray,-1,-1,-1),na(this.vertexArray,1,-1,-1),na(this.vertexArray,-1,1,-1),na(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,fd),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=s.b7.simpleSegment(0,0,36,12)}}function hl(f,r,l,m,v,x){const M=f.context.gl,P=r.paint.get("sky-atmosphere-color"),O=r.paint.get("sky-atmosphere-halo-color"),z=r.paint.get("sky-atmosphere-sun-intensity"),F=((H,U,G,Q,J)=>({u_matrix_3f:H,u_sun_direction:U,u_sun_intensity:G,u_color_tint_r:[Q.r,Q.g,Q.b,Q.a],u_color_tint_m:[J.r,J.g,J.b,J.a],u_luminance:5e-5}))(s.ab.mat3.fromMat4(s.ab.mat3.create(),m),v,z,P,O);M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_CUBE_MAP_POSITIVE_X+x,r.skyboxTexture,0),l.draw(f,M.TRIANGLES,Wt.disabled,ci.disabled,vi.unblended,ti.frontCW,F,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const $_=s.da([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class ss{constructor(r){const l=new s.df;l.emplaceBack(-1,1,1,0,0),l.emplaceBack(1,1,1,1,0),l.emplaceBack(1,-1,1,1,1),l.emplaceBack(-1,-1,1,0,1);const m=new s.aU;m.emplaceBack(0,1,2),m.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(l,$_.members),this.indexBuffer=r.createIndexBuffer(m),this.segments=s.b7.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const G_=s.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class yh{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class fn{constructor(r){this.colorModeAlphaBlendedWriteRGB=new vi([1,$l,1,$l],s.aj.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new vi([1,0,1,0],s.aj.transparent,[!1,!1,!1,!0]),this.params=new yh,this.updateNeeded=!0,r.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),r.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(r){const l=r.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new ss(l);const m=this.params.sizeRange,v=this.params.intensityRange,x=function(F){const H=s.di(30),U=[];for(let G=0;G<F;++G){const Q=2*Math.PI*H(),J=Math.acos(1-2*H())-.5*Math.PI;U.push(s.ab.vec3.fromValues(Math.cos(J)*Math.cos(Q),Math.cos(J)*Math.sin(Q),Math.sin(J)))}return U}(this.params.starsCount),M=s.di(300),P=new s.dg,O=new s.aU;let z=0;for(let F=0;F<x.length;++F){const H=s.ab.vec3.scale([],x[F],200),U=Math.max(0,1+.01*m*(1*M()-.5)),G=Math.max(0,1+.01*v*(1*M()-.5));P.emplaceBack(H[0],H[1],H[2],-1,-1,U,G),P.emplaceBack(H[0],H[1],H[2],1,-1,U,G),P.emplaceBack(H[0],H[1],H[2],1,1,U,G),P.emplaceBack(H[0],H[1],H[2],-1,1,U,G),O.emplaceBack(z+0,z+1,z+2),O.emplaceBack(z+0,z+2,z+3),z+=4}this.starsVx=l.createVertexBuffer(P,G_.members),this.starsIdx=l.createIndexBuffer(O),this.starsSegments=s.b7.simpleSegment(0,0,P.length,O.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(r,l){const m=r.context,v=m.gl,x=r.transform,M=new Wt(v.LEQUAL,Wt.ReadOnly,[0,1]),P=s.ae(x.zoom),O=r.style.getLut(l.scope),z=l.properties.get("color-use-theme")==="none",F=l.properties.get("color").toRenderColor(z?null:O).toArray01(),H=l.properties.get("high-color-use-theme")==="none",U=l.properties.get("high-color").toRenderColor(H?null:O).toArray01(),G=l.properties.get("space-color-use-theme")==="none",Q=l.properties.get("space-color").toRenderColor(G?null:O).toArray01PremultipliedAlpha(),J=5e-4,ie=s.dh(l.properties.get("horizon-blend"),0,1,J,.25),ne=s.cC(r,m,x)&&ie===J?x.worldSize/(2*Math.PI*1.025)-1:x.globeRadius,ae=r.frameCounter/1e3%1,fe=s.ab.vec3.length(x.globeCenterInViewSpace),de=Math.sqrt(Math.pow(fe,2)-Math.pow(ne,2)),be=Math.acos(de/fe),ge=ve=>{const _e=x.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];ve&&_e.push("ALPHA_PASS");const Ee=r.getOrCreateProgram("globeAtmosphere",{defines:_e}),Oe=((je,Le,Ne,at,pt,bt,Ue,lt,Xe,yt,ht,nt)=>({u_frustum_tl:je,u_frustum_tr:Le,u_frustum_br:Ne,u_frustum_bl:at,u_horizon:pt,u_transition:bt,u_fadeout_range:Ue,u_color:lt,u_high_color:Xe,u_space_color:yt,u_temporal_offset:ht,u_horizon_angle:nt}))(x.frustumCorners.TL,x.frustumCorners.TR,x.frustumCorners.BR,x.frustumCorners.BL,x.frustumCorners.horizon,P,ie,F,U,Q,ae,be);r.uploadCommonUniforms(m,Ee);const Ge=this.atmosphereBuffer;Ge&&Ee.draw(r,v.TRIANGLES,M,ci.disabled,ve?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,ti.backCW,Oe,ve?"atmosphere_glow_alpha":"atmosphere_glow",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)};ge(!1),ge(!0)}drawStars(r,l){const m=s.aw(l.properties.get("star-intensity"),0,1);if(m===0)return;const v=r.context,x=v.gl,M=r.transform,P=r.getOrCreateProgram("stars"),O=s.ab.quat.identity([]);s.ab.quat.rotateX(O,O,-M._pitch),s.ab.quat.rotateZ(O,O,-M.angle),s.ab.quat.rotateX(O,O,s.ai(M._center.lat)),s.ab.quat.rotateY(O,O,-s.ai(M._center.lng));const z=s.ab.mat4.fromQuat(new Float32Array(16),O),F=s.ab.mat4.multiply([],M.starsProjMatrix,z),H=s.ab.mat3.fromMat4([],z),U=s.ab.mat3.invert([],H),G=[0,1,0];s.ab.vec3.transformMat3(G,G,U),s.ab.vec3.scale(G,G,this.params.sizeMultiplier);const Q=[1,0,0];s.ab.vec3.transformMat3(Q,Q,U),s.ab.vec3.scale(Q,Q,this.params.sizeMultiplier);const J=(ie=G,ne=Q,ae=m,{u_matrix:Float32Array.from(F),u_up:ie,u_right:ne,u_intensity_multiplier:ae});var ie,ne,ae;r.uploadCommonUniforms(v,P),this.starsVx&&this.starsIdx&&P.draw(r,x.TRIANGLES,Wt.disabled,ci.disabled,this.colorModeAlphaBlendedWriteRGB,ti.disabled,J,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function Hi(f,r){const l=[...f],m=r.cameraWorldSizeForFog/r.worldSize,v=s.ab.mat4.identity([]);return s.ab.mat4.scale(v,v,[m,m,1]),s.ab.mat4.multiply(l,v,l),s.ab.mat4.multiply(l,r.worldToFogMatrix,l),l}function md(f,r,l,m,v){const x=l.material,M=m.context,{baseColorTexture:P,metallicRoughnessTexture:O}=x.pbrMetallicRoughness,{normalTexture:z,occlusionTexture:F,emissionTexture:H}=x;function U(Q,J,ie){if(Q&&(f.push(J),M.activeTexture.set(M.gl.TEXTURE0+ie),Q.gfxTexture)){const{minFilter:ne,magFilter:ae,wrapS:fe,wrapT:de}=Q.sampler;Q.gfxTexture.bindExtraParam(ne,ae,fe,de)}}U(P,"HAS_TEXTURE_u_baseColorTexture",Rr.BaseColor),U(O,"HAS_TEXTURE_u_metallicRoughnessTexture",Rr.MetallicRoughness),U(z,"HAS_TEXTURE_u_normalTexture",Rr.Normal),U(F,"HAS_TEXTURE_u_occlusionTexture",Rr.Occlusion),U(H,"HAS_TEXTURE_u_emissionTexture",Rr.Emission),v&&(v.texture||(v.texture=new s.dk(m.context,v.image,[v.image.height,v.image.height,v.image.height],M.gl.RGBA8)),M.activeTexture.set(M.gl.TEXTURE0+Rr.LUT),v.texture&&v.texture.bind(M.gl.LINEAR,M.gl.CLAMP_TO_EDGE),f.push("APPLY_LUT_ON_GPU")),l.texcoordBuffer&&(f.push("HAS_ATTRIBUTE_a_uv_2f"),r.push(l.texcoordBuffer)),l.colorBuffer&&(f.push(l.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),r.push(l.colorBuffer)),l.normalBuffer&&(f.push("HAS_ATTRIBUTE_a_normal_3f"),r.push(l.normalBuffer)),l.pbrBuffer&&(f.push("HAS_ATTRIBUTE_a_pbr"),f.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),r.push(l.pbrBuffer)),x.alphaMode!=="OPAQUE"&&x.alphaMode!=="MASK"||f.push("UNPREMULT_TEXTURE_IN_SHADER"),x.defined||f.push("DIFFUSE_SHADED"),f.push("USE_STANDARD_DERIVATIVES");const G=m.shadowRenderer;G&&(f.push("RENDER_SHADOWS","DEPTH_TEXTURE"),G.useNormalOffset&&f.push("NORMAL_OFFSET"))}function sa(f,r,l,m,v,x){const M=l.paint.get("model-opacity").constantOr(1),P=r.context,O=new Wt(r.context.gl.LEQUAL,Wt.ReadWrite,r.depthRangeFor3D),z=r.transform,F=f.mesh,H=F.material,U=H.pbrMetallicRoughness,G=r.style.fog;let Q;Q=r.transform.projection.zAxisUnit==="pixels"?[...f.nodeModelMatrix]:s.ab.mat4.multiply([],m.zScaleMatrix,f.nodeModelMatrix),s.ab.mat4.multiply(Q,m.negCameraPosMatrix,Q);const J=s.ab.mat4.invert([],Q);s.ab.mat4.transpose(J,J);const ie=l.paint.get("model-color-use-theme").constantOr("default")==="none",ne=l.paint.get("model-emissive-strength").constantOr(0),ae=_f(new Float32Array(f.worldViewProjection),new Float32Array(Q),new Float32Array(J),null,r,M,U.baseColorFactor.toRenderColor(null),H.emissiveFactor,U.metallicFactor,U.roughnessFactor,H,ne,l),fe={defines:[]},de=[],be=r.shadowRenderer;be&&(be.useNormalOffset=!1),md(fe.defines,de,F,r,ie?null:l.lut);let ge=null;if(G){const Ee=Hi(f.nodeModelMatrix,r.transform);if(ge=new Float32Array(Ee),z.projection.name!=="globe"){const Oe=F.aabb.min,Ge=F.aabb.max,[je,Le]=G.getOpacityForBounds(Ee,Oe[0],Oe[1],Ge[0],Ge[1]);fe.overrideFog=je>=Lt||Le>=Lt}}const ve=Wa(r,l.paint.get("model-cutoff-fade-range"));ve.shouldRenderCutoff&&fe.defines.push("RENDER_CUTOFF");const _e=r.getOrCreateProgram("model",fe);r.uploadCommonUniforms(P,_e,null,ge,ve),r.renderPass!=="shadow"&&be&&be.setupShadowsFromMatrix(f.nodeModelMatrix,_e),_e.draw(r,P.gl.TRIANGLES,O,v,x,F.material.doubleSided?ti.disabled:ti.backCCW,ae,l.id,F.vertexBuffer,F.indexBuffer,F.segments,l.paint,r.transform.zoom,void 0,de)}function vh(f,r,l,m,v,x,M){let P;P=f.projection.name==="globe"?s.dl(l,f):[...l],s.ab.mat4.multiply(P,P,r.matrix);const O=s.ab.mat4.multiply([],m,P);if(r.meshes)for(const z of r.meshes){if(z.material.alphaMode!=="BLEND"){M.push({mesh:z,depth:0,modelIndex:v,worldViewProjection:O,nodeModelMatrix:P});continue}const F=s.ab.vec3.transformMat4([],z.centroid,O);F[2]>0&&x.push({mesh:z,depth:F[2],modelIndex:v,worldViewProjection:O,nodeModelMatrix:P})}if(r.children)for(const z of r.children)vh(f,z,l,m,v,x,M)}function bo(f,r,l,m){const v=l.shadowRenderer;if(!v)return;const x=v.getShadowPassDepthMode(),M=v.getShadowPassColorMode(),P=v.calculateShadowPassMatrixFromMatrix(r),O=d0(P);l.getOrCreateProgram("modelDepth",{defines:l._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(l,l.context.gl.TRIANGLES,x,ci.disabled,M,ti.backCCW,O,m.id,f.vertexBuffer,f.indexBuffer,f.segments,m.paint,l.transform.zoom,void 0,void 0)}function wf(f,r,l){const m=r.updateZoomBasedPaintProperties(),v=function(x,M,P){let O,z,F,H=x.terrain?x.terrain.exaggeration():0;if(x.terrain&&H>0){const U=x.terrain,G=U.findDEMTileFor(P);G&&G.dem?O=s.dn.create(U,P,G):H=0}if(H===0&&(M.terrainElevationMin=0,M.terrainElevationMax=0),H===M.validForExaggeration&&(H===0||O&&O._demTile&&O._demTile.tileID===M.validForDEMTile.id&&O._dem._timestamp===M.validForDEMTile.timestamp))return!1;for(const U in M.instancesPerModel){const G=M.instancesPerModel[U];for(let Q=0;Q<G.instancedDataArray.length;++Q){const J=(O?H*O.getElevationAt(0|G.instancedDataArray.float32[16*Q],0|G.instancedDataArray.float32[16*Q+1],!0,!0):0)+G.instancesEvaluatedElevation[Q];G.instancedDataArray.float32[16*Q+6]=J,z=z?Math.min(M.terrainElevationMin,J):J,F=F?Math.max(M.terrainElevationMax,J):J}}return M.terrainElevationMin=z||0,M.terrainElevationMax=F||0,M.validForExaggeration=H,M.validForDEMTile=O&&O._demTile?{id:O._demTile.tileID,timestamp:O._dem._timestamp}:{id:void 0,timestamp:0},!0}(f,r,l);(m||v)&&(r.uploaded=!1,r.upload(f.context))}const Bs={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new s.cd([0,0,0],[s.ag,s.ag,0])};function wo(f,r){const l=1<<f.canonical.z,m=r.getFreeCameraOptions().position,v=r.elevation,x=f.canonical.x/l,M=(f.canonical.x+1)/l,P=f.canonical.y/l,O=(f.canonical.y+1)/l;let z=r._centerAltitude;if(v){const G=v.getMinMaxForTile(f);G&&G.max>z&&(z=G.max)}const F=s.aw(m.x,x,M)-m.x,H=s.aw(m.y,P,O)-m.y,U=s.bH(z,r.center.lat)-m.z;return r._zoomFromMercatorZ(Math.sqrt(F*F+H*H+U*U))}function Ja(f,r,l,m,v,x,M){const P=f.context,O=f.renderPass==="shadow",z=f.shadowRenderer,F=O&&z?z.getShadowPassDepthMode():new Wt(P.gl.LEQUAL,Wt.ReadWrite,f.depthRangeFor3D),H=f.isTileAffectedByFog(x);if(l.meshes)for(const U of l.meshes){const G=["MODEL_POSITION_ON_GPU"],Q=[];let J,ie,ne;m.instancedDataArray.length>20&&G.push("INSTANCED_ARRAYS");const ae=Wa(f,r.paint.get("model-cutoff-fade-range"));if(ae.shouldRenderCutoff&&G.push("RENDER_CUTOFF"),O&&z)J=f.getOrCreateProgram("modelDepth",{defines:G}),ie=d0(M.shadowTileMatrix,M.shadowTileMatrix,Float32Array.from(l.matrix)),ne=z.getShadowPassColorMode();else{md(G,Q,U,f,r.paint.get("model-color-use-theme").constantOr("default")==="none"?null:r.lut),J=f.getOrCreateProgram("model",{defines:G,overrideFog:H});const de=U.material,be=de.pbrMetallicRoughness,ge=r.paint.get("model-opacity").constantOr(1),ve=r.paint.get("model-emissive-strength").constantOr(0);ie=_f(x.expandedProjMatrix,Float32Array.from(l.matrix),new Float32Array(16),null,f,ge,be.baseColorFactor.toRenderColor(null),de.emissiveFactor,be.metallicFactor,be.roughnessFactor,de,ve,r,v),z&&(M.shadowUniformsInitialized?J.setShadowUniformValues(P,z.getShadowUniformValues()):(z.setupShadows(x.toUnwrapped(),J,"model-tile",x.overscaledZ),M.shadowUniformsInitialized=!0)),ne=ae.shouldRenderCutoff||ge<1||de.alphaMode!=="OPAQUE"?vi.alphaBlended:vi.unblended}f.uploadCommonUniforms(P,J,x.toUnwrapped(),null,ae);const fe=U.material.doubleSided?ti.disabled:ti.backCCW;if(m.instancedDataArray.length>20)Q.push(m.instancedDataBuffer),J.draw(f,P.gl.TRIANGLES,F,ci.disabled,ne,fe,ie,r.id,U.vertexBuffer,U.indexBuffer,U.segments,r.paint,f.transform.zoom,void 0,Q,m.instancedDataArray.length);else{const de=O?"u_instance":"u_normal_matrix";for(let be=0;be<m.instancedDataArray.length;++be)ie[de]=new Float32Array(m.instancedDataArray.arrayBuffer,64*be,16),J.draw(f,P.gl.TRIANGLES,F,ci.disabled,ne,fe,ie,r.id,U.vertexBuffer,U.indexBuffer,U.segments,r.paint,f.transform.zoom,void 0,Q)}}if(l.children)for(const U of l.children)Ja(f,r,U,m,v,x,M)}const Mo=[1,-1,1];function gd(f,r,l,m){if(!l.modelManager)return!0;const v=l.modelManager;if(!l.shadowRenderer)return!0;const x=l.shadowRenderer,M=r.aabb;let P=!0,O=f.maxHeight;if(O===0){let F=0;for(const H in f.instancesPerModel){const U=v.getModel(H,m);U?F=Math.max(F,Math.max(Math.max(U.aabb.max[0],U.aabb.max[1]),U.aabb.max[2])):P=!1}O=f.maxScale*F*1.41+f.maxVerticalOffset,P&&(f.maxHeight=O)}M.max[2]=O,M.min[2]+=f.terrainElevationMin,M.max[2]+=f.terrainElevationMax,s.ab.vec3.transformMat4(M.min,M.min,r.tileMatrix),s.ab.vec3.transformMat4(M.max,M.max,r.tileMatrix);const z=M.intersects(x.getCurrentCascadeFrustum());return l.currentShadowCascade===0&&(f.isInsideFirstShadowMapFrustum=z===2),z===0}function _d(f,r){const l=f.uniformValues.u_cutoff_params[0],m=f.uniformValues.u_cutoff_params[1],v=f.uniformValues.u_cutoff_params[2],x=f.uniformValues.u_cutoff_params[3];return m===l||x===v?1:s.aw(((r-l)/(m-l)-v)/(x-v),0,1)}function Mf(f,r,l,m){if(r.pitch<20)return 1;const v=r.getWorldToCameraMatrix();s.ab.mat4.multiply(v,v,f);const x=s.ab.vec4.fromValues(l.min[0],l.min[1],l.min[2],1);let M=s.ab.vec4.transformMat4(s.ab.vec4.create(),x,v),P=M,O=M;x[1]=l.max[1],M=s.ab.vec4.transformMat4(s.ab.vec4.create(),x,v),P=M[1]<P[1]?M:P,O=M[1]>O[1]?M:O,x[0]=l.max[0],M=s.ab.vec4.transformMat4(s.ab.vec4.create(),x,v),P=M[1]<P[1]?M:P,O=M[1]>O[1]?M:O,x[1]=l.min[1],M=s.ab.vec4.transformMat4(s.ab.vec4.create(),x,v),P=M[1]<P[1]?M:P,O=M[1]>O[1]?M:O;const z=s.aw(m[0],0,1),F=100*r.pixelsPerMeter*s.aw(m[1],0,1),H=s.aw(m[2],0,1),U=s.ab.vec4.lerp(s.ab.vec4.create(),P,O,z),G=Math.tan(.5*r.fovX),Q=-U[2]*G;if(F===0)return U[1]<-Math.abs(Q)?H:1;const J=(-Math.abs(Q)-U[1])/F,ie=(ae,fe,de)=>(1-de)*ae+de*fe,ne=s.aw(ie(1,H,J),H,1);return ie(1,ne,s.aw((r.pitch-20)/20,0,1))}class Sf{}class Tf{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(r,l,m){{const H=this._storage.get(l.id);if(H)return H.lastUsedFrameIdx=r,H.buf}const v=m.gl,x=v.getBufferParameter(v.ELEMENT_ARRAY_BUFFER,v.BUFFER_SIZE),M=new ArrayBuffer(x),P=new Int16Array(M);v.getBufferSubData(v.ELEMENT_ARRAY_BUFFER,0,new Int16Array(M));const O=new s.dq;for(let H=0;H<x/2;H+=3){const U=P[H],G=P[H+1],Q=P[H+2];O.emplaceBack(U,G),O.emplaceBack(G,Q),O.emplaceBack(Q,U)}const z=m.bindVertexArrayOES.current,F=new Sf;return F.buf=new Ea(m,O),F.lastUsedFrameIdx=r,this._storage.set(l.id,F),m.bindVertexArrayOES.set(z),F.buf}update(r){for(const[l,m]of this._storage)r-m.lastUsedFrameIdx>30&&(m.buf.destroy(),this._storage.delete(l))}destroy(){for(const[r,l]of this._storage)l.buf.destroy(),this._storage.delete(r)}}class So{constructor(r){this.occluderSize=30,this.depthOffset=-1e-4,r.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),r.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const Ef=s.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_rainParticleData",components:4}]);class yd{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}class vd{constructor(r,l){this.revealStart=11,this.revealRange=2,r.registerParameter(this,[...l,"Reveal"],"revealStart",{min:0,max:17,step:.05}),r.registerParameter(this,[...l,"Reveal"],"revealRange",{min:.1,max:5.1,step:.05})}}const Cf=s.da([{type:"Float32",name:"a_pos_2f",components:2}]);class Fr{destroy(){this.vignetteVx&&this.vignetteVx.destroy(),this.vignetteIdx&&this.vignetteIdx.destroy()}draw(r,l){const m=r.getOrCreateProgram("vignette");if(!this.vignetteVx||!this.vignetteIdx){const M=new s.dr,P=new s.aU;M.emplaceBack(-1,-1),M.emplaceBack(1,-1),M.emplaceBack(1,1),M.emplaceBack(-1,1),P.emplaceBack(0,1,2),P.emplaceBack(0,2,3),this.vignetteVx=r.context.createVertexBuffer(M,Cf.members),this.vignetteIdx=r.context.createIndexBuffer(P)}const v=s.b7.simpleSegment(0,0,4,6);if(this.vignetteVx&&this.vignetteIdx){r.uploadCommonUniforms(r.context,m);const M={u_vignetteShape:(x={vignetteShape:[l.start,l.range,Math.pow(10,l.fadePower)],vignetteColor:[l.color.r,l.color.g,l.color.b,l.color.a*l.strength]}).vignetteShape,u_vignetteColor:x.vignetteColor};m.draw(r,r.context.gl.TRIANGLES,Wt.disabled,ci.disabled,vi.alphaBlended,ti.disabled,M,"vignette",this.vignetteVx,this.vignetteIdx,v,{})}var x}}class Af{constructor(){this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0}update(r,l){const m=r.getFreeCameraOptions().position,v=m.toAltitude(),x=m.toLngLat(),M=s.ai(x.lng),P=s.ai(x.lat),O=r.pixelsPerMeter/l,z=M*s.ds,F=s.ds*Math.log(Math.tan(Math.PI/4+P/2));if(this._offsetXPrev===void 0)this._offsetXPrev=0,this._offsetYPrev=0,this._elevationPrev=0,this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0;else{const H=-this._offsetYPrev+F,U=-this._elevationPrev+v;this._accumulatedOffsetX+=(-this._offsetXPrev+z)*O,this._accumulatedOffsetY+=H*O,this._accumulatedElevation+=U*O,this._offsetXPrev=z,this._offsetYPrev=F,this._elevationPrev=v}}getPosition(){return[this._accumulatedOffsetX,this._accumulatedOffsetY,this._accumulatedElevation]}}function xd(f,r){return[-(f[0]-Math.floor(f[0]/r)*r),-(f[1]-Math.floor(f[1]/r)*r),-(f[2]-Math.floor(f[2]/r)*r)]}function lc(f){const r=s.di(1323123451230),l=[];for(let m=0;m<f;++m){const v=2*r()-1,x=2*r()-1,M=2*r()-1;l.push(s.ab.vec3.fromValues(v,x,M))}return l}function ds(f,r,l,m,v){const x=s.aw((v-l)/(m-l),0,1);return(1-x)*f+x*r}class bd{constructor(r){this._movement=new Af,this._accumulatedTimeFromStart=0,this._prevTime=Date.now()/1e3,this._vignette=new Fr,this._ppmScaleFactor=r}destroy(){this.particlesVx&&this.particlesVx.destroy(),this.particlesIdx&&this.particlesIdx.destroy(),this._vignette&&this._vignette.destroy()}updateOnRender(r,l){const m=r.transform;this._movement.update(m,this._ppmScaleFactor);const v=m.starsProjMatrix,x=s.ab.quat.identity([]);s.ab.quat.rotateX(x,x,s.ai(90)-m._pitch),s.ab.quat.rotateZ(x,x,-m.angle);const M=s.ab.mat4.fromQuat(new Float32Array(16),x),P=s.ab.mat4.fromValues(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1),O=s.ab.mat4.transpose([],P),z=s.ab.mat4.multiply([],O,M),F=Date.now()/1e3;return this._accumulatedTimeFromStart+=(F-this._prevTime)*l,this._prevTime=F,{projectionMatrix:v,modelviewMatrix:z}}}class If extends bd{constructor(r){super(4.25),this._params={overrideStyleParameters:!1,intensity:.5,timeFactor:1,velocityConeAperture:0,velocity:300,boxSize:2500,dropletSizeX:1,dropletSizeYScale:10,distortionStrength:70,screenThinning:{intensity:.57,start:.46,range:1.17,fadePower:.17,affectedRatio:1,particleOffset:-.2},color:{r:.66,g:.68,b:.74,a:.7},direction:{x:-50,y:-35},shapeDirPower:2,shapeNormalPower:1},this._revealParams=new vd(r.tp,["Precipitation","Rain"]),this._vignetteParams={strength:1,start:.7,range:1,fadePower:.4,color:{r:.27,g:.27,b:.27,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=lc(this.particlesCount),v=new s.dt,x=new s.aU;let M=0;const P=s.di(1323123451230);for(let O=0;O<m.length;++O){const z=m[O],F=[2*P()-1,P(),P(),P()];v.emplaceBack(z[0],z[1],z[2],-1,-1,...F),v.emplaceBack(z[0],z[1],z[2],1,-1,...F),v.emplaceBack(z[0],z[1],z[2],1,1,...F),v.emplaceBack(z[0],z[1],z[2],-1,1,...F),x.emplaceBack(M+0,M+1,M+2),x.emplaceBack(M+0,M+2,M+3),M+=4}this.particlesVx=l.createVertexBuffer(v,Ef.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.rain)return;const l=this._params.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},m=r.transform.zoom;if(l.revealStart>m)return;const v=ds(0,1,l.revealStart,l.revealStart+l.revealRange,m);if(!this.particlesVx||!this.particlesIdx)return;const x=structuredClone(this._params);let M=[-x.direction.x,x.direction.y,-100];s.ab.vec3.normalize(M,M);const P=structuredClone(this._vignetteParams);P.strength*=v,x.overrideStyleParameters||(x.intensity=r.style.rain.state.density,x.timeFactor=r.style.rain.state.intensity,x.color=structuredClone(r.style.rain.state.color),M=structuredClone(r.style.rain.state.direction),x.screenThinning.intensity=r.style.rain.state.centerThinning,x.dropletSizeX=r.style.rain.state.dropletSize[0],x.dropletSizeYScale=r.style.rain.state.dropletSize[1]/r.style.rain.state.dropletSize[0],x.distortionStrength=100*r.style.rain.state.distortionStrength,P.strength=1,P.color=structuredClone(r.style.rain.state.vignetteColor));const O=this.updateOnRender(r,x.timeFactor),z=r.context,F=z.gl,H=r.transform;this.screenTexture&&this.screenTexture.size[0]===r.width&&this.screenTexture.size[1]===r.height||(this.screenTexture=new s.T(z,{width:r.width,height:r.height,data:null},F.RGBA8)),x.distortionStrength>0&&(z.activeTexture.set(F.TEXTURE0),this.screenTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),F.copyTexSubImage2D(F.TEXTURE_2D,0,0,0,0,0,r.width,r.height));const U=r.getOrCreateProgram("rainParticle");r.uploadCommonUniforms(z,U),z.activeTexture.set(F.TEXTURE0),this.screenTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE);const G=[x.color.r,x.color.g,x.color.b,x.color.a],Q=(J,ie)=>{const ne=xd(this._movement.getPosition(),J),ae=x.dropletSizeX,fe=x.dropletSizeX*x.dropletSizeYScale,de=r.width/2,be=r.height/2,ge=ds(0,x.screenThinning.start,0,1,x.screenThinning.intensity),ve=ds(.001,x.screenThinning.range,0,1,x.screenThinning.intensity),_e=ds(0,x.screenThinning.particleOffset,0,1,x.screenThinning.intensity),Ee=(Oe={modelview:O.modelviewMatrix,projection:O.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:ne,velocityConeAperture:x.velocityConeAperture,velocity:x.velocity,boxSize:J,rainDropletSize:[ae,fe],distortionStrength:x.distortionStrength,rainDirection:M,color:G,screenSize:[H.width,H.height],thinningCenterPos:[de,be],thinningShape:[ge,ve,Math.pow(10,x.screenThinning.fadePower)],thinningAffectedRatio:x.screenThinning.affectedRatio,thinningParticleOffset:_e,shapeDirectionalPower:x.shapeDirPower,shapeNormalPower:x.shapeNormalPower,mode:ie?0:1},{u_modelview:Float32Array.from(Oe.modelview),u_projection:Float32Array.from(Oe.projection),u_time:Oe.time,u_cam_pos:Oe.camPos,u_texScreen:0,u_velocityConeAperture:Oe.velocityConeAperture,u_velocity:Oe.velocity,u_boxSize:Oe.boxSize,u_rainDropletSize:Oe.rainDropletSize,u_distortionStrength:Oe.distortionStrength,u_rainDirection:Oe.rainDirection,u_color:Oe.color,u_screenSize:Oe.screenSize,u_thinningCenterPos:Oe.thinningCenterPos,u_thinningShape:Oe.thinningShape,u_thinningAffectedRatio:Oe.thinningAffectedRatio,u_thinningParticleOffset:Oe.thinningParticleOffset,u_shapeDirectionalPower:Oe.shapeDirectionalPower,u_shapeNormalPower:Oe.shapeNormalPower,u_mode:Oe.mode});var Oe;const Ge=Math.round(v*x.intensity*this.particlesCount),je=s.b7.simpleSegment(0,0,4*Ge,2*Ge);U.draw(r,F.TRIANGLES,Wt.disabled,ci.disabled,vi.alphaBlended,ti.disabled,Ee,"rain_particles",this.particlesVx,this.particlesIdx,je,{})};x.distortionStrength>0&&Q(x.boxSize,!0),Q(x.boxSize,!1),this._vignette.draw(r,P)}}const Pf=s.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_snowParticleData",components:4},{type:"Float32",name:"a_snowParticleDataHorizontalOscillation",components:2}]);class ul extends bd{constructor(r){super(2.25),this._params={overrideStyleParameters:!1,intensity:.85,timeFactor:.75,velocityConeAperture:70,velocity:40,horizontalOscillationRadius:4,horizontalOscillationRate:1.5,boxSize:2e3,billboardSize:2,shapeFadeStart:.27,shapeFadePower:.21,screenThinning:{intensity:.4,start:.15,range:1.4,fadePower:.24,affectedRatio:1,particleOffset:-.2},color:{r:1,g:1,b:1,a:1},direction:{x:-50,y:-35}},this._revealParams=new vd(r.tp,["Precipitation","Snow"]),this._vignetteParams={strength:.3,start:.78,range:.46,fadePower:.2,color:{r:1,g:1,b:1,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=lc(this.particlesCount),v=new s.du,x=new s.aU;let M=0;const P=s.di(1323123451230);for(let O=0;O<m.length;++O){const z=m[O],F=P(),H=P(),U=P(),G=[O/m.length,F,H,U],Q=[P(),P()];v.emplaceBack(z[0],z[1],z[2],-1,-1,...G,...Q),v.emplaceBack(z[0],z[1],z[2],1,-1,...G,...Q),v.emplaceBack(z[0],z[1],z[2],1,1,...G,...Q),v.emplaceBack(z[0],z[1],z[2],-1,1,...G,...Q),x.emplaceBack(M+0,M+1,M+2),x.emplaceBack(M+0,M+2,M+3),M+=4}this.particlesVx=l.createVertexBuffer(v,Pf.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.snow)return;const l=structuredClone(this._params);let m=[-l.direction.x,l.direction.y,-100];s.ab.vec3.normalize(m,m);const v=structuredClone(this._vignetteParams),x=l.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},M=r.transform.zoom;if(x.revealStart>M)return;const P=ds(0,1,x.revealStart,x.revealStart+x.revealRange,M);v.strength*=P,l.overrideStyleParameters||(l.intensity=r.style.snow.state.density,l.timeFactor=r.style.snow.state.intensity,l.color=structuredClone(r.style.snow.state.color),m=structuredClone(r.style.snow.state.direction),l.screenThinning.intensity=r.style.snow.state.centerThinning,l.billboardSize=2.79*r.style.snow.state.flakeSize,v.strength=1,v.color=structuredClone(r.style.snow.state.vignetteColor));const O=this.updateOnRender(r,l.timeFactor);if(!this.particlesVx||!this.particlesIdx)return;const z=r.context,F=z.gl,H=r.transform,U=r.getOrCreateProgram("snowParticle");r.uploadCommonUniforms(z,U),((G,Q,J)=>{const ie=xd(this._movement.getPosition(),G),ne=H.width/2,ae=H.height/2,fe=ds(0,J.screenThinning.start,0,1,J.screenThinning.intensity),de=ds(.001,J.screenThinning.range,0,1,J.screenThinning.intensity),be=ds(0,J.screenThinning.particleOffset,0,1,J.screenThinning.intensity),ge=(ve={modelview:O.modelviewMatrix,projection:O.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:ie,velocityConeAperture:J.velocityConeAperture,velocity:J.velocity,horizontalOscillationRadius:J.horizontalOscillationRadius,horizontalOscillationRate:J.horizontalOscillationRate,boxSize:G,billboardSize:1*J.billboardSize,simpleShapeParameters:[J.shapeFadeStart,J.shapeFadePower],screenSize:[H.width,H.height],thinningCenterPos:[ne,ae],thinningShape:[fe,de,Math.pow(10,J.screenThinning.fadePower)],thinningAffectedRatio:J.screenThinning.affectedRatio,thinningParticleOffset:be,color:[J.color.r,J.color.g,J.color.b,J.color.a],direction:m},{u_modelview:Float32Array.from(ve.modelview),u_projection:Float32Array.from(ve.projection),u_time:ve.time,u_cam_pos:ve.camPos,u_velocityConeAperture:ve.velocityConeAperture,u_velocity:ve.velocity,u_horizontalOscillationRadius:ve.horizontalOscillationRadius,u_horizontalOscillationRate:ve.horizontalOscillationRate,u_boxSize:ve.boxSize,u_billboardSize:ve.billboardSize,u_simpleShapeParameters:ve.simpleShapeParameters,u_screenSize:ve.screenSize,u_thinningCenterPos:ve.thinningCenterPos,u_thinningShape:ve.thinningShape,u_thinningAffectedRatio:ve.thinningAffectedRatio,u_thinningParticleOffset:ve.thinningParticleOffset,u_particleColor:ve.color,u_direction:ve.direction});var ve;const _e=Math.round(P*J.intensity*this.particlesCount),Ee=s.b7.simpleSegment(0,0,4*_e,2*_e);this.particlesVx&&this.particlesIdx&&U.draw(r,F.TRIANGLES,Wt.disabled,ci.disabled,vi.alphaBlended,ti.disabled,ge,"snow_particles",this.particlesVx,this.particlesIdx,Ee,{})})(l.boxSize,0,l),this._vignette.draw(r,v)}}const xh={symbol:function(f,r,l,m,v){if(f.renderPass!=="translucent")return;const x=ci.disabled,M=f.colorModeForRenderPass(),P=l.layout.get("text-variable-anchor"),O=l.layout.get("text-size-scale-range"),z=s.aw(f.scaleFactor,O[0],O[1]);P&&function(U,G,Q,J,ie,ne,ae,fe){const de=G.transform,be=ie==="map",ge=ne==="map";for(const ve of U){const _e=J.getTile(ve),Ee=_e.getBucket(Q);if(!Ee||!Ee.text||!Ee.text.segments.get().length)continue;const Oe=s.bp(Ee.textSizeData,de.zoom,fe),Ge=th(ve,Ee.getProjection(),de),je=de.calculatePixelsToTileUnitsMatrix(_e),Le=ja(Ge,_e.tileID.canonical,ge,be,de,Ee.getProjection(),je),Ne=Ee.hasIconTextFit()&&Ee.hasIconData();if(Oe){const at=Math.pow(2,de.zoom-_e.tileID.overscaledZ);Fs(Ee,be,ge,ae,s.cX,de,Le,ve,at,Oe,Ne)}}}(m,f,l,r,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),v,z);const F=l.paint.get("icon-opacity").constantOr(1)!==0,H=l.paint.get("text-opacity").constantOr(1)!==0;l.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(F||H)?yn(f,r,l,m,x,M):(F&&yn(f,r,l,m,x,M,{onlyIcons:!0}),H&&yn(f,r,l,m,x,M,{onlyText:!0})),r.map.showCollisionBoxes&&(cd(f,r,l,m,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),cd(f,r,l,m,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(f,r,l,m){if(f.renderPass!=="translucent")return;const v=l.paint.get("circle-opacity"),x=l.paint.get("circle-stroke-width"),M=l.paint.get("circle-stroke-opacity"),P=l.layout.get("circle-sort-key").constantOr(1)!==void 0,O=l.paint.get("circle-emissive-strength");if(v.constantOr(1)===0&&(x.constantOr(1)===0||M.constantOr(1)===0))return;const z=f.context,F=z.gl,H=f.transform,U=f.depthModeForSublayer(0,Wt.ReadOnly),G=ci.disabled,Q=f.colorModeForDrapableLayerRenderPass(O),J=H.projection.name==="globe",ie=[s.at(H.center.lng),s.aA(H.center.lat)],ne=[];for(let fe=0;fe<m.length;fe++){const de=m[fe],be=r.getTile(de),ge=be.getBucket(l);if(!ge||ge.projection.name!==H.projection.name)continue;const ve=ge.programConfigurations.get(l.id),_e=s.cY(l),Ee=f.isTileAffectedByFog(de);J&&_e.push("PROJECTION_GLOBE_VIEW"),_e.push("DEPTH_D24"),f.terrain&&H.depthOcclusionForSymbolsAndCircles&&_e.push("DEPTH_OCCLUSION");const Oe=f.getOrCreateProgram("circle",{config:ve,defines:_e,overrideFog:Ee}),Ge=ge.layoutVertexBuffer,je=ge.globeExtVertexBuffer,Le=ge.indexBuffer,Ne=H.projection.createInversionMatrix(H,de.canonical),at={programConfiguration:ve,program:Oe,layoutVertexBuffer:Ge,globeExtVertexBuffer:je,indexBuffer:Le,uniformValues:s.cZ(f,de,be,Ne,ie,l),tile:be};if(P){const pt=ge.segments.get();for(const bt of pt)ne.push({segments:new s.b7([bt]),sortKey:bt.sortKey,state:at})}else ne.push({segments:ge.segments,sortKey:0,state:at})}P&&ne.sort((fe,de)=>fe.sortKey-de.sortKey);const ae={useDepthForOcclusion:H.depthOcclusionForSymbolsAndCircles};for(const fe of ne){const{programConfiguration:de,program:be,layoutVertexBuffer:ge,globeExtVertexBuffer:ve,indexBuffer:_e,uniformValues:Ee,tile:Oe}=fe.state,Ge=fe.segments;f.terrain&&f.terrain.setupElevationDraw(Oe,be,ae),f.uploadCommonUniforms(z,be,Oe.tileID.toUnwrapped()),be.draw(f,F.TRIANGLES,U,G,Q,ti.disabled,Ee,l.id,ge,_e,Ge,l.paint,H.zoom,de,[ve])}},heatmap:function(f,r,l,m){if(l.paint.get("heatmap-opacity")!==0)if(f.renderPass==="offscreen"){const v=f.context,x=v.gl,M=ci.disabled,P=new vi([x.ONE,x.ONE,x.ONE,x.ONE],s.aj.transparent,[!0,!0,!0,!0]);(function(G,Q,J,ie){const ne=G.gl,ae=Q.width*ie,fe=Q.height*ie;G.activeTexture.set(ne.TEXTURE1),G.viewport.set([0,0,ae,fe]);let de=J.heatmapFbo;if(!de||de&&(de.width!==ae||de.height!==fe)){de&&de.destroy();const be=ne.createTexture();ne.bindTexture(ne.TEXTURE_2D,be),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),de=J.heatmapFbo=G.createFramebuffer(ae,fe,!0,null),function(ge,ve,_e,Ee,Oe,Ge){const je=ge.gl;je.texImage2D(je.TEXTURE_2D,0,ge.extRenderToTextureHalfFloat?je.RGBA16F:je.RGBA,Oe,Ge,0,je.RGBA,ge.extRenderToTextureHalfFloat?je.HALF_FLOAT:je.UNSIGNED_BYTE,null),Ee.colorAttachment.set(_e)}(G,0,be,de,ae,fe)}else ne.bindTexture(ne.TEXTURE_2D,de.colorAttachment.get()),G.bindFramebuffer.set(de.framebuffer)})(v,f,l,f.transform.projection.name==="globe"?.5:.25),v.clear({color:s.aj.transparent});const O=f.transform,z=O.projection.name==="globe",F=z?["PROJECTION_GLOBE_VIEW"]:[],H=z?ti.frontCCW:ti.disabled,U=[s.at(O.center.lng),s.aA(O.center.lat)];for(let G=0;G<m.length;G++){const Q=m[G];if(r.hasRenderableParent(Q))continue;const J=r.getTile(Q),ie=J.getBucket(l);if(!ie||ie.projection.name!==O.projection.name)continue;const ne=f.isTileAffectedByFog(Q),ae=ie.programConfigurations.get(l.id),fe=f.getOrCreateProgram("heatmap",{config:ae,defines:F,overrideFog:ne}),{zoom:de}=f.transform;f.terrain&&f.terrain.setupElevationDraw(J,fe),f.uploadCommonUniforms(v,fe,Q.toUnwrapped());const be=O.projection.createInversionMatrix(O,Q.canonical);fe.draw(f,x.TRIANGLES,Wt.disabled,M,P,H,ic(f,Q,J,be,U,de,l.paint.get("heatmap-intensity")),l.id,ie.layoutVertexBuffer,ie.indexBuffer,ie.segments,l.paint,f.transform.zoom,ae,z?[ie.globeExtVertexBuffer]:null)}v.viewport.set([0,0,f.width,f.height])}else f.renderPass==="translucent"&&(f.context.setColorMode(f.colorModeForRenderPass()),function(v,x){const M=v.context,P=M.gl,O=x.heatmapFbo;if(!O)return;M.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,O.colorAttachment.get()),M.activeTexture.set(P.TEXTURE1);let z=x.colorRampTexture;z||(z=x.colorRampTexture=new s.T(M,x.colorRamp,P.RGBA8)),z.bind(P.LINEAR,P.CLAMP_TO_EDGE),v.getOrCreateProgram("heatmapTexture").draw(v,P.TRIANGLES,Wt.disabled,ci.disabled,v.colorModeForRenderPass(),ti.disabled,((F,H,U,G)=>({u_image:0,u_color_ramp:1,u_opacity:H.paint.get("heatmap-opacity")}))(0,x),x.id,v.viewportBuffer,v.quadTriangleIndexBuffer,v.viewportSegments,x.paint,v.transform.zoom)}(f,l))},line:function(f,r,l,m){if(f.renderPass!=="translucent")return;const v=l.paint.get("line-opacity"),x=l.paint.get("line-width");if(v.constantOr(1)===0||x.constantOr(1)===0)return;const M=l.paint.get("line-emissive-strength"),P=l.paint.get("line-occlusion-opacity"),O=l.layout.get("line-elevation-reference"),z=l.layout.get("line-width-unit")==="meters",F=O==="sea",H=f.context,U=H.gl,G=!l.isDraped();if(G&&f.transform.projection.name==="globe")return;const Q=l.layout.get("line-cross-slope"),J=Q!==void 0,ie=Q<1,ne=G?new Wt(f.depthOcclusion?U.GREATER:U.LEQUAL,Wt.ReadOnly,f.depthRangeFor3D):f.depthModeForSublayer(0,Wt.ReadOnly),ae=f.colorModeForDrapableLayerRenderPass(M),fe=f.terrain&&f.terrain.renderingToTexture,de=fe?1:s.q.devicePixelRatio,be=l.paint.get("line-dasharray"),ge=be.constantOr(1),ve=l.layout.get("line-cap"),_e=be.constantOr(null),Ee=ve.constantOr(null),Oe=l.paint.get("line-pattern"),Ge=Oe.constantOr(1),je=Oe.constantOr(null),Le=l.paint.get("line-opacity").constantOr(1);let Ne=!Ge&&Le!==1||f.depthOcclusion&&P>0&&P<1;const at=l.paint.get("line-gradient"),pt=Ge?"linePattern":"line",bt=s.c_(l);let Ue;if(fe&&f.terrain&&f.terrain.clipOrMaskOverlapStencilType()&&(Ne=!1),P!==0&&f.depthOcclusion){const Xe=l.paint._values["line-opacity"];Xe&&Xe.value&&Xe.value.kind==="constant"?Ue=Xe.value:s.w(`Occlusion opacity for layer ${l.id} is supported only when line-opacity isn't data-driven.`)}if(G&&(f.forceTerrainMode=!0),!G&&P!==0&&f.terrain&&!fe)return void s.w(`Occlusion opacity for layer ${l.id} is supported on terrain only if the layer has line-z-offset enabled.`);const lt=Ne&&G?f.stencilModeFor3D():ci.disabled;G&&(bt.push("ELEVATED"),J&&bt.push(ie?"CROSS_SLOPE_HORIZONTAL":"CROSS_SLOPE_VERTICAL"),F&&bt.push("ELEVATION_REFERENCE_SEA")),x.value.kind!=="constant"&&x.value.isLineProgressConstant===!1&&bt.push("VARIABLE_LINE_WIDTH");for(const Xe of m){const yt=r.getTile(Xe);if(Ge&&!yt.patternsLoaded())continue;const ht=yt.getBucket(l);if(!ht)continue;f.prepareDrawTile();const nt=ht.programConfigurations.get(l.id),kt=f.isTileAffectedByFog(Xe),wt=f.getOrCreateProgram(pt,{config:nt,defines:bt,overrideFog:kt,overrideRtt:!G&&void 0});if(je&&yt.imageAtlas){const gi=s.A.from(je),hn=yt.imageAtlas.patternPositions[gi.getSerializedPrimary()];hn&&nt.setConstantPatternPositions(hn)}if(!Ge&&_e&&Ee&&yt.lineAtlas){const gi=yt.lineAtlas.getDash(_e,Ee);gi&&nt.setConstantPatternPositions(gi)}let[Ot,Vt]=l.paint.get("line-trim-offset");(Ee==="round"||Ee==="square")&&Ot!==Vt&&(Ot===0&&(Ot-=1),Vt===1&&(Vt+=1));const ni=fe?Xe.projMatrix:null,$t=z?1/ht.tileToMeter/s.ar(yt,1,f.transform.zoom):1,Zt=z?1/ht.tileToMeter/s.ar(yt,1,Math.floor(f.transform.zoom)):1,ri=Ge?s.c$(f,yt,l,ni,de,$t,Zt,[Ot,Vt]):s.d0(f,yt,l,ni,ht.lineClipsArray.length,de,$t,Zt,[Ot,Vt]);if(at){const gi=ht.gradients[l.id];let hn=gi.texture;if(l.gradientVersion!==gi.version){let vn=256;if(l.stepInterpolant){const Gi=r.getSource().maxzoom,en=Xe.canonical.z===Gi?Math.ceil(1<<f.transform.maxZoom-Xe.canonical.z):1;vn=s.aw(s.d1(ht.maxLineLength/s.ag*1024*en),256,H.maxTextureSize)}gi.gradient=s.d2({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:vn,image:gi.gradient||void 0,clips:ht.lineClipsArray}),gi.texture?gi.texture.update(gi.gradient):gi.texture=new s.T(H,gi.gradient,U.RGBA8),gi.version=l.gradientVersion,hn=gi.texture}H.activeTexture.set(U.TEXTURE1),hn.bind(l.stepInterpolant?U.NEAREST:U.LINEAR,U.CLAMP_TO_EDGE)}ge&&(H.activeTexture.set(U.TEXTURE0),yt.lineAtlasTexture&&yt.lineAtlasTexture.bind(U.LINEAR,U.REPEAT),nt.updatePaintBuffers()),Ge&&(H.activeTexture.set(U.TEXTURE0),yt.imageAtlasTexture&&yt.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),nt.updatePaintBuffers()),G&&!F&&f.terrain.setupElevationDraw(yt,wt),f.uploadCommonUniforms(H,wt,Xe.toUnwrapped());const Ei=gi=>{Ue!=null&&(Ue.value=Le*P),wt.draw(f,U.TRIANGLES,ne,gi,ae,ti.disabled,ri,l.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,l.paint,f.transform.zoom,nt,[ht.layoutVertexBuffer2,ht.patternVertexBuffer,ht.zOffsetVertexBuffer]),Ue!=null&&(Ue.value=Le)};if(Ne&&!G){const gi=f.stencilModeForClipping(Xe).ref;gi===0&&fe&&H.clear({stencil:0});const hn={func:U.EQUAL,mask:255};ri.u_alpha_discard_threshold=.8,Ei(new ci(hn,gi,255,U.KEEP,U.KEEP,U.INVERT)),ri.u_alpha_discard_threshold=0,Ei(new ci(hn,gi,255,U.KEEP,U.KEEP,U.KEEP))}else Ne&&G&&(ri.u_alpha_discard_threshold=.001),Ei(G?lt:f.stencilModeForClipping(Xe))}G&&(f.forceTerrainMode=!1),Ne&&(f.resetStencilClippingMasks(),fe&&H.clear({stencil:0})),P===0||f.depthOcclusion||fe||f.layersWithOcclusionOpacity.push(f.currentLayer)},fill:function(f,r,l,m){const v=l.paint.get("fill-color"),x=l.paint.get("fill-opacity"),M=l.is3D(),P=new Wt(f.context.gl.LEQUAL,Wt.ReadWrite,f.depthRangeFor3D);if(x.constantOr(1)===0)return;const O=l.paint.get("fill-emissive-strength"),z=f.colorModeForDrapableLayerRenderPass(O),F=l.paint.get("fill-pattern"),H=f.opaquePassEnabledForLayer()&&!F.constantOr(1)&&v.constantOr(s.aj.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(f.renderPass===H){const U=M?P:f.depthModeForSublayer(1,f.renderPass==="opaque"?Wt.ReadWrite:Wt.ReadOnly);ud(f,r,l,m,U,z,!1)}if(!M&&f.renderPass==="translucent"&&l.paint.get("fill-antialias")){const U=M?P:f.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,Wt.ReadOnly);ud(f,r,l,m,U,z,!0)}},"fill-extrusion":function(f,r,l,m){const v=l.paint.get("fill-extrusion-opacity"),x=f.context,M=x.gl,P=f.terrain,O=P&&P.renderingToTexture;if(v===0)return;const z=f.conflationActive&&f.style.isLayerClipped(l,r.getSource()),F=f.style.order.indexOf(l.fqid);if(z&&function(H,U,G,Q,J){for(const ie of Q){const ne=U.getTile(ie).getBucket(G);ne&&(ne.updateReplacement(ie,H.replacementSource,J),ne.uploadCentroid(H.context))}}(f,r,l,m,F),P||z)for(const H of m){const U=r.getTile(H).getBucket(l);U&&f0(f.context,r,H,U,l,P,z)}if(f.renderPass==="shadow"&&f.shadowRenderer){const H=f.shadowRenderer;if(P&&v<.65&&l._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof s.a9)return;const U=H.getShadowPassDepthMode(),G=H.getShadowPassColorMode();mh(f,r,l,m,U,ci.disabled,G,z)}else if(f.renderPass==="translucent"){const H=!l.paint.get("fill-extrusion-pattern").constantOr(1),U=l.paint.get("fill-extrusion-color").constantOr(s.aj.white);if(!O&&U.a!==0){const G=new Wt(f.context.gl.LEQUAL,Wt.ReadWrite,f.depthRangeFor3D);v===1&&H?mh(f,r,l,m,G,ci.disabled,vi.unblended,z):(mh(f,r,l,m,G,ci.disabled,vi.disabled,z),mh(f,r,l,m,G,f.stencilModeFor3D(),f.colorModeForRenderPass(),z),f.resetStencilClippingMasks())}if(f.style.enable3dLights()&&H&&(!P&&f.transform.projection.name!=="globe"||O)){const G=l.paint.get("fill-extrusion-opacity"),Q=l.paint.get("fill-extrusion-ambient-occlusion-intensity"),J=l.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),ie=l.paint.get("fill-extrusion-flood-light-intensity"),ne=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",ae=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(ne?null:l.lut).toArray01().slice(0,3),fe=Q>0&&J>0,de=ie>0,be=(ve,_e,Ee)=>(1-Ee)*ve+Ee*_e,ge=ve=>{const _e=f.depthModeForSublayer(1,Wt.ReadOnly,M.LEQUAL,!0),Ee=l.paint.get(ve?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Oe=be(.1,3,Ee),Ge=f._showOverdrawInspector;if(!Ge){const je=new ci({func:M.ALWAYS,mask:255},255,255,M.KEEP,M.KEEP,M.REPLACE),Le=new vi([M.ONE,M.ONE,M.ONE,M.ONE],s.aj.transparent,[!1,!1,!1,!0],M.MIN);ll(f,r,l,m,_e,je,Le,ti.disabled,ve,"sdf",G,Q,J,ie,ae,Oe,z,!1)}{const je=Ge?ci.disabled:new ci({func:M.EQUAL,mask:255},255,255,M.KEEP,M.DECR,M.DECR),Le=Ge?f.colorModeForRenderPass():new vi([M.ONE_MINUS_DST_ALPHA,M.DST_ALPHA,M.ONE,M.ONE],s.aj.transparent,[!0,!0,!0,!0]);ll(f,r,l,m,_e,je,Le,ti.disabled,ve,"color",G,Q,J,ie,ae,Oe,z,!1)}};if(O){const ve=(_e,Ee,Oe)=>{const Ge=f.depthModeForSublayer(1,Wt.ReadOnly,M.LEQUAL,!1),je=l.paint.get(_e?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Le=be(.1,3,je);{const Ne=new vi([M.ONE,M.ONE,M.ONE,M.ONE],s.aj.transparent,[!1,!1,!1,!0]);ll(f,r,l,m,Ge,ci.disabled,Ne,ti.disabled,_e,"clear",G,Q,J,ie,ae,Le,z,Ee)}{const Ne=new ci({func:M.ALWAYS,mask:255},255,255,M.KEEP,M.KEEP,M.REPLACE),at=new vi([M.ONE,M.ONE,M.ONE,M.ONE],s.aj.transparent,[!1,!1,!1,!0],M.MIN);ll(f,r,l,m,Ge,Ne,at,ti.disabled,_e,"sdf",G,Q,J,ie,ae,Le,z,Ee)}{const Ne=_e?M.ZERO:M.ONE_MINUS_DST_ALPHA,at=new ci({func:M.EQUAL,mask:255},255,255,M.KEEP,M.DECR,M.DECR),pt=new vi([Ne,M.DST_ALPHA,M.ONE_MINUS_DST_ALPHA,M.ZERO],s.aj.transparent,[!0,!0,!0,!0]);ll(f,r,l,m,Ge,at,pt,ti.disabled,_e,"color",G,Q,J,ie,ae,Le,z,Ee)}{const Ne=new vi([M.ONE,M.ONE,M.ONE,_e?M.ZERO:M.ONE],s.aj.transparent,[!1,!1,!1,!0],_e?M.FUNC_ADD:M.MAX);ll(f,r,l,m,Ge,ci.disabled,Ne,ti.disabled,_e,"clear",G,Q,J,ie,ae,Le,z,Ee,Oe)}};if(fe||de){let _e;if(f.prepareDrawTile(),P){const Ee=P.drapeBufferSize[0],Oe=P.drapeBufferSize[1];_e=P.framebufferCopyTexture,_e&&(!_e||_e.size[0]===Ee&&_e.size[1]===Oe)||(_e&&_e.destroy(),_e=P.framebufferCopyTexture=new s.T(x,new s.r({width:Ee,height:Oe}),M.RGBA8)),_e.bind(M.LINEAR,M.CLAMP_TO_EDGE),M.copyTexSubImage2D(M.TEXTURE_2D,0,0,0,0,0,Ee,Oe)}fe&&ve(!0,!1,_e),de&&ve(!1,!0,_e)}}else fe&&ge(!0),de&&ge(!1),(fe||de)&&f.resetStencilClippingMasks()}}},hillshade:function(f,r,l,m){if(f.renderPass!=="offscreen"&&f.renderPass!=="translucent"||f.style.disableElevatedTerrain)return;const v=f.context,x=f.terrain&&f.terrain.renderingToTexture,[M,P]=f.renderPass!=="translucent"||x?[{},m]:f.stencilConfigForOverlap(m);for(const O of P){const z=r.getTile(O);if(z.needsHillshadePrepare&&f.renderPass==="offscreen")Km(f,z,l);else if(f.renderPass==="translucent"){const F=f.depthModeForSublayer(0,Wt.ReadOnly),H=l.paint.get("hillshade-emissive-strength"),U=f.colorModeForDrapableLayerRenderPass(H),G=x&&f.terrain?f.terrain.stencilModeForRTTOverlap(O):M[O.overscaledZ];Xm(f,O,z,l,F,G,U)}}v.viewport.set([0,0,f.width,f.height]),f.resetStencilClippingMasks()},raster:function(f,r,l,m,v,x){if(f.renderPass!=="translucent"||l.paint.get("raster-opacity")===0)return;const M=f.transform.projection.name==="globe",P=l.paint.get("raster-elevation")!==0,O=P&&M;if(f.renderElevatedRasterBackface&&!O)return;const z=f.context,F=z.gl,H=r.getSource(),U=function(ge,ve,_e,Ee){const Oe=ve.paint.get("raster-color"),Ge=ge.type==="raster-array",je=[],Le=ve.paint.get("raster-resampling"),Ne=ve.paint.get("raster-color-mix");let at=ve.paint.get("raster-color-range");const pt=[Ne[0],Ne[1],Ne[2],0],bt=Ne[3];let Ue=Le==="nearest"?Ee.NEAREST:Ee.LINEAR;if(Ge&&(je.push("RASTER_ARRAY"),Oe||je.push("RASTER_COLOR"),Le==="linear"&&je.push("RASTER_ARRAY_LINEAR"),Ue=Ee.NEAREST,!at&&ge.rasterLayers)){const lt=ge.rasterLayers.find(({id:Xe})=>Xe===ve.sourceLayer);lt&&lt.fields&&lt.fields.range&&(at=lt.fields.range)}if(at=at||[0,1],Oe){je.push("RASTER_COLOR"),_e.activeTexture.set(Ee.TEXTURE2),ve.updateColorRamp(at);let lt=ve.colorRampTexture;lt||(lt=ve.colorRampTexture=new s.T(_e,ve.colorRamp,Ee.RGBA8)),lt.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE)}return{mix:pt,range:at,offset:bt,defines:je,resampling:Ue}}(H,l,z,F);if(H instanceof s.aJ&&!m.length&&!M)return;const G=l.paint.get("raster-emissive-strength"),Q=f.colorModeForDrapableLayerRenderPass(G),J=f.terrain&&f.terrain.renderingToTexture,ie=!f.options.moving,ne=l.paint.get("raster-resampling")==="nearest"?F.NEAREST:F.LINEAR;if(H instanceof s.aJ&&!m.length&&(H.onNorthPole||H.onSouthPole)){const ge=P?f.stencilModeFor3D():ci.disabled;return void xo(!!H.onNorthPole,null,f,r,l,G,U,ti.disabled,ge)}if(!m.length)return;const[ae,fe]=H instanceof s.aJ||J?[{},m]:f.stencilConfigForOverlap(m),de=fe[fe.length-1].overscaledZ;O&&U.defines.push("PROJECTION_GLOBE_VIEW"),P&&U.defines.push("RENDER_CUTOFF");const be=(ge,ve,_e)=>{for(const Ee of ge){const Oe=Ee.toUnwrapped(),Ge=r.getTile(Ee);if(J&&(!Ge||!Ge.hasData()))continue;z.activeTexture.set(F.TEXTURE0);const je=qe(Ge,H,l,U);if(!je||!je.texture)continue;const{texture:Le,mix:Ne,offset:at,tileSize:pt,buffer:bt}=je;let Ue,lt;J?(Ue=Wt.disabled,lt=Ee.projMatrix):P?(Ue=new Wt(F.LEQUAL,Wt.ReadWrite,f.depthRangeFor3D),lt=M?Float32Array.from(f.transform.expandedFarZProjMatrix):f.transform.calculateProjMatrix(Oe,ie)):(Ue=f.depthModeForSublayer(Ee.overscaledZ-de,l.paint.get("raster-opacity")===1?Wt.ReadWrite:Wt.ReadOnly,F.LESS),lt=f.transform.calculateProjMatrix(Oe,ie));const Xe=f.terrain&&J?f.terrain.stencilModeForRTTOverlap(Ee):ae[Ee.overscaledZ],yt=x?0:l.paint.get("raster-fade-duration");Ge.registerFadeDuration(yt);const ht=r.findLoadedParent(Ee,0),nt=td(Ge,ht,r,f.transform,yt);let kt,wt;f.terrain&&f.terrain.prepareDrawTile(),z.activeTexture.set(F.TEXTURE0),Le.bind(ne,F.CLAMP_TO_EDGE),z.activeTexture.set(F.TEXTURE1),ht?(ht.texture&&ht.texture.bind(ne,F.CLAMP_TO_EDGE),kt=Math.pow(2,ht.tileID.overscaledZ-Ge.tileID.overscaledZ),wt=[Ge.tileID.canonical.x*kt%1,Ge.tileID.canonical.y*kt%1]):Le.bind(ne,F.CLAMP_TO_EDGE),Le.useMipmap&&z.extTextureFilterAnisotropic&&f.transform.pitch>20&&F.texParameterf(F.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax);const Ot=f.transform;let Vt;const ni=P?On(Ot):[0,0,0,0];let $t,Zt,ri,Ei,gi,hn=0;if(O&&H instanceof s.aJ&&H.coordinates.length>3)$t=Float32Array.from(s.bb(s.cH(new s.bT(0,0,0)))),Zt=Float32Array.from(Ot.globeMatrix),ri=Float32Array.from(s.cD(Ot)),Ei=[s.at(Ot.center.lng),s.aA(Ot.center.lat)],Vt=H.elevatedGlobePerspectiveTransform,gi=H.elevatedGlobeGridMatrix||new Float32Array(9);else if(O){const pi=s.cE(Ee.canonical);hn=s.cF(pi.getCenter().lat),$t=Float32Array.from(s.bb(s.cH(Ee.canonical))),Zt=Float32Array.from(Ot.globeMatrix),ri=Float32Array.from(s.cD(Ot)),Ei=[s.at(Ot.center.lng),s.aA(Ot.center.lat)],Vt=[0,0],gi=Float32Array.from(s.cG(Ee.canonical,pi,hn,Ot.worldSize/Ot._pixelsPerMercatorPixel))}else Vt=H instanceof s.aJ?H.perspectiveTransform:[0,0],$t=new Float32Array(16),Zt=new Float32Array(9),ri=new Float32Array(16),Ei=[0,0],gi=new Float32Array(9);const vn=ff(lt,$t,Zt,ri,gi,wt||[0,0],s.ae(f.transform.zoom),Ei,ni,kt||1,nt,l,Vt,P?l.paint.get("raster-elevation"):0,2,Ne,at,U.range,pt,bt,G),Gi=f.isTileAffectedByFog(Ee),en=f.getOrCreateProgram("raster",{defines:U.defines,overrideFog:Gi});if(f.uploadCommonUniforms(z,en,Oe),H instanceof s.aJ){const pi=H.elevatedGlobeVertexBuffer,Yt=H.elevatedGlobeIndexBuffer;if(J||!M)H.boundsBuffer&&H.boundsSegments&&en.draw(f,F.TRIANGLES,Ue,ci.disabled,Q,ti.disabled,vn,l.id,H.boundsBuffer,f.quadTriangleIndexBuffer,H.boundsSegments);else if(pi&&Yt){const Bi=Ot.zoom<=s.c6?H.elevatedGlobeSegments:H.getSegmentsForLongitude(Ot.center.lng);Bi&&en.draw(f,F.TRIANGLES,Ue,ci.disabled,Q,ve,vn,l.id,pi,Yt,Bi)}}else if(O){Ue=new Wt(F.LEQUAL,Wt.ReadOnly,f.depthRangeFor3D);const pi=f.globeSharedBuffers;if(pi){const[Yt,Bi,Wi]=pi.getGridBuffers(hn,!1);en.draw(f,F.TRIANGLES,Ue,_e||Xe,f.colorModeForRenderPass(),ve,vn,l.id,Yt,Bi,Wi)}}else{const{tileBoundsBuffer:pi,tileBoundsIndexBuffer:Yt,tileBoundsSegments:Bi}=f.getTileBoundsBuffers(Ge);en.draw(f,F.TRIANGLES,Ue,Xe,Q,ti.disabled,vn,l.id,pi,Yt,Bi)}}if(!(H instanceof s.aJ)&&O)for(const Ee of ge){const Oe=Ee.canonical.y===(1<<Ee.canonical.z)-1;Ee.canonical.y===0&&xo(!0,Ee,f,r,l,G,U,ve,_e||ci.disabled),Oe&&xo(!1,Ee,f,r,l,G,U,ve===ti.frontCW?ti.backCW:ti.frontCW,_e||ci.disabled)}};O?be(fe,f.renderElevatedRasterBackface?ti.backCW:ti.frontCW,f.stencilModeFor3D()):be(fe,ti.disabled,void 0),f.resetStencilClippingMasks()},"raster-particle":function(f,r,l,m,v,x){f.renderPass==="offscreen"&&function(M,P,O,z){if(!z.length)return;const F=M.context,H=F.gl,U=P.getSource();if(!(U instanceof Ha))return;const G=Math.ceil(Math.sqrt(O.paint.get("raster-particle-count")));let Q=O.particlePositionRGBAImage;if(!Q||Q.width!==G){const fe=function(de){const be=de*de,ge=new Uint8Array(4*be),ve=function(Ee){return Ee|=0,Ee=Math.imul(2747636419^Ee,2654435769),Ee=Math.imul(Ee^Ee>>>16,2654435769),((Ee=Math.imul(Ee^Ee>>>16,2654435769))>>>0)/4294967296},_e=1/1.1;for(let Ee=0;Ee<be;Ee++){const Oe=_e*(ve(2*Ee+0)+zs),Ge=_e*(ve(2*Ee+1)+zs),je=255*Oe%1,Le=255*Ge%1,Ne=je,at=Ge-Le/255,pt=Le;ge[4*Ee+0]=255*(Oe-je/255),ge[4*Ee+1]=255*Ne,ge[4*Ee+2]=255*at,ge[4*Ee+3]=255*pt}return ge}(G);Q=O.particlePositionRGBAImage=new s.r({width:G,height:G},fe)}let J=O.particleFramebuffer;J?J.width!==G&&(J.destroy(),J=O.particleFramebuffer=F.createFramebuffer(G,G,!0,null)):J=O.particleFramebuffer=F.createFramebuffer(G,G,!0,null);const ie=[];for(const fe of z){const de=P.getTile(fe);if(!(de instanceof Cu))continue;const be=bf(de,U,O);if(!be)continue;const ge=[de.tileSize,de.tileSize];let ve=O.tileFramebuffer;ve||(ve=O.tileFramebuffer=F.createFramebuffer(ge[0],ge[1],!0,null));let _e=de.rasterParticleState;_e||(_e=de.rasterParticleState=new dd(F,fe,ge,Q));const Ee=_e.update(O.lastInvalidatedAt);_e.particleTextureDimension!==G&&_e.updateParticleTexture(fe,Q);const Oe=_e.targetColorTexture;_e.targetColorTexture=_e.backgroundColorTexture,_e.backgroundColorTexture=Oe;const Ge=_e.particleTexture0;_e.particleTexture0=_e.particleTexture1,_e.particleTexture1=Ge,ie.push([fe,be,_e,Ee])}if(ie.length===0)return;const ne=s.q.now(),ae=O.previousDrawTimestamp?.001*(ne-O.previousDrawTimestamp):.0167;if(O.previousDrawTimestamp=ne,O.hasColorMap()){F.activeTexture.set(H.TEXTURE0+2);let fe=O.colorRampTexture;fe||(fe=O.colorRampTexture=new s.T(F,O.colorRamp,H.RGBA8)),fe.bind(H.LINEAR,H.CLAMP_TO_EDGE)}F.bindFramebuffer.set(O.tileFramebuffer.framebuffer),function(fe,de,be){const ge=fe.context,ve=ge.gl,_e=de.tileFramebuffer;ge.activeTexture.set(ve.TEXTURE0);const Ee={u_texture:0,u_opacity:1.05*(Ge=de.paint.get("raster-particle-fade-opacity-factor"))/(Ge+.05)},Oe=fe.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var Ge;for(const je of be){const[,,Le,Ne]=je;_e.colorAttachment.set(Le.targetColorTexture.texture),ge.viewport.set([0,0,_e.width,_e.height]),ge.clear({color:s.aj.transparent}),Ne&&(Le.backgroundColorTexture.bind(ve.NEAREST,ve.CLAMP_TO_EDGE),Oe.draw(fe,ve.TRIANGLES,Wt.disabled,ci.disabled,vi.alphaBlended,ti.disabled,Ee,de.id,fe.viewportBuffer,fe.quadTriangleIndexBuffer,fe.viewportSegments))}}(M,O,ie),function(fe,de,be,ge){const ve=fe.context,_e=ve.gl,Ee=be.tileFramebuffer,Oe=fe.transform.projection.name==="globe",Ge=be.paint.get("raster-particle-max-speed");for(const je of ge){const[Le,Ne,at]=je;ve.activeTexture.set(_e.TEXTURE0+0),Ne.texture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE),Ee.colorAttachment.set(at.targetColorTexture.texture);const pt=fe.getOrCreateProgram("rasterParticleDraw",{defines:Ne.defines,overrideFog:!1});ve.activeTexture.set(_e.TEXTURE0+1);const bt=Ne.scalarData?[]:[0,1,2,3].map(Xe=>s.d4[Xe](Le));bt.push(Le);const Ue=Le.canonical.x,lt=Le.canonical.y;for(const Xe of bt){const yt=de.getTile(Oe?Xe.wrapped():Xe);if(!yt)continue;const ht=yt.rasterParticleState;if(!ht)continue;const nt=Xe.canonical.x+(1<<Xe.canonical.z)*(Xe.wrap-Le.wrap),kt=Xe.canonical.y;ht.particleTexture0.bind(_e.NEAREST,_e.CLAMP_TO_EDGE);const wt=qt(1,ht.particleTexture0.size[0],[nt-Ue,kt-lt],0,Ne.texture.size,2,Ge,Ne.textureOffset,Ne.scale,Ne.offset);pt.draw(fe,_e.POINTS,Wt.disabled,ci.disabled,vi.alphaBlended,ti.disabled,wt,be.id,ht.particleIndexBuffer,void 0,ht.particleSegment)}}}(M,P,O,ie),F.bindFramebuffer.set(O.particleFramebuffer.framebuffer),function(fe,de,be,ge){const ve=fe.context,_e=ve.gl,Ee=de.paint.get("raster-particle-max-speed"),Oe=ge*de.paint.get("raster-particle-speed-factor")*.15,Ge=function(Le){return Math.pow(Le,6)}(.01+1*de.paint.get("raster-particle-reset-rate-factor")),je=de.particleFramebuffer;ve.viewport.set([0,0,je.width,je.height]);for(const Le of be){const[,Ne,at]=Le;ve.activeTexture.set(_e.TEXTURE0+0),Ne.texture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE),ve.activeTexture.set(_e.TEXTURE0+1);const pt=at.particleTexture0;pt.bind(_e.NEAREST,_e.CLAMP_TO_EDGE);const bt=mf(1,pt.size[0],0,Ne.texture.size,Ee,Oe,Ge,Ne.textureOffset,Ne.scale,Ne.offset);je.colorAttachment.set(at.particleTexture1.texture),ve.clear({color:s.aj.transparent}),fe.getOrCreateProgram("rasterParticleUpdate",{defines:Ne.defines}).draw(fe,_e.TRIANGLES,Wt.disabled,ci.disabled,vi.unblended,ti.disabled,bt,de.id,fe.viewportBuffer,fe.quadTriangleIndexBuffer,fe.viewportSegments)}}(M,O,ie,ae)}(f,r,l,m),f.renderPass==="translucent"&&(function(M,P,O,z,F){const H=M.context,U=H.gl,G=P.getSource().tileSize,Q=5*(1-s.ac(s.bY,s.bY+1,M.transform.zoom))*G+O.paint.get("raster-particle-elevation"),J=!M.options.moving,ie=M.transform.projection.name==="globe";if(!z.length)return;const[ne,ae]=M.stencilConfigForOverlap(z),fe=[];ie&&fe.push("PROJECTION_GLOBE_VIEW");const de=M.stencilModeFor3D();for(const be of ae){const ge=be.toUnwrapped(),ve=P.getTile(be);if(!ve.rasterParticleState)continue;const _e=ve.rasterParticleState,Ee=100;ve.registerFadeDuration(Ee);const Oe=P.findLoadedParent(be,0),Ge=td(ve,Oe,P,M.transform,Ee);let je,Le;M.terrain&&M.terrain.prepareDrawTile(),H.activeTexture.set(U.TEXTURE0),_e.targetColorTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),H.activeTexture.set(U.TEXTURE1),Oe&&Oe.rasterParticleState?(Oe.rasterParticleState.targetColorTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),je=Math.pow(2,Oe.tileID.overscaledZ-ve.tileID.overscaledZ),Le=[ve.tileID.canonical.x*je%1,ve.tileID.canonical.y*je%1]):_e.targetColorTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const Ne=ie?Float32Array.from(M.transform.expandedFarZProjMatrix):M.transform.calculateProjMatrix(ge,J),at=M.transform,pt=g0(at),bt=s.cE(be.canonical),Ue=s.cF(bt.getCenter().lat);let lt,Xe,yt,ht,nt;ie?(lt=Float32Array.from(s.bb(s.cH(be.canonical))),Xe=Float32Array.from(at.globeMatrix),yt=Float32Array.from(s.cD(at)),ht=[s.at(at.center.lng),s.aA(at.center.lat)],nt=Float32Array.from(s.cG(be.canonical,bt,Ue,at.worldSize/at._pixelsPerMercatorPixel))):(lt=new Float32Array(16),Xe=new Float32Array(9),yt=new Float32Array(16),ht=[0,0],nt=new Float32Array(9));const kt=ol(Ne,lt,Xe,yt,nt,Le||[0,0],s.ae(M.transform.zoom),ht,pt,je||1,Ge,Q),wt=M.isTileAffectedByFog(be),Ot=M.getOrCreateProgram("rasterParticle",{defines:fe,overrideFog:wt});if(M.uploadCommonUniforms(H,Ot,ge),ie){const Vt=new Wt(U.LEQUAL,Wt.ReadOnly,M.depthRangeFor3D),ni=0,$t=M.globeSharedBuffers;if($t){const[Zt,ri,Ei]=$t.getGridBuffers(Ue,ni!==0);Ot.draw(M,U.TRIANGLES,Vt,de,vi.alphaBlended,M.renderElevatedRasterBackface?ti.frontCCW:ti.backCCW,kt,O.id,Zt,ri,Ei)}}else{const Vt=M.depthModeForSublayer(0,Wt.ReadOnly),ni=ne[be.overscaledZ],{tileBoundsBuffer:$t,tileBoundsIndexBuffer:Zt,tileBoundsSegments:ri}=M.getTileBoundsBuffers(ve);Ot.draw(M,U.TRIANGLES,Vt,ni,vi.alphaBlended,ti.disabled,kt,O.id,$t,Zt,ri)}}M.resetStencilClippingMasks()}(f,r,l,m),f.style.map.triggerRepaint())},background:function(f,r,l,m){const v=l.paint.get("background-color"),x=l.paint.get("background-color-use-theme").constantOr("default")==="none",M=l.paint.get("background-opacity"),P=l.paint.get("background-emissive-strength"),O=l.paint.get("background-pitch-alignment")==="viewport";if(M===0)return;const z=f.context,F=z.gl,H=f.transform,U=H.tileSize,G=l.paint.get("background-pattern");let Q;if(G!==void 0&&(G===null||(Q=f.imageManager.getPattern(G.toString(),l.scope,f.style.getLut(l.scope)),!Q)))return;const J=!G&&v.a===1&&M===1&&f.opaquePassEnabledForLayer()?"opaque":"translucent";if(f.renderPass!==J)return;const ie=ci.disabled,ne=f.depthModeForSublayer(0,J==="opaque"?Wt.ReadWrite:Wt.ReadOnly),ae=f.colorModeForDrapableLayerRenderPass(P),fe=G?"backgroundPattern":"background";let de,be=m;if(be||(de=f.getBackgroundTiles(),be=Object.values(de).map(ge=>ge.tileID)),G&&(z.activeTexture.set(F.TEXTURE0),f.imageManager.bind(f.context,l.scope)),O){const ge=f.getOrCreateProgram(fe,{overrideFog:!1,overrideRtt:!0}),ve=new Float32Array(s.ab.mat4.identity([])),_e=new s.aG(0,0,0,0,0),Ee=G?gf(ve,P,M,f,0,l.scope,Q,O,{tileID:_e,tileSize:U}):od(ve,P,M,v.toRenderColor(x?null:l.lut));ge.draw(f,F.TRIANGLES,ne,ie,ae,ti.disabled,Ee,l.id,f.viewportBuffer,f.quadTriangleIndexBuffer,f.viewportSegments)}else for(const ge of be){const ve=f.isTileAffectedByFog(ge),_e=f.getOrCreateProgram(fe,{overrideFog:ve}),Ee=ge.toUnwrapped(),Oe=m?ge.projMatrix:f.transform.calculateProjMatrix(Ee);f.prepareDrawTile();const Ge=r?r.getTile(ge):de?de[ge.key]:new go(ge,U,H.zoom,f),je=G?gf(Oe,P,M,f,0,l.scope,Q,O,{tileID:ge,tileSize:U}):od(Oe,P,M,v.toRenderColor(x?null:l.lut));f.uploadCommonUniforms(z,_e,Ee);const{tileBoundsBuffer:Le,tileBoundsIndexBuffer:Ne,tileBoundsSegments:at}=f.getTileBoundsBuffers(Ge);_e.draw(f,F.TRIANGLES,ne,ie,ae,ti.disabled,je,l.id,Le,Ne,at)}},sky:function(f,r,l){const m=f._atmosphere?s.ae(f.transform.zoom):1,v=l.paint.get("sky-opacity")*m;if(v===0)return;const x=f.context,M=l.paint.get("sky-type"),P=new Wt(x.gl.LEQUAL,Wt.ReadOnly,[0,1]),O=f.frameCounter/1e3%1;M==="atmosphere"?f.renderPass==="offscreen"?l.needsSkyboxCapture(f)&&(function(z,F,H,U){const G=z.context,Q=G.gl;let J=F.skyboxFbo;if(!J){J=F.skyboxFbo=G.createFramebuffer(32,32,!0,null),F.skyboxGeometry=new ra(G),F.skyboxTexture=G.gl.createTexture(),Q.bindTexture(Q.TEXTURE_CUBE_MAP,F.skyboxTexture),Q.texParameteri(Q.TEXTURE_CUBE_MAP,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_CUBE_MAP,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_CUBE_MAP,Q.TEXTURE_MIN_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_CUBE_MAP,Q.TEXTURE_MAG_FILTER,Q.LINEAR);for(let fe=0;fe<6;++fe)Q.texImage2D(Q.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,Q.RGBA,32,32,0,Q.RGBA,Q.UNSIGNED_BYTE,null)}G.bindFramebuffer.set(J.framebuffer),G.viewport.set([0,0,32,32]);const ie=F.getCenter(z,!0),ne=z.getOrCreateProgram("skyboxCapture"),ae=new Float64Array(16);s.ab.mat4.identity(ae),s.ab.mat4.rotateY(ae,ae,.5*-Math.PI),hl(z,F,ne,ae,ie,0),s.ab.mat4.identity(ae),s.ab.mat4.rotateY(ae,ae,.5*Math.PI),hl(z,F,ne,ae,ie,1),s.ab.mat4.identity(ae),s.ab.mat4.rotateX(ae,ae,.5*-Math.PI),hl(z,F,ne,ae,ie,2),s.ab.mat4.identity(ae),s.ab.mat4.rotateX(ae,ae,.5*Math.PI),hl(z,F,ne,ae,ie,3),s.ab.mat4.identity(ae),hl(z,F,ne,ae,ie,4),s.ab.mat4.identity(ae),s.ab.mat4.rotateY(ae,ae,Math.PI),hl(z,F,ne,ae,ie,5),G.viewport.set([0,0,z.width,z.height])}(f,l),l.markSkyboxValid(f)):f.renderPass==="sky"&&function(z,F,H,U,G){const Q=z.context,J=Q.gl,ie=z.transform,ne=z.getOrCreateProgram("skybox");Q.activeTexture.set(J.TEXTURE0),J.bindTexture(J.TEXTURE_CUBE_MAP,F.skyboxTexture);const ae=((fe,de,be,ge,ve)=>({u_matrix:fe,u_sun_direction:de,u_cubemap:0,u_opacity:ge,u_temporal_offset:ve}))(ie.skyboxMatrix,F.getCenter(z,!1),0,U,G);z.uploadCommonUniforms(Q,ne),ne.draw(z,J.TRIANGLES,H,ci.disabled,z.colorModeForRenderPass(),ti.backCW,ae,"skybox",F.skyboxGeometry.vertexBuffer,F.skyboxGeometry.indexBuffer,F.skyboxGeometry.segment)}(f,l,P,v,O):M==="gradient"&&f.renderPass==="sky"&&function(z,F,H,U,G){const Q=z.context,J=Q.gl,ie=z.transform,ne=z.getOrCreateProgram("skyboxGradient");F.skyboxGeometry||(F.skyboxGeometry=new ra(Q)),Q.activeTexture.set(J.TEXTURE0);let ae=F.colorRampTexture;ae||(ae=F.colorRampTexture=new s.T(Q,F.colorRamp,J.RGBA8)),ae.bind(J.LINEAR,J.CLAMP_TO_EDGE);const fe=((de,be,ge,ve,_e)=>({u_matrix:de,u_color_ramp:0,u_center_direction:be,u_radius:s.ai(ge),u_opacity:ve,u_temporal_offset:_e}))(ie.skyboxMatrix,F.getCenter(z,!1),F.paint.get("sky-gradient-radius"),U,G);z.uploadCommonUniforms(Q,ne),ne.draw(z,J.TRIANGLES,H,ci.disabled,z.colorModeForRenderPass(),ti.backCW,fe,"skyboxGradient",F.skyboxGeometry.vertexBuffer,F.skyboxGeometry.indexBuffer,F.skyboxGeometry.segment)}(f,l,P,v,O)},debug:function(f,r,l,m,v,x){for(let M=0;M<l.length;M++)if(v){const z=new s.aj(m.r*.8,m.g*.8,m.b*.8,1);cl(f,r,l[M],m,-1,-1,x),cl(f,r,l[M],m,-1,1,x),cl(f,r,l[M],m,1,1,x),cl(f,r,l[M],m,1,-1,x),cl(f,r,l[M],z,0,0,x)}else cl(f,r,l[M],m,0,0,x)},custom:function(f,r,l,m){const v=f.context,x=l.implementation;if(!f.transform.projection.unsupportedLayers||!f.transform.projection.unsupportedLayers.includes("custom")||f.terrain&&(f.terrain.renderingToTexture||f.renderPass==="offscreen")&&l.isDraped(r)){if(f.renderPass==="offscreen"){const M=x.prerender;if(M){if(f.setCustomLayerDefaults(),v.setColorMode(f.colorModeForRenderPass()),f.transform.projection.name==="globe"){const P=f.transform.pointMerc;M.call(x,v.gl,f.transform.customLayerMatrix(),f.transform.getProjection(),f.transform.globeToMercatorMatrix(),s.ae(f.transform.zoom),[P.x,P.y],f.transform.pixelsPerMeterRatio)}else M.call(x,v.gl,f.transform.customLayerMatrix());v.setDirty(),f.setBaseState()}}else if(f.renderPass==="translucent"){if(f.terrain&&f.terrain.renderingToTexture){const P=x.renderToTile;if(P){const O=m[0].canonical,z=new s.aa(O.x+m[0].wrap*(1<<O.z),O.y,O.z);v.setDepthMode(Wt.disabled),v.setStencilMode(ci.disabled),v.setColorMode(f.colorModeForRenderPass()),f.setCustomLayerDefaults(),P.call(x,v.gl,z),v.setDirty(),f.setBaseState()}return}f.setCustomLayerDefaults(),v.setColorMode(f.colorModeForRenderPass()),v.setStencilMode(ci.disabled);const M=x.renderingMode==="3d"?new Wt(f.context.gl.LEQUAL,Wt.ReadWrite,f.depthRangeFor3D):f.depthModeForSublayer(0,Wt.ReadOnly);if(v.setDepthMode(M),f.transform.projection.name==="globe"){const P=f.transform.pointMerc;x.render(v.gl,f.transform.customLayerMatrix(),f.transform.getProjection(),f.transform.globeToMercatorMatrix(),s.ae(f.transform.zoom),[P.x,P.y],f.transform.pixelsPerMeterRatio)}else x.render(v.gl,f.transform.customLayerMatrix());v.setDirty(),f.setBaseState(),v.bindFramebuffer.set(null)}}else s.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(f,r,l,m){if(f.renderPass==="opaque")return;const v=l.paint.get("model-opacity").constantOr(1);if(v===0)return;const x=l.paint.get("model-cast-shadows");if(f.renderPass==="shadow"&&(!x||f.terrain&&v<.65&&l._transitionablePaint._values["model-opacity"].value.expression instanceof s.a9))return;const M=f.shadowRenderer,P=l.paint.get("model-receive-shadows");M&&(M.useNormalOffset=!0,P||(M.enabled=!1));const O=()=>{M&&(M.useNormalOffset=!0,P||(M.enabled=!0))},z=r.getSource();if(f.renderPass==="light-beam"&&z.type!=="batched-model")return;if(z.type==="vector"||z.type==="geojson")return function(ne,ae,fe,de,be){const ge=ne.transform;if(ge.projection.name!=="mercator")return void s.w(`Drawing 3D models for ${ge.projection.name} projection is not yet implemented`);const ve=ge.getFreeCameraOptions().position;if(!ne.modelManager)return;const _e=ne.modelManager;fe.modelManager=_e;const Ee=ne.shadowRenderer;if(!fe._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const Oe=fe._unevaluatedLayout._values["model-id"],Ge={...fe.layout.get("model-id").parameters},je=ne.style.order.indexOf(fe.fqid);for(const Le of de){const Ne=ae.getTile(Le).getBucket(fe);if(!Ne||Ne.projection.name!==ge.projection.name)continue;const at=Ne.getModelUris();at&&!Ne.modelsRequested&&(_e.addModelsFromBucket(at,be),Ne.modelsRequested=!0);const pt=wo(Le,ge);Ge.zoom=pt;const bt=Oe.possiblyEvaluate(Ge);if(wf(ne,Ne,Le),Bs.shadowUniformsInitialized=!1,Bs.useSingleShadowCascade=!!Ee&&Ee.getMaxCascadeForTile(Le.toUnwrapped())===0,ne.renderPass==="shadow"&&Ee){if(ne.currentShadowCascade===1&&Ne.isInsideFirstShadowMapFrustum)continue;const Xe=ge.calculatePosMatrix(Le.toUnwrapped(),ge.worldSize);if(Bs.tileMatrix.set(Xe),Bs.shadowTileMatrix=Float32Array.from(Ee.calculateShadowPassMatrixFromMatrix(Xe)),Bs.aabb.min.fill(0),Bs.aabb.max[0]=Bs.aabb.max[1]=s.ag,Bs.aabb.max[2]=0,gd(Ne,Bs,ne,fe.scope))continue}const Ue=1<<Le.canonical.z,lt=[((ve.x-Le.wrap)*Ue-Le.canonical.x)*s.ag,(ve.y*Ue-Le.canonical.y)*s.ag,ve.z*Ue*s.ag];ne.conflationActive&&Object.keys(Ne.instancesPerModel).length>0&&ne.style.isLayerClipped(fe,ae.getSource())&&Ne.updateReplacement(Le,ne.replacementSource,je,be)&&(Ne.uploaded=!1,Ne.upload(ne.context));for(let Xe in Ne.instancesPerModel){const yt=Ne.instancesPerModel[Xe];yt.features.length>0&&(Xe=bt.evaluate(yt.features[0].feature,{}));const ht=_e.getModel(Xe,be);if(ht&&ht.uploaded)for(const nt of ht.nodes)Ja(ne,fe,nt,yt,lt,Le,Bs)}}}(f,r,l,m,z.type==="vector"?l.scope:""),void O();if(!z.loaded())return;if(z.type==="batched-model")return function(ne,ae,fe,de){fe.resetLayerRenderingStats(ne);const be=ne.context,ge=ne.transform,ve=ne.style.fog,_e=ne.shadowRenderer;if(ge.projection.name!=="mercator")return void s.w(`Drawing 3D landmark models for ${ge.projection.name} projection is not yet implemented`);const Ee=ne.transform.getFreeCameraOptions().position,Oe=s.ab.vec3.scale([],[Ee.x,Ee.y,Ee.z],ne.transform.worldSize),Ge=s.ab.vec3.negate([],Oe),je=s.ab.mat4.identity([]),Le=s.dj(ge.center.lat,ge.zoom),Ne=s.ab.mat4.fromScaling([],[1,1,1/Le]);s.ab.mat4.translate(je,je,Ge);const at=fe.paint.get("model-opacity").constantOr(1),pt=new Wt(be.gl.LEQUAL,Wt.ReadWrite,ne.depthRangeFor3D),bt=new Wt(be.gl.LEQUAL,Wt.ReadOnly,ne.depthRangeFor3D),Ue=new s.cd([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),lt=ne.renderPass==="shadow",Xe=lt&&_e?_e.getCurrentCascadeFrustum():ge.getFrustum(ge.scaleZoom(ge.worldSize)),yt=fe.paint.get("model-front-cutoff"),ht=yt[2]<1,nt=Wa(ne,fe.paint.get("model-cutoff-fade-range")),kt=fe.getLayerRenderingStats();(function(wt,Ot,Vt,ni){const $t=wt.terrain?wt.terrain.exaggeration():0,Zt=wt.transform.zoom;for(const ri of ni){const Ei=Ot.getTile(ri).getBucket(Vt);Ei&&(wt.conflationActive&&Ei.updateReplacement(ri,wt.replacementSource),Ei.evaluateScale(wt,Vt),wt.terrain&&$t>0&&Ei.elevationUpdate(wt.terrain,$t,ri,Vt.source),Ei.needsReEvaluation(wt,Zt,Vt)&&Ei.evaluate(Vt))}})(ne,ae,fe,de),function(){let wt,Ot,Vt;ht?(wt=de.length-1,Ot=-1,Vt=-1):(wt=0,Ot=de.length,Vt=1);const ni=new Float64Array(16),$t=s.ab.vec3.create(),Zt=new s.P(0,0);for(let ri=wt;ri!==Ot;ri+=Vt){const Ei=de[ri],gi=ae.getTile(Ei).getBucket(fe);if(!gi||!gi.uploaded)continue;let hn=!1;_e&&(hn=_e.getMaxCascadeForTile(Ei.toUnwrapped())===0);const vn=ge.calculatePosMatrix(Ei.toUnwrapped(),ge.worldSize),Gi=gi.modelTraits;!lt&&ht&&(s.ab.mat4.invert(ni,vn),s.ab.vec3.transformMat4($t,Oe,ni),Zt.x=$t[0],Zt.y=$t[1]);const en=[];for(const pi of gi.getNodesInfo()){if(pi.hiddenByReplacement||!pi.node.meshes)continue;const Yt=pi.node;let Bi=0;ne.terrain&&Yt.elevation&&(Bi=Yt.elevation*ne.terrain.exaggeration());const Wi=(()=>{const Ai=pi.aabb;return Ue.min=[...Ai.min],Ue.max=[...Ai.max],Ue.min[2]+=Bi,Ue.max[2]+=Bi,s.ab.vec3.transformMat4(Ue.min,Ue.min,vn),s.ab.vec3.transformMat4(Ue.max,Ue.max,vn),Ue})(),En=pi.evaluatedScale;if(En[0]<=1&&En[1]<=1&&En[2]<=1&&Wi.intersects(Xe)===0)continue;if(!lt&&ht){const Ai=.16666666666666666;pi.cameraCollisionOpacity=Oe[0]>Wi.min[0]&&Oe[0]<Wi.max[0]&&Oe[1]>Wi.min[1]&&Oe[1]<Wi.max[1]&&Oe[2]*Le<Wi.max[2]&&Yt.footprint&&s.bA(Zt,Yt.footprint)?Math.max(pi.cameraCollisionOpacity-Ai,0):Math.min(1,pi.cameraCollisionOpacity+Ai)}const Cr=[...vn],Kr=Yt.anchor?Yt.anchor[0]:0,Yn=Yt.anchor?Yt.anchor[1]:0;s.ab.mat4.translate(Cr,Cr,[Kr*(En[0]-1),Yn*(En[1]-1),Bi]),s.ab.vec3.exactEquals(En,s.dm)||s.ab.mat4.scale(Cr,Cr,En);const br=s.ab.mat4.multiply([],Cr,Yt.matrix),Hr=s.ab.mat4.multiply([],ge.expandedFarZProjMatrix,br),Fn=s.ab.mat4.multiply([],ge.expandedFarZProjMatrix,Cr),on=s.ab.vec4.transformMat4([],[Kr,Yn,Bi,1],Hr)[2];Yt.hidden=!1;let un=at;lt||(ht&&(un*=pi.cameraCollisionOpacity,un*=Mf(Cr,ge,pi.aabb,yt)),un*=_d(nt,on)),un!==0?en.push({nodeInfo:pi,depth:on,opacity:un,wvpForNode:Hr,wvpForTile:Fn,nodeModelMatrix:br,tileModelMatrix:Cr}):Yt.hidden=!0}lt||en.sort((pi,Yt)=>!ht||pi.opacity===1&&Yt.opacity===1?pi.depth<Yt.depth?-1:1:pi.opacity===1?-1:Yt.opacity===1?1:pi.depth>Yt.depth?-1:1);for(const pi of en){const Yt=pi.nodeInfo,Bi=Yt.node;let Wi=s.ab.mat4.multiply([],Ne,pi.tileModelMatrix);s.ab.mat4.multiply(Wi,je,Wi);const En=s.ab.mat4.invert([],Wi);s.ab.mat4.transpose(En,En),s.ab.mat4.scale(En,En,Mo),Wi=s.ab.mat4.multiply(Wi,Wi,Bi.matrix);const Cr=ne.renderPass==="light-beam",Kr=fe.paint.get("model-color-use-theme").constantOr("default")==="none",Yn=Gi&s.dp.HasMapboxMeshFeatures,br=Yn?0:Yt.evaluatedRMEA[0][2];for(let Hr=0;Hr<Bi.meshes.length;++Hr){const Fn=Bi.meshes[Hr],on=Hr===Bi.lightMeshIndex;let un=pi.wvpForNode;if(on){if(!Cr&&!ne.terrain&&ne.shadowRenderer){ne.currentLayer<ne.firstLightBeamLayer&&(ne.firstLightBeamLayer=ne.currentLayer);continue}un=pi.wvpForTile}else if(Cr)continue;const Ai={defines:[]},Bn=[];if(!lt&&_e&&(_e.useNormalOffset=!!Fn.normalBuffer),md(Ai.defines,Bn,Fn,ne,Kr?null:fe.lut),Yn||Ai.defines.push("DIFFUSE_SHADED"),hn&&Ai.defines.push("SHADOWS_SINGLE_CASCADE"),kt&&(lt?kt.numRenderedVerticesInShadowPass+=Fn.vertexArray.length:kt.numRenderedVerticesInTransparentPass+=Fn.vertexArray.length),lt){bo(Fn,pi.nodeModelMatrix,ne,fe);continue}let Ar=null;if(ve){const Jr=Hi(pi.nodeModelMatrix,ne.transform);if(Ar=new Float32Array(Jr),ge.projection.name!=="globe"){const la=Fn.aabb.min,gs=Fn.aabb.max,[Io,Aa]=ve.getOpacityForBounds(Jr,la[0],la[1],gs[0],gs[1]);Ai.overrideFog=Io>=Lt||Aa>=Lt}}const an=Fn.material;let Ur;an.occlusionTexture&&an.occlusionTexture.offsetScale&&(Ur=an.occlusionTexture.offsetScale,Ai.defines.push("OCCLUSION_TEXTURE_TRANSFORM"));const Ss=ne.getOrCreateProgram("model",Ai);!lt&&_e&&_e.setupShadowsFromMatrix(pi.tileModelMatrix,Ss,_e.useNormalOffset),ne.uploadCommonUniforms(be,Ss,null,Ar);const ms=an.pbrMetallicRoughness;ms.metallicFactor=.9,ms.roughnessFactor=.5;const io=_f(new Float32Array(un),new Float32Array(Wi),new Float32Array(En),new Float32Array(Bi.matrix),ne,pi.opacity,ms.baseColorFactor.toRenderColor(null),an.emissiveFactor,ms.metallicFactor,ms.roughnessFactor,an,br,fe,[0,0,0],Ur);!on&&(Yt.hasTranslucentParts||pi.opacity<1)&&Ss.draw(ne,be.gl.TRIANGLES,pt,ci.disabled,vi.disabled,ti.backCCW,io,fe.id,Fn.vertexBuffer,Fn.indexBuffer,Fn.segments,fe.paint,ne.transform.zoom,void 0,Bn),Ss.draw(ne,be.gl.TRIANGLES,on?bt:pt,ci.disabled,on||pi.opacity<1||Yt.hasTranslucentParts?vi.alphaBlended:vi.unblended,ti.backCCW,io,fe.id,Fn.vertexBuffer,Fn.indexBuffer,Fn.segments,fe.paint,ne.transform.zoom,void 0,Bn)}}}}()}(f,r,l,m),void O();if(z.type!=="model")return;const F=z.getModels(),H=[],U=f.transform.getFreeCameraOptions().position,G=s.ab.vec3.scale([],[U.x,U.y,U.z],f.transform.worldSize);s.ab.vec3.negate(G,G);const Q=[],J=[];let ie=0;for(const ne of F){const ae=l.paint.get("model-rotation").constantOr(null),fe=l.paint.get("model-scale").constantOr(null),de=l.paint.get("model-translation").constantOr(null);ne.computeModelMatrix(f,ae,fe,de,!0,!0,!1);const be=s.ab.mat4.identity([]),ge=s.dj(ne.position.lat,f.transform.zoom),ve=s.ab.mat4.fromScaling([],[1,1,1/ge]);s.ab.mat4.translate(be,be,G),H.push({zScaleMatrix:ve,negCameraPosMatrix:be});for(const _e of ne.nodes)vh(f.transform,_e,ne.matrix,f.transform.expandedFarZProjMatrix,ie,Q,J);ie++}if(Q.sort((ne,ae)=>ae.depth-ne.depth),f.renderPass!=="shadow"){if(v===1)for(const ne of J)sa(ne,f,l,H[ne.modelIndex],ci.disabled,f.colorModeForRenderPass());else{for(const ne of J)sa(ne,f,l,H[ne.modelIndex],ci.disabled,vi.disabled);for(const ne of J)sa(ne,f,l,H[ne.modelIndex],f.stencilModeFor3D(),f.colorModeForRenderPass());f.resetStencilClippingMasks()}for(const ne of Q)sa(ne,f,l,H[ne.modelIndex],ci.disabled,f.colorModeForRenderPass());O()}else{for(const ne of J)bo(ne.mesh,ne.nodeModelMatrix,f,l);for(const ne of Q)bo(ne.mesh,ne.nodeModelMatrix,f,l);O()}}},wd={model:function(f,r,l){const m=r.getSource();if(!m.loaded())return;if(m.type==="vector"||m.type==="geojson")return void(l.modelManager&&l.modelManager.upload(l,m.type==="vector"?f.scope:""));if(m.type==="batched-model"||m.type!=="model")return;const v=m.getModels();for(const x of v)x.upload(l.context)},raster:function(f,r,l){const m=r.getSource();if(!(m instanceof Ha&&m.loaded()))return;const v=f.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!v)return;const x=f.paint.get("raster-array-band")||m.getInitialBand(v);if(x==null)return;const M=r.getIds().map(P=>r.getTileByID(P));for(const P of M)P.updateNeeded(v,x)&&m.prepareTile(P,v,x)},"raster-particle":function(f,r,l){const m=r.getSource();if(!(m instanceof Ha&&m.loaded()))return;const v=f.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!v)return;const x=f.paint.get("raster-particle-array-band")||m.getInitialBand(v);if(x==null)return;const M=r.getIds().map(P=>r.getTileByID(P));for(const P of M)P.updateNeeded(v,x)&&m.prepareTile(P,v,x)}};class Df{constructor(r,l,m,v,x){this.context=new vo(r,l),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=x,this._timeStamp=s.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={forceEnablePrecipitation:!1,showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const M=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const O of M)this._debugParams.enabledLayers[O]=!0;x.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),x.registerParameter(this._debugParams,["Precipitation"],"forceEnablePrecipitation"),x.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),x.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const O of M)x.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],O);this.occlusionParams=new So(x),this.setup(),this.numSublayers=Ds.maxUnderzooming+Ds.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new s.dv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new Za(this),this._wireframeDebugCache=new Tf,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const P=new s.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new s.T(this.context,P,r.RGBA8),this._clippingActiveLastFrame=!1,this.scaleFactor=v}updateTerrain(r,l){const m=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(m||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new a0(this,r));const v=this._terrain;this.transform.elevation=m?v:null,v.update(r,this.transform,l),this.transform.elevation&&!v.enabled&&(this.transform.elevation=null)}_updateFog(r){const l=r.fog;if(!l||this.transform.projection.name==="globe"||l.getOpacity(this.transform.pitch)<1||l.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[m,v]=l.getFovAdjustedRange(this.transform._fov);if(m>v)return void(this.transform.fogCullDistSq=null);const x=m+.78*(v-m);this.transform.fogCullDistSq=x*x}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(r){r&&!this._terrain&&(this._terrain=new a0(this,this.style)),this._forceTerrainMode=r}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(r,l){if(this.width=r*s.q.devicePixelRatio,this.height=l*s.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style.order)this.style._mergedLayers[m].resize()}setup(){const r=this.context,l=new s.b4;l.emplaceBack(0,0),l.emplaceBack(s.ag,0),l.emplaceBack(0,s.ag),l.emplaceBack(s.ag,s.ag),this.tileExtentBuffer=r.createVertexBuffer(l,s.b6.members),this.tileExtentSegments=s.b7.simpleSegment(0,0,4,2);const m=new s.b4;m.emplaceBack(0,0),m.emplaceBack(s.ag,0),m.emplaceBack(0,s.ag),m.emplaceBack(s.ag,s.ag),this.debugBuffer=r.createVertexBuffer(m,s.b6.members),this.debugSegments=s.b7.simpleSegment(0,0,4,5);const v=new s.b4;v.emplaceBack(-1,-1),v.emplaceBack(1,-1),v.emplaceBack(-1,1),v.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(v,s.b6.members),this.viewportSegments=s.b7.simpleSegment(0,0,4,2);const x=new s.aT;x.emplaceBack(0,0,0,0),x.emplaceBack(s.ag,0,s.ag,0),x.emplaceBack(0,s.ag,0,s.ag),x.emplaceBack(s.ag,s.ag,s.ag,s.ag),this.mercatorBoundsBuffer=r.createVertexBuffer(x,s.b9.members),this.mercatorBoundsSegments=s.b7.simpleSegment(0,0,4,2);const M=new s.aU;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(M);const P=new s.b5;for(const z of[0,1,3,2,0])P.emplaceBack(z);this.debugIndexBuffer=r.createIndexBuffer(P),this.emptyTexture=new s.T(r,new s.r({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA8),this.identityMat=s.ab.mat4.create();const O=this.context.gl;this.stencilClearMode=new ci({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,r.TRIANGLES,Wt.disabled,this.stencilClearMode,vi.disabled,ti.disabled,ec(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,l,m){if(!l||this.currentStencilSource===l.id||!r.isTileClipped()||!m||m.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let P=!1;for(const O of m)if(this._tileClippingMaskIDs[O.key]===void 0){P=!0;break}if(!P)return}this.currentStencilSource=l.id;const v=this.context,x=v.gl;this.nextStencilID+m.length>256&&this.clearStencil(),v.setColorMode(vi.disabled),v.setDepthMode(Wt.disabled);const M=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const P of m){const O=l.getTile(P),z=this._tileClippingMaskIDs[P.key]=this.nextStencilID++,{tileBoundsBuffer:F,tileBoundsIndexBuffer:H,tileBoundsSegments:U}=this.getTileBoundsBuffers(O);M.draw(this,x.TRIANGLES,Wt.disabled,new ci({func:x.ALWAYS,mask:0},z,255,x.KEEP,x.KEEP,x.REPLACE),vi.disabled,ti.disabled,ec(P.projMatrix),"$clipping",F,H,U)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,l=this.context.gl;return new ci({func:l.NOTEQUAL,mask:255},r,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const l=this.context.gl;return new ci({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(r){const l=this.context.gl,m=r.sort((M,P)=>P.overscaledZ-M.overscaledZ),v=m[m.length-1].overscaledZ,x=m[0].overscaledZ-v+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const M={};for(let P=0;P<x;P++)M[P+v]=new ci({func:l.GEQUAL,mask:255},P+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=x,[M,m]}return[{[v]:ci.disabled},m]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new vi([r.CONSTANT_COLOR,r.ONE,r.CONSTANT_COLOR,r.ONE],new s.aj(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?vi.unblended:vi.alphaBlended}colorModeForDrapableLayerRenderPass(r){const l=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new vi([l.ONE,l.ONE_MINUS_SRC_ALPHA,l.CONSTANT_ALPHA,l.ONE_MINUS_SRC_ALPHA],new s.aj(0,0,0,r===void 0?0:r),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(r,l,m,v=!1){if(this.depthOcclusion)return new Wt(this.context.gl.GREATER,Wt.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!v)return Wt.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new Wt(m||this.context.gl.LEQUAL,l,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const r=this.context.gl,l=Math.ceil(this.width),m=Math.ceil(this.height),v=this.context.bindFramebuffer.get(),x=r.getParameter(r.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===l&&this.depthFBO.height===m||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),l!==0&&m!==0&&(this.depthFBO=new rs(this.context,l,m,!1,"texture"),this.depthTexture=new s.T(this.context,{width:l,height:m,data:null},r.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(v),r.bindTexture(r.TEXTURE_2D,x),this.depthFBO&&(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),r.blitFramebuffer(0,0,l,m,0,0,l,m,r.DEPTH_BUFFER_BIT,r.NEAREST),r.bindFramebuffer(r.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((r,l)=>r+l/this._fpsHistory.length,0))}render(r,l){const m=s.q.now();this._dt=m-this._timeStamp,this._timeStamp=m,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=r.map.repaint,this.style=r,this.options=l;const v=this.style._mergedLayers,x=this.style._getOrder(!(!this.terrain||!this.terrain.enabled)).filter(Le=>{const Ne=v[Le];return!(Ne.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[Ne.type]});let M=!1,P=!1;for(const Le of x){const Ne=v[Le];Ne.type==="circle"&&(M=!0),Ne.type==="symbol"&&(Ne.hasInitialOcclusionOpacityProperties?P=!0:M=!0)}const O=x.map(Le=>v[Le]),z=this.style._mergedSourceCaches;this.imageManager=r.imageManager,this.modelManager=r.modelManager,this.symbolFadeChange=r.placement.symbolFadeChange(s.q.now()),this.imageManager.beginFrame();let F=0,H=!1;for(const Le in z){const Ne=z[Le];Ne.used&&(Ne.prepare(this.context),Ne.getSource().usedInConflation&&++F)}let U=!1;for(const Le of O)Le.isHidden(this.transform.zoom)||(Le.type==="clip"&&(U=!0),this.prepareLayer(Le));const G={},Q={},J={},ie={},ne={};for(const Le in z){const Ne=z[Le];G[Le]=Ne.getVisibleCoordinates(),Q[Le]=G[Le].slice().reverse(),J[Le]=Ne.getVisibleCoordinates(!0).reverse(),ie[Le]=Ne.getShadowCasterCoordinates(),ne[Le]=Ne.sortCoordinatesByDistance(G[Le])}const ae=Le=>{const Ne=this.style.getLayerSourceCache(Le);return Ne&&Ne.used?Ne.getSource():null};if(F||U||this._clippingActiveLastFrame){const Le=[],Ne=[];let at=0;for(const pt of O)this.isSourceForClippingOrConflation(pt,ae(pt))&&(Le.push(pt),Ne.push(at)),at++;if(U||Le.length>1||this._clippingActiveLastFrame){U=!1;const pt=[];for(let bt=0;bt<Le.length;bt++){const Ue=Le[bt],lt=Ne[bt],Xe=this.style.getLayerSourceCache(Ue);if(!Xe||!Xe.used||!Xe.getSource().usedInConflation&&Ue.type!=="clip")continue;let yt=s.dx,ht=s.by.None;const nt=[];let kt=!0;if(Ue.type==="clip"){yt=lt;for(const wt of Ue.layout.get("clip-layer-types"))ht|=wt==="model"?s.by.Model:wt==="symbol"?s.by.Symbol:s.by.FillExtrusion;for(const wt of Ue.layout.get("clip-layer-scope"))nt.push(wt);Ue.isHidden(this.transform.zoom)?kt=!1:U=!0}kt&&pt.push({layer:Ue.fqid,cache:Xe,order:yt,clipMask:ht,clipScope:nt})}this.replacementSource.setSources(pt),H=!0}}this._clippingActiveLastFrame=U,H||this.replacementSource.clear(),this.conflationActive=H,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let Le=0;Le<O.length;Le++){const Ne=O[Le],at=Ne.cutoffRange();if(this.longestCutoffRange=Math.max(at,this.longestCutoffRange),at>0){const pt=ae(Ne);pt&&(this.minCutoffZoom=Math.max(pt.minzoom,this.minCutoffZoom)),Ne.minzoom&&(this.minCutoffZoom=Math.max(Ne.minzoom,this.minCutoffZoom))}Ne.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=Le),this._lastOcclusionLayer=Le)}const fe=this.style&&this.style.fog;fe?(this._fogVisible=fe.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=fe.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(J),this.opaquePassCutoff=0);const de=this._shadowRenderer;if(de){de.updateShadowParameters(this.transform,this.style.directionalLight);for(const Le in z)for(const Ne of G[Le]){let at={min:0,max:0};this.terrain&&(at=this.terrain.getMinMaxForTile(Ne)||at),de.addShadowReceiver(Ne.toUnwrapped(),at.min,at.max)}}this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.dw(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new fn(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0);const be=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.snow),ge=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.rain);if(be&&!this._snow&&(this._snow=new ul(this)),!be&&this._snow&&(this._snow.destroy(),delete this._snow),ge&&!this._rain&&(this._rain=new If(this)),!ge&&this._rain&&(this._rain.destroy(),delete this._rain),this._snow&&this._snow.update(this),this._rain&&this._rain.update(this),!Br.has(this.context.gl))return;this.renderPass="offscreen";for(const Le of O){const Ne=r.getLayerSourceCache(Le);if(!Le.hasOffscreenPass()||Le.isHidden(this.transform.zoom))continue;const at=Ne?Q[Ne.id]:void 0;(Le.type==="custom"||Le.type==="raster"||Le.type==="raster-particle"||Le.isSky()||at&&at.length)&&this.renderLayer(this,Ne,Le,at)}this.depthRangeFor3D=[0,1-(O.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,ie)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const ve=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),_e=(()=>{if(l.showOverdrawInspector)return s.aj.black;const Le=this.style.fog;if(Le&&this.transform.projection.supportsFog){const Ne=this.style.getLut(Le.scope);if(!ve){const at=Le.properties.get("color-use-theme")==="none",pt=Le.properties.get("color").toRenderColor(at?null:Ne).toArray01();return new s.aj(...pt)}if(ve){const at=Le.properties.get("space-color-use-theme")==="none",pt=Le.properties.get("space-color").toRenderColor(at?null:Ne).toArray01();return new s.aj(...pt)}}return s.aj.transparent})();if(this.context.clear({color:_e,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&ve&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=x.length-1;this.currentLayer>=0;this.currentLayer--){const Le=O[this.currentLayer],Ne=r.getLayerSourceCache(Le);if(Le.isSky())continue;const at=Ne?(Le.is3D()?ne:Q)[Ne.id]:void 0;this._renderTileClippingMasks(Le,Ne,at),this.renderLayer(this,Ne,Le,at)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&ve&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||s.ae(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<x.length;this.currentLayer++){const Le=O[this.currentLayer],Ne=r.getLayerSourceCache(Le);Le.isSky()&&this.renderLayer(this,Ne,Le,Ne?Q[Ne.id]:void 0)}function Ee(Le,Ne){let at;return Ne&&(at=(Le.type==="symbol"?J:Le.is3D()?ne:Q)[Ne.id]),at}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<x.length;){const Le=O[this.currentLayer];if(Le.type==="raster"||Le.type==="raster-particle"){const Ne=r.getLayerSourceCache(Le);this.renderLayer(this,Ne,Le,Ee(Le,Ne))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let Oe=0;de&&(Oe=de.getShadowCastingLayerCount());let Ge=!1,je=-1;for(let Le=0;Le<x.length;++Le){const Ne=O[Le];Ne.isHidden(this.transform.zoom)||Ne.is3D()&&(je=Le)}for(P&&je===-1&&(M=!0);this.currentLayer<x.length;){const Le=O[this.currentLayer],Ne=r.getLayerSourceCache(Le);if(Le.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(Le)){if(Le.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(M&&!Ge&&this.terrain&&!this.transform.isOrthographic&&(Ge=!0,this.blitDepth()),P&&je!==-1&&this.currentLayer===je+1&&!this.transform.isOrthographic&&this.blitDepth(),Le.is3D()||this.terrain||this._renderTileClippingMasks(Le,Ne,Ne?G[Ne.id]:void 0),this.renderLayer(this,Ne,Le,Ee(Le,Ne)),!this.terrain&&de&&Oe>0&&Le.hasShadowPass()&&--Oe==0&&(de.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const at=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=at;this.currentLayer++){const pt=O[this.currentLayer];if(!pt.hasLightBeamPass())continue;const bt=r.getLayerSourceCache(pt);this.renderLayer(this,bt,pt,bt?Q[bt.id]:void 0)}this.currentLayer=at,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const at=this.currentLayer;this.depthOcclusion=!0;for(const pt of this.layersWithOcclusionOpacity){this.currentLayer=pt;const bt=O[this.currentLayer],Ue=r.getLayerSourceCache(bt),lt=Ue?Q[Ue.id]:void 0;bt.is3D()||this.terrain||this._renderTileClippingMasks(bt,Ue,Ue?G[Ue.id]:void 0),this.renderLayer(this,Ue,bt,lt)}this.depthOcclusion=!1,this.currentLayer=at,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this._snow&&this._snow.draw(this),this._rain&&this._rain.draw(this),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Le=null;O.forEach(Ne=>{const at=r.getLayerSourceCache(Ne);at&&!Ne.isHidden(this.transform.zoom)&&at.getVisibleCoordinates().length&&(!Le||Le.getSource().maxzoom<at.getSource().maxzoom)&&(Le=at)}),Le&&this.options.showTileBoundaries&&xh.debug(this,Le,Le.getVisibleCoordinates(),s.aj.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&xh.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new s.aj(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(Le){const Ne=Le.transform.padding;gh(Le,Le.transform.height-(Ne.top||0),3,_0),gh(Le,Ne.bottom||0,3,y0),pd(Le,Ne.left||0,3,oc),pd(Le,Le.transform.width-(Ne.right||0),3,j_);const at=Le.transform.centerPoint;(function(pt,bt,Ue,lt){_h(pt,bt-1,Ue-10,2,20,lt),_h(pt,bt-10,Ue-1,20,2,lt)})(Le,at.x,Le.transform.height-at.y,q_)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),H||(this.conflationActive=!1)}prepareLayer(r){this.gpuTimingStart(r);const{unsupportedLayers:l}=this.transform.projection,m=!l||!l.includes(r.type);if(wd[r.type]&&(m||this.terrain&&r.type==="custom")){const v=this.style.getLayerSourceCache(r);wd[r.type](r,v,this)}this.gpuTimingEnd()}renderLayer(r,l,m,v){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="sky"||m.type==="custom"||m.type==="model"||m.type==="raster"||m.type==="raster-particle"||v&&v.length)&&(this.id=m.id,this.gpuTimingStart(m),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(m.type)&&(!r.terrain||m.type!=="custom")||m.type==="clip"||xh[m.type](r,l,m,v,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery,m=this.context.gl;let v=this.gpuTimers[r.id];v||(v=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:m.createQuery()}),v.calls++,m.beginQuery(l.TIME_ELAPSED_EXT,v.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,l=this.context.gl,m=l.createQuery();this.deferredRenderGpuTimeQueries.push(m),l.beginQuery(r.TIME_ELAPSED_EXT,m)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const l={};for(const m in r){const v=r[m],x=this.context.extTimerQuery,M=x.getQueryParameter(v.query,this.context.gl.QUERY_RESULT)/1e6;x.deleteQueryEXT(v.query),l[m]=M}return l}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const l=this.context.gl;let m=0;for(const v of r)m+=l.getQueryParameter(v,l.QUERY_RESULT)/1e6,l.deleteQuery(v);return m}translatePosMatrix(r,l,m,v,x){if(!m[0]&&!m[1])return r;const M=x?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(M){const z=Math.sin(M),F=Math.cos(M);m=[m[0]*F-m[1]*z,m[0]*z+m[1]*F]}const P=[x?m[0]:s.ar(l,m[0],this.transform.zoom),x?m[1]:s.ar(l,m[1],this.transform.zoom),0],O=new Float32Array(16);return s.ab.mat4.translate(O,r,P),O}saveTileTexture(r){const l=r.size[0],m=this._tileTextures[l];m?m.push(r):this._tileTextures[l]=[r]}getTileTexture(r){const l=this._tileTextures[r];return l&&l.length>0?l.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(r,l,m){const v=m===void 0?this.terrain&&this.terrain.renderingToTexture:m,x=[];return this.style&&this.style.enable3dLights()&&(r==="globeRaster"||r==="terrainRaster"?(x.push("LIGHTING_3D_MODE"),x.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):v||x.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"&&(this._shadowMapDebug||x.push("DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(x.push("TERRAIN"),this.linearFloatFilteringSupported()&&x.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&x.push("GLOBE"),!this._fogVisible||v||l!==void 0&&!l||x.push("FOG","FOG_DITHERING"),v&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}getOrCreateProgram(r,l){this.cache=this.cache||{};const m=l&&l.defines||[],v=l&&l.config,x=this.currentGlobalDefines(r,l&&l.overrideFog,l&&l.overrideRtt).concat(m),M=l0.cacheKey(Yu[r],r,x,v);return this.cache[M]||(this.cache[M]=new l0(this.context,r,Yu[r],v,yf[r],x)),this.cache[M]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(r,l){if(this.style.enable3dLights()){const m=this.style.directionalLight,v=this.style.ambientLight;if(m&&v){const x=((M,P,O)=>{const z=M.properties.get("direction"),F=M.properties.get("color-use-theme")==="none",H=M.properties.get("color").toRenderColor(F?null:O.getLut(M.scope)).toArray01(),U=M.properties.get("intensity"),G=P.properties.get("color-use-theme")==="none",Q=P.properties.get("color").toRenderColor(G?null:O.getLut(P.scope)).toArray01(),J=P.properties.get("intensity"),ie=[z.x,z.y,z.z],ne=s.cM(Q,J),ae=s.cM(H,U);return{u_lighting_ambient_color:ne,u_lighting_directional_dir:ie,u_lighting_directional_color:ae,u_ground_radiance:o0(ie,ae,ne)}})(m,v,this.style);l.setLightsUniformValues(r,x)}}}uploadCommonUniforms(r,l,m,v,x){if(this.uploadCommonLightUniforms(r,l),this.terrain&&this.terrain.renderingToTexture)return;const M=this.style.fog;if(M){const P=M.getOpacity(this.transform.pitch),O=((z,F,H,U,G,Q,J,ie,ne,ae,fe,de)=>{const be=z.transform,ge=F.properties.get("color-use-theme")==="none",ve=F.properties.get("color").toRenderColor(ge?null:z.style.getLut(F.scope)).toArray01();ve[3]=U;const _e=z.frameCounter/1e3%1,[Ee,Oe]=F.properties.get("vertical-range");return{u_fog_matrix:H?be.calculateFogTileMatrix(H):de||z.identityMat,u_fog_range:F.getFovAdjustedRange(be._fov),u_fog_color:ve,u_fog_horizon_blend:F.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(Ee,Oe),Oe],u_fog_temporal_offset:_e,u_frustum_tl:G,u_frustum_tr:Q,u_frustum_br:J,u_frustum_bl:ie,u_globe_pos:ne,u_globe_radius:ae,u_viewport:fe,u_globe_transition:s.ae(be.zoom),u_is_globe:+(be.projection.name==="globe")}})(this,M,m,P,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.q.devicePixelRatio,this.transform.height*s.q.devicePixelRatio],v);l.setFogUniformValues(r,O)}x&&l.setCutoffUniformValues(r,x.uniformValues)}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,l=r.createTexture();return r.bindTexture(r.TEXTURE_2D,l),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),l}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,l=this._backgroundTiles={},m=this.transform.coveringTiles({tileSize:512});for(const v of m)l[v.key]=r[v.key]||new go(v,512,this.transform.tileZoom,this);return l}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(r,l){return!(!r.is3D()||r.type!=="clip"&&(r.minzoom&&r.minzoom>this.transform.zoom||(this.style._clipLayerPresent||r.sourceLayer!=="building")&&(!l||l.type!=="batched-model")))}isTileAffectedByFog(r){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let l=this._cachedTileFogOpacities[r.key];return l||(this._cachedTileFogOpacities[r.key]=l=this.style.fog.getOpacityForTile(r)),l[0]>=Lt||l[1]>=Lt}setupDepthForOcclusion(r,l,m){const v=this.context,x=v.gl,M=!!m;var P;m||(m={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),v.activeTexture.set(x.TEXTURE3),r&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),m.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],m.u_depth_range_unpack=[2/((P=this.depthRangeFor3D)[1]-P[0]),-1-2*P[0]/(P[1]-P[0])],m.u_occluder_half_size=.5*this.occlusionParams.occluderSize,m.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),v.activeTexture.set(x.TEXTURE0),M||l.setTerrainUniformValues(v,m)}}function bh(f,r){let l=!1,m=null;const v=()=>{m=null,l&&(f(),m=setTimeout(v,r),l=!1)};return()=>(l=!0,m||v(),m)}class Lf{constructor(r){this._hashName=r&&encodeURIComponent(r),s.aP(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=bh(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const l=Md(r);if(this._hashName){const m=this._hashName;let v=!1;const x=location.hash.slice(1).split("&").map(M=>{const P=M.split("=")[0];return P===m?(v=!0,`${P}=${l}`):M}).filter(M=>M);return v||x.push(`${m}=${l}`),`#${x.join("&")}`}return`#${l}`}_getCurrentHash(){const r=location.hash.replace("#","");if(this._hashName){let l;return r.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(l=m)}),(l&&l[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const l=this._getCurrentHash();if(l.length>=3&&!l.some(m=>isNaN(m))){const m=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(l[3]||0):r.getBearing();return r.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:m,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function Md(f,r){const l=f.getCenter(),m=Math.round(100*f.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,v),M=Math.round(l.lng*x)/x,P=Math.round(l.lat*x)/x,O=f.getBearing(),z=f.getPitch();let F=r?`/${M}/${P}/${m}`:`${m}/${P}/${M}`;return(O||z)&&(F+="/"+Math.round(10*O)/10),z&&(F+=`/${Math.round(z)}`),F}const wh={linearity:.3,easing:s.dy(0,0,.3,1)},x0=s.l({deceleration:2500,maxSpeed:1400},wh),b0=s.l({deceleration:20,maxSpeed:1400},wh),w0=s.l({deceleration:1e3,maxSpeed:360},wh),M0=s.l({deceleration:1e3,maxSpeed:90},wh);class S0{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.q.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,l=s.q.now();for(;r.length>0&&l-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const l={zoom:0,bearing:0,pitch:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)l.zoom+=x.zoomDelta||0,l.bearing+=x.bearingDelta||0,l.pitch+=x.pitchDelta||0,x.panDelta&&l.pan._add(x.panDelta),x.around&&(l.around=x.around),x.pinchAround&&(l.pinchAround=x.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(l.pan.mag()){const x=Sh(l.pan.mag(),m,s.l({},x0,r||{}));v.offset=l.pan.mult(x.amount/l.pan.mag()),v.center=this._map.transform.center,Mh(v,x)}if(l.zoom){const x=Sh(l.zoom,m,b0);v.zoom=this._map.transform.zoom+x.amount,Mh(v,x)}if(l.bearing){const x=Sh(l.bearing,m,w0);v.bearing=this._map.transform.bearing+s.aw(x.amount,-179,179),Mh(v,x)}if(l.pitch){const x=Sh(l.pitch,m,M0);v.pitch=this._map.transform.pitch+x.amount,Mh(v,x)}if(v.zoom||v.bearing){const x=l.pinchAround===void 0?l.around:l.pinchAround;v.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),v.noMoveStart=!0,v}}function Mh(f,r){(!f.duration||f.duration<r.duration)&&(f.duration=r.duration,f.easing=r.easing)}function Sh(f,r,l){const{maxSpeed:m,linearity:v,deceleration:x}=l,M=s.aw(f*v/(r/1e3),-m,m),P=Math.abs(M)/(x*v);return{easing:l.easing,duration:1e3*P,amount:M*(P/2)}}class ps extends s.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m,v={}){const x=_t(l.getCanvasContainer(),m),M=l.unproject(x);super(r,s.l({point:x,lngLat:M,originalEvent:m},v)),this._defaultPrevented=!1,this.target=l}}class Th extends s.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m){const v=r==="touchend"?m.changedTouches:m.touches,x=Ft(l.getCanvasContainer(),v),M=x.map(O=>l.unproject(O)),P=x.reduce((O,z,F,H)=>O.add(z.div(H.length)),new s.P(0,0));super(r,{points:x,point:P,lngLats:M,lngLat:l.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class T0 extends s.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l){super("wheel",{originalEvent:l}),this._defaultPrevented=!1}}class E0{constructor(r,l){this._map=r,this._clickTolerance=l.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new T0(this._map,r))}mousedown(r,l){return this._mousedownPos=l,this._firePreventable(new ps(r.type,this._map,r))}mouseup(r){this._map.fire(new ps(r.type,this._map,r))}preclick(r){const l=s.l({},r);l.type="preclick",this._map.fire(new ps(l.type,this._map,l))}click(r,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||(this.preclick(r),this._map.fire(new ps(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new ps(r.type,this._map,r))}mouseover(r){this._map.fire(new ps(r.type,this._map,r))}mouseout(r){this._map.fire(new ps(r.type,this._map,r))}touchstart(r){return this._firePreventable(new Th(r.type,this._map,r))}touchmove(r){this._map.fire(new Th(r.type,this._map,r))}touchend(r){this._map.fire(new Th(r.type,this._map,r))}touchcancel(r){this._map.fire(new Th(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class C0{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new ps(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ps("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new ps(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class W_{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,l){this.isEnabled()&&r.shiftKey&&r.button===0&&(rt(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(r,l){if(!this._active)return;const m=l,v=this._startPos,x=this._lastPos;if(!v||!x||x.equals(m)||!this._box&&m.dist(v)<this._clickTolerance)return;this._lastPos=m,this._box||(this._box=he("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const M=Math.min(v.x,m.x),P=Math.max(v.x,m.x),O=Math.min(v.y,m.y),z=Math.max(v.y,m.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${M}px,${O}px)`,this._box.style.width=P-M+"px",this._box.style.height=z-O+"px")})}mouseupWindow(r,l){if(!this._active)return;const m=this._startPos,v=l;if(m&&r.button===0){if(this.reset(),it(),m.x!==v.x||m.y!==v.y)return this._map.fire(new s.z("boxzoomend",{originalEvent:r})),{cameraAnimation:x=>x.fitScreenCoordinates(m,v,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),gt(),delete this._startPos,delete this._lastPos}_fireEvent(r,l){return this._map.fire(new s.z(r,{originalEvent:l}))}}function kf(f,r){const l={};for(let m=0;m<f.length;m++)l[f[m].identifier]=r[m];return l}class Un{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,l,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const x=new s.P(0,0);for(const M of v)x._add(M);return x.div(v.length)}(l),this.touches=kf(m,l)))}touchmove(r,l,m){if(this.aborted||!this.centroid)return;const v=kf(m,l);for(const x in this.touches){const M=v[x];(!M||M.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(r,l,m){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class Sd{constructor(r){this.singleTap=new Un(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,l,m){this.singleTap.touchstart(r,l,m)}touchmove(r,l,m){this.singleTap.touchmove(r,l,m)}touchend(r,l,m){const v=this.singleTap.touchend(r,l,m);if(v){const x=r.timeStamp-this.lastTime<500,M=!this.lastTap||this.lastTap.dist(v)<30;if(x&&M||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Z_{constructor(){this._zoomIn=new Sd({numTouches:1,numTaps:2}),this._zoomOut=new Sd({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,l,m){this._zoomIn.touchstart(r,l,m),this._zoomOut.touchstart(r,l,m)}touchmove(r,l,m){this._zoomIn.touchmove(r,l,m),this._zoomOut.touchmove(r,l,m)}touchend(r,l,m){const v=this._zoomIn.touchend(r,l,m),x=this._zoomOut.touchend(r,l,m);return v?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:M.getZoom()+1,around:M.unproject(v)},{originalEvent:r})}):x?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:M.getZoom()-1,around:M.unproject(x)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Y_={0:1,2:2};class dl{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,l){return!1}_move(r,l){return{}}mousedown(r,l){if(this._lastPoint)return;const m=vt(r);this._correctButton(r,m)&&(this._lastPoint=l,this._eventButton=m)}mousemoveWindow(r,l){const m=this._lastPoint;if(m){if(r.preventDefault(),this._eventButton!=null&&function(v,x){const M=Y_[x];return v.buttons===void 0||(v.buttons&M)!==M}(r,this._eventButton))this.reset();else if(this._moved||!(l.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(m,l)}}mouseupWindow(r){this._lastPoint&&vt(r)===this._eventButton&&(this._moved&&it(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class A0 extends dl{mousedown(r,l){super.mousedown(r,l),this._lastPoint&&(this._active=!0)}_correctButton(r,l){return l===0&&!r.ctrlKey}_move(r,l){return{around:l,panDelta:l.sub(r)}}}class Td extends dl{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=.8*(l.x-r.x);if(m)return this._active=!0,{bearingDelta:m}}contextmenu(r){r.preventDefault()}}class Eh extends dl{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=-.5*(l.y-r.y);if(m)return this._active=!0,{pitchDelta:m}}contextmenu(r){r.preventDefault()}}class Qa{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset(),s.aP(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}touchstart(r,l,m){return this._calculateTransform(r,l,m)}touchmove(r,l,m){if(this._active&&!(m.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(m.length===1&&!s.dz())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,l,m)}}touchend(r,l,m){this._calculateTransform(r,l,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,l,m){m.length>0&&(this._active=!0);const v=kf(m,l),x=new s.P(0,0),M=new s.P(0,0);let P=0;for(const z in v){const F=v[z],H=this._touches[z];H&&(x._add(F),M._add(F.sub(H)),P++,v[z]=F)}if(this._touches=v,P<this._minTouches||!M.mag())return;const O=M.div(P);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(P),panDelta:O}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=he("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class cc{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,l,m){return{}}touchstart(r,l,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([l[0],l[1]]))}touchmove(r,l,m){const v=this._firstTwoTouches;if(!v)return;r.preventDefault();const[x,M]=v,P=Rn(m,l,x),O=Rn(m,l,M);if(!P||!O)return;const z=this._aroundCenter?null:P.add(O).div(2);return this._move([P,O],z,r)}touchend(r,l,m){if(!this._firstTwoTouches)return;const[v,x]=this._firstTwoTouches,M=Rn(m,l,v),P=Rn(m,l,x);M&&P||(this._active&&it(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Rn(f,r,l){for(let m=0;m<f.length;m++)if(f[m].identifier===l)return r[m]}function aa(f,r){return Math.log(f/r)/Math.LN2}class Of extends cc{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,l){const m=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(aa(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:aa(this._distance,m),pinchAround:l}}}function Ch(f,r){return 180*f.angleWith(r)/Math.PI}class I0 extends cc{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,l){const m=this._vector;if(this._vector=r[0].sub(r[1]),m&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ch(this._vector,m),pinchAround:l}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const l=25/(Math.PI*this._minDiameter)*360,m=this._startVector;if(!m)return!1;const v=Ch(r,m);return Math.abs(v)<l}}function Rf(f){return Math.abs(f.y)>Math.abs(f.x)}class Ah extends cc{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,Rf(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,l,m){const v=this._lastPoints;if(!v)return;const x=r[0].sub(v[0]),M=r[1].sub(v[1]);return this._map._cooperativeGestures&&!s.dz()&&m.touches.length<3||(this._valid=this.gestureBeginsVertically(x,M,m.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(x.y+M.y)/2*-.5})}gestureBeginsVertically(r,l,m){if(this._valid!==void 0)return this._valid;const v=r.mag()>=2,x=l.mag()>=2;if(!v&&!x)return;if(!v||!x)return this._firstMove==null&&(this._firstMove=m),m-this._firstMove<100&&void 0;const M=r.y>0==l.y>0;return Rf(r)&&Rf(l)&&M}}const X_={panStep:100,bearingStep:15,pitchStep:10};class K_{constructor(){const r=X_;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let l=0,m=0,v=0,x=0,M=0;switch(r.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:r.shiftKey?m=-1:(r.preventDefault(),x=-1);break;case 39:r.shiftKey?m=1:(r.preventDefault(),x=1);break;case 38:r.shiftKey?v=1:(r.preventDefault(),M=-1);break;case 40:r.shiftKey?v=-1:(r.preventDefault(),M=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:P=>{const O=P.getZoom();P.easeTo({duration:300,easeId:"keyboardHandler",easing:zf,zoom:l?Math.round(O)+l*(r.shiftKey?2:1):O,bearing:P.getBearing()+m*this._bearingStep,pitch:P.getPitch()+v*this._pitchStep,offset:[-x*this._panStep,-M*this._panStep],center:P.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function zf(f){return f*(2-f)}const Ed=4.000244140625,hc=1/450;class uc{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._handler=l,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=hc,s.aP(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||s.dz()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let l=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const m=s.q.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,l!==0&&l%Ed==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=l,this._timeout=window.setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(v*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),r.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=r,this._delta-=l,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=_t(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:l,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const l=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>Ed?this._wheelZoomRate:this._defaultZoomRate;let F=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&F!==0&&(F=1/F);const H=l(),U=Math.pow(2,H),G=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):U;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(G*F))),this._type==="wheel"&&(this._startZoom=H,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const m=typeof this._targetZoom=="number"?this._targetZoom:l(),v=this._startZoom,x=this._easing;let M,P=!1;if(this._type==="wheel"&&v&&x){const z=Math.min((s.q.now()-this._lastWheelEventTime)/200,1),F=x(z);M=s.af(v,m,F),z<1?this._frameId||(this._frameId=!0):P=!0}else M=m,P=!0;this._active=!0,P&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let O=M-l();return O*this._lastDelta<0&&(O=0),{noInertia:!0,needsRenderFrame:!P,zoomDelta:O,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let l=s.dA;if(this._prevEase){const m=this._prevEase,v=(s.q.now()-m.start)/m.duration,x=m.easing(v+.01)-m.easing(v),M=.27/Math.sqrt(x*x+1e-4)*.01,P=Math.sqrt(.0729-M*M);l=s.dy(M,P,.25,1)}return this._prevEase={start:s.q.now(),duration:r,easing:l},l}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=he("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class eo{constructor(r,l){this._clickZoom=r,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class oa{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,l){return r.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(r.shiftKey?-1:1),around:m.unproject(l)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class To{constructor(){this._tap=new Sd({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,l,m){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=l[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(r,l,m))}touchmove(r,l,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=l[0],x=v.y-this._swipePoint.y;return this._swipePoint=v,r.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(r,l,m)}touchend(r,l,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(r,l,m)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class pl{constructor(r,l,m){this._el=r,this._mousePan=l,this._touchPan=m}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Eo{constructor(r,l,m){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=l,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class J_{constructor(r,l,m,v){this._el=r,this._touchZoom=l,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Cd=f=>f.zoom||f.drag||f.pitch||f.rotate;class Q_ extends s.z{}class ey{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,l){const m=s.ab.vec3.sub([],l,r);this.radius=s.ab.vec3.length(m[2]<0?s.ab.vec3.div([],m,this.constants):[m[0],m[1],0])}projectRay(r){s.ab.vec3.div(r,r,this.constants),s.ab.vec3.normalize(r,r),s.ab.vec3.mul(r,r,this.constants);const l=s.ab.vec3.scale([],r,this.radius);if(l[2]>0){const m=s.ab.vec3.scale([],[0,0,1],s.ab.vec3.dot(l,[0,0,1])),v=s.ab.vec3.scale([],s.ab.vec3.normalize([],[l[0],l[1],0]),this.radius),x=s.ab.vec3.add([],l,s.ab.vec3.scale([],s.ab.vec3.sub([],s.ab.vec3.add([],v,m),l),2));l[0]=x[0],l[1]=x[1]}return l}}function Ih(f){return f.panDelta&&f.panDelta.mag()||f.zoomDelta||f.bearingDelta||f.pitchDelta}class Yr{constructor(r,l){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new S0(r),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new ey,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(l),s.aP(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,x,M]of this._listeners){const P=v===document?this.handleWindowEvent:this.handleEvent;v.addEventListener(x,P,M)}}destroy(){for(const[r,l,m]of this._listeners){const v=r===document?this.handleWindowEvent:this.handleEvent;r.removeEventListener(l,v,m)}}_addDefaultHandlers(r){const l=this._map,m=l.getCanvasContainer();this._add("mapEvent",new E0(l,r));const v=l.boxZoom=new W_(l,r);this._add("boxZoom",v);const x=new Z_,M=new oa;l.doubleClickZoom=new eo(M,x),this._add("tapZoom",x),this._add("clickZoom",M);const P=new To;this._add("tapDragZoom",P);const O=l.touchPitch=new Ah(l);this._add("touchPitch",O);const z=new Td(r),F=new Eh(r);l.dragRotate=new Eo(r,z,F),this._add("mouseRotate",z,["mousePitch"]),this._add("mousePitch",F,["mouseRotate"]);const H=new A0(r),U=new Qa(l,r);l.dragPan=new pl(m,H,U),this._add("mousePan",H),this._add("touchPan",U,["touchZoom","touchRotate"]);const G=new I0,Q=new Of;l.touchZoomRotate=new J_(m,Q,G,P),this._add("touchRotate",G,["touchPan","touchZoom"]),this._add("touchZoom",Q,["touchPan","touchRotate"]),this._add("blockableMapEvent",new C0(l));const J=l.scrollZoom=new uc(l,this);this._add("scrollZoom",J,["mousePan"]);const ie=l.keyboard=new K_;this._add("keyboard",ie);for(const ne of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[ne]&&l[ne].enable(r[ne])}_add(r,l,m){this._handlers.push({handlerName:r,handler:l,allowed:m}),this._handlersById[r]=l}stop(r){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Cd(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,l,m){for(const v in r)if(v!==m&&(!l||l.indexOf(v)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const l=[];for(const m of r)this._el.contains(m.target)&&l.push(m);return l}handleEvent(r,l){this._updatingCamera=!0;const m=r.type==="renderFrame",v=m?void 0:r,x={needsRenderFrame:!1},M={},P={},O=r.touches?this._getMapTouches(r.touches):void 0,z=O?Ft(this._el,O):m?void 0:_t(this._el,r);for(const{handlerName:U,handler:G,allowed:Q}of this._handlers){if(!G.isEnabled())continue;let J;this._blockedByActive(P,Q,U)?G.reset():G[l||r.type]&&(J=G[l||r.type](r,z,O),this.mergeHandlerResult(x,M,J,U,v),J&&J.needsRenderFrame&&this._triggerRenderFrame()),(J||G.isActive())&&(P[U]=G)}const F={};for(const U in this._previousActiveHandlers)P[U]||(F[U]=v);this._previousActiveHandlers=P,(Object.keys(F).length||Ih(x))&&(this._changes.push([x,M,F]),this._triggerRenderFrame()),(Object.keys(P).length||Ih(x))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:H}=x;H&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],H(this._map))}mergeHandlerResult(r,l,m,v,x){if(!m)return;s.l(r,m);const M={handlerName:v,originalEvent:m.originalEvent||x};m.zoomDelta!==void 0&&(l.zoom=M),m.panDelta!==void 0&&(l.drag=M),m.pitchDelta!==void 0&&(l.pitch=M),m.bearingDelta!==void 0&&(l.rotate=M)}_applyChanges(){const r={},l={},m={};for(const[v,x,M]of this._changes)v.panDelta&&(r.panDelta=(r.panDelta||new s.P(0,0))._add(v.panDelta)),v.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(r.around=v.around),v.aroundCoord!==void 0&&(r.aroundCoord=v.aroundCoord),v.pinchAround!==void 0&&(r.pinchAround=v.pinchAround),v.noInertia&&(r.noInertia=v.noInertia),s.l(l,x),s.l(m,M);this._updateMapTransform(r,l,m),this._changes=[]}_updateMapTransform(r,l,m){const v=this._map,x=v.transform,M=ae=>[ae.x,ae.y,ae.z];if((ae=>{const fe=this._eventsInProgress.drag;return fe&&!this._handlersById[fe.handlerName].isActive()})()&&!Ih(r)){const ae=x.zoom;x.cameraElevationReference="sea",this._originalZoom!=null&&x._orthographicProjectionAtLowPitch&&x.projection.name!=="globe"&&x.pitch===0?(x.cameraElevationReference="ground",x.zoom=this._originalZoom):(x.recenterOnTerrain(),x.cameraElevationReference="ground"),ae!==x.zoom&&this._map._update(!0)}if(x._isCameraConstrained&&v._stop(!0),!Ih(r))return void this._fireEvents(l,m,!0);let{panDelta:P,zoomDelta:O,bearingDelta:z,pitchDelta:F,around:H,aroundCoord:U,pinchAround:G}=r;x._isCameraConstrained&&(O>0&&(O=0),x._isCameraConstrained=!1),G!==void 0&&(H=G),(O||(ae=>l[ae]&&!this._eventsInProgress[ae])("drag"))&&H&&(this._dragOrigin=M(x.pointCoordinate3D(H)),this._originalZoom=x.zoom,this._trackingEllipsoid.setup(x._camera.position,this._dragOrigin)),x.cameraElevationReference="sea",v._stop(!0),H=H||v.transform.centerPoint,z&&(x.bearing+=z),F&&(x.pitch+=F),x._updateCameraState();const Q=[0,0,0];if(P)if(x.projection.name==="mercator"){const ae=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(H).dir),fe=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(H.sub(P)).dir);Q[0]=fe[0]-ae[0],Q[1]=fe[1]-ae[1]}else{const ae=x.pointCoordinate(H);if(x.projection.name==="globe"){P=P.rotate(-x.angle);const fe=x._pixelsPerMercatorPixel/x.worldSize;Q[0]=-P.x*s.dB(s.aS(ae.y))*fe,Q[1]=-P.y*s.dB(x.center.lat)*fe}else{const fe=x.pointCoordinate(H.sub(P));ae&&fe&&(Q[0]=fe.x-ae.x,Q[1]=fe.y-ae.y)}}const J=x.zoom,ie=[0,0,0];if(O){const ae=M(U||x.pointCoordinate3D(H)),fe={dir:s.ab.vec3.normalize([],s.ab.vec3.sub([],ae,x._camera.position))};if(fe.dir[2]<0){const de=x.zoomDeltaToMovement(ae,O);s.ab.vec3.scale(ie,fe.dir,de)}}const ne=s.ab.vec3.add(Q,Q,ie);x._translateCameraConstrained(ne),O&&Math.abs(x.zoom-J)>1e-4&&x.recenterOnTerrain(),x.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(l,m,!0)}_fireEvents(r,l,m){const v=Cd(this._eventsInProgress),x=Cd(r),M={};for(const F in r){const{originalEvent:H}=r[F];this._eventsInProgress[F]||(M[`${F}start`]=H),this._eventsInProgress[F]=r[F]}!v&&x&&this._fireEvent("movestart",x.originalEvent);for(const F in M)this._fireEvent(F,M[F]);x&&this._fireEvent("move",x.originalEvent);for(const F in r){const{originalEvent:H}=r[F];this._fireEvent(F,H)}const P={};let O;for(const F in this._eventsInProgress){const{handlerName:H,originalEvent:U}=this._eventsInProgress[F];this._handlersById[H].isActive()||(delete this._eventsInProgress[F],O=l[H]||U,P[`${F}end`]=O)}for(const F in P)this._fireEvent(F,P[F]);const z=Cd(this._eventsInProgress);if(m&&(v||x)&&!z){this._updatingCamera=!0;const F=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),H=U=>U!==0&&-this._bearingSnap<U&&U<this._bearingSnap;F?(H(F.bearing||this._map.getBearing())&&(F.bearing=0),this._map.easeTo(F,{originalEvent:O})):(this._map.fire(new s.z("moveend",{originalEvent:O})),H(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,l){this._map.fire(new s.z(r,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new Q_("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Ad="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class P0 extends s.E{constructor(r,l){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=l.bearingSnap,this._respectPrefersReducedMotion=l.respectPrefersReducedMotion!==!1,s.aP(["_renderFrameCallback"],this)}getCenter(){return new s.bO(this.transform.center.lng,this.transform.center.lat)}setCenter(r,l){return this.jumpTo({center:r},l)}panBy(r,l,m){return r=s.P.convert(r).mult(-1),this.panTo(this.transform.center,s.l({offset:r},l),m)}panTo(r,l,m){return this.easeTo(s.l({center:r},l),m)}getZoom(){return this.transform.zoom}setZoom(r,l){return this.jumpTo({zoom:r},l),this}zoomTo(r,l,m){return this.easeTo(s.l({zoom:r},l),m)}zoomIn(r,l){return this.zoomTo(this.getZoom()+1,r,l),this}zoomOut(r,l){return this.zoomTo(this.getZoom()-1,r,l),this}getBearing(){return this.transform.bearing}setBearing(r,l){return this.jumpTo({bearing:r},l),this}getPadding(){return this.transform.padding}setPadding(r,l){return this.jumpTo({padding:r},l),this}rotateTo(r,l,m){return this.easeTo(s.l({bearing:r},l),m)}resetNorth(r,l){return this.rotateTo(0,s.l({duration:1e3},r),l),this}resetNorthPitch(r,l){return this.easeTo(s.l({bearing:0,pitch:0,duration:1e3},r),l),this}snapToNorth(r,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,l):this}getPitch(){return this.transform.pitch}setPitch(r,l){return this.jumpTo({pitch:r},l),this}cameraForBounds(r,l){r=s.az.convert(r);const m=l&&l.bearing||0,v=l&&l.pitch||0,x=r.getNorthWest(),M=r.getSouthEast();return this._cameraForBounds(this.transform,x,M,m,v,l)}_extendPadding(r){const l={top:0,right:0,bottom:0,left:0};return r==null?s.l({},l,this.transform.padding):typeof r=="number"?{top:r,bottom:r,right:r,left:r}:s.l({},l,r)}_extendCameraOptions(r){return(r=s.l({offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=this._extendPadding(r.padding),r}_minimumAABBFrustumDistance(r,l){const m=l.max[0]-l.min[0],v=l.max[1]-l.min[1];return m/v>r.aspect?m/(2*Math.tan(.5*r.fovX)*r.aspect):v/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,l,m,v,x,M){const P=r.clone(),O=this._extendCameraOptions(M);P.bearing=v,P.pitch=x;const z=s.bO.convert(l),F=s.bO.convert(m),H=.5*(z.lat+F.lat),U=.5*(z.lng+F.lng),G=s.dC(H,U),Q=s.ab.vec3.normalize([],G),J=s.ab.vec3.normalize([],s.ab.vec3.cross([],Q,[0,1,0])),ie=s.ab.vec3.cross([],J,Q),ne=[J[0],J[1],J[2],0,ie[0],ie[1],ie[2],0,Q[0],Q[1],Q[2],0,0,0,0,1],ae=[G,s.dC(z.lat,z.lng),s.dC(F.lat,z.lng),s.dC(F.lat,F.lng),s.dC(z.lat,F.lng),s.dC(H,z.lng),s.dC(H,F.lng),s.dC(z.lat,U),s.dC(F.lat,U)];let fe=s.cd.fromPoints(ae.map(Xe=>[s.ab.vec3.dot(J,Xe),s.ab.vec3.dot(ie,Xe),s.ab.vec3.dot(Q,Xe)]));const de=s.ab.vec3.transformMat4([],fe.center,ne);s.ab.vec3.squaredLength(de)===0&&s.ab.vec3.set(de,0,0,1),s.ab.vec3.normalize(de,de),s.ab.vec3.scale(de,de,s.ax),P.center=s.dD(de);const be=P.getWorldToCameraMatrix(),ge=s.ab.mat4.invert(new Float64Array(16),be);fe=s.cd.applyTransform(fe,s.ab.mat4.multiply([],be,ne));const ve=this._extendAABB(fe,P,O,v);if(!ve)return void s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");fe=ve,s.ab.vec3.transformMat4(de,de,be);const _e=.5*(fe.max[2]-fe.min[2]),Ee=this._minimumAABBFrustumDistance(P,fe),Oe=s.ab.vec3.scale([],[0,0,1],_e),Ge=s.ab.vec3.add(Oe,de,Oe),je=Ee+(P.pitch===0?0:s.ab.vec3.distance(de,Ge)),Le=P.globeCenterInViewSpace,Ne=s.ab.vec3.sub([],de,[Le[0],Le[1],Le[2]]);s.ab.vec3.normalize(Ne,Ne),s.ab.vec3.scale(Ne,Ne,je);const at=s.ab.vec3.add([],de,Ne);s.ab.vec3.transformMat4(at,at,ge);const pt=s.ds/s.ax,bt=s.ab.vec3.length(at),Ue=s.bH(Math.max(bt*pt-s.ds,Number.EPSILON),0),lt=Math.min(P.zoomFromMercatorZAdjusted(Ue),O.maxZoom);return lt>.5*(s.c6+s.bY)?(P.setProjection({name:"mercator"}),P.zoom=lt,this._cameraForBounds(P,l,m,v,x,M)):{center:P.center,zoom:lt,bearing:v,pitch:x}}_extendAABB(r,l,m,v){const x=.5*((m.padding.left||0)+(m.padding.right||0)),M=.5*((m.padding.top||0)+(m.padding.bottom||0)),P=M,O=x,z=x,F=M,H=l.width-(O+z),U=l.height-(P+F),G=s.ab.vec3.sub([],r.max,r.min),Q=Math.min(H/G[0],U/G[1]),J=Math.min(l.scaleZoom(l.scale*Q),m.maxZoom);if(isNaN(J))return null;const ie=l.scale/l.zoomScale(J),ne=new s.cd([r.min[0]-O*ie,r.min[1]-F*ie,r.min[2]],[r.max[0]+z*ie,r.max[1]+P*ie,r.max[2]]),ae=(typeof m.offset.x=="number"&&typeof m.offset.y=="number"?new s.P(m.offset.x,m.offset.y):s.P.convert(m.offset)).rotate(-s.ai(v));return ne.center[0]-=ae.x*ie,ne.center[1]+=ae.y*ie,ne}queryTerrainElevation(r,l){const m=this.transform.elevation;return m?(l=s.l({},{exaggerated:!0},l),m.getAtPoint(s.aa.fromLngLat(r),null,l.exaggerated)):null}_cameraForBounds(r,l,m,v,x,M){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,l,m,v,x,M);const P=r.clone(),O=this._extendCameraOptions(M);P.bearing=v,P.pitch=x;const z=s.bO.convert(l),F=s.bO.convert(m),H=new s.bO(z.lng,F.lat),U=new s.bO(F.lng,z.lat),G=P.project(z),Q=P.project(F),J=this.queryTerrainElevation(z),ie=this.queryTerrainElevation(F),ne=this.queryTerrainElevation(H),ae=this.queryTerrainElevation(U),fe=[[G.x,G.y,Math.min(J||0,ie||0,ne||0,ae||0)],[Q.x,Q.y,Math.max(J||0,ie||0,ne||0,ae||0)]];let de=s.cd.fromPoints(fe);const be=P.getWorldToCameraMatrix(),ge=s.ab.mat4.invert(new Float64Array(16),be);de=s.cd.applyTransform(de,be);const ve=this._extendAABB(de,P,O,v);if(!ve)return void s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");de=ve;const _e=.5*s.ab.vec3.sub([],de.max,de.min)[2],Ee=this._minimumAABBFrustumDistance(P,de),Oe=[0,0,1,0];s.ab.vec4.transformMat4(Oe,Oe,be),s.ab.vec4.normalize(Oe,Oe);const Ge=s.ab.vec3.scale([],Oe,Ee+_e),je=s.ab.vec3.add([],de.center,Ge);s.ab.vec3.transformMat4(de.center,de.center,ge),s.ab.vec3.transformMat4(je,je,ge);const Le=P.unproject(new s.P(de.center[0],de.center[1])),Ne=s.dE(P.projection,Le),at=Math.pow(2,Ne),pt=Math.min(P._zoomFromMercatorZ(je[2]*P.pixelsPerMeter*at/P.worldSize),O.maxZoom);return P.mercatorFromTransition&&pt<.5*(s.c6+s.bY)?(P.setProjection({name:"globe"}),P.zoom=pt,this._cameraForBounds(P,l,m,v,x,M)):{center:Le,zoom:pt,bearing:v,pitch:x}}fitBounds(r,l,m){const v=this.cameraForBounds(r,l);return this._fitInternal(v,l,m)}fitScreenCoordinates(r,l,m,v,x){const M=s.P.convert(r),P=s.P.convert(l),O=new s.P(Math.min(M.x,P.x),Math.min(M.y,P.y)),z=new s.P(Math.max(M.x,P.x),Math.max(M.y,P.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(M,P))return this;const F=this.transform.pointLocation3D(O),H=this.transform.pointLocation3D(z),U=this.transform.pointLocation3D(new s.P(O.x,z.y)),G=this.transform.pointLocation3D(new s.P(z.x,O.y)),Q=[Math.min(F.lng,H.lng,U.lng,G.lng),Math.min(F.lat,H.lat,U.lat,G.lat)],J=[Math.max(F.lng,H.lng,U.lng,G.lng),Math.max(F.lat,H.lat,U.lat,G.lat)],ie=v&&v.pitch?v.pitch:this.getPitch(),ne=this._cameraForBounds(this.transform,Q,J,m,ie,v);return this._fitInternal(ne,v,x)}_fitInternal(r,l,m){return r?(l=s.l(r,l)).linear?this.easeTo(l,m):this.flyTo(l,m):this}jumpTo(r,l){this.stop();const m=r.preloadOnly?this.transform.clone():this.transform;let v=!1,x=!1,M=!1;"zoom"in r&&m.zoom!==+r.zoom&&(v=!0,m.zoom=+r.zoom),r.center!==void 0&&(m.center=s.bO.convert(r.center)),"bearing"in r&&m.bearing!==+r.bearing&&(x=!0,m.bearing=+r.bearing),"pitch"in r&&m.pitch!==+r.pitch&&(M=!0,m.pitch=+r.pitch);const P=typeof r.padding=="number"?this._extendPadding(r.padding):r.padding;if(r.padding!=null&&!m.isPaddingEqual(P))if(r.retainPadding===!1){const O=m.clone();O.padding=P,m.setLocationAtPoint(m.center,O.centerPoint)}else m.padding=P;return r.preloadOnly?(this._preloadTiles(m),this):(this.fire(new s.z("movestart",l)).fire(new s.z("move",l)),v&&this.fire(new s.z("zoomstart",l)).fire(new s.z("zoom",l)).fire(new s.z("zoomend",l)),x&&this.fire(new s.z("rotatestart",l)).fire(new s.z("rotate",l)).fire(new s.z("rotateend",l)),M&&this.fire(new s.z("pitchstart",l)).fire(new s.z("pitch",l)).fire(new s.z("pitchend",l)),this.fire(new s.z("moveend",l)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.w(Ad),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,l){const m=this.transform;if(!m.projection.supportsFreeCamera)return s.w(Ad),this;this.stop();const v=m.zoom,x=m.pitch,M=m.bearing;m.setFreeCameraOptions(r);const P=v!==m.zoom,O=x!==m.pitch,z=M!==m.bearing;return this.fire(new s.z("movestart",l)).fire(new s.z("move",l)),P&&this.fire(new s.z("zoomstart",l)).fire(new s.z("zoom",l)).fire(new s.z("zoomend",l)),z&&this.fire(new s.z("rotatestart",l)).fire(new s.z("rotate",l)).fire(new s.z("rotateend",l)),O&&this.fire(new s.z("pitchstart",l)).fire(new s.z("pitch",l)).fire(new s.z("pitchend",l)),this.fire(new s.z("moveend",l)),this}easeTo(r,l){this._stop(!1,r.easeId),((r=s.l({offset:[0,0],duration:500,easing:s.dA},r)).animate===!1||this._prefersReducedMotion(r))&&(r.duration=0);const m=this.transform,v=this.getZoom(),x=this.getBearing(),M=this.getPitch(),P=this.getPadding(),O="zoom"in r?+r.zoom:v,z="bearing"in r?this._normalizeBearing(r.bearing,x):x,F="pitch"in r?+r.pitch:M,H=this._extendPadding(r.padding),U=s.P.convert(r.offset);let G,Q,J;if(m.projection.name==="globe"){const Oe=s.aa.fromLngLat(m.center),Ge=U.rotate(-m.angle);Oe.x+=Ge.x/m.worldSize,Oe.y+=Ge.y/m.worldSize;const je=Oe.toLngLat(),Le=s.bO.convert(r.center||je);this._normalizeCenter(Le),G=m.centerPoint.add(Ge),Q=new s.P(Oe.x,Oe.y).mult(m.worldSize),J=new s.P(s.at(Le.lng),s.aA(Le.lat)).mult(m.worldSize).sub(Q)}else{G=m.centerPoint.add(U);const Oe=m.pointLocation(G),Ge=s.bO.convert(r.center||Oe);this._normalizeCenter(Ge),Q=m.project(Oe),J=m.project(Ge).sub(Q)}const ie=m.zoomScale(O-v);let ne,ae;r.around&&(ne=s.bO.convert(r.around),ae=m.locationPoint(ne));const fe=this._zooming||O!==v,de=this._rotating||x!==z,be=this._pitching||F!==M,ge=!m.isPaddingEqual(H),ve=r.retainPadding===!1?m.clone():m,_e=Oe=>Ge=>{if(fe&&(Oe.zoom=s.af(v,O,Ge)),de&&(Oe.bearing=s.af(x,z,Ge)),be&&(Oe.pitch=s.af(M,F,Ge)),ge&&(ve.interpolatePadding(P,H,Ge),G=ve.centerPoint.add(U)),ne)Oe.setLocationAtPoint(ne,ae);else{const je=Oe.zoomScale(Oe.zoom-v),Le=O>v?Math.min(2,ie):Math.max(.5,ie),Ne=Math.pow(Le,1-Ge),at=Oe.unproject(Q.add(J.mult(Ge*Ne)).mult(je));Oe.setLocationAtPoint(Oe.renderWorldCopies?at.wrap():at,G)}return r.preloadOnly||this._fireMoveEvents(l),Oe};if(r.preloadOnly){const Oe=this._emulate(_e,r.duration,m);return this._preloadTiles(Oe),this}const Ee={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=fe,this._rotating=de,this._pitching=be,this._padding=ge,this._easeId=r.easeId,this._prepareEase(l,r.noMoveStart,Ee),this._ease(_e(m),Oe=>{m.cameraElevationReference==="sea"&&m.recenterOnTerrain(),this._afterEase(l,Oe)},r),this}_prepareEase(r,l,m={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),l||m.moving||this.fire(new s.z("movestart",r)),this._zooming&&!m.zooming&&this.fire(new s.z("zoomstart",r)),this._rotating&&!m.rotating&&this.fire(new s.z("rotatestart",r)),this._pitching&&!m.pitching&&this.fire(new s.z("pitchstart",r))}_fireMoveEvents(r){this.fire(new s.z("move",r)),this._zooming&&this.fire(new s.z("zoom",r)),this._rotating&&this.fire(new s.z("rotate",r)),this._pitching&&this.fire(new s.z("pitch",r))}_afterEase(r,l){if(this._easeId&&l&&this._easeId===l)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const m=this._zooming,v=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new s.z("zoomend",r)),v&&this.fire(new s.z("rotateend",r)),x&&this.fire(new s.z("pitchend",r)),this.fire(new s.z("moveend",r))}flyTo(r,l){if(this._prefersReducedMotion(r)){const Xe=s.ay(r,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(Xe,l)}this.stop(),r=s.l({offset:[0,0],speed:1.2,curve:1.42,easing:s.dA},r);const m=this.transform,v=this.getZoom(),x=this.getBearing(),M=this.getPitch(),P=this.getPadding(),O="zoom"in r?s.aw(+r.zoom,m.minZoom,m.maxZoom):v,z="bearing"in r?this._normalizeBearing(r.bearing,x):x,F="pitch"in r?+r.pitch:M,H=this._extendPadding(r.padding),U=m.zoomScale(O-v),G=s.P.convert(r.offset);let Q=m.centerPoint.add(G);const J=m.pointLocation(Q),ie=s.bO.convert(r.center||J);this._normalizeCenter(ie);const ne=m.project(J),ae=m.project(ie).sub(ne);let fe=r.curve;const de=Math.max(m.width,m.height),be=de/U,ge=ae.mag();if("minZoom"in r){const Xe=s.aw(Math.min(r.minZoom,v,O),m.minZoom,m.maxZoom),yt=de/m.zoomScale(Xe-v);fe=Math.sqrt(yt/ge*2)}const ve=fe*fe;function _e(Xe){const yt=(be*be-de*de+(Xe?-1:1)*ve*ve*ge*ge)/(2*(Xe?be:de)*ve*ge);return Math.log(Math.sqrt(yt*yt+1)-yt)}function Ee(Xe){return(Math.exp(Xe)-Math.exp(-Xe))/2}function Oe(Xe){return(Math.exp(Xe)+Math.exp(-Xe))/2}const Ge=_e(0);let je=function(Xe){return Oe(Ge)/Oe(Ge+fe*Xe)},Le=function(Xe){return de*((Oe(Ge)*(Ee(yt=Ge+fe*Xe)/Oe(yt))-Ee(Ge))/ve)/ge;var yt},Ne=(_e(1)-Ge)/fe;if(Math.abs(ge)<1e-6||!isFinite(Ne)){if(Math.abs(de-be)<1e-6)return this.easeTo(r,l);const Xe=be<de?-1:1;Ne=Math.abs(Math.log(be/de))/fe,Le=function(){return 0},je=function(yt){return Math.exp(Xe*fe*yt)}}r.duration="duration"in r?+r.duration:1e3*Ne/("screenSpeed"in r?+r.screenSpeed/fe:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const at=x!==z,pt=F!==M,bt=!m.isPaddingEqual(H),Ue=r.retainPadding===!1?m.clone():m,lt=Xe=>yt=>{const ht=yt*Ne,nt=1/je(ht);Xe.zoom=yt===1?O:v+Xe.scaleZoom(nt),at&&(Xe.bearing=s.af(x,z,yt)),pt&&(Xe.pitch=s.af(M,F,yt)),bt&&(Ue.interpolatePadding(P,H,yt),Q=Ue.centerPoint.add(G));const kt=yt===1?ie:Xe.unproject(ne.add(ae.mult(Le(ht))).mult(nt));return Xe.setLocationAtPoint(Xe.renderWorldCopies?kt.wrap():kt,Q),Xe._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(l),Xe};if(r.preloadOnly){const Xe=this._emulate(lt,r.duration,m);return this._preloadTiles(Xe),this}return this._zooming=!0,this._rotating=at,this._pitching=pt,this._padding=bt,this._prepareEase(l,!1),this._ease(lt(m),()=>this._afterEase(l),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(r){}_cancelRenderFrame(r){}_stop(r,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const m=this._onEaseEnd;this._onEaseEnd=void 0,m.call(this,l)}if(!r){const m=this.handlers;m&&m.stop(!1)}return this}_ease(r,l,m){m.animate===!1||m.duration===0?(r(1),l()):(this._easeStart=s.q.now(),this._easeOptions=m,this._onEaseFrame=r,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((s.q.now()-this._easeStart)/this._easeOptions.duration,1),l=this._onEaseFrame;l&&l(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,l){r=s.bF(r,-180,180);const m=Math.abs(r-l);return Math.abs(r-360-l)<m&&(r-=360),Math.abs(r+360-l)<m&&(r+=360),r}_normalizeCenter(r){const l=this.transform;if(l.maxBounds||l.projection.name!=="globe"&&!l.renderWorldCopies)return;const m=r.lng-l.center.lng;r.lng+=m>180?-360:m<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&s.q.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,l,m){const v=Math.ceil(15*l/1e3),x=[],M=r(m.clone());for(let P=0;P<=v;P++){const O=M(P/v);x.push(O.clone())}return x}_preloadTiles(r,l){}}class D0{constructor(r={}){this.options=r,s.aP(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const l=this.options&&this.options.compact,m=r._getUIString("AttributionControl.ToggleAttribution");this._map=r,this._container=he("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=he("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",m);const v=he("span","mapboxgl-ctrl-icon",this._compactButton);return v.setAttribute("aria-hidden","true"),v.setAttribute("title",m),this._innerContainer=he("div","mapboxgl-ctrl-attrib-inner",this._container),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),l===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.e.ACCESS_TOKEN}];if(r){const m=l.reduce((v,x,M)=>(x.value&&(v+=`${x.key}=${x.value}${M<l.length-1?"&":""}`),v),"?");r.href=`${s.e.FEEDBACK_URL}/${m}#${Md(this._map,!0)}`,r.rel="noopener nofollow"}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const l=this._map.style._mergedSourceCaches;for(const v in l){const x=l[v];if(x.used){const M=x.getSource();M.attribution&&r.indexOf(M.attribution)<0&&r.push(M.attribution)}}r.sort((v,x)=>v.length-x.length),r=r.filter((v,x)=>{for(let M=x+1;M<r.length;M++)if(r[M].indexOf(v)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const m=r.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,r.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class fl{constructor(){s.aP(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=he("div","mapboxgl-ctrl");const l=he("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://www.mapbox.com/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const l in r){const m=r[l].getSource();if(m.hasOwnProperty("mapbox_logo")&&!m.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const l=r[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}}}class Id{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const l=++this._id;return this._queue.push({callback:r,id:l,cancelled:!1}),l}remove(r){const l=this._currentlyRunning,m=l?this._queue.concat(l):this._queue;for(const v of m)if(v.id===r)return void(v.cancelled=!0)}run(r=0){const l=this._currentlyRunning=this._queue;this._queue=[];for(const m of l)if(!m.cancelled&&(m.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class Ns{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const l=s.cB((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-l)+this._end*l}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,l,m){this._start=this.getValue(l),this._end=r,this._startTime=l,this._endTime=l+m}}const Vs={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},dc=["mouseenter","mouseover","mouseleave","mouseout"];class Co extends s.z{constructor(r,l,m,v){const{point:x,lngLat:M,originalEvent:P,target:O}=r;super(r.type,{point:x,lngLat:M,originalEvent:P,target:O}),this.preventDefault=()=>{r.preventDefault()},this.id=l,this.interaction=m,this.feature=v}}class pc{constructor(r){this.map=r,this.interactionsByType=new Map,this.typeById=new Map,this.filters=new Map,this.delegatedHandlers=new Map,this.handleType=this.handleType.bind(this)}add(r,l){if(this.typeById.has(r))throw new Error(`Interaction id "${r}" already exists.`);const{type:m,filter:v}=l;v&&this.filters.set(r,s.aZ(v));const x=this.interactionsByType.get(m)||new Map;if(x.size===0){if(dc.includes(m)){const{mousemove:M,mouseout:P}=this._createDelegatedHandlers(r,l);this.map.on("mousemove",M),this.map.on("mouseout",P),this.delegatedHandlers.set(r,{mousemove:M,mouseout:P})}else this.map.on(m,this.handleType);this.interactionsByType.set(m,x)}x.set(r,l),this.typeById.set(r,m)}get(r){const l=this.typeById.get(r);if(!l)return;const m=this.interactionsByType.get(l);return m?m.get(r):void 0}remove(r){const l=this.typeById.get(r);if(!l)return;this.typeById.delete(r),this.filters.delete(r);const m=this.interactionsByType.get(l);if(m){if(m.delete(r),this.delegatedHandlers.has(r)){const{mousemove:v,mouseout:x}=this.delegatedHandlers.get(r);this.map.off("mousemove",v),this.map.off("mouseout",x),this.delegatedHandlers.delete(r)}m.size===0&&this.map.off(l,this.handleType)}}queryTargets(r,l){const m=[];for(const[v,x]of l)x.target&&m.push({targetId:v,target:x.target,filter:this.filters.get(v)});return this.map.style.queryRenderedTargets(r,m,this.map.transform)}handleType(r,l){const m=this.interactionsByType.get(r.type),v=Array.from(m).reverse();l=l||this.queryTargets(r.point,v);let x=!1;for(const M of l){for(const[P,O]of v){if(!O.target)continue;const z=M.variants?M.variants[P]:null;if(z){for(const F of z){const H=new s.cw(M,F);if(O.handler(new Co(r,P,O,H))!==!1){x=!0;break}}if(x)break}}if(x)break}if(!x)for(const[M,P]of v){const{handler:O,target:z}=P;if(!z&&O(new Co(r,M,P,null))!==!1)break}}_createDelegatedHandlers(r,l){switch(l.type){case"mouseenter":case"mouseover":{let m=!1,v=new Set;return{mousemove:x=>{const M=this.queryTargets(x.point,[[r,l]]),P=new Set;if(!M.length)return m=!1,void v.clear();const O=[];for(const z of M)v.has(z.id)||(P.add(z.id),O.push(z));m&&!O.length||(m=!0,v=P,x.type=l.type,this.handleType(x,O))},mouseout:()=>{m=!1,v.clear()}}}case"mouseleave":case"mouseout":{let m=[];return{mousemove:v=>{const x=this.queryTargets(v.point,[[r,l]]);if(!x.length)return v.type=l.type,this.handleType(v,m),void(m=x);const M=[],P=new Set(x.map(O=>O.id));for(const O of m)P.has(O.id)||M.push(O);M.length&&(v.type=l.type,this.handleType(v,M)),m=x},mouseout:v=>{m.length&&(v.type=l.type,this.handleType(v,m),m=[])}}}}}}function Ff(f,r){if(Array.isArray(f)&&Array.isArray(r)){const l=new Set(f),m=new Set(r);return l.size===m.size&&f.every(v=>m.has(v))}return s.bn(f,r)}const Fi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0,scaleFactor:1,spriteFormat:"auto"},Ao={showCompass:!0,showZoom:!0,visualizePitch:!1};class ty{constructor(r,l,m=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new Td({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,m&&(this.mousePitch=new Eh({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),s.aP(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),l.addEventListener("mousedown",this.mousedown),l.addEventListener("touchstart",this.touchstart,{passive:!1}),l.addEventListener("touchmove",this.touchmove),l.addEventListener("touchend",this.touchend),l.addEventListener("touchcancel",this.reset)}down(r,l){this.mouseRotate.mousedown(r,l),this.mousePitch&&this.mousePitch.mousedown(r,l),rt()}move(r,l){const m=this.map,v=this.mouseRotate.mousemoveWindow(r,l),x=v&&v.bearingDelta;if(x&&m.setBearing(m.getBearing()+x),this.mousePitch){const M=this.mousePitch.mousemoveWindow(r,l),P=M&&M.pitchDelta;P&&m.setPitch(m.getPitch()+P)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){gt(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(s.l({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),_t(this.element,r)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,_t(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Ft(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=Ft(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function L0(f,r,l){if(f=new s.bO(f.lng,f.lat),r){const m=new s.bO(f.lng-360,f.lat),v=new s.bO(f.lng+360,f.lat),x=360*Math.ceil(Math.abs(f.lng-l.center.lng)/360),M=l.locationPoint(f).distSqr(r),P=r.x<0||r.y<0||r.x>l.width||r.y>l.height;l.locationPoint(m).distSqr(r)<M&&(P||Math.abs(m.lng-l.center.lng)<x)?f=m:l.locationPoint(v).distSqr(r)<M&&(P||Math.abs(v.lng-l.center.lng)<x)&&(f=v)}for(;Math.abs(f.lng-l.center.lng)>180;){const m=l.locationPoint(f);if(m.x>=0&&m.y>=0&&m.x<=l.width&&m.y<=l.height)break;f.lng>l.center.lng?f.lng-=360:f.lng+=360}return f}const Ph={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Ca extends s.E{constructor(r,l){if(super(),(r instanceof HTMLElement||l)&&(r=s.l({element:r},l)),s.aP(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=s.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=he("div");const x=41,M=27,P=we("svg",{display:"block",height:x*this._scale+"px",width:M*this._scale+"px",viewBox:`0 0 ${M} ${x}`},this._element),O=we("radialGradient",{id:"shadowGradient"},we("defs",{},P));we("stop",{offset:"10%","stop-opacity":.4},O),we("stop",{offset:"100%","stop-opacity":.05},O),we("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},P),we("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},P),we("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},P),we("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},P),this._offset=s.P.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const m=this._element.classList;for(const x in Ph)m.remove(`mapboxgl-marker-anchor-${x}`);m.add(`mapboxgl-marker-anchor-${this._anchor}`);const v=r&&r.className?r.className.trim().split(/\s+/):[];m.add(...v),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=s.bO.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const v=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const l=r.code,m=r.charCode||r.keyCode;l!=="Space"&&l!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(r){const l=r.originalEvent.target,m=this._element;this._popup&&(l===m||m.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,l=this._pos;if(!r||!l)return!1;const m=r.unproject(l),v=r.getFreeCameraOptions();if(!v.position)return!1;const x=v.position.toLngLat();return x.distanceTo(m)<.9*x.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const l=this._pos;if(!l||l.x<0||l.x>r.transform.width||l.y<0||l.y>r.transform.height)return void this._clearFadeTimer();const m=r.unproject(l);let v;r._showingGlobe()&&s.dH(r.transform,this._lngLat)?v=0:(v=1-r._queryFogOpacity(m),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(v*=this._occludedOpacity)),this._element.style.opacity=`${v}`,this._element.style.pointerEvents=v>0?"auto":"none",this._popup&&this._popup._setOpacity(v),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const l=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${Ph[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${l.x}px,${l.y}px)
        `}_calculateXYTransform(){const r=this._pos,l=this._map,m=this.getPitchAlignment();if(!l||!r||m!=="map")return"";if(!l._showingGlobe()){const O=l.getPitch();return O?`rotateX(${O}deg)`:""}const v=s.c4(s.dI(l.transform,this._lngLat)),x=r.sub(s.dJ(l.transform)),M=Math.abs(x.x)+Math.abs(x.y);if(M===0)return"";const P=v/M;return`rotateX(${-x.y*P}deg) rotateY(${x.x*P}deg)`}_calculateZTransform(){const r=this._pos,l=this._map;if(!l||!r)return"";let m=0;const v=this.getRotationAlignment();if(v==="map")if(l._showingGlobe()){const x=l.project(new s.bO(this._lngLat.lng,this._lngLat.lat+.001)),M=l.project(new s.bO(this._lngLat.lng,this._lngLat.lat-.001)).sub(x);m=s.c4(Math.atan2(M.y,M.x))-90}else m=-l.getBearing();else if(v==="horizon"){const x=s.ac(4,6,l.getZoom()),M=s.dJ(l.transform);M.y+=x*l.transform.height;const P=r.sub(M),O=s.c4(Math.atan2(P.y,P.x));m=(O>90?O-270:O+90)*(1-x)}return m+=this._rotation,m?`rotateZ(${m}deg)`:""}_update(r){cancelAnimationFrame(this._updateFrameId);const l=this._map;l&&(l.transform.renderWorldCopies&&(this._lngLat=L0(this._lngLat,this._pos,l.transform)),this._pos=l.project(this._lngLat),r===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),l._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(l._showingGlobe()||l.getTerrain()||l.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=s.P.convert(r),this._update(),this}addClassName(r){return this._element.classList.add(r),this}removeClassName(r){return this._element.classList.remove(r),this}toggleClassName(r){return this._element.classList.toggle(r)}_onMove(r){const l=this._map;if(!l)return;const m=this._pointerdownPos,v=this._positionDelta;if(m&&v){if(!this._isDragging){const x=this._clickTolerance||l._clickTolerance;if(r.point.dist(m)<x)return;this._isDragging=!0}this._pos=r.point.sub(v),this._lngLat=l.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.z("dragstart"))),this.fire(new s.z("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.z("dragend")),this._state="inactive"}_addDragHandler(r){const l=this._map,m=this._pos;l&&m&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(m),this._pointerdownPos=r.point,this._state="pending",l.on("mousemove",this._onMove),l.on("touchmove",this._onMove),l.once("mouseup",this._onUp),l.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const l=this._map;return l&&(r?(l.on("mousedown",this._addDragHandler),l.on("touchstart",this._addDragHandler)):(l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const to={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Xr={maxWidth:100,unit:"metric"},fs={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Er={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},k0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function zn(f=new s.P(0,0),r="bottom"){if(typeof f=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(f,2)));switch(r){case"top":return new s.P(0,f);case"top-left":return new s.P(l,l);case"top-right":return new s.P(-l,l);case"bottom":return new s.P(0,-f);case"bottom-left":return new s.P(l,-l);case"bottom-right":return new s.P(-l,-l);case"left":return new s.P(f,0);case"right":return new s.P(-f,0)}return new s.P(0,0)}return f instanceof s.P||Array.isArray(f)?s.P.convert(f):s.P.convert(f[r]||[0,0])}return{version:L,supported:se.supported,setRTLTextPlugin:s.dK,getRTLTextPluginStatus:s.dL,Map:class extends P0{constructor(f){V.mark(R.create);const r=f;if((f=s.l({},Fi,f)).minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(f.antialias&&s.dF(window)&&(f.antialias=!1,s.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Uu(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies),f),this._repaint=!!f.repaint,this._interactive=f.interactive,this._minTileCacheSize=f.minTileCacheSize,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=f.crossSourceCollisions,this._collectResourceTiming=f.collectResourceTiming,this._language=this._parseLanguage(f.language),this._worldview=f.worldview,this._renderTaskQueue=new Id,this._domRenderTaskQueue=new Id,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.aV(),this._locale=s.l({},Vs,f.locale),this._clickTolerance=f.clickTolerance,this._cooperativeGestures=f.cooperativeGestures,this._performanceMetricsCollection=f.performanceMetricsCollection,this._tessellationStep=f.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=f.precompilePrograms,this._scaleFactorChanged=!1,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Ns(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._scaleFactor=f.scaleFactor,this._requestManager=new Ji(f.transformRequest,f.accessToken,f.testMode),this._silenceAuthErrors=!!f.testMode,this._contextCreateOptions=f.contextCreateOptions?{...f.contextCreateOptions}:{},typeof f.container=="string"){const l=document.getElementById(f.container);if(!l)throw new Error(`Container '${f.container.toString()}' not found.`);this._container=l}else{if(!(f.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(this._container.childNodes.length>0&&s.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),f.maxBounds&&this.setMaxBounds(f.maxBounds),this._spriteFormat=f.spriteFormat,s.aP(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new yd),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._tp.registerParameter(this,["Scaling"],"_scaleFactor",{min:.1,max:10,step:.1},()=>{this.setScaleFactor(this._scaleFactor)}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new Yr(this,f),this._localFontFamily=f.localFontFamily,this._localIdeographFontFamily=f.localIdeographFontFamily,(f.style||!f.testMode)&&this.setStyle(f.style||s.e.DEFAULT_STYLE,{config:f.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),f.projection&&this.setProjection(f.projection),this.indoor=new qm(this),f.hash&&(this._hash=new Lf(typeof f.hash=="string"&&f.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){r.center==null&&r.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch});const l=f.bounds;l&&(this.resize(),this.fitBounds(l,s.l({},f.fitBoundsOptions,{duration:0})))}this.resize(),f.attributionControl&&this.addControl(new D0({customAttribution:f.customAttribution})),this._logoControl=new fl,this.addControl(this._logoControl,f.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new s.z(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new s.z(`${l.dataType}dataloading`,l))}),this._interactions=new pc(this)}_getMapId(){return this._mapId}addControl(f,r){if(r===void 0&&(r=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new s.y(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=f.onAdd(this);this._controls.push(f);const m=this._controlPositions[r];return r.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this}removeControl(f){if(!f||!f.onRemove)return this.fire(new s.y(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(f);return r>-1&&this._controls.splice(r,1),f.onRemove(this),this}hasControl(f){return this._controls.indexOf(f)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(f){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new s.z("movestart",f)).fire(new s.z("move",f)),this.fire(new s.z("resize",f)),r&&this.fire(new s.z("moveend",f)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(f){return this.transform.setMaxBounds(s.az.convert(f)),this._update()}setMinZoom(f){if((f=f??-2)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f?this.setZoom(f):this.fire(new s.z("zoomstart")).fire(new s.z("zoom")).fire(new s.z("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(f){if((f=f??22)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f?this.setZoom(f):this.fire(new s.z("zoomstart")).fire(new s.z("zoom")).fire(new s.z("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(f){if((f=f??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f?this.setPitch(f):this.fire(new s.z("pitchstart")).fire(new s.z("pitch")).fire(new s.z("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(f){if((f=f??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f?this.setPitch(f):this.fire(new s.z("pitchstart")).fire(new s.z("pitch")).fire(new s.z("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getScaleFactor(){return this._scaleFactor}setScaleFactor(f){return this._scaleFactor=f,this.painter.scaleFactor=f,this._tp.refreshUI(),this._scaleFactorChanged=!0,this.style._updateFilteredLayers(r=>r.type==="symbol"),this._update(!0),this}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(f){return this.transform.renderWorldCopies=f,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(f){return f==="auto"?navigator.language:Array.isArray(f)?f.length===0?void 0:f.map(r=>r==="auto"?navigator.language:r):f}setLanguage(f){const r=this._parseLanguage(f);if(!this.style||r===this._language)return this;this._language=r,this.style.reloadSources();for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(f){return this.style&&f!==this._worldview?(this._worldview=f,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(f){return this._lazyInitEmptyStyle(),f?typeof f=="string"&&(f={name:f}):f=null,this._useExplicitProjection=!!f,this._prioritizeAndUpdateProjection(f,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const f=this.transform,r=f.projection.name;let l;r==="globe"&&f.zoom>=s.bY?(f.setMercatorFromTransition(),l=!0):r==="mercator"&&f.zoom<s.bY&&(f.setProjection({name:"globe"}),l=!0),l&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(f,r){return this._updateProjection(f||r||{name:"mercator"})}_updateProjection(f){let r;return r=f.name==="globe"&&this.transform.zoom>=s.bY?this.transform.setMercatorFromTransition():this.transform.setProjection(f),this.style.applyProjectionUpdate(),r&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(f){return this.transform.locationPoint3D(s.bO.convert(f))}unproject(f){return this.transform.pointLocation3D(s.P.convert(f))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(f,r,l){const m=v=>{let x=[];if(Array.isArray(r)){const M=r.filter(P=>this.getLayer(P));x=M.length?this.queryRenderedFeatures(v,{layers:M}):[]}else x=this.queryRenderedFeatures(v,{target:r});return x};if(f==="mouseenter"||f==="mouseover"){let v=!1;return{listener:l,targets:r,delegates:{mousemove:M=>{const P=m(M.point);P.length?v||(v=!0,l.call(this,new ps(f,this,M.originalEvent,{features:P}))):v=!1},mouseout:()=>{v=!1}}}}if(f==="mouseleave"||f==="mouseout"){let v=!1;return{listener:l,targets:r,delegates:{mousemove:P=>{m(P.point).length?v=!0:v&&(v=!1,l.call(this,new ps(f,this,P.originalEvent)))},mouseout:P=>{v&&(v=!1,l.call(this,new ps(f,this,P.originalEvent)))}}}}{const v=x=>{const M=m(x.point);M.length&&(x.features=M,l.call(this,x),delete x.features)};return{listener:l,targets:r,delegates:{[f]:v}}}}on(f,r,l){if(typeof r=="function"||l===void 0)return super.on(f,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(f,r,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(f,r,l){if(typeof r=="function"||l===void 0)return super.once(f,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(f,r,l);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(f,r,l){if(typeof r=="function"||l===void 0)return super.off(f,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._delegatedListeners?this._delegatedListeners[f]:void 0;return m&&(v=>{for(let x=0;x<v.length;x++){const M=v[x];if(M.listener===l&&Ff(M.targets,r)){for(const P in M.delegates)this.off(P,M.delegates[P]);return v.splice(x,1),this}}})(m),this}queryRenderedFeatures(f,r){if(!this.style)return[];if(f===void 0||f instanceof s.P||Array.isArray(f)||r!==void 0||(r=f,f=void 0),f=f||[[0,0],[this.transform.width,this.transform.height]],!r){const x=this.style.queryRenderedFeatures(f,void 0,this.transform),M=this.style.queryRenderedFeatureset(f,void 0,this.transform);return x.concat(M)}let l=!0;if(r.target&&(l=this._isTargetValid(r.target),l&&!r.layers))return this.style.queryRenderedFeatureset(f,r,this.transform);let m=!0;if(r.layers&&Array.isArray(r.layers)){for(const x of r.layers)if(!this._isValidId(x)){m=!1;break}if(m&&!r.target)return this.style.queryRenderedFeatures(f,r,this.transform)}let v=[];return m&&(v=v.concat(this.style.queryRenderedFeatures(f,r,this.transform))),l&&(v=v.concat(this.style.queryRenderedFeatureset(f,r,this.transform))),v}querySourceFeatures(f,r){return!f||typeof f=="string"&&!this._isValidId(f)?[]:this.style.querySourceFeatures(f,r)}isPointOnSurface(f){const{name:r}=this.transform.projection;return r!=="globe"&&r!=="mercator"&&s.w(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(s.P.convert(f))}addInteraction(f,r){return this._interactions.add(f,r),this}removeInteraction(f){return this._interactions.remove(f),this}setStyle(f,r){return r=s.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r),this.style&&f&&r.diff!==!1&&r.localFontFamily===this._localFontFamily&&r.localIdeographFontFamily===this._localIdeographFontFamily&&!r.config?(this.style._diffStyle(f,(l,m)=>{l?(s.w(`Unable to perform style diff: ${String(l.message||l.error||l)}. Rebuilding the style from scratch.`),this._updateStyle(f,r)):m&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(f,r))}_getUIString(f){const r=this._locale[f];if(r==null)throw new Error(`Missing UI string '${f}'`);return r}_updateStyle(f,r){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),f){const l=s.l({},r);r&&r.config&&(l.initialConfig=r.config,delete l.config),this.style=new hs(this,l).load(f),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new hs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.w("There is no style added to the map."),!1)}_isValidId(f){return f==null?(this.fire(new s.y(new Error("IDs can't be empty."))),!1):!s.cr(f)||(this.fire(new s.y(new Error(`IDs can't contain special symbols: "${f}".`))),!1)}_isTargetValid(f){return"featuresetId"in f?this._isValidId("importId"in f?f.importId:f.featuresetId):"layerId"in f&&this._isValidId(f.layerId)}_areTargetsValid(f){if(Array.isArray(f)){for(const r of f)if(!this._isValidId(r))return!1;return!0}return this._isTargetValid(f)}addSource(f,r){return this._isValidId(f)?(this._lazyInitEmptyStyle(),this.style.addSource(f,r),this._update(!0)):this}isSourceLoaded(f){return!!this._isValidId(f)&&!!this.style&&this.style._isSourceCacheLoaded(f)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(f,r,l){this._lazyInitEmptyStyle(),this.style.addSourceType(f,r,l)}removeSource(f){return this._isValidId(f)?(this.style.removeSource(f),this._updateTerrain(),this._update(!0)):this}getSource(f){return this._isValidId(f)?this.style.getOwnSource(f):null}addImage(f,r,{pixelRatio:l=1,sdf:m=!1,stretchX:v,stretchY:x,content:M}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap){const{width:P,height:O,data:z}=s.q.getImageData(r);this.style.addImage(f,{data:new s.r({width:P,height:O},z),pixelRatio:l,stretchX:v,stretchY:x,content:M,sdf:m,version:0,usvg:!1})}else if(r.width===void 0||r.height===void 0)this.fire(new s.y(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:P,height:O}=r,z=r;this.style.addImage(f,{data:new s.r({width:P,height:O},new Uint8Array(z.data)),pixelRatio:l,stretchX:v,stretchY:x,content:M,sdf:m,usvg:!1,version:0,userImage:z}),z.onAdd&&z.onAdd(this,f)}}updateImage(f,r){this._lazyInitEmptyStyle();const l=this.style.getImage(f);if(!l)return void this.fire(new s.y(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap?s.q.getImageData(r):r,{width:v,height:x,data:M}=m;if(v===void 0||x===void 0)return void this.fire(new s.y(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==(l.usvg?l.icon.usvg_tree.width:l.data.width)||x!==(l.usvg?l.icon.usvg_tree.height:l.data.height))return void this.fire(new s.y(new Error(`The width and height of the updated image (${v}, ${x})
                must be that same as the previous version of the image
                (${l.data.width}, ${l.data.height})`)));const P=!(r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap);let O=!1;l.usvg?(l.data=new s.r({width:v,height:x},new Uint8Array(M)),l.usvg=!1,l.icon=void 0,O=!0):l.data.replace(M,P),this.style.updateImage(f,l,O)}hasImage(f){return f?!!this.style&&!!this.style.getImage(f):(this.fire(new s.y(new Error("Missing required image id"))),!1)}removeImage(f){this.style.removeImage(f)}loadImage(f,r){s.o(this._requestManager.transformRequest(f,s.R.Image),(l,m)=>{r(l,m instanceof HTMLImageElement?s.q.getImageData(m):m)})}listImages(){return this.style.listImages()}addModel(f,r){this._lazyInitEmptyStyle(),this.style.addModel(f,r)}hasModel(f){return f?this.style.hasModel(f):(this.fire(new s.y(new Error("Missing required model id"))),!1)}removeModel(f){this.style.removeModel(f)}listModels(){return this.style.listModels()}addLayer(f,r){return this._isValidId(f.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(f,r),this._update(!0)):this}getSlot(f){const r=this.getLayer(f);return r&&r.slot||null}setSlot(f,r){return this.style.setSlot(f,r),this.style.mergeLayers(),this._update(!0)}addImport(f,r){return this.style.addImport(f,r),this}updateImport(f,r){return typeof r!="string"&&r.id!==f?(this.removeImport(f),this.addImport(r)):(this.style.updateImport(f,r),this._update(!0))}removeImport(f){return this.style.removeImport(f),this}moveImport(f,r){return this.style.moveImport(f,r),this._update(!0)}moveLayer(f,r){return this._isValidId(f)?(this.style.moveLayer(f,r),this._update(!0)):this}removeLayer(f){return this._isValidId(f)?(this.style.removeLayer(f),this._update(!0)):this}getLayer(f){if(!this._isValidId(f))return null;const r=this.style.getOwnLayer(f);return r?r.type==="custom"?r.implementation:r.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(f,r,l){return this._isValidId(f)?(this.style.setLayerZoomRange(f,r,l),this._update(!0)):this}setFilter(f,r,l={}){return this._isValidId(f)?(this.style.setFilter(f,r,l),this._update(!0)):this}getFilter(f){return this._isValidId(f)?this.style.getFilter(f):null}setPaintProperty(f,r,l,m={}){return this._isValidId(f)?(this.style.setPaintProperty(f,r,l,m),this._update(!0)):this}getPaintProperty(f,r){return this._isValidId(f)?this.style.getPaintProperty(f,r):null}setLayoutProperty(f,r,l,m={}){return this._isValidId(f)?(this.style.setLayoutProperty(f,r,l,m),this._update(!0)):this}getLayoutProperty(f,r){return this._isValidId(f)?this.style.getLayoutProperty(f,r):null}getSchema(f){return this.style.getSchema(f)}setSchema(f,r){return this.style.setSchema(f,r),this._update(!0)}getConfig(f){return this.style.getConfig(f)}setConfig(f,r){return this.style.setConfig(f,r),this._update(!0)}getConfigProperty(f,r){return this.style.getConfigProperty(f,r)}setConfigProperty(f,r,l){return this.style.setConfigProperty(f,r,l),this._update(!0)}getFeaturesetDescriptors(f){return this.style.getFeaturesetDescriptors(f)}setLights(f){if(this._lazyInitEmptyStyle(),f&&f.length===1&&f[0].type==="flat"){const r=f[0];r.properties?this.style.setFlatLight(r.properties,r.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(f),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const f=this.style.getLights()||[];return f.length===0&&f.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),f}setLight(f,r={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:f}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(f){return this._lazyInitEmptyStyle(),!f&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(f),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(f){return this._lazyInitEmptyStyle(),this.style.setFog(f),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setSnow(f){return this._lazyInitEmptyStyle(),this.style.setSnow(f),this._update(!0)}getSnow(){return this.style?this.style.getSnow():null}setRain(f){return this._lazyInitEmptyStyle(),this.style.setRain(f),this._update(!0)}getRain(){return this.style?this.style.getRain():null}setColorTheme(f){return this._lazyInitEmptyStyle(),this.style.setColorTheme(f),this._update(!0)}setImportColorTheme(f,r){return this._lazyInitEmptyStyle(),this.style.setImportColorTheme(f,r),this._update(!0)}setCamera(f){return this.style.setCamera(f),this._triggerCameraUpdate(f)}_triggerCameraUpdate(f){return this._update(this.transform.setOrthographicProjectionAtLowPitch(f["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(f){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.bO.convert(f),this.transform):0}setFeatureState(f,r){return f.source&&!this._isValidId(f.source)?this:(this.style.setFeatureState(f,r),this._update())}removeFeatureState(f,r){return f.source&&!this._isValidId(f.source)?this:(this.style.removeFeatureState(f,r),this._update())}getFeatureState(f){return f.source&&!this._isValidId(f.source)?null:this.style.getFeatureState(f)}_updateContainerDimensions(){if(!this._container)return;const f=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let l,m,v,x=this._container;for(;x&&(!m||!v);){const M=window.getComputedStyle(x).transform;M&&M!=="none"&&(l=M.match(/matrix.*\((.+)\)/)[1].split(", "),l[0]&&l[0]!=="0"&&l[0]!=="1"&&(m=l[0]),l[3]&&l[3]!=="0"&&l[3]!=="1"&&(v=l[3])),x=x.parentElement}this._containerWidth=m?Math.abs(f/m):f,this._containerHeight=v?Math.abs(r/v):r}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const f=this._container;f.classList.add("mapboxgl-map"),(this._missingCSSCanary=he("div","mapboxgl-canary",f)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=he("div","mapboxgl-canvas-container",f);this._canvas=he("canvas","mapboxgl-canvas",r),this._interactive&&(r.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const l=this._controlContainer=he("div","mapboxgl-control-container",f),m=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(v=>{m[v]=he("div",`mapboxgl-ctrl-${v}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(f,r){const l=s.q.devicePixelRatio||1;this._canvas.width=l*Math.ceil(f),this._canvas.height=l*Math.ceil(r),this._canvas.style.width=`${f}px`,this._canvas.style.height=`${r}px`}_addMarker(f){this._markers.push(f)}_removeMarker(f){const r=this._markers.indexOf(f);r!==-1&&this._markers.splice(r,1)}_addPopup(f){this._popups.push(f)}_removePopup(f){const r=this._popups.indexOf(f);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const f=s.l({},se.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl2",f);r?($r(r,!0),this.painter=new Df(r,this._contextCreateOptions,this.transform,this._scaleFactor,this._tp),this.on("data",l=>{l.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.m.testSupport(r)):this.fire(new s.y(new Error("Failed to initialize WebGL")))}_contextLost(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.z("webglcontextlost",{originalEvent:f}))}_contextRestored(f){this._setupPainter(),this.resize(),this._update(),this.fire(new s.z("webglcontextrestored",{originalEvent:f}))}_onMapScroll(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(f){return this._update(),this._renderTaskQueue.add(f)}_cancelRenderFrame(f){this._renderTaskQueue.remove(f)}_requestDomTask(f){!this.loaded()||this.loaded()&&!this.isMoving()?f():this._domRenderTaskQueue.add(f)}_render(f){let r;this.fire(new s.z("renderstart")),++this._frameId;const l=this.painter.context.extTimerQuery,m=s.q.now(),v=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(r=v.createQuery(),v.beginQuery(l.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(f),this._domRenderTaskQueue.run(f),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const z=this.transform.zoom,F=this.transform.pitch,H=s.q.now(),U=new s.a8(z,{now:H,fadeDuration:x,pitch:F,transition:this.style.transition});this.style.update(U)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let M=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),M=this._updateAverageElevation(m),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):M=this._updateAverageElevation(m);const P=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions,this.painter.replacementSource,this._scaleFactorChanged);if(this._scaleFactorChanged&&(this._scaleFactorChanged=!1),P&&(this._placementDirty=P.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.z("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,V.mark(R.load),this.fire(new s.z("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&(this.style.snow||this.style.rain)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const z=s.q.now()-m;v.endQuery(l.TIME_ELAPSED_EXT),setTimeout(()=>{const F=v.getQueryParameter(r,v.QUERY_RESULT)/1e6;v.deleteQuery(r),this.fire(new s.z("gpu-timing-frame",{cpuTime:z,gpuTime:F}))},50)}if(this.listens("gpu-timing-layer")){const z=this.painter.collectGpuTimers();setTimeout(()=>{const F=this.painter.queryGpuTimers(z);this.fire(new s.z("gpu-timing-layer",{layerTimes:F}))},50)}if(this.listens("gpu-timing-deferred-render")){const z=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const F=this.painter.queryGpuTimeDeferredRender(z);this.fire(new s.z("gpu-timing-deferred-render",{gpuTime:F}))},50)}const O=this._sourcesDirty||this._styleDirty||this._placementDirty||M;if(O||this._repaint)this.triggerRepaint();else{const z=this.idle();if(z&&(M=this._updateAverageElevation(m,!0)),M)this.triggerRepaint();else if(this._triggerFrame(!1),z&&(this.fire(new s.z("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const F=this._calculateSpeedIndex();this.fire(new s.z("speedindexcompleted",{speedIndex:F})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||O||(this._fullyLoaded=!0,V.mark(R.fullLoad),this._performanceMetricsCollection&&sn(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(f){for(const r of this._markers)f&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!f||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(f,r=!1){const l=v=>(this.transform.averageElevation=v,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&l(0);const m=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(m||(r||f-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(f)){const v=this.transform.averageElevation;let x=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=f;const M=Math.abs(v-x);if(M>1){if(this._isInitialLoad||m)return this._averageElevation.jumpTo(x),l(x);this._averageElevation.easeTo(x,f,300)}else if(M>1e-4)return this._averageElevation.jumpTo(x),l(x)}return!!this._averageElevation.isEasing(f)&&l(this._averageElevation.getValue(f))}_authenticate(){Ie(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,f=>{if(f&&(f.message===Oi||f.status===401)){const r=this.painter.context.gl;$r(r,!1),this._logoControl instanceof fl&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.y(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),kn(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&Pi(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const f=this._isDragging();this.painter.updateTerrain(this.style,f)}_calculateSpeedIndex(){const f=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const l=this.painter.context.gl,m=l.createFramebuffer();function v(x){l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,x,0);const M=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,M),M}return l.bindFramebuffer(l.FRAMEBUFFER,m),this._canvasPixelComparison(v(f),r.canvasCopies.map(v),r.timeStamps)}_canvasPixelComparison(f,r,l){let m=l[1]-l[0];const v=f.length/4;for(let x=0;x<r.length;x++){const M=r[x];let P=0;for(let O=0;O<M.length;O+=4)M[O]===f[O]&&M[O+1]===f[O+1]&&M[O+2]===f[O+2]&&M[O+3]===f[O+3]&&(P+=1);m+=(l[x+2]-l[x+1])*(1-P/v)}return m}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.indoor.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const f=this.painter.context.gl.getExtension("WEBGL_lose_context");f&&f.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),Br.delete(this.painter.context.gl),ji.remove(),jt.remove(),this._removed=!0,this.fire(new s.z("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(f){this._renderNextFrame=this._renderNextFrame||f,this.style&&!this._frame&&(this._frame=s.q.frame(r=>{const l=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,l&&this._render(r)}))}_preloadTiles(f){const r=this.style?this.style.getSourceCaches():[];return s.bl(r,(l,m)=>l._preloadTiles(f,m),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(f){this._trackResize&&this.resize({originalEvent:f})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(f){this._showParseStatus!==f&&(this._showParseStatus=f,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(f){this._showTerrainWireframe!==f&&(this._showTerrainWireframe=f,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(f){this._showLayers2DWireframe!==f&&(this._showLayers2DWireframe=f,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(f){this._showLayers3DWireframe!==f&&(this._showLayers3DWireframe=f,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(f){this._speedIndexTiming!==f&&(this._speedIndexTiming=f,this._update())}get showPadding(){return!!this._showPadding}set showPadding(f){this._showPadding!==f&&(this._showPadding=f,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,this._tp.refreshUI(),f?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(f){this._repaint!==f&&(this._repaint=f,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(f){this._vertices=f,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(f){this._showTileAABBs!==f&&(this._showTileAABBs=f,this._tp.refreshUI(),f&&this._update())}_setCacheLimits(f,r){s.dG(f,r)}get version(){return L}},NavigationControl:class{constructor(f={}){this.options=s.l({},Ao,f),this._container=he("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(s.aP(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),he("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),he("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.aP(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const l=this._map;l&&(this.options.visualizePitch?l.resetNorthPitch({},{originalEvent:r}):l.resetNorth({},{originalEvent:r}))}),this._compassIcon=he("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const f=this._map;if(!f)return;const r=f.getZoom(),l=r===f.getMaxZoom(),m=r===f.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const f=this._map;if(!f)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(f.transform.pitch*(Math.PI/180)),.5)}) rotateX(${f.transform.pitch}deg) rotateZ(${f.transform.angle*(180/Math.PI)}deg)`:`rotate(${f.transform.angle*(180/Math.PI)}deg)`;f._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(f){return this._map=f,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),f.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&f.on("pitch",this._rotateCompassArrow),f.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ty(f,this._compass,this.options.visualizePitch)),this._container}onRemove(){const f=this._map;f&&(this._container.remove(),this.options.showZoom&&f.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&f.off("pitch",this._rotateCompassArrow),f.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(f,r){const l=he("button",f,this._container);return l.type="button",l.addEventListener("click",r),l}_setButtonTitle(f,r){if(!this._map)return;const l=this._map._getUIString(`NavigationControl.${r}`);f.setAttribute("aria-label",l),f.firstElementChild&&f.firstElementChild.setAttribute("title",l)}},GeolocateControl:class extends s.E{constructor(f={}){super();const r=navigator.geolocation;this.options=s.l({geolocation:r},to,f),s.aP(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=bh(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(f){return this._map=f,this._container=he("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(f){const r=(l=!!this.options.geolocation)=>{this._supportsGeolocation=l,f(l)};this._supportsGeolocation!==void 0?f(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(l=>r(l.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(f){const r=this._map.getMaxBounds(),l=f.coords;return!!r&&(l.longitude<r.getWest()||l.longitude>r.getEast()||l.latitude<r.getSouth()||l.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new s.z("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new s.z("geolocate",f)),this._finish()}}_updateCamera(f){const r=new s.bO(f.coords.longitude,f.coords.latitude),l=f.coords.accuracy,m=this._map.getBearing(),v=s.l({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(l),v,{geolocateSource:!0})}_updateMarker(f){if(f){const r=new s.bO(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const f=this._map.transform,r=s.bH(1,f._center.lat)*f.worldSize,l=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${l}px`,this._circleElement.style.height=`${l}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new s.z("error",f)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(f){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=he("button","mapboxgl-ctrl-geolocate",this._container),he("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",f===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=he("div","mapboxgl-user-location"),this._dotElement.appendChild(he("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(he("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Ca({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=he("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ca({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.z("trackuserlocationend")))})}}_onDeviceOrientation(f){this._userLocationDotMarker&&(f.webkitCompassHeading?this._heading=f.webkitCompassHeading:f.absolute===!0&&(this._heading=-1*f.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.z("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.z("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.z("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let f;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(f={maximumAge:6e5,timeout:0},this._noTimeout=!0):(f=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,f),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const f=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&f()}).catch(console.error):f()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:D0,ScaleControl:class{constructor(f={}){this.options=s.l({},Xr,f),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),s.aP(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const f=this.options.maxWidth||100,r=this._map,l=r._containerHeight/2,m=r._containerWidth/2-f/2,v=r.unproject([m,l]),x=r.unproject([m+f,l]),M=v.distanceTo(x);if(this.options.unit==="imperial"){const P=3.2808*M;P>5280?this._setScale(f,P/5280,"mile"):this._setScale(f,P,"foot")}else this.options.unit==="nautical"?this._setScale(f,M/1852,"nautical-mile"):M>=1e3?this._setScale(f,M/1e3,"kilometer"):this._setScale(f,M,"meter")}_setScale(f,r,l){this._map._requestDomTask(()=>{const m=function(x){const M=Math.pow(10,`${Math.floor(x)}`.length-1);let P=x/M;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(O){const z=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*z)/z}(P),M*P}(r),v=m/r;this._container.innerHTML=this._isNumberFormatSupported&&l!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:l}).format(m):`${m}&nbsp;${fs[l]}`,this._container.style.width=f*v+"px"})}onAdd(f){return this._map=f,this._language=f.getLanguage(),this._container=he("div","mapboxgl-ctrl mapboxgl-ctrl-scale",f.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(f){this._language=f,this._update()}setUnit(f){this.options.unit=f,this._update()}},FullscreenControl:class{constructor(f={}){this._fullscreen=!1,f&&f.container&&(f.container instanceof HTMLElement?this._container=f.container:s.w("Full screen control 'container' must be a DOM element.")),s.aP(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(f){return this._map=f,this._container||(this._container=this._map.getContainer()),this._controlContainer=he("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const f=this._fullscreenButton=he("button","mapboxgl-ctrl-fullscreen",this._controlContainer);he("span","mapboxgl-ctrl-icon",f).setAttribute("aria-hidden","true"),f.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const f=this._getTitle();this._fullscreenButton.setAttribute("aria-label",f),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",f)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.E{constructor(f){super(),this.options=s.l(Object.create(Er),f),s.aP(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(f&&f.className?f.className.trim().split(/\s+/):[])}addTo(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&f.on("preclick",this._onClose),this.options.closeOnMove&&f.on("move",this._onClose),f.on("remove",this.remove),this._update(),f._addPopup(this),this._focusFirstElement(),this._trackPointer?(f.on("mousemove",this._onMouseEvent),f.on("mouseup",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")):f.on("move",this._update),this.fire(new s.z("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const f=this._map;return f&&(f.off("move",this._update),f.off("move",this._onClose),f.off("preclick",this._onClose),f.off("click",this._onClose),f.off("remove",this.remove),f.off("mousemove",this._onMouseEvent),f.off("mouseup",this._onMouseEvent),f.off("drag",this._onMouseEvent),f._canvasContainer&&f._canvasContainer.classList.remove("mapboxgl-track-pointer"),f._removePopup(this),this._map=void 0),this.fire(new s.z("close")),this}getLngLat(){return this._lngLat}setLngLat(f){this._lngLat=s.bO.convert(f),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const f=this._map;return f&&(f.off("move",this._update),f.on("mousemove",this._onMouseEvent),f.on("drag",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(f){return this.setDOMContent(document.createTextNode(f))}setHTML(f){const r=document.createDocumentFragment(),l=document.createElement("body");let m;for(l.innerHTML=f;m=l.firstChild,m;)r.appendChild(m);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(f){return this.options.maxWidth=f,this._update(),this}setDOMContent(f){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=he("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(f),this.options.closeButton){const l=this._closeButton=he("button","mapboxgl-popup-close-button",r);l.type="button",l.setAttribute("aria-label","Close popup"),l.setAttribute("aria-hidden","true"),l.innerHTML="&#215;",l.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(f){return this._classList.add(f),this._updateClassList(),this}removeClassName(f){return this._classList.delete(f),this._updateClassList(),this}setOffset(f){return this.options.offset=f,this._update(),this}toggleClassName(f){let r;return this._classList.delete(f)?r=!1:(this._classList.add(f),r=!0),this._updateClassList(),r}_onMouseEvent(f){this._update(f.point)}_getAnchor(f){if(this.options.anchor)return this.options.anchor;const r=this._map,l=this._container,m=this._pos;if(!r||!l||!m)return"bottom";const v=l.offsetWidth,x=l.offsetHeight,M=m.x<v/2,P=m.x>r.transform.width-v/2;if(m.y+f<x)return M?"top-left":P?"top-right":"top";if(m.y>r.transform.height-x){if(M)return"bottom-left";if(P)return"bottom-right"}return M?"left":P?"right":"bottom"}_updateClassList(){const f=this._container;if(!f)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),f.className=r.join(" ")}_update(f){const r=this._map,l=this._content;if(!r||!this._lngLat&&!this._trackPointer||!l)return;let m=this._container;if(m||(m=this._container=he("div","mapboxgl-popup",r.getContainer()),this._tip=he("div","mapboxgl-popup-tip",m),m.appendChild(l)),this.options.maxWidth&&m.style.maxWidth!==this.options.maxWidth&&(m.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=L0(this._lngLat,this._pos,r.transform)),!this._trackPointer||f){const v=this._pos=this._trackPointer&&f instanceof s.P?f:r.project(this._lngLat),x=zn(this.options.offset),M=this._anchor=this._getAnchor(x.y),P=zn(this.options.offset,M),O=v.add(P).round();r._requestDomTask(()=>{this._container&&M&&(this._container.style.transform=`${Ph[M]} translate(${O.x}px,${O.y}px)`)})}if(!this._marker&&r._showingGlobe()){const v=s.dH(r.transform,this._lngLat)?0:1;this._setOpacity(v)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const f=this._container.querySelector(k0);f&&f.focus()}_onClose(){this.remove()}_setOpacity(f){this._container&&(this._container.style.opacity=`${f}`),this._content&&(this._content.style.pointerEvents=f?"auto":"none")}},Marker:Ca,Style:hs,LngLat:s.bO,LngLatBounds:s.az,Point:s.P,MercatorCoordinate:s.aa,FreeCameraOptions:Wl,Evented:s.E,config:s.e,prewarm:s.dM,clearPrewarmedResources:s.dN,get accessToken(){return s.e.ACCESS_TOKEN},set accessToken(f){s.e.ACCESS_TOKEN=f},get baseApiUrl(){return s.e.API_URL},set baseApiUrl(f){s.e.API_URL=f},get workerCount(){return s.dO.workerCount},set workerCount(f){s.dO.workerCount=f},get maxParallelImageRequests(){return s.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(f){s.e.MAX_PARALLEL_IMAGE_REQUESTS=f},clearStorage(f){s.dP(f)},get workerUrl(){return s.dQ.workerUrl},set workerUrl(f){s.dQ.workerUrl=f},get workerClass(){return s.dQ.workerClass},set workerClass(f){s.dQ.workerClass=f},get workerParams(){return s.dQ.workerParams},set workerParams(f){s.dQ.workerParams=f},get dracoUrl(){return s.dR()},set dracoUrl(f){s.dS(f)},get meshoptUrl(){return s.dT()},set meshoptUrl(f){s.dU(f)},setNow:s.q.setNow,restoreNow:s.q.restoreNow}});var y=c;return y})})(e8);var Dae=e8.exports;const U1=tb(Dae);class i8 extends hr{connect(){console.log("Connect to location controller"),this.apiKey="EhXWYkkdcMZ3h8g9oTro4V4U43juM287yegLkZUP",this.mapboxToken="pk.eyJ1IjoiZGF2aWRqcjQ3MiIsImEiOiJjbTczMWp3aGUwZzhiMm1yMHo0M29jZ2RvIn0.vgtUSiBU7-pWBz980OY76g",this.mapKey="K1WvDFUmBLwLpQgZ0OHR9baqeYAaiZBPmLtBWpaa",this.maxResults=5,this.selectedAddress="",this.selectedLocationCoords=null,this.selectedProvince=null,this.selectedPickup=null,this.selectedDropoff=null,this.pricePerKm=1e4,this.initMap()}openModal(){document.querySelector(".header-container").classList.remove("sticky"),this.modalTarget.classList.remove("hidden")}closeModal(e){e.preventDefault(),document.querySelector(".header-container").classList.add("sticky"),this.modalTarget.classList.add("hidden"),this.clearSuggestions()}async autocomplete(){try{const e=this.inputTarget.value.trim();if(e.length<3){this.clearSuggestions();return}const t=`https://rsapi.goong.io/Place/AutoComplete?api_key=${this.apiKey}&input=${encodeURIComponent(e)}`,c=await(await fetch(t)).json();c.predictions&&this.renderSuggestions(c.predictions.slice(0,this.maxResults))}catch(e){console.log(e)}}renderSuggestions(e){this.clearSuggestions();const t=document.createElement("ul");t.classList.add("absolute","w-full","bg-white","border","shadow-lg","z-50","max-h-56","overflow-auto","rounded-md"),e.forEach(a=>{const c=document.createElement("li");c.classList.add("p-2","cursor-pointer","hover:bg-gray-200"),c.textContent=a.description,c.onclick=p=>{p.stopPropagation(),p.preventDefault(),this.selectSuggestion(a)},t.appendChild(c)}),this.inputTarget.parentNode.appendChild(t)}clearSuggestions(){const e=this.inputTarget.parentNode.querySelector("ul");e&&e.remove()}async selectSuggestion(e){try{this.inputTarget.value=e.description,this.clearSuggestions();const t=`https://rsapi.goong.io/Place/Detail?api_key=${this.apiKey}&place_id=${e.place_id}`,a=await fetch(t);if(!a.ok)throw new Error(`Failed to fetch place details: ${a.statusText}`);const c=await a.json();if(c.result){const{formatted_address:p}=c.result,{location:y}=c.result.geometry;this.selectedLocationCoords=[y.lng,y.lat],this.selectedAddress=p,this.selectedProvince=c.result.compound.province,this.addMarker()}else throw new Error("No result found for this place")}catch(t){console.error("Error in selectSuggestion:",t)}}async confirmSelection(e){if(e.preventDefault(),e.stopPropagation(),!this.selectedAddress)return;this.selectedLocationTarget.textContent=this.selectedAddress,this.closeModal(e);const t=JSON.parse(this.selectedLocationTarget.dataset.locationStops);console.log("Stops data:",t);const a=y=>y?y.replace(/^TP\.?\s*/,"").trim().toLowerCase():"",c=t.filter(y=>a(y.province)===a(this.selectedProvince)),p=document.querySelector("#next");c.length>0?(this.selectedLocationTarget.classList.remove("text-red-500"),this.calculateDistance(c),p.disabled=!1):(this.selectedLocationTarget.textContent="Không tìm thấy điểm dừng trong cùng tỉnh!",this.selectedLocationTarget.classList.add("text-red-500"),p.disabled=!0)}async getCoordinatesFromAddress(e){const t=`https://rsapi.goong.io/Geocode?api_key=${this.apiKey}&address=${encodeURIComponent(e)}`;try{const c=await(await fetch(t)).json();return c.results&&c.results.length>0?c.results[0].geometry.location:(console.error("Không tìm thấy tọa độ cho địa chỉ:",e),null)}catch(a){return console.error("Lỗi khi gọi API Goong:",a),null}}async calculateDistance(e){try{const t=`${this.selectedLocationCoords[1]},${this.selectedLocationCoords[0]}`,a=await this.getCoordinatesFromAddress(e[0].address),c=`${a.lat},${a.lng}`,p=`https://rsapi.goong.io/DistanceMatrix?origins=${t}&destinations=${c}&vehicle=hd&api_key=${this.apiKey}`,s=await(await fetch(p)).json();if(s.rows.length>0&&s.rows[0].elements.length>0){const L=s.rows[0].elements.map((R,V)=>({stop:e[V],distance:R.distance.value}));if(L.sort((R,V)=>R.distance-V.distance),L.length>0){const R=L[0].distance/1e3,V=L[0].stop,q=document.querySelector("#next");R>30?(this.selectedLocationTarget.textContent="Điểm đón quá xa trạm !",this.selectedLocationTarget.classList.add("text-red-500"),q.disabled=!0):(this.selectedLocationTarget.textContent=`${this.selectedAddress} (${R.toFixed(2)} km)`,this.selectedLocationTarget.classList.remove("text-red-500"),q.disabled=!1),this.hasPickupPositionTarget&&(console.log("Nearest stop:",V,`Distance: ${R} km`),this.pickupPositionTarget.textContent=V.address),this.hasDropoffPositionTarget&&(console.log("Nearest stop:",V,`Distance: ${R} km`),this.dropoffPositionTarget.textContent=V.address)}}}catch(t){console.error("Error fetching distance matrix:",t)}}formatCurrency(e){return e.toLocaleString("vi-VN")}addMarker(){new U1.Marker().setLngLat(this.selectedLocationCoords).addTo(this.map),this.map.flyTo({center:this.selectedLocationCoords,zoom:14})}initMap(){U1.accessToken=this.mapboxToken,this.map=new U1.Map({container:this.mapContainerTarget,style:`https://tiles.goong.io/assets/goong_map_web.json?api_key=${this.mapKey}`,center:[106.7009,10.7754],zoom:12})}}et(i8,"targets",["modal","input","mapContainer","selectedLocation","totalPriceStep2","pickupPosition","dropoffPosition"]);const Lae=Object.freeze(Object.defineProperty({__proto__:null,default:i8},Symbol.toStringTag,{value:"Module"})),gu=(()=>{const i=(q,Z)=>Object.prototype.hasOwnProperty.call(q,Z);let e;(function(q){q[q.GROUP=1]="GROUP",q[q.CAT=2]="CAT",q[q.SYMBOL=3]="SYMBOL",q[q.OR=4]="OR",q[q.STAR=5]="STAR",q[q.LITERAL=6]="LITERAL",q[q.SLASH=7]="SLASH",q[q.DOT=8]="DOT"})(e||(e={}));const t=typeof window<"u",a="-._~!$&'()*+,;=:@".split("").map(q=>q.charCodeAt(0)),c=[["a","z"],["A","Z"],["0","9"]].map(q=>q.map(Z=>Z.charCodeAt(0))),p={CJS:{define(q){module&&(module.exports=q)},isSupported(){return typeof module=="object"}},AMD:{define(q){define&&define([],function(){return q})},isSupported(){return typeof define=="function"&&!!define.amd}},UMD:{define(q){if(p.AMD.isSupported())p.AMD.define(q);else if(p.CJS.isSupported())try{p.CJS.define(q)}catch(Z){if(Z.name!=="TypeError")throw Z}},isSupported(){return p.AMD.isSupported()||p.CJS.isSupported()}},ESM:{define(){},isSupported(){return!0}},NIL:{define(){},isSupported(){return!0}},DTS:{define(q){p.ESM.define(q)},isSupported(){return p.ESM.isSupported()}}};class y extends Error{constructor(...Z){super(`Route missing required keys: ${Z.join(", ")}`),this.keys=Z,Object.setPrototypeOf(this,Object.getPrototypeOf(this)),this.name=y.name}}const s=["anchor","trailing_slash","subdomain","host","port","protocol","script_name"];class L{constructor(){this.configuration={prefix:"",default_url_options:{},special_options_key:"_options",serializer:this.default_serializer.bind(this)}}default_serializer(Z,ee){if(this.is_nullable(Z))return"";if(!ee&&!this.is_object(Z))throw new Error("Url parameters should be a javascript hash");ee=ee||"";const se=[];if(this.is_array(Z))for(const he of Z)se.push(this.default_serializer(he,ee+"[]"));else if(this.is_object(Z))for(let he in Z){if(!i(Z,he))continue;let we=Z[he];this.is_nullable(we)&&ee&&(we=""),this.is_not_nullable(we)&&(ee&&(he=ee+"["+he+"]"),se.push(this.default_serializer(we,he)))}else this.is_not_nullable(Z)&&se.push(encodeURIComponent(ee)+"="+encodeURIComponent(""+Z));return se.join("&")}serialize(Z){return this.configuration.serializer(Z)}extract_options(Z,ee){const se=ee[ee.length-1];return ee.length>Z&&se===0||this.is_object(se)&&!this.looks_like_serialized_model(se)?(this.is_object(se)&&delete se[this.configuration.special_options_key],{args:ee.slice(0,ee.length-1),options:se}):{args:ee,options:{}}}looks_like_serialized_model(Z){return this.is_object(Z)&&!(this.configuration.special_options_key in Z)&&("id"in Z||"to_param"in Z||"toParam"in Z)}path_identifier(Z){const ee=this.unwrap_path_identifier(Z);return this.is_nullable(ee)?"":""+ee}unwrap_path_identifier(Z){let ee=Z;return this.is_object(Z)?("to_param"in Z?ee=Z.to_param:"toParam"in Z?ee=Z.toParam:"id"in Z?ee=Z.id:ee=Z,this.is_callable(ee)?ee.call(Z):ee):Z}partition_parameters(Z,ee,se,he){let{args:we,options:De}=this.extract_options(Z.length,he);if(we.length>Z.length)throw new Error("Too many parameters provided for path");let Ze=we.length>ee.length;const ct={...this.configuration.default_url_options};for(const _t in De){const Ft=De[_t];i(De,_t)&&(Ze=!0,Z.includes(_t)&&(ct[_t]=Ft))}De={...this.configuration.default_url_options,...se,...De};const rt={};let gt={};for(const _t in De){if(!i(De,_t))continue;const Ft=De[_t];if(_t==="params")if(this.is_object(Ft))gt={...gt,...Ft};else throw new Error("params value should always be an object");else this.is_reserved_option(_t)?rt[_t]=Ft:!this.is_nullable(Ft)&&(Ft!==se[_t]||ee.includes(_t))&&(gt[_t]=Ft)}const Tt=Ze?Z:ee;let it=0;for(const _t of Tt)if(it<we.length){const Ft=we[it];i(ct,_t)||(gt[_t]=Ft,++it)}return{keyword_parameters:rt,query_parameters:gt}}build_route(Z,ee,se,he,we,De){const{keyword_parameters:Ze,query_parameters:ct}=this.partition_parameters(Z,ee,se,De);let{trailing_slash:rt,anchor:gt,script_name:Tt}=Ze;const it=ee.filter(vt=>!i(ct,vt)||this.is_nullable(ct[vt]));if(it.length)throw new y(...it);let _t=this.get_prefix()+this.visit(he,ct);rt&&(_t=_t.replace(/(.*?)[/]?$/,"$1/"));const Ft=this.serialize(ct);if(Ft.length&&(_t+="?"+Ft),gt&&(_t+="#"+gt),Tt){const vt=Tt.length-1;Tt[vt]=="/"&&_t[0]=="/"&&(Tt=Tt.slice(0,vt)),_t=Tt+_t}return we&&(_t=this.route_url(Ze)+_t),_t}visit(Z,ee,se=!1){switch(Z[0]){case e.GROUP:return this.visit(Z[1],ee,!0);case e.CAT:return this.visit_cat(Z,ee,se);case e.SYMBOL:return this.visit_symbol(Z,ee,se);case e.STAR:return this.visit_globbing(Z[1],ee,!0);case e.LITERAL:case e.SLASH:case e.DOT:return Z[1];default:throw new Error("Unknown Rails node type")}}is_not_nullable(Z){return!this.is_nullable(Z)}is_nullable(Z){return Z==null}visit_cat([Z,ee,se],he,we){const De=this.visit(ee,he,we);let Ze=this.visit(se,he,we);return we&&(this.is_optional_node(ee[0])&&!De||this.is_optional_node(se[0])&&!Ze)?"":(De[De.length-1]==="/"&&Ze[0]==="/"&&(Ze=Ze.substring(1)),De+Ze)}visit_symbol([Z,ee],se,he){const we=this.path_identifier(se[ee]);if(delete se[ee],we.length)return this.encode_segment(we);if(he)return"";throw new y(ee)}encode_segment(Z){return Z.match(/^[a-zA-Z0-9-]$/)?Z:(Z.match(/./gu)||[]).map(ee=>{const se=ee.charCodeAt(0);return c.find(he=>se>=he[0]&&se<=he[1])||a.includes(se)?ee:encodeURIComponent(ee)}).join("")}is_optional_node(Z){return[e.STAR,e.SYMBOL,e.CAT].includes(Z)}build_path_spec(Z,ee=!1){let se;switch(Z[0]){case e.GROUP:return`(${this.build_path_spec(Z[1])})`;case e.CAT:return this.build_path_spec(Z[1])+this.build_path_spec(Z[2]);case e.STAR:return this.build_path_spec(Z[1],!0);case e.SYMBOL:return se=Z[1],ee?(se.startsWith("*")?"":"*")+se:":"+se;case e.SLASH:case e.DOT:case e.LITERAL:return Z[1];default:throw new Error("Unknown Rails node type")}}visit_globbing(Z,ee,se){const he=Z[1];let we=ee[he];if(delete ee[he],this.is_nullable(we))return this.visit(Z,ee,se);this.is_array(we)&&(we=we.join("/"));const De=this.path_identifier(we);return encodeURI(De)}get_prefix(){const Z=this.configuration.prefix;return Z.match("/$")?Z.substring(0,Z.length-1):Z}route(Z,ee,se=!1){const he=[],we=[],De={};for(const[ct,{r:rt,d:gt}]of Object.entries(Z))we.push(ct),rt&&he.push(ct),this.is_not_nullable(gt)&&(De[ct]=gt);const Ze=(...ct)=>this.build_route(we,he,De,ee,se,ct);return Ze.requiredParams=()=>he,Ze.toString=()=>this.build_path_spec(ee),Ze}route_url(Z){const ee=Z.host||this.current_host();if(!ee)return"";const se=Z.subdomain?Z.subdomain+".":"",he=Z.protocol||this.current_protocol();let we=Z.port||(Z.host?void 0:this.current_port());return we=we?":"+we:"",he+"://"+se+ee+we}current_host(){var Z;return t&&((Z=window==null?void 0:window.location)===null||Z===void 0?void 0:Z.hostname)||""}current_protocol(){var Z,ee;return t&&((ee=(Z=window==null?void 0:window.location)===null||Z===void 0?void 0:Z.protocol)===null||ee===void 0?void 0:ee.replace(/:$/,""))||"http"}current_port(){var Z;return t&&((Z=window==null?void 0:window.location)===null||Z===void 0?void 0:Z.port)||""}is_object(Z){return typeof Z=="object"&&Object.prototype.toString.call(Z)==="[object Object]"}is_array(Z){return Z instanceof Array}is_callable(Z){return typeof Z=="function"&&!!Z.call}is_reserved_option(Z){return s.includes(Z)}configure(Z){return Z.prefix&&console.warn("JsRoutes configuration prefix option is deprecated in favor of default_url_options.script_name."),this.configuration={...this.configuration,...Z},this.configuration}config(){return{...this.configuration}}is_module_supported(Z){return p[Z].isSupported()}ensure_module_supported(Z){if(!this.is_module_supported(Z))throw new Error(`${Z} is not supported by runtime`)}define_module(Z,ee){return this.ensure_module_supported(Z),p[Z].define(ee),ee}}const R=new L,V={r(q,Z,ee){return R.route(q,Z,ee)}};return R.define_module("ESM",{...V,configure:q=>R.configure(q),config:()=>R.config(),serialize:q=>R.serialize(q)})})();gu.configure;gu.config;gu.serialize;const kae=gu.r({locale:{},format:{}},[2,[1,[2,[7,"/"],[3,"locale"]]],[2,[7,"/"],[2,[6,"bookings"],[1,[2,[8,"."],[3,"format"]]]]]]),Oae=gu.r({locale:{},format:{}},[2,[1,[2,[7,"/"],[3,"locale"]]],[2,[7,"/"],[2,[6,"locations"],[2,[7,"/"],[2,[6,"search"],[1,[2,[8,"."],[3,"format"]]]]]]]]),Rae=gu.r({locale:{},format:{}},[2,[1,[2,[7,"/"],[3,"locale"]]],[2,[7,"/"],[2,[6,"notifications"],[2,[7,"/"],[2,[6,"mark_all_as_read"],[1,[2,[8,"."],[3,"format"]]]]]]]]),n8=gu.r({locale:{},id:{r:!0},format:{}},[2,[1,[2,[7,"/"],[3,"locale"]]],[2,[7,"/"],[2,[6,"notifications"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"mark_as_read"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]);class r8 extends hr{toggleDropdown(){this.contentTarget.classList.toggle("hidden")}markAsRead(e){e.preventDefault();const t=e.currentTarget.closest(".notification-item"),a=document.querySelector(".mark-as-all-read-btn");t.classList.remove("bg-base-200");const c=t.querySelector(".unread-indicator");if(c){c.remove();const y=document.querySelector("#notifications-badge .badge-notifications-count");if(y){let L=(parseInt(y.textContent)||0)-1;L>0?y.textContent=L:(y.textContent="0",y.remove(),a==null||a.remove())}}const p=e.currentTarget.dataset.notificationId;fetch(n8(p),{method:"POST",headers:{Accept:"text/vnd.turbo-stream.html","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content}})}markAllAsRead(e){e.preventDefault(),this.element.querySelectorAll(".notification-item").forEach(a=>{a.classList.remove("bg-base-200");const c=a.querySelector(".unread-indicator");c&&c.remove()});const t=document.querySelector("#notifications-badge");t&&(t.innerHTML="",t.remove()),fetch(Rae(),{method:"POST",headers:{Accept:"text/vnd.turbo-stream.html","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content}}),e.currentTarget.remove()}disconnect(){this.contentTarget.classList.add("hidden")}}et(r8,"targets",["dropdown","content"]);const zae=Object.freeze(Object.defineProperty({__proto__:null,default:r8},Symbol.toStringTag,{value:"Module"}));var s8="https://js.stripe.com/v3",Fae=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var Bae=function(){for(var e=document.querySelectorAll('script[src^="'.concat(s8,'"]')),t=0;t<e.length;t++){var a=e[t];if(Fae.test(a.src))return a}return null},N6=function(e){var t="",a=document.createElement("script");a.src="".concat(s8).concat(t);var c=document.head||document.body;if(!c)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(a),a},Nae=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.5.0",startTime:t})},y1=null,Pg=null,Dg=null,Vae=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},Hae=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Uae=function(e){return y1!==null?y1:(y1=new Promise(function(t,a){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var c=Bae();if(!(c&&e)){if(!c)c=N6(e);else if(c&&Dg!==null&&Pg!==null){var p;c.removeEventListener("load",Dg),c.removeEventListener("error",Pg),(p=c.parentNode)===null||p===void 0||p.removeChild(c),c=N6(e)}}Dg=Hae(t,a),Pg=Vae(a),c.addEventListener("load",Dg),c.addEventListener("error",Pg)}catch(y){a(y);return}}),y1.catch(function(t){return y1=null,Promise.reject(t)}))},jae=function(e,t,a){if(e===null)return null;var c=e.apply(void 0,t);return Nae(c,a),c},v1,a8=!1,o8=function(){return v1||(v1=Uae(null).catch(function(e){return v1=null,Promise.reject(e)}),v1)};Promise.resolve().then(function(){return o8()}).catch(function(i){a8||console.warn(i)});var qae=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];a8=!0;var c=Date.now();return o8().then(function(p){return jae(p,t,c)})};class lx extends hr{connect(){this.initializeStripe()}async initializeStripe(){this.stripe=await qae("pk_test_51QgkdTGhZYXmEhIxhUAlBHmQRxjuL0Jm9ETf5pbzVg0BUJ2e454SR3gNSTGdim8igOmt4fVyvjFMROuqjEp6K22i00zQPltjr7")}updatePaymentMethod(e){const t=e.target.value,a=document.querySelector('input[name="booking[payment_method]"]');a&&(a.value=t)}async processPayment(e){e.preventDefault(),e.stopPropagation();const t=e.target.closest("form");this.paymentMethodInputTargets.find(c=>c.checked).value==="stripe"?await this.handleStripePayment(t):t.submit()}async handleStripePayment(e){try{this.submitButtonTarget.disabled=!0;const t=e.querySelector('[name="booking[start_stop_id]"]').value===""?e.querySelector('[name="booking[start_stop_id]"]').dataset.defaultValue:e.querySelector('[name="booking[start_stop_id]"]').value,a=e.querySelector('[name="booking[end_stop_id]"]').value===""?e.querySelector('[name="booking[end_stop_id]"]').dataset.defaultValue:e.querySelector('[name="booking[end_stop_id]"]').value,c=e.querySelector('[name="booking[ticket_price]"]').value,p=e.querySelector('[name="booking[pickup_address]"]').value||"",y=e.querySelector('[name="booking[dropoff_address]"]').value||"",s=e.querySelector('[name="booking[departure_date]"]').value||"",L=e.querySelector('[name="booking[departure_time]"]').value||"";console.log("Start address:",t),console.log("End address:",a);const R=await fetch(kae(),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector('[name="csrf-token"]').content},credentials:"same-origin",body:JSON.stringify({booking:{start_stop_id:t,end_stop_id:a,selected_seats:e.querySelector('[name="booking[selected_seats]"]').value,ticket_price:c,pickup_address:p,dropoff_address:y,departure_date:s,departure_time:L},schedule_id:e.querySelector('[name="schedule_id"]').value})});if(R.status===422){const Z=await R.json();console.error("Booking error:",Z),pr(Z.error,"alert"),this.submitButtonTarget.disabled=!1;return}if(!R.ok)throw new Error(`Server error: ${R.status}`);const{session_id:V}=await R.json(),q=await this.stripe.redirectToCheckout({sessionId:V});q.error&&(console.error("Payment failed:",q.error),pr(q.error.message||"Thanh toán thất bại!","alert"),this.submitButtonTarget.disabled=!1)}catch(t){pr(t.message||"Đã xảy ra lỗi!","alert"),this.submitButtonTarget.disabled=!1}}}et(lx,"targets",["paymentMethodInput","submitButton"]),et(lx,"values",{amount:Number});const $ae=Object.freeze(Object.defineProperty({__proto__:null,default:lx},Symbol.toStringTag,{value:"Module"}));class l8 extends hr{connect(){this.apiKey="EhXWYkkdcMZ3h8g9oTro4V4U43juM287yegLkZUP",this.mapboxToken="pk.eyJ1IjoiZGF2aWRqcjQ3MiIsImEiOiJjbTczMWp3aGUwZzhiMm1yMHo0M29jZ2RvIn0.vgtUSiBU7-pWBz980OY76g",this.mapKey="K1WvDFUmBLwLpQgZ0OHR9baqeYAaiZBPmLtBWpaa",this.selectedPickup=null,this.selectedDropoff=null,this.stepIndex=1,this.pricePerKm=1e3,this.coachSpeed=666.67,this.stops=JSON.parse(this.element.dataset.positionStops||"[]")}async updatePickup(){setTimeout(async()=>{if(!this.hasPickupLocationTarget)return;const e=this.pickupLocationTarget.textContent.trim();console.log("Địa chỉ điểm đón:",e),e&&(this.selectedPickup=await this.getCoordinatesFromAddress(e),await this.calculateTotalPrice(),await this.updatePickupDepartureAndArrivalTime())},500)}async updateDropoff(){setTimeout(async()=>{if(!this.hasDropoffLocationTarget)return;const e=this.dropoffLocationTarget.textContent.trim();console.log("Địa chỉ điểm trả:",e),e&&(this.selectedDropoff=await this.getCoordinatesFromAddress(e),await this.calculateTotalPrice(),await this.updateDropoffDepartureAndArrivalTime())},500)}async getCoordinatesFromAddress(e){const t=`https://rsapi.goong.io/Geocode?api_key=${this.apiKey}&address=${encodeURIComponent(e)}`;try{const c=await(await fetch(t)).json();return c.results&&c.results.length>0?c.results[0].geometry.location:(pr("Không tìm thấy tọa độ cho địa chỉ","warn"),null)}catch(a){return pr(a.message,"alert"),null}}async calculateTotalPrice(){if(!this.selectedPickup&&this.hasPickupLocationTarget&&(this.selectedPickup=await this.getCoordinatesFromAddress(this.pickupLocationTarget.textContent.trim())),!this.selectedDropoff&&this.hasDropoffLocationTarget&&(this.selectedDropoff=await this.getCoordinatesFromAddress(this.dropoffLocationTarget.textContent.trim())),!this.selectedPickup||!this.selectedDropoff){pr("Chưa có đủ điểm đón và điểm trả!","warn");return}const e=`${this.selectedPickup.lat},${this.selectedPickup.lng}`,t=`${this.selectedDropoff.lat},${this.selectedDropoff.lng}`,a=`https://rsapi.goong.io/DistanceMatrix?origins=${e}&destinations=${t}&vehicle=hd&api_key=${this.apiKey}`;try{const p=await(await fetch(a)).json();if(p.rows.length>0&&p.rows[0].elements.length>0){const y=p.rows[0].elements[0].distance.value/1e3,s=Math.ceil(y*this.pricePerKm*parseInt(this.totalQuantityTarget.textContent));this.hasTotalPriceStep2Target?this.totalPriceStep2Target.textContent=`${this.formatCurrency(s)}₫`:pr("Không tìm thấy phần tử hiển thị giá!","warn")}}catch(c){pr(`Error: ${c}`,"alert")}}backStep(){this.stepIndex--}nextStep(){this.stepIndex++}async calculateDistance(e,t){const a=`${e.lat},${e.lng}`,c=`${t.lat},${t.lng}`,p=`https://rsapi.goong.io/DistanceMatrix?origins=${a}&destinations=${c}&vehicle=hd&api_key=${this.apiKey}`;return fetch(p).then(y=>y.json()).then(y=>y.rows.length>0&&y.rows[0].elements.length>0?y.rows[0].elements[0].distance.value/1e3:(pr("Không lấy được khoảng cách!","warn"),0)).catch(y=>(pr(y.message,"alert"),0))}calculateTicketPrice(e){if(!e||isNaN(e))return pr("Khoảng cách không hợp lệ!","warn"),0;const t=parseInt(this.totalQuantityTarget.textContent)||1;return Math.ceil(e*this.pricePerKm*t)}async updateStep3Data(e){e.preventDefault(),setTimeout(async()=>{if(this.stepIndex===2&&(console.log("Đang ở Step 2: Lấy khoảng cách & tính giá vé"),console.log("Stops: ",this.stops),this.hasPickupLocationTarget&&this.hasDropoffLocationTarget)){console.log("Lấy vị trí đón và trả");const t=await this.getCoordinatesFromAddress(this.pickupLocationTarget.textContent),a=await this.getCoordinatesFromAddress(this.dropoffLocationTarget.textContent);if(t&&a){const c=await this.calculateDistance(t,a),p=this.calculateTicketPrice(c);this.hasTotalPriceStep2Target&&(this.totalPriceStep2Target.textContent=`${this.formatCurrency(p)}₫`)}}if(this.stepIndex===3){if(this.hasPriceStep3Target&&this.hasTotalPriceStep2Target&&this.hasTotalQuantityTarget){const a=parseFloat(this.totalPriceStep2Target.textContent.replace(/[^\d]/g,""))||0,c=parseInt(this.totalQuantityTarget.textContent,10)||1,p=a/c;this.priceStep3Target.textContent=`${this.formatCurrency(p)}₫`}let t=this.hasTotalQuantityTarget?parseInt(this.totalQuantityTarget.textContent,10):1;if(this.hasTotalQuantityStep3Target&&(this.totalQuantityStep3Target.textContent=t),this.hasPickupLocationTarget)if(this.selectedPickup){const a=await this.getProvinceFromCoordinates(this.selectedPickup);this.fromStep3Target.textContent=a}else{const a=await this.getCoordinatesFromAddress(this.pickupLocationTarget.textContent),c=await this.getProvinceFromCoordinates(a);this.fromStep3Target.textContent=c}if(this.hasDropoffLocationTarget)if(this.selectedDropoff){const a=await this.getProvinceFromCoordinates(this.selectedDropoff);this.toStep3Target.textContent=a}else{console.log("Selected drop off: ",this.selectedDropoff);const a=await this.getCoordinatesFromAddress(this.dropoffLocationTarget.textContent),c=await this.getProvinceFromCoordinates(a);this.toStep3Target.textContent=c}if(console.log("Total: ",this.totalPriceStep3Target),this.hasTotalPriceStep3Target&&this.hasTotalPriceStep2Target){let c=(parseFloat(this.priceStep3Target.textContent.replace(/[^\d]/g,""))||0)*t;this.totalPriceStep3Target.textContent=`${this.formatCurrency(c)}₫`}this.updateStopIds(),await this.updateHiddenFields()}else console.log("Chưa đến Step 3")},500)}async getProvinceFromCoordinates(e){const t=`https://rsapi.goong.io/Geocode?latlng=${e.lat},${e.lng}&api_key=${this.apiKey}`;try{const c=await(await fetch(t)).json();return c.results&&c.results.length>0?c.results[0].compound.province:"Không xác định"}catch(a){return pr(`Lỗi: ${a}`,"alert"),"Không xác định"}}formatCurrency(e){return e.toLocaleString("vi-VN")}openPositionModal(e){e.preventDefault(),this.positionModalTarget.classList.remove("hidden"),document.querySelector(".header-container").classList.remove("sticky");const a=e.target.closest("div").querySelector("[data-position-target]");if(a){const c=a.textContent.trim();this.showLocationOnMap(c)}}closePositionModal(e){e.preventDefault(),document.querySelector(".header-container").classList.add("sticky"),this.positionModalTarget.classList.add("hidden")}async showLocationOnMap(e){try{const t=`https://rsapi.goong.io/Geocode?address=${encodeURIComponent(e)}&api_key=${this.apiKey}`,c=await(await fetch(t)).json();if(c.results.length>0){const{lat:p,lng:y}=c.results[0].geometry.location;this.selectedLocation=[y,p],this.initPositionMap()}else pr("Không tìm thấy vị trí!","alert")}catch(t){pr(t.message,"alert")}}initPositionMap(){this.positionMap&&this.positionMap.remove(),this.positionMap=new U1.Map({container:this.positionMapContainerTarget,style:`https://tiles.goong.io/assets/goong_map_web.json?api_key=${this.mapKey}`,center:this.selectedLocation,zoom:14}),new U1.Marker().setLngLat(this.selectedLocation).addTo(this.positionMap)}updateStopIds(){this.updateStopId(this.fromStep3Target,this.startStopIdTarget,"pickup"),this.updateStopId(this.toStep3Target,this.endStopIdTarget,"dropoff")}updateStopId(e,t,a){const c=e.textContent.trim();if(!c)return;const p=a==="pickup",y=L=>L.normalize("NFC").toLowerCase().replace(/\s+/g," ").trim(),s=this.stops.find(L=>{const R=y(L.province),V=y(c);return L[p?"pickup":"dropoff"]&&R.includes(V)});s?t.value=s.id:t.value=t.dataset.defaultValue||""}async getAddressFromCoordinates(e){const t=`https://rsapi.goong.io/Geocode?latlng=${e.lat},${e.lng}&api_key=${this.apiKey}`;try{const c=await(await fetch(t)).json();return c.results&&c.results.length>0?c.results[0].name:"Không xác định"}catch(a){return pr(`Lỗi ${a}`,"alert"),"Không xác định"}}calculateArrivalDate(e,t,a){let[c,p,y]=t.split("/"),s=`${y}-${p}-${c}`,L=new Date(`${s}T${e}:00`);if(isNaN(L.getTime()))throw new Error(`Invalid date: ${t} ${e}`);L.setMinutes(L.getMinutes()+a);let R=L.getDate().toString().padStart(2,"0"),V=(L.getMonth()+1).toString().padStart(2,"0"),q=L.getFullYear(),Z=`${R}/${V}/${q}`;return{newTime:L.toTimeString().split(" ")[0].substring(0,5),newDate:Z}}async updatePickupDepartureAndArrivalTime(){setTimeout(async()=>{let e=this.stops.reduce((t,a)=>a.stop_order<t.stop_order?a:t,this.stops[0]);if(this.selectedPickup){const t=await this.getCoordinatesFromAddress(e.province);console.log("Min stop province: ",e.province);const a=await this.calculateDistance(t,this.selectedPickup);console.log("Distance: ",a);const c=Math.ceil(a*1e3/this.coachSpeed);console.log(c);const{newTime:p,newDate:y}=this.calculateArrivalDate(e.departure_time,e.departure_date,c);console.log(this.dropoffLocationTarget);const s=await this.getCoordinatesFromAddress(this.dropoffLocationTarget.textContent),L=await this.calculateDistance(this.selectedPickup,s),R=Math.ceil(L*1e3/this.coachSpeed),{newTime:V,newDate:q}=this.calculateArrivalDate(p,y,R);this.pickupDateTimeTarget.textContent=`${p} (${y})`,this.dropoffDateTimeTarget.textContent=`${V} (${q})`,this.departureDateStep3Target.textContent=y,this.departureTimeStep3Target.textContent=p,this.dateBeforeDepartureTarget.textContent=this.subtractOneDay(y)}},500)}subtractOneDay(e){let t=e.split("/"),a=new Date(`${t[2]}-${t[1]}-${t[0]}`);a.setDate(a.getDate()-1);let c=a.getDate().toString().padStart(2,"0"),p=(a.getMonth()+1).toString().padStart(2,"0"),y=a.getFullYear();return`${c}/${p}/${y}`}async updateDropoffDepartureAndArrivalTime(){setTimeout(async()=>{let e=this.stops.reduce((t,a)=>a.stop_order<t.stop_order?a:t,this.stops[0]);if(this.selectedDropoff){const t=await this.getCoordinatesFromAddress(e.province),a=await this.calculateDistance(t,this.selectedDropoff),c=Math.ceil(a*1e3/this.coachSpeed),{newTime:p,newDate:y}=this.calculateArrivalDate(e.departure_time,e.departure_date,c);this.dropoffDateTimeTarget.textContent=`${y} (${p})`}},500)}async updateHiddenFields(){var e,t,a;if(this.hasTicketPriceTarget&&this.hasPriceStep3Target&&(this.ticketPriceTarget.value=this.priceStep3Target.textContent.replace(/[^\d]/g,"")||"0"),this.hasPickupAddressTarget&&this.selectedPickup){const c=await this.getAddressFromCoordinates(this.selectedPickup);this.pickupAddressTarget.value=c}if(this.hasDropoffAddressTarget&&this.selectedDropoff){const c=await this.getAddressFromCoordinates(this.selectedDropoff);this.dropoffAddressTarget.value=c}this.departureDateTarget.value=this.departureDateStep3Target.textContent,this.departureTimeTarget.value=this.departureTimeStep3Target.textContent,console.log("Updated hidden fields: ",{ticketPrice:(e=this.ticketPriceTarget)==null?void 0:e.value,pickupAddress:(t=this.pickupAddressTarget)==null?void 0:t.value,dropoffAddress:(a=this.dropoffAddressTarget)==null?void 0:a.value})}}et(l8,"targets",["positionModal","positionMapContainer","pickupLocation","dropoffLocation","totalPriceStep2","totalQuantity","priceStep3","totalQuantityStep3","fromStep3","toStep3","totalPriceStep3","startStopId","endStopId","ticketPrice","pickupAddress","dropoffAddress","pickupDateTime","dropoffDateTime","departureDateStep3","departureTimeStep3","departureDate","departureTime","dateBeforeDeparture","next"]);const Gae=Object.freeze(Object.defineProperty({__proto__:null,default:l8},Symbol.toStringTag,{value:"Module"}));class c8 extends hr{submit(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.element.requestSubmit()},300)}}et(c8,"targets",[]);const Wae=Object.freeze(Object.defineProperty({__proto__:null,default:c8},Symbol.toStringTag,{value:"Module"}));class cx extends hr{connect(){console.log("Controller connected"),console.log("Price Value:",this.priceValue),this.selectedSeats=[],this.initializeSeats(),this.updateSummary()}initializeSeats(){this.seatTargets.forEach(e=>{e.dataset.status==="chosen"?this.markSeatAsChosen(e):this.markSeatAsAvailable(e)})}toggleSeat(e){const t=e.currentTarget,a=t.dataset.id,c=t.dataset.status;console.log(c,a),c!=="chosen"&&(c==="selected"?this.unselectSeat(t,a):c==="available"&&this.selectSeat(t,a),this.updateSummary())}selectSeat(e,t){this.selectedSeats.push(t),console.log(this.selectedSeats),e.classList.remove("bg-white"),e.classList.add("bg-green-400"),e.dataset.status="selected";const a=new CustomEvent("seats-updated",{detail:{selectedSeats:this.selectedSeats},bubbles:!0});this.element.dispatchEvent(a)}unselectSeat(e,t){const a=this.selectedSeats.indexOf(t);a>-1&&this.selectedSeats.splice(a,1),e.classList.remove("bg-green-400"),e.classList.add("bg-white"),e.dataset.status="available";const c=new CustomEvent("seats-updated",{detail:{selectedSeats:this.selectedSeats},bubbles:!0});this.element.dispatchEvent(c)}markSeatAsChosen(e){e.classList.remove("bg-white","bg-green-400"),e.classList.add("bg-gray-400"),e.dataset.status="chosen"}markSeatAsAvailable(e){e.classList.remove("bg-gray-400","bg-green-400"),e.classList.add("bg-white"),e.dataset.status="available"}updateSummary(){if(this.hasSelectedSeatsTarget){const a=this.selectedSeats.length>0?this.selectedSeats.join(", "):"Chưa chọn ghế";this.selectedSeatsTarget.textContent=a}const e=this.selectedSeats.length*this.priceValue;this.priceStep3Target.textContent=`${this.formatCurrency(this.priceValue)}₫`,this.hasTotalPriceTarget&&(this.totalPriceTarget.textContent=`${this.formatCurrency(e)}₫`,this.totalPriceStep2Target.textContent=`${this.formatCurrency(e)}₫`,this.totalPriceStep3Target.textContent=`${this.formatCurrency(e)}₫`);const t=this.selectedSeats.length;this.hasTotalQuantityTarget&&(this.totalQuantityTarget.textContent=t),this.hasTotalQuantityStep3Target&&(this.totalQuantityStep3Target.textContent=t),this.hasSelectedSeatsInputTarget&&(this.selectedSeatsInputTarget.value=JSON.stringify(this.selectedSeats))}submitForm(e){if(this.selectedSeats.length===0){e.preventDefault();return}}formatCurrency(e){return e.toLocaleString("vi-VN")}}et(cx,"targets",["seat","selectedSeats","totalPrice","totalQuantity","totalPriceStep2","priceStep3","totalQuantityStep3","totalPriceStep3","selectedSeatsInput","paymentMethod"]),et(cx,"values",{price:Number,currentStep:{type:Number,default:1}});const Zae=Object.freeze(Object.defineProperty({__proto__:null,default:cx},Symbol.toStringTag,{value:"Module"}));class hx extends hr{connect(){this.currentActive=1,this.update(),this.element.addEventListener("seats-updated",e=>{this.selectedSeatsValue=e.detail.selectedSeats})}next(){this.canProceedToNextStep()&&(this.currentActive++,this.currentActive>this.circleStepTargets.length&&(this.currentActive=this.circleStepTargets.length),this.update())}canProceedToNextStep(){if(this.currentActive===1){if(this.availableSeatsValue<=0)return pr("This schedule is fully booked. Please choose another schedule.","alert"),!1;if(!this.selectedSeatsValue||this.selectedSeatsValue.length===0)return console.log(this.selectedSeatsValue),pr("Please select at least one seat to continue.","alert"),!1}return!0}prev(){this.currentActive--,this.currentActive<1&&(this.currentActive=1),this.update()}update(){this.circleStepTargets.forEach((t,a)=>{t.classList.toggle("active",a<this.currentActive)});const e=(this.currentActive-1)/(this.circleStepTargets.length-1)*100;this.progressTarget.style.width=`${e}%`,this.stepTabTargets.forEach((t,a)=>{t.classList.toggle("hidden",a!==this.currentActive-1)}),this.prevTarget.disabled=this.currentActive===1,this.nextTarget.disabled=this.currentActive===this.circleStepTargets.length,this.nextTarget.classList.toggle("hidden",this.currentActive===3)}}et(hx,"targets",["progress","prev","next","progressContainer","stepTab","circleStep"]),et(hx,"values",{availableSeats:Number,selectedSeats:{type:Array,default:[]}});const Yae=Object.freeze(Object.defineProperty({__proto__:null,default:hx},Symbol.toStringTag,{value:"Module"}));class h8 extends hr{fetchResults(){const e=this.inputTarget.value.trim();if(e.length<1){this.resultsTarget.classList.add("hidden");return}fetch(Oae({query:e})).then(t=>t.json()).then(t=>{this.resultsTarget.innerHTML="";const a=document.createElement("li");a.textContent="Popular address",a.classList.add("px-3","py-2","text-gray-500","text-sm"),this.resultsTarget.appendChild(a),t.forEach(c=>{const p=document.createElement("li");p.textContent=c.name,p.classList.add("cursor-pointer","p-3","hover:bg-gray-100"),p.addEventListener("click",()=>this.selectLocation(c.name)),this.resultsTarget.appendChild(p)}),this.resultsTarget.classList.remove("hidden")})}selectLocation(e){this.inputTarget.value=e,this.resultsTarget.classList.add("hidden")}}et(h8,"targets",["input","results"]);const Xae=Object.freeze(Object.defineProperty({__proto__:null,default:h8},Symbol.toStringTag,{value:"Module"}));class u8 extends hr{initialize(){this.apply()}connect(){this.checkboxTarget.checked=this.theme==="light"}apply(){document.documentElement.setAttribute("data-theme",this.theme)}switch(){const e=this.checkboxTarget.checked;this.theme=e?"light":"dark",this.apply()}get systemDefault(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}get theme(){return window.localStorage.getItem("theme")||(this.theme=this.systemDefault)}set theme(e){window.localStorage.setItem("theme",e)}}et(u8,"targets",["checkbox"]);const Kae=Object.freeze(Object.defineProperty({__proto__:null,default:u8},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sm(i){return i+.5|0}const zc=(i,e,t)=>Math.max(Math.min(i,t),e);function P1(i){return zc(Sm(i*2.55),0,255)}function Vc(i){return zc(Sm(i*255),0,255)}function El(i){return zc(Sm(i/2.55)/100,0,1)}function V6(i){return zc(Sm(i*100),0,100)}const Pa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ux=[..."0123456789ABCDEF"],Jae=i=>ux[i&15],Qae=i=>ux[(i&240)>>4]+ux[i&15],Lg=i=>(i&240)>>4===(i&15),eoe=i=>Lg(i.r)&&Lg(i.g)&&Lg(i.b)&&Lg(i.a);function toe(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&Pa[i[1]]*17,g:255&Pa[i[2]]*17,b:255&Pa[i[3]]*17,a:e===5?Pa[i[4]]*17:255}:(e===7||e===9)&&(t={r:Pa[i[1]]<<4|Pa[i[2]],g:Pa[i[3]]<<4|Pa[i[4]],b:Pa[i[5]]<<4|Pa[i[6]],a:e===9?Pa[i[7]]<<4|Pa[i[8]]:255})),t}const ioe=(i,e)=>i<255?e(i):"";function noe(i){var e=eoe(i)?Jae:Qae;return i?"#"+e(i.r)+e(i.g)+e(i.b)+ioe(i.a,e):void 0}const roe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function d8(i,e,t){const a=e*Math.min(t,1-t),c=(p,y=(p+i/30)%12)=>t-a*Math.max(Math.min(y-3,9-y,1),-1);return[c(0),c(8),c(4)]}function soe(i,e,t){const a=(c,p=(c+i/60)%6)=>t-t*e*Math.max(Math.min(p,4-p,1),0);return[a(5),a(3),a(1)]}function aoe(i,e,t){const a=d8(i,1,.5);let c;for(e+t>1&&(c=1/(e+t),e*=c,t*=c),c=0;c<3;c++)a[c]*=1-e-t,a[c]+=e;return a}function ooe(i,e,t,a,c){return i===c?(e-t)/a+(e<t?6:0):e===c?(t-i)/a+2:(i-e)/a+4}function rb(i){const t=i.r/255,a=i.g/255,c=i.b/255,p=Math.max(t,a,c),y=Math.min(t,a,c),s=(p+y)/2;let L,R,V;return p!==y&&(V=p-y,R=s>.5?V/(2-p-y):V/(p+y),L=ooe(t,a,c,V,p),L=L*60+.5),[L|0,R||0,s]}function sb(i,e,t,a){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,a)).map(Vc)}function ab(i,e,t){return sb(d8,i,e,t)}function loe(i,e,t){return sb(aoe,i,e,t)}function coe(i,e,t){return sb(soe,i,e,t)}function p8(i){return(i%360+360)%360}function hoe(i){const e=roe.exec(i);let t=255,a;if(!e)return;e[5]!==a&&(t=e[6]?P1(+e[5]):Vc(+e[5]));const c=p8(+e[2]),p=+e[3]/100,y=+e[4]/100;return e[1]==="hwb"?a=loe(c,p,y):e[1]==="hsv"?a=coe(c,p,y):a=ab(c,p,y),{r:a[0],g:a[1],b:a[2],a:t}}function uoe(i,e){var t=rb(i);t[0]=p8(t[0]+e),t=ab(t),i.r=t[0],i.g=t[1],i.b=t[2]}function doe(i){if(!i)return;const e=rb(i),t=e[0],a=V6(e[1]),c=V6(e[2]);return i.a<255?`hsla(${t}, ${a}%, ${c}%, ${El(i.a)})`:`hsl(${t}, ${a}%, ${c}%)`}const H6={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},U6={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function poe(){const i={},e=Object.keys(U6),t=Object.keys(H6);let a,c,p,y,s;for(a=0;a<e.length;a++){for(y=s=e[a],c=0;c<t.length;c++)p=t[c],s=s.replace(p,H6[p]);p=parseInt(U6[y],16),i[s]=[p>>16&255,p>>8&255,p&255]}return i}let kg;function foe(i){kg||(kg=poe(),kg.transparent=[0,0,0,0]);const e=kg[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const moe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function goe(i){const e=moe.exec(i);let t=255,a,c,p;if(e){if(e[7]!==a){const y=+e[7];t=e[8]?P1(y):zc(y*255,0,255)}return a=+e[1],c=+e[3],p=+e[5],a=255&(e[2]?P1(a):zc(a,0,255)),c=255&(e[4]?P1(c):zc(c,0,255)),p=255&(e[6]?P1(p):zc(p,0,255)),{r:a,g:c,b:p,a:t}}}function _oe(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${El(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Iv=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Yd=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function yoe(i,e,t){const a=Yd(El(i.r)),c=Yd(El(i.g)),p=Yd(El(i.b));return{r:Vc(Iv(a+t*(Yd(El(e.r))-a))),g:Vc(Iv(c+t*(Yd(El(e.g))-c))),b:Vc(Iv(p+t*(Yd(El(e.b))-p))),a:i.a+t*(e.a-i.a)}}function Og(i,e,t){if(i){let a=rb(i);a[e]=Math.max(0,Math.min(a[e]+a[e]*t,e===0?360:1)),a=ab(a),i.r=a[0],i.g=a[1],i.b=a[2]}}function f8(i,e){return i&&Object.assign(e||{},i)}function j6(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Vc(i[3]))):(e=f8(i,{r:0,g:0,b:0,a:1}),e.a=Vc(e.a)),e}function voe(i){return i.charAt(0)==="r"?goe(i):hoe(i)}class J1{constructor(e){if(e instanceof J1)return e;const t=typeof e;let a;t==="object"?a=j6(e):t==="string"&&(a=toe(e)||foe(e)||voe(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=f8(this._rgb);return e&&(e.a=El(e.a)),e}set rgb(e){this._rgb=j6(e)}rgbString(){return this._valid?_oe(this._rgb):void 0}hexString(){return this._valid?noe(this._rgb):void 0}hslString(){return this._valid?doe(this._rgb):void 0}mix(e,t){if(e){const a=this.rgb,c=e.rgb;let p;const y=t===p?.5:t,s=2*y-1,L=a.a-c.a,R=((s*L===-1?s:(s+L)/(1+s*L))+1)/2;p=1-R,a.r=255&R*a.r+p*c.r+.5,a.g=255&R*a.g+p*c.g+.5,a.b=255&R*a.b+p*c.b+.5,a.a=y*a.a+(1-y)*c.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=yoe(this._rgb,e._rgb,t)),this}clone(){return new J1(this.rgb)}alpha(e){return this._rgb.a=Vc(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Sm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Og(this._rgb,2,e),this}darken(e){return Og(this._rgb,2,-e),this}saturate(e){return Og(this._rgb,1,e),this}desaturate(e){return Og(this._rgb,1,-e),this}rotate(e){return uoe(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function vl(){}const xoe=(()=>{let i=0;return()=>i++})();function wn(i){return i==null}function lr(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function pn(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function wr(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function fa(i,e){return wr(i)?i:e}function Ki(i,e){return typeof i>"u"?e:i}const boe=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,m8=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function Kn(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function Vn(i,e,t,a){let c,p,y;if(lr(i))for(p=i.length,c=0;c<p;c++)e.call(t,i[c],c);else if(pn(i))for(y=Object.keys(i),p=y.length,c=0;c<p;c++)e.call(t,i[y[c]],y[c])}function T2(i,e){let t,a,c,p;if(!i||!e||i.length!==e.length)return!1;for(t=0,a=i.length;t<a;++t)if(c=i[t],p=e[t],c.datasetIndex!==p.datasetIndex||c.index!==p.index)return!1;return!0}function E2(i){if(lr(i))return i.map(E2);if(pn(i)){const e=Object.create(null),t=Object.keys(i),a=t.length;let c=0;for(;c<a;++c)e[t[c]]=E2(i[t[c]]);return e}return i}function g8(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function woe(i,e,t,a){if(!g8(i))return;const c=e[i],p=t[i];pn(c)&&pn(p)?Q1(c,p,a):e[i]=E2(p)}function Q1(i,e,t){const a=lr(e)?e:[e],c=a.length;if(!pn(i))return i;t=t||{};const p=t.merger||woe;let y;for(let s=0;s<c;++s){if(y=a[s],!pn(y))continue;const L=Object.keys(y);for(let R=0,V=L.length;R<V;++R)p(L[R],i,y,t)}return i}function j1(i,e){return Q1(i,e,{merger:Moe})}function Moe(i,e,t){if(!g8(i))return;const a=e[i],c=t[i];pn(a)&&pn(c)?j1(a,c):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=E2(c))}const q6={"":i=>i,x:i=>i.x,y:i=>i.y};function Soe(i){const e=i.split("."),t=[];let a="";for(const c of e)a+=c,a.endsWith("\\")?a=a.slice(0,-1)+".":(t.push(a),a="");return t}function Toe(i){const e=Soe(i);return t=>{for(const a of e){if(a==="")break;t=t&&t[a]}return t}}function Uc(i,e){return(q6[e]||(q6[e]=Toe(e)))(i)}function ob(i){return i.charAt(0).toUpperCase()+i.slice(1)}const em=i=>typeof i<"u",jc=i=>typeof i=="function",$6=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function Eoe(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const sr=Math.PI,rr=2*sr,Coe=rr+sr,C2=Number.POSITIVE_INFINITY,Aoe=sr/180,Lr=sr/2,Vh=sr/4,G6=sr*2/3,Fc=Math.log10,Uo=Math.sign;function q1(i,e,t){return Math.abs(i-e)<t}function W6(i){const e=Math.round(i);i=q1(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(Fc(i))),a=i/t;return(a<=1?1:a<=2?2:a<=5?5:10)*t}function Ioe(i){const e=[],t=Math.sqrt(i);let a;for(a=1;a<t;a++)i%a===0&&(e.push(a),e.push(i/a));return t===(t|0)&&e.push(t),e.sort((c,p)=>c-p).pop(),e}function mp(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Poe(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function _8(i,e,t){let a,c,p;for(a=0,c=i.length;a<c;a++)p=i[a][t],isNaN(p)||(e.min=Math.min(e.min,p),e.max=Math.max(e.max,p))}function ho(i){return i*(sr/180)}function lb(i){return i*(180/sr)}function Z6(i){if(!wr(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function y8(i,e){const t=e.x-i.x,a=e.y-i.y,c=Math.sqrt(t*t+a*a);let p=Math.atan2(a,t);return p<-.5*sr&&(p+=rr),{angle:p,distance:c}}function dx(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Doe(i,e){return(i-e+Coe)%rr-sr}function ma(i){return(i%rr+rr)%rr}function tm(i,e,t,a){const c=ma(i),p=ma(e),y=ma(t),s=ma(p-c),L=ma(y-c),R=ma(c-p),V=ma(c-y);return c===p||c===y||a&&p===y||s>L&&R<V}function es(i,e,t){return Math.max(e,Math.min(t,i))}function Loe(i){return es(i,-32768,32767)}function Il(i,e,t,a=1e-6){return i>=Math.min(e,t)-a&&i<=Math.max(e,t)+a}function cb(i,e,t){t=t||(y=>i[y]<e);let a=i.length-1,c=0,p;for(;a-c>1;)p=c+a>>1,t(p)?c=p:a=p;return{lo:c,hi:a}}const Pl=(i,e,t,a)=>cb(i,t,a?c=>{const p=i[c][e];return p<t||p===t&&i[c+1][e]===t}:c=>i[c][e]<t),koe=(i,e,t)=>cb(i,t,a=>i[a][e]>=t);function Ooe(i,e,t){let a=0,c=i.length;for(;a<c&&i[a]<e;)a++;for(;c>a&&i[c-1]>t;)c--;return a>0||c<i.length?i.slice(a,c):i}const v8=["push","pop","shift","splice","unshift"];function Roe(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),v8.forEach(t=>{const a="_onData"+ob(t),c=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...p){const y=c.apply(this,p);return i._chartjs.listeners.forEach(s=>{typeof s[a]=="function"&&s[a](...p)}),y}})})}function Y6(i,e){const t=i._chartjs;if(!t)return;const a=t.listeners,c=a.indexOf(e);c!==-1&&a.splice(c,1),!(a.length>0)&&(v8.forEach(p=>{delete i[p]}),delete i._chartjs)}function x8(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const b8=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function w8(i,e){let t=[],a=!1;return function(...c){t=c,a||(a=!0,b8.call(window,()=>{a=!1,i.apply(e,t)}))}}function zoe(i,e){let t;return function(...a){return e?(clearTimeout(t),t=setTimeout(i,e,a)):i.apply(this,a),e}}const hb=i=>i==="start"?"left":i==="end"?"right":"center",ys=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,Foe=(i,e,t,a)=>i===(a?"left":"right")?t:i==="center"?(e+t)/2:e;function M8(i,e,t){const a=e.length;let c=0,p=a;if(i._sorted){const{iScale:y,_parsed:s}=i,L=y.axis,{min:R,max:V,minDefined:q,maxDefined:Z}=y.getUserBounds();q&&(c=es(Math.min(Pl(s,L,R).lo,t?a:Pl(e,L,y.getPixelForValue(R)).lo),0,a-1)),Z?p=es(Math.max(Pl(s,y.axis,V,!0).hi+1,t?0:Pl(e,L,y.getPixelForValue(V),!0).hi+1),c,a)-c:p=a-c}return{start:c,count:p}}function S8(i){const{xScale:e,yScale:t,_scaleRanges:a}=i,c={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!a)return i._scaleRanges=c,!0;const p=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==t.min||a.ymax!==t.max;return Object.assign(a,c),p}const Rg=i=>i===0||i===1,X6=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*rr/t)),K6=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*rr/t)+1,$1={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Lr)+1,easeOutSine:i=>Math.sin(i*Lr),easeInOutSine:i=>-.5*(Math.cos(sr*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Rg(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Rg(i)?i:X6(i,.075,.3),easeOutElastic:i=>Rg(i)?i:K6(i,.075,.3),easeInOutElastic(i){return Rg(i)?i:i<.5?.5*X6(i*2,.1125,.45):.5+.5*K6(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-$1.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?$1.easeInBounce(i*2)*.5:$1.easeOutBounce(i*2-1)*.5+.5};function ub(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function J6(i){return ub(i)?i:new J1(i)}function Pv(i){return ub(i)?i:new J1(i).saturate(.5).darken(.1).hexString()}const Boe=["x","y","borderWidth","radius","tension"],Noe=["color","borderColor","backgroundColor"];function Voe(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:Noe},numbers:{type:"number",properties:Boe}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Hoe(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Q6=new Map;function Uoe(i,e){e=e||{};const t=i+JSON.stringify(e);let a=Q6.get(t);return a||(a=new Intl.NumberFormat(i,e),Q6.set(t,a)),a}function Tm(i,e,t){return Uoe(e,t).format(i)}const T8={values(i){return lr(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const a=this.chart.options.locale;let c,p=i;if(t.length>1){const R=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(R<1e-4||R>1e15)&&(c="scientific"),p=joe(i,t)}const y=Fc(Math.abs(p)),s=isNaN(y)?1:Math.max(Math.min(-1*Math.floor(y),20),0),L={notation:c,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(L,this.options.ticks.format),Tm(i,a,L)},logarithmic(i,e,t){if(i===0)return"0";const a=t[e].significand||i/Math.pow(10,Math.floor(Fc(i)));return[1,2,3,5,10,15].includes(a)||e>.8*t.length?T8.numeric.call(this,i,e,t):""}};function joe(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var X2={formatters:T8};function qoe(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:X2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const lu=Object.create(null),px=Object.create(null);function G1(i,e){if(!e)return i;const t=e.split(".");for(let a=0,c=t.length;a<c;++a){const p=t[a];i=i[p]||(i[p]=Object.create(null))}return i}function Dv(i,e,t){return typeof e=="string"?Q1(G1(i,e),t):Q1(G1(i,""),e)}class $oe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,c)=>Pv(c.backgroundColor),this.hoverBorderColor=(a,c)=>Pv(c.borderColor),this.hoverColor=(a,c)=>Pv(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Dv(this,e,t)}get(e){return G1(this,e)}describe(e,t){return Dv(px,e,t)}override(e,t){return Dv(lu,e,t)}route(e,t,a,c){const p=G1(this,e),y=G1(this,a),s="_"+t;Object.defineProperties(p,{[s]:{value:p[t],writable:!0},[t]:{enumerable:!0,get(){const L=this[s],R=y[c];return pn(L)?Object.assign({},R,L):Ki(L,R)},set(L){this[s]=L}}})}apply(e){e.forEach(t=>t(this))}}var cr=new $oe({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Voe,Hoe,qoe]);function Goe(i){return!i||wn(i.size)||wn(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function A2(i,e,t,a,c){let p=e[c];return p||(p=e[c]=i.measureText(c).width,t.push(c)),p>a&&(a=p),a}function Woe(i,e,t,a){a=a||{};let c=a.data=a.data||{},p=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(c=a.data={},p=a.garbageCollect=[],a.font=e),i.save(),i.font=e;let y=0;const s=t.length;let L,R,V,q,Z;for(L=0;L<s;L++)if(q=t[L],q!=null&&!lr(q))y=A2(i,c,p,y,q);else if(lr(q))for(R=0,V=q.length;R<V;R++)Z=q[R],Z!=null&&!lr(Z)&&(y=A2(i,c,p,y,Z));i.restore();const ee=p.length/2;if(ee>t.length){for(L=0;L<ee;L++)delete c[p[L]];p.splice(0,ee)}return y}function Hh(i,e,t){const a=i.currentDevicePixelRatio,c=t!==0?Math.max(t/2,.5):0;return Math.round((e-c)*a)/a+c}function eE(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function fx(i,e,t,a){E8(i,e,t,a,null)}function E8(i,e,t,a,c){let p,y,s,L,R,V,q,Z;const ee=e.pointStyle,se=e.rotation,he=e.radius;let we=(se||0)*Aoe;if(ee&&typeof ee=="object"&&(p=ee.toString(),p==="[object HTMLImageElement]"||p==="[object HTMLCanvasElement]")){i.save(),i.translate(t,a),i.rotate(we),i.drawImage(ee,-ee.width/2,-ee.height/2,ee.width,ee.height),i.restore();return}if(!(isNaN(he)||he<=0)){switch(i.beginPath(),ee){default:c?i.ellipse(t,a,c/2,he,0,0,rr):i.arc(t,a,he,0,rr),i.closePath();break;case"triangle":V=c?c/2:he,i.moveTo(t+Math.sin(we)*V,a-Math.cos(we)*he),we+=G6,i.lineTo(t+Math.sin(we)*V,a-Math.cos(we)*he),we+=G6,i.lineTo(t+Math.sin(we)*V,a-Math.cos(we)*he),i.closePath();break;case"rectRounded":R=he*.516,L=he-R,y=Math.cos(we+Vh)*L,q=Math.cos(we+Vh)*(c?c/2-R:L),s=Math.sin(we+Vh)*L,Z=Math.sin(we+Vh)*(c?c/2-R:L),i.arc(t-q,a-s,R,we-sr,we-Lr),i.arc(t+Z,a-y,R,we-Lr,we),i.arc(t+q,a+s,R,we,we+Lr),i.arc(t-Z,a+y,R,we+Lr,we+sr),i.closePath();break;case"rect":if(!se){L=Math.SQRT1_2*he,V=c?c/2:L,i.rect(t-V,a-L,2*V,2*L);break}we+=Vh;case"rectRot":q=Math.cos(we)*(c?c/2:he),y=Math.cos(we)*he,s=Math.sin(we)*he,Z=Math.sin(we)*(c?c/2:he),i.moveTo(t-q,a-s),i.lineTo(t+Z,a-y),i.lineTo(t+q,a+s),i.lineTo(t-Z,a+y),i.closePath();break;case"crossRot":we+=Vh;case"cross":q=Math.cos(we)*(c?c/2:he),y=Math.cos(we)*he,s=Math.sin(we)*he,Z=Math.sin(we)*(c?c/2:he),i.moveTo(t-q,a-s),i.lineTo(t+q,a+s),i.moveTo(t+Z,a-y),i.lineTo(t-Z,a+y);break;case"star":q=Math.cos(we)*(c?c/2:he),y=Math.cos(we)*he,s=Math.sin(we)*he,Z=Math.sin(we)*(c?c/2:he),i.moveTo(t-q,a-s),i.lineTo(t+q,a+s),i.moveTo(t+Z,a-y),i.lineTo(t-Z,a+y),we+=Vh,q=Math.cos(we)*(c?c/2:he),y=Math.cos(we)*he,s=Math.sin(we)*he,Z=Math.sin(we)*(c?c/2:he),i.moveTo(t-q,a-s),i.lineTo(t+q,a+s),i.moveTo(t+Z,a-y),i.lineTo(t-Z,a+y);break;case"line":y=c?c/2:Math.cos(we)*he,s=Math.sin(we)*he,i.moveTo(t-y,a-s),i.lineTo(t+y,a+s);break;case"dash":i.moveTo(t,a),i.lineTo(t+Math.cos(we)*(c?c/2:he),a+Math.sin(we)*he);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function Dl(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function K2(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function J2(i){i.restore()}function Zoe(i,e,t,a,c){if(!e)return i.lineTo(t.x,t.y);if(c==="middle"){const p=(e.x+t.x)/2;i.lineTo(p,e.y),i.lineTo(p,t.y)}else c==="after"!=!!a?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function Yoe(i,e,t,a){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?t.cp2x:t.cp1x,a?t.cp2y:t.cp1y,t.x,t.y)}function Xoe(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),wn(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function Koe(i,e,t,a,c){if(c.strikethrough||c.underline){const p=i.measureText(a),y=e-p.actualBoundingBoxLeft,s=e+p.actualBoundingBoxRight,L=t-p.actualBoundingBoxAscent,R=t+p.actualBoundingBoxDescent,V=c.strikethrough?(L+R)/2:R;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=c.decorationWidth||2,i.moveTo(y,V),i.lineTo(s,V),i.stroke()}}function Joe(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function cu(i,e,t,a,c,p={}){const y=lr(e)?e:[e],s=p.strokeWidth>0&&p.strokeColor!=="";let L,R;for(i.save(),i.font=c.string,Xoe(i,p),L=0;L<y.length;++L)R=y[L],p.backdrop&&Joe(i,p.backdrop),s&&(p.strokeColor&&(i.strokeStyle=p.strokeColor),wn(p.strokeWidth)||(i.lineWidth=p.strokeWidth),i.strokeText(R,t,a,p.maxWidth)),i.fillText(R,t,a,p.maxWidth),Koe(i,t,a,R,p),a+=Number(c.lineHeight);i.restore()}function im(i,e){const{x:t,y:a,w:c,h:p,radius:y}=e;i.arc(t+y.topLeft,a+y.topLeft,y.topLeft,1.5*sr,sr,!0),i.lineTo(t,a+p-y.bottomLeft),i.arc(t+y.bottomLeft,a+p-y.bottomLeft,y.bottomLeft,sr,Lr,!0),i.lineTo(t+c-y.bottomRight,a+p),i.arc(t+c-y.bottomRight,a+p-y.bottomRight,y.bottomRight,Lr,0,!0),i.lineTo(t+c,a+y.topRight),i.arc(t+c-y.topRight,a+y.topRight,y.topRight,0,-Lr,!0),i.lineTo(t+y.topLeft,a)}const Qoe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ele=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tle(i,e){const t=(""+i).match(Qoe);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const ile=i=>+i||0;function db(i,e){const t={},a=pn(e),c=a?Object.keys(e):e,p=pn(i)?a?y=>Ki(i[y],i[e[y]]):y=>i[y]:()=>i;for(const y of c)t[y]=ile(p(y));return t}function C8(i){return db(i,{top:"y",right:"x",bottom:"y",left:"x"})}function iu(i){return db(i,["topLeft","topRight","bottomLeft","bottomRight"])}function bs(i){const e=C8(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qr(i,e){i=i||{},e=e||cr.font;let t=Ki(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let a=Ki(i.style,e.style);a&&!(""+a).match(ele)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const c={family:Ki(i.family,e.family),lineHeight:tle(Ki(i.lineHeight,e.lineHeight),t),size:t,style:a,weight:Ki(i.weight,e.weight),string:""};return c.string=Goe(c),c}function D1(i,e,t,a){let c,p,y;for(c=0,p=i.length;c<p;++c)if(y=i[c],y!==void 0&&y!==void 0)return y}function nle(i,e,t){const{min:a,max:c}=i,p=m8(e,(c-a)/2),y=(s,L)=>t&&s===0?0:s+L;return{min:y(a,-Math.abs(p)),max:y(c,p)}}function Zc(i,e){return Object.assign(Object.create(i),e)}function pb(i,e=[""],t,a,c=()=>i[0]){const p=t||i;typeof a>"u"&&(a=D8("_fallback",i));const y={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:p,_fallback:a,_getTarget:c,override:s=>pb([s,...i],e,p,a)};return new Proxy(y,{deleteProperty(s,L){return delete s[L],delete s._keys,delete i[0][L],!0},get(s,L){return I8(s,L,()=>ule(L,e,i,s))},getOwnPropertyDescriptor(s,L){return Reflect.getOwnPropertyDescriptor(s._scopes[0],L)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(s,L){return iE(s).includes(L)},ownKeys(s){return iE(s)},set(s,L,R){const V=s._storage||(s._storage=c());return s[L]=V[L]=R,delete s._keys,!0}})}function gp(i,e,t,a){const c={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:A8(i,a),setContext:p=>gp(i,p,t,a),override:p=>gp(i.override(p),e,t,a)};return new Proxy(c,{deleteProperty(p,y){return delete p[y],delete i[y],!0},get(p,y,s){return I8(p,y,()=>sle(p,y,s))},getOwnPropertyDescriptor(p,y){return p._descriptors.allKeys?Reflect.has(i,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,y)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(p,y){return Reflect.has(i,y)},ownKeys(){return Reflect.ownKeys(i)},set(p,y,s){return i[y]=s,delete p[y],!0}})}function A8(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:a=e.indexable,_allKeys:c=e.allKeys}=i;return{allKeys:c,scriptable:t,indexable:a,isScriptable:jc(t)?t:()=>t,isIndexable:jc(a)?a:()=>a}}const rle=(i,e)=>i?i+ob(e):e,fb=(i,e)=>pn(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function I8(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const a=t();return i[e]=a,a}function sle(i,e,t){const{_proxy:a,_context:c,_subProxy:p,_descriptors:y}=i;let s=a[e];return jc(s)&&y.isScriptable(e)&&(s=ale(e,s,i,t)),lr(s)&&s.length&&(s=ole(e,s,i,y.isIndexable)),fb(e,s)&&(s=gp(s,c,p&&p[e],y)),s}function ale(i,e,t,a){const{_proxy:c,_context:p,_subProxy:y,_stack:s}=t;if(s.has(i))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+i);s.add(i);let L=e(p,y||a);return s.delete(i),fb(i,L)&&(L=mb(c._scopes,c,i,L)),L}function ole(i,e,t,a){const{_proxy:c,_context:p,_subProxy:y,_descriptors:s}=t;if(typeof p.index<"u"&&a(i))return e[p.index%e.length];if(pn(e[0])){const L=e,R=c._scopes.filter(V=>V!==L);e=[];for(const V of L){const q=mb(R,c,i,V);e.push(gp(q,p,y&&y[i],s))}}return e}function P8(i,e,t){return jc(i)?i(e,t):i}const lle=(i,e)=>i===!0?e:typeof i=="string"?Uc(e,i):void 0;function cle(i,e,t,a,c){for(const p of e){const y=lle(t,p);if(y){i.add(y);const s=P8(y._fallback,t,c);if(typeof s<"u"&&s!==t&&s!==a)return s}else if(y===!1&&typeof a<"u"&&t!==a)return null}return!1}function mb(i,e,t,a){const c=e._rootScopes,p=P8(e._fallback,t,a),y=[...i,...c],s=new Set;s.add(a);let L=tE(s,y,t,p||t,a);return L===null||typeof p<"u"&&p!==t&&(L=tE(s,y,p,L,a),L===null)?!1:pb(Array.from(s),[""],c,p,()=>hle(e,t,a))}function tE(i,e,t,a,c){for(;t;)t=cle(i,e,t,a,c);return t}function hle(i,e,t){const a=i._getTarget();e in a||(a[e]={});const c=a[e];return lr(c)&&pn(t)?t:c||{}}function ule(i,e,t,a){let c;for(const p of e)if(c=D8(rle(p,i),t),typeof c<"u")return fb(i,c)?mb(t,a,i,c):c}function D8(i,e){for(const t of e){if(!t)continue;const a=t[i];if(typeof a<"u")return a}}function iE(i){let e=i._keys;return e||(e=i._keys=dle(i._scopes)),e}function dle(i){const e=new Set;for(const t of i)for(const a of Object.keys(t).filter(c=>!c.startsWith("_")))e.add(a);return Array.from(e)}function L8(i,e,t,a){const{iScale:c}=i,{key:p="r"}=this._parsing,y=new Array(a);let s,L,R,V;for(s=0,L=a;s<L;++s)R=s+t,V=e[R],y[s]={r:c.parse(Uc(V,p),R)};return y}const ple=Number.EPSILON||1e-14,_p=(i,e)=>e<i.length&&!i[e].skip&&i[e],k8=i=>i==="x"?"y":"x";function fle(i,e,t,a){const c=i.skip?e:i,p=e,y=t.skip?e:t,s=dx(p,c),L=dx(y,p);let R=s/(s+L),V=L/(s+L);R=isNaN(R)?0:R,V=isNaN(V)?0:V;const q=a*R,Z=a*V;return{previous:{x:p.x-q*(y.x-c.x),y:p.y-q*(y.y-c.y)},next:{x:p.x+Z*(y.x-c.x),y:p.y+Z*(y.y-c.y)}}}function mle(i,e,t){const a=i.length;let c,p,y,s,L,R=_p(i,0);for(let V=0;V<a-1;++V)if(L=R,R=_p(i,V+1),!(!L||!R)){if(q1(e[V],0,ple)){t[V]=t[V+1]=0;continue}c=t[V]/e[V],p=t[V+1]/e[V],s=Math.pow(c,2)+Math.pow(p,2),!(s<=9)&&(y=3/Math.sqrt(s),t[V]=c*y*e[V],t[V+1]=p*y*e[V])}}function gle(i,e,t="x"){const a=k8(t),c=i.length;let p,y,s,L=_p(i,0);for(let R=0;R<c;++R){if(y=s,s=L,L=_p(i,R+1),!s)continue;const V=s[t],q=s[a];y&&(p=(V-y[t])/3,s[`cp1${t}`]=V-p,s[`cp1${a}`]=q-p*e[R]),L&&(p=(L[t]-V)/3,s[`cp2${t}`]=V+p,s[`cp2${a}`]=q+p*e[R])}}function _le(i,e="x"){const t=k8(e),a=i.length,c=Array(a).fill(0),p=Array(a);let y,s,L,R=_p(i,0);for(y=0;y<a;++y)if(s=L,L=R,R=_p(i,y+1),!!L){if(R){const V=R[e]-L[e];c[y]=V!==0?(R[t]-L[t])/V:0}p[y]=s?R?Uo(c[y-1])!==Uo(c[y])?0:(c[y-1]+c[y])/2:c[y-1]:c[y]}mle(i,c,p),gle(i,p,e)}function zg(i,e,t){return Math.max(Math.min(i,t),e)}function yle(i,e){let t,a,c,p,y,s=Dl(i[0],e);for(t=0,a=i.length;t<a;++t)y=p,p=s,s=t<a-1&&Dl(i[t+1],e),p&&(c=i[t],y&&(c.cp1x=zg(c.cp1x,e.left,e.right),c.cp1y=zg(c.cp1y,e.top,e.bottom)),s&&(c.cp2x=zg(c.cp2x,e.left,e.right),c.cp2y=zg(c.cp2y,e.top,e.bottom)))}function vle(i,e,t,a,c){let p,y,s,L;if(e.spanGaps&&(i=i.filter(R=>!R.skip)),e.cubicInterpolationMode==="monotone")_le(i,c);else{let R=a?i[i.length-1]:i[0];for(p=0,y=i.length;p<y;++p)s=i[p],L=fle(R,s,i[Math.min(p+1,y-(a?0:1))%y],e.tension),s.cp1x=L.previous.x,s.cp1y=L.previous.y,s.cp2x=L.next.x,s.cp2y=L.next.y,R=s}e.capBezierPoints&&yle(i,t)}function gb(){return typeof window<"u"&&typeof document<"u"}function _b(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function I2(i,e,t){let a;return typeof i=="string"?(a=parseInt(i,10),i.indexOf("%")!==-1&&(a=a/100*e.parentNode[t])):a=i,a}const Q2=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function xle(i,e){return Q2(i).getPropertyValue(e)}const ble=["top","right","bottom","left"];function nu(i,e,t){const a={};t=t?"-"+t:"";for(let c=0;c<4;c++){const p=ble[c];a[p]=parseFloat(i[e+"-"+p+t])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const wle=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function Mle(i,e){const t=i.touches,a=t&&t.length?t[0]:i,{offsetX:c,offsetY:p}=a;let y=!1,s,L;if(wle(c,p,i.target))s=c,L=p;else{const R=e.getBoundingClientRect();s=a.clientX-R.left,L=a.clientY-R.top,y=!0}return{x:s,y:L,box:y}}function $h(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:a}=e,c=Q2(t),p=c.boxSizing==="border-box",y=nu(c,"padding"),s=nu(c,"border","width"),{x:L,y:R,box:V}=Mle(i,t),q=y.left+(V&&s.left),Z=y.top+(V&&s.top);let{width:ee,height:se}=e;return p&&(ee-=y.width+s.width,se-=y.height+s.height),{x:Math.round((L-q)/ee*t.width/a),y:Math.round((R-Z)/se*t.height/a)}}function Sle(i,e,t){let a,c;if(e===void 0||t===void 0){const p=i&&_b(i);if(!p)e=i.clientWidth,t=i.clientHeight;else{const y=p.getBoundingClientRect(),s=Q2(p),L=nu(s,"border","width"),R=nu(s,"padding");e=y.width-R.width-L.width,t=y.height-R.height-L.height,a=I2(s.maxWidth,p,"clientWidth"),c=I2(s.maxHeight,p,"clientHeight")}}return{width:e,height:t,maxWidth:a||C2,maxHeight:c||C2}}const Fg=i=>Math.round(i*10)/10;function Tle(i,e,t,a){const c=Q2(i),p=nu(c,"margin"),y=I2(c.maxWidth,i,"clientWidth")||C2,s=I2(c.maxHeight,i,"clientHeight")||C2,L=Sle(i,e,t);let{width:R,height:V}=L;if(c.boxSizing==="content-box"){const Z=nu(c,"border","width"),ee=nu(c,"padding");R-=ee.width+Z.width,V-=ee.height+Z.height}return R=Math.max(0,R-p.width),V=Math.max(0,a?R/a:V-p.height),R=Fg(Math.min(R,y,L.maxWidth)),V=Fg(Math.min(V,s,L.maxHeight)),R&&!V&&(V=Fg(R/2)),(e!==void 0||t!==void 0)&&a&&L.height&&V>L.height&&(V=L.height,R=Fg(Math.floor(V*a))),{width:R,height:V}}function nE(i,e,t){const a=e||1,c=Math.floor(i.height*a),p=Math.floor(i.width*a);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const y=i.canvas;return y.style&&(t||!y.style.height&&!y.style.width)&&(y.style.height=`${i.height}px`,y.style.width=`${i.width}px`),i.currentDevicePixelRatio!==a||y.height!==c||y.width!==p?(i.currentDevicePixelRatio=a,y.height=c,y.width=p,i.ctx.setTransform(a,0,0,a,0,0),!0):!1}const Ele=function(){let i=!1;try{const e={get passive(){return i=!0,!1}};gb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i}();function rE(i,e){const t=xle(i,e),a=t&&t.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Gh(i,e,t,a){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function Cle(i,e,t,a){return{x:i.x+t*(e.x-i.x),y:a==="middle"?t<.5?i.y:e.y:a==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function Ale(i,e,t,a){const c={x:i.cp2x,y:i.cp2y},p={x:e.cp1x,y:e.cp1y},y=Gh(i,c,t),s=Gh(c,p,t),L=Gh(p,e,t),R=Gh(y,s,t),V=Gh(s,L,t);return Gh(R,V,t)}const Ile=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,a){return t-a},leftForLtr(t,a){return t-a}}},Ple=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function ap(i,e,t){return i?Ile(e,t):Ple()}function O8(i,e){let t,a;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,a=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=a)}function R8(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function z8(i){return i==="angle"?{between:tm,compare:Doe,normalize:ma}:{between:Il,compare:(e,t)=>e-t,normalize:e=>e}}function sE({start:i,end:e,count:t,loop:a,style:c}){return{start:i%t,end:e%t,loop:a&&(e-i+1)%t===0,style:c}}function Dle(i,e,t){const{property:a,start:c,end:p}=t,{between:y,normalize:s}=z8(a),L=e.length;let{start:R,end:V,loop:q}=i,Z,ee;if(q){for(R+=L,V+=L,Z=0,ee=L;Z<ee&&y(s(e[R%L][a]),c,p);++Z)R--,V--;R%=L,V%=L}return V<R&&(V+=L),{start:R,end:V,loop:q,style:i.style}}function F8(i,e,t){if(!t)return[i];const{property:a,start:c,end:p}=t,y=e.length,{compare:s,between:L,normalize:R}=z8(a),{start:V,end:q,loop:Z,style:ee}=Dle(i,e,t),se=[];let he=!1,we=null,De,Ze,ct;const rt=()=>L(c,ct,De)&&s(c,ct)!==0,gt=()=>s(p,De)===0||L(p,ct,De),Tt=()=>he||rt(),it=()=>!he||gt();for(let _t=V,Ft=V;_t<=q;++_t)Ze=e[_t%y],!Ze.skip&&(De=R(Ze[a]),De!==ct&&(he=L(De,c,p),we===null&&Tt()&&(we=s(De,c)===0?_t:Ft),we!==null&&it()&&(se.push(sE({start:we,end:_t,loop:Z,count:y,style:ee})),we=null),Ft=_t,ct=De));return we!==null&&se.push(sE({start:we,end:q,loop:Z,count:y,style:ee})),se}function B8(i,e){const t=[],a=i.segments;for(let c=0;c<a.length;c++){const p=F8(a[c],i.points,e);p.length&&t.push(...p)}return t}function Lle(i,e,t,a){let c=0,p=e-1;if(t&&!a)for(;c<e&&!i[c].skip;)c++;for(;c<e&&i[c].skip;)c++;for(c%=e,t&&(p+=c);p>c&&i[p%e].skip;)p--;return p%=e,{start:c,end:p}}function kle(i,e,t,a){const c=i.length,p=[];let y=e,s=i[e],L;for(L=e+1;L<=t;++L){const R=i[L%c];R.skip||R.stop?s.skip||(a=!1,p.push({start:e%c,end:(L-1)%c,loop:a}),e=y=R.stop?L:null):(y=L,s.skip&&(e=L)),s=R}return y!==null&&p.push({start:e%c,end:y%c,loop:a}),p}function Ole(i,e){const t=i.points,a=i.options.spanGaps,c=t.length;if(!c)return[];const p=!!i._loop,{start:y,end:s}=Lle(t,c,p,a);if(a===!0)return aE(i,[{start:y,end:s,loop:p}],t,e);const L=s<y?s+c:s,R=!!i._fullLoop&&y===0&&s===c-1;return aE(i,kle(t,y,L,R),t,e)}function aE(i,e,t,a){return!a||!a.setContext||!t?e:Rle(i,e,t,a)}function Rle(i,e,t,a){const c=i._chart.getContext(),p=oE(i.options),{_datasetIndex:y,options:{spanGaps:s}}=i,L=t.length,R=[];let V=p,q=e[0].start,Z=q;function ee(se,he,we,De){const Ze=s?-1:1;if(se!==he){for(se+=L;t[se%L].skip;)se-=Ze;for(;t[he%L].skip;)he+=Ze;se%L!==he%L&&(R.push({start:se%L,end:he%L,loop:we,style:De}),V=De,q=he%L)}}for(const se of e){q=s?q:se.start;let he=t[q%L],we;for(Z=q+1;Z<=se.end;Z++){const De=t[Z%L];we=oE(a.setContext(Zc(c,{type:"segment",p0:he,p1:De,p0DataIndex:(Z-1)%L,p1DataIndex:Z%L,datasetIndex:y}))),zle(we,V)&&ee(q,Z-1,se.loop,V),he=De,V=we}q<Z-1&&ee(q,Z-1,se.loop,V)}return R}function oE(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function zle(i,e){if(!e)return!1;const t=[],a=function(c,p){return ub(p)?(t.includes(p)||t.push(p),t.indexOf(p)):p};return JSON.stringify(i,a)!==JSON.stringify(e,a)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Fle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,c){const p=t.listeners[c],y=t.duration;p.forEach(s=>s({chart:e,initial:t.initial,numSteps:y,currentStep:Math.min(a-t.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=b8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((a,c)=>{if(!a.running||!a.items.length)return;const p=a.items;let y=p.length-1,s=!1,L;for(;y>=0;--y)L=p[y],L._active?(L._total>a.duration&&(a.duration=L._total),L.tick(e),s=!0):(p[y]=p[p.length-1],p.pop());s&&(c.draw(),this._notify(c,a,e,"progress")),p.length||(a.running=!1,this._notify(c,a,e,"complete"),a.initial=!1),t+=p.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((a,c)=>Math.max(a,c._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const a=t.items;let c=a.length-1;for(;c>=0;--c)a[c].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bl=new Fle;const lE="transparent",Ble={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const a=J6(i||lE),c=a.valid&&J6(e||lE);return c&&c.valid?c.mix(a,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class Nle{constructor(e,t,a,c){const p=t[a];c=D1([e.to,c,p,e.from]);const y=D1([e.from,p,c]);this._active=!0,this._fn=e.fn||Ble[e.type||typeof y],this._easing=$1[e.easing]||$1.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=y,this._to=c,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);const c=this._target[this._prop],p=a-this._start,y=this._duration-p;this._start=a,this._duration=Math.floor(Math.max(y,e.duration)),this._total+=p,this._loop=!!e.loop,this._to=D1([e.to,t,c,e.from]),this._from=D1([e.from,c,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,a=this._duration,c=this._prop,p=this._from,y=this._loop,s=this._to;let L;if(this._active=p!==s&&(y||t<a),!this._active){this._target[c]=s,this._notify(!0);return}if(t<0){this._target[c]=p;return}L=t/a%2,L=y&&L>1?2-L:L,L=this._easing(Math.min(1,Math.max(0,L))),this._target[c]=this._fn(p,s,L)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,a)=>{e.push({res:t,rej:a})})}_notify(e){const t=e?"res":"rej",a=this._promises||[];for(let c=0;c<a.length;c++)a[c][t]()}}class N8{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!pn(e))return;const t=Object.keys(cr.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(c=>{const p=e[c];if(!pn(p))return;const y={};for(const s of t)y[s]=p[s];(lr(p.properties)&&p.properties||[c]).forEach(s=>{(s===c||!a.has(s))&&a.set(s,y)})})}_animateOptions(e,t){const a=t.options,c=Hle(e,a);if(!c)return[];const p=this._createAnimations(c,a);return a.$shared&&Vle(e.options.$animations,a).then(()=>{e.options=a},()=>{}),p}_createAnimations(e,t){const a=this._properties,c=[],p=e.$animations||(e.$animations={}),y=Object.keys(t),s=Date.now();let L;for(L=y.length-1;L>=0;--L){const R=y[L];if(R.charAt(0)==="$")continue;if(R==="options"){c.push(...this._animateOptions(e,t));continue}const V=t[R];let q=p[R];const Z=a.get(R);if(q)if(Z&&q.active()){q.update(Z,V,s);continue}else q.cancel();if(!Z||!Z.duration){e[R]=V;continue}p[R]=q=new Nle(Z,e,R,V),c.push(q)}return c}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const a=this._createAnimations(e,t);if(a.length)return bl.add(this._chart,a),!0}}function Vle(i,e){const t=[],a=Object.keys(e);for(let c=0;c<a.length;c++){const p=i[a[c]];p&&p.active()&&t.push(p.wait())}return Promise.all(t)}function Hle(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function cE(i,e){const t=i&&i.options||{},a=t.reverse,c=t.min===void 0?e:0,p=t.max===void 0?e:0;return{start:a?p:c,end:a?c:p}}function Ule(i,e,t){if(t===!1)return!1;const a=cE(i,t),c=cE(e,t);return{top:c.end,right:a.end,bottom:c.start,left:a.start}}function jle(i){let e,t,a,c;return pn(i)?(e=i.top,t=i.right,a=i.bottom,c=i.left):e=t=a=c=i,{top:e,right:t,bottom:a,left:c,disabled:i===!1}}function V8(i,e){const t=[],a=i._getSortedDatasetMetas(e);let c,p;for(c=0,p=a.length;c<p;++c)t.push(a[c].index);return t}function hE(i,e,t,a={}){const c=i.keys,p=a.mode==="single";let y,s,L,R;if(e===null)return;let V=!1;for(y=0,s=c.length;y<s;++y){if(L=+c[y],L===t){if(V=!0,a.all)continue;break}R=i.values[L],wr(R)&&(p||e===0||Uo(e)===Uo(R))&&(e+=R)}return!V&&!a.all?0:e}function qle(i,e){const{iScale:t,vScale:a}=e,c=t.axis==="x"?"x":"y",p=a.axis==="x"?"x":"y",y=Object.keys(i),s=new Array(y.length);let L,R,V;for(L=0,R=y.length;L<R;++L)V=y[L],s[L]={[c]:V,[p]:i[V]};return s}function Lv(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function $le(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function Gle(i){const{min:e,max:t,minDefined:a,maxDefined:c}=i.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:c?t:Number.POSITIVE_INFINITY}}function Wle(i,e,t){const a=i[e]||(i[e]={});return a[t]||(a[t]={})}function uE(i,e,t,a){for(const c of e.getMatchingVisibleMetas(a).reverse()){const p=i[c.index];if(t&&p>0||!t&&p<0)return c.index}return null}function dE(i,e){const{chart:t,_cachedMeta:a}=i,c=t._stacks||(t._stacks={}),{iScale:p,vScale:y,index:s}=a,L=p.axis,R=y.axis,V=$le(p,y,a),q=e.length;let Z;for(let ee=0;ee<q;++ee){const se=e[ee],{[L]:he,[R]:we}=se,De=se._stacks||(se._stacks={});Z=De[R]=Wle(c,V,he),Z[s]=we,Z._top=uE(Z,y,!0,a.type),Z._bottom=uE(Z,y,!1,a.type);const Ze=Z._visualValues||(Z._visualValues={});Ze[s]=we}}function kv(i,e){const t=i.scales;return Object.keys(t).filter(a=>t[a].axis===e).shift()}function Zle(i,e){return Zc(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yle(i,e,t){return Zc(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function x1(i,e){const t=i.controller.index,a=i.vScale&&i.vScale.axis;if(a){e=e||i._parsed;for(const c of e){const p=c._stacks;if(!p||p[a]===void 0||p[a][t]===void 0)return;delete p[a][t],p[a]._visualValues!==void 0&&p[a]._visualValues[t]!==void 0&&delete p[a]._visualValues[t]}}}const Ov=i=>i==="reset"||i==="none",pE=(i,e)=>e?i:Object.assign({},i),Xle=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:V8(t,!0),values:null};class uo{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&x1(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,a=this.getDataset(),c=(q,Z,ee,se)=>q==="x"?Z:q==="r"?se:ee,p=t.xAxisID=Ki(a.xAxisID,kv(e,"x")),y=t.yAxisID=Ki(a.yAxisID,kv(e,"y")),s=t.rAxisID=Ki(a.rAxisID,kv(e,"r")),L=t.indexAxis,R=t.iAxisID=c(L,p,y,s),V=t.vAxisID=c(L,y,p,s);t.xScale=this.getScaleForId(p),t.yScale=this.getScaleForId(y),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(R),t.vScale=this.getScaleForId(V)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Y6(this._data,this),e._stacked&&x1(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(pn(t)){const c=this._cachedMeta;this._data=qle(t,c)}else if(a!==t){if(a){Y6(a,this);const c=this._cachedMeta;x1(c),c._parsed=[]}t&&Object.isExtensible(t)&&Roe(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,a=this.getDataset();let c=!1;this._dataCheck();const p=t._stacked;t._stacked=Lv(t.vScale,t),t.stack!==a.stack&&(c=!0,x1(t),t.stack=a.stack),this._resyncElements(e),(c||p!==t._stacked)&&(dE(this,t._parsed),t._stacked=Lv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:a,_data:c}=this,{iScale:p,_stacked:y}=a,s=p.axis;let L=e===0&&t===c.length?!0:a._sorted,R=e>0&&a._parsed[e-1],V,q,Z;if(this._parsing===!1)a._parsed=c,a._sorted=!0,Z=c;else{lr(c[e])?Z=this.parseArrayData(a,c,e,t):pn(c[e])?Z=this.parseObjectData(a,c,e,t):Z=this.parsePrimitiveData(a,c,e,t);const ee=()=>q[s]===null||R&&q[s]<R[s];for(V=0;V<t;++V)a._parsed[V+e]=q=Z[V],L&&(ee()&&(L=!1),R=q);a._sorted=L}y&&dE(this,Z)}parsePrimitiveData(e,t,a,c){const{iScale:p,vScale:y}=e,s=p.axis,L=y.axis,R=p.getLabels(),V=p===y,q=new Array(c);let Z,ee,se;for(Z=0,ee=c;Z<ee;++Z)se=Z+a,q[Z]={[s]:V||p.parse(R[se],se),[L]:y.parse(t[se],se)};return q}parseArrayData(e,t,a,c){const{xScale:p,yScale:y}=e,s=new Array(c);let L,R,V,q;for(L=0,R=c;L<R;++L)V=L+a,q=t[V],s[L]={x:p.parse(q[0],V),y:y.parse(q[1],V)};return s}parseObjectData(e,t,a,c){const{xScale:p,yScale:y}=e,{xAxisKey:s="x",yAxisKey:L="y"}=this._parsing,R=new Array(c);let V,q,Z,ee;for(V=0,q=c;V<q;++V)Z=V+a,ee=t[Z],R[V]={x:p.parse(Uc(ee,s),Z),y:y.parse(Uc(ee,L),Z)};return R}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){const c=this.chart,p=this._cachedMeta,y=t[e.axis],s={keys:V8(c,!0),values:t._stacks[e.axis]._visualValues};return hE(s,y,p.index,{mode:a})}updateRangeFromParsed(e,t,a,c){const p=a[t.axis];let y=p===null?NaN:p;const s=c&&a._stacks[t.axis];c&&s&&(c.values=s,y=hE(c,p,this._cachedMeta.index)),e.min=Math.min(e.min,y),e.max=Math.max(e.max,y)}getMinMax(e,t){const a=this._cachedMeta,c=a._parsed,p=a._sorted&&e===a.iScale,y=c.length,s=this._getOtherScale(e),L=Xle(t,a,this.chart),R={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:V,max:q}=Gle(s);let Z,ee;function se(){ee=c[Z];const he=ee[s.axis];return!wr(ee[e.axis])||V>he||q<he}for(Z=0;Z<y&&!(!se()&&(this.updateRangeFromParsed(R,e,ee,L),p));++Z);if(p){for(Z=y-1;Z>=0;--Z)if(!se()){this.updateRangeFromParsed(R,e,ee,L);break}}return R}getAllParsedValues(e){const t=this._cachedMeta._parsed,a=[];let c,p,y;for(c=0,p=t.length;c<p;++c)y=t[c][e.axis],wr(y)&&a.push(y);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,a=t.iScale,c=t.vScale,p=this.getParsed(e);return{label:a?""+a.getLabelForValue(p[a.axis]):"",value:c?""+c.getLabelForValue(p[c.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=jle(Ki(this.options.clip,Ule(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,a=this._cachedMeta,c=a.data||[],p=t.chartArea,y=[],s=this._drawStart||0,L=this._drawCount||c.length-s,R=this.options.drawActiveElementsOnTop;let V;for(a.dataset&&a.dataset.draw(e,p,s,L),V=s;V<s+L;++V){const q=c[V];q.hidden||(q.active&&R?y.push(q):q.draw(e,p))}for(V=0;V<y.length;++V)y[V].draw(e,p)}getStyle(e,t){const a=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){const c=this.getDataset();let p;if(e>=0&&e<this._cachedMeta.data.length){const y=this._cachedMeta.data[e];p=y.$context||(y.$context=Yle(this.getContext(),e,y)),p.parsed=this.getParsed(e),p.raw=c.data[e],p.index=p.dataIndex=e}else p=this.$context||(this.$context=Zle(this.chart.getContext(),this.index)),p.dataset=c,p.index=p.datasetIndex=this.index;return p.active=!!t,p.mode=a,p}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){const c=t==="active",p=this._cachedDataOpts,y=e+"-"+t,s=p[y],L=this.enableOptionSharing&&em(a);if(s)return pE(s,L);const R=this.chart.config,V=R.datasetElementScopeKeys(this._type,e),q=c?[`${e}Hover`,"hover",e,""]:[e,""],Z=R.getOptionScopes(this.getDataset(),V),ee=Object.keys(cr.elements[e]),se=()=>this.getContext(a,c,t),he=R.resolveNamedOptions(Z,ee,se,q);return he.$shared&&(he.$shared=L,p[y]=Object.freeze(pE(he,L))),he}_resolveAnimations(e,t,a){const c=this.chart,p=this._cachedDataOpts,y=`animation-${t}`,s=p[y];if(s)return s;let L;if(c.options.animation!==!1){const V=this.chart.config,q=V.datasetAnimationScopeKeys(this._type,t),Z=V.getOptionScopes(this.getDataset(),q);L=V.createResolver(Z,this.getContext(e,a,t))}const R=new N8(c,L&&L.animations);return L&&L._cacheable&&(p[y]=Object.freeze(R)),R}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ov(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const a=this.resolveDataElementOptions(e,t),c=this._sharedOptions,p=this.getSharedOptions(a),y=this.includeOptions(t,p)||p!==c;return this.updateSharedOptions(p,t,a),{sharedOptions:p,includeOptions:y}}updateElement(e,t,a,c){Ov(c)?Object.assign(e,a):this._resolveAnimations(t,c).update(e,a)}updateSharedOptions(e,t,a){e&&!Ov(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,c){e.active=c;const p=this.getStyle(t,c);this._resolveAnimations(t,a,c).update(e,{options:!c&&this.getSharedOptions(p)||p})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,a=this._cachedMeta.data;for(const[s,L,R]of this._syncList)this[s](L,R);this._syncList=[];const c=a.length,p=t.length,y=Math.min(p,c);y&&this.parse(0,y),p>c?this._insertElements(c,p-c,e):p<c&&this._removeElements(p,c-p)}_insertElements(e,t,a=!0){const c=this._cachedMeta,p=c.data,y=e+t;let s;const L=R=>{for(R.length+=t,s=R.length-1;s>=y;s--)R[s]=R[s-t]};for(L(p),s=e;s<y;++s)p[s]=new this.dataElementType;this._parsing&&L(c._parsed),this.parse(e,t),a&&this.updateElements(p,e,t,"reset")}updateElements(e,t,a,c){}_removeElements(e,t){const a=this._cachedMeta;if(this._parsing){const c=a._parsed.splice(e,t);a._stacked&&x1(a,c)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,a,c]=e;this[t](a,c)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}et(uo,"defaults",{}),et(uo,"datasetElementType",null),et(uo,"dataElementType",null);function Kle(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let a=[];for(let c=0,p=t.length;c<p;c++)a=a.concat(t[c].controller.getAllParsedValues(i));i._cache.$bar=x8(a.sort((c,p)=>c-p))}return i._cache.$bar}function Jle(i){const e=i.iScale,t=Kle(e,i.type);let a=e._length,c,p,y,s;const L=()=>{y===32767||y===-32768||(em(s)&&(a=Math.min(a,Math.abs(y-s)||a)),s=y)};for(c=0,p=t.length;c<p;++c)y=e.getPixelForValue(t[c]),L();for(s=void 0,c=0,p=e.ticks.length;c<p;++c)y=e.getPixelForTick(c),L();return a}function Qle(i,e,t,a){const c=t.barThickness;let p,y;return wn(c)?(p=e.min*t.categoryPercentage,y=t.barPercentage):(p=c*a,y=1),{chunk:p/a,ratio:y,start:e.pixels[i]-p/2}}function ece(i,e,t,a){const c=e.pixels,p=c[i];let y=i>0?c[i-1]:null,s=i<c.length-1?c[i+1]:null;const L=t.categoryPercentage;y===null&&(y=p-(s===null?e.end-e.start:s-p)),s===null&&(s=p+p-y);const R=p-(p-Math.min(y,s))/2*L;return{chunk:Math.abs(s-y)/2*L/a,ratio:t.barPercentage,start:R}}function tce(i,e,t,a){const c=t.parse(i[0],a),p=t.parse(i[1],a),y=Math.min(c,p),s=Math.max(c,p);let L=y,R=s;Math.abs(y)>Math.abs(s)&&(L=s,R=y),e[t.axis]=R,e._custom={barStart:L,barEnd:R,start:c,end:p,min:y,max:s}}function H8(i,e,t,a){return lr(i)?tce(i,e,t,a):e[t.axis]=t.parse(i,a),e}function fE(i,e,t,a){const c=i.iScale,p=i.vScale,y=c.getLabels(),s=c===p,L=[];let R,V,q,Z;for(R=t,V=t+a;R<V;++R)Z=e[R],q={},q[c.axis]=s||c.parse(y[R],R),L.push(H8(Z,q,p,R));return L}function Rv(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function ice(i,e,t){return i!==0?Uo(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nce(i){let e,t,a,c,p;return i.horizontal?(e=i.base>i.x,t="left",a="right"):(e=i.base<i.y,t="bottom",a="top"),e?(c="end",p="start"):(c="start",p="end"),{start:t,end:a,reverse:e,top:c,bottom:p}}function rce(i,e,t,a){let c=e.borderSkipped;const p={};if(!c){i.borderSkipped=p;return}if(c===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:y,end:s,reverse:L,top:R,bottom:V}=nce(i);c==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===a?c=R:(t._bottom||0)===a?c=V:(p[mE(V,y,s,L)]=!0,c=R)),p[mE(c,y,s,L)]=!0,i.borderSkipped=p}function mE(i,e,t,a){return a?(i=sce(i,e,t),i=gE(i,t,e)):i=gE(i,e,t),i}function sce(i,e,t){return i===e?t:i===t?e:i}function gE(i,e,t){return i==="start"?e:i==="end"?t:i}function ace(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class n2 extends uo{parsePrimitiveData(e,t,a,c){return fE(e,t,a,c)}parseArrayData(e,t,a,c){return fE(e,t,a,c)}parseObjectData(e,t,a,c){const{iScale:p,vScale:y}=e,{xAxisKey:s="x",yAxisKey:L="y"}=this._parsing,R=p.axis==="x"?s:L,V=y.axis==="x"?s:L,q=[];let Z,ee,se,he;for(Z=a,ee=a+c;Z<ee;++Z)he=t[Z],se={},se[p.axis]=p.parse(Uc(he,R),Z),q.push(H8(Uc(he,V),se,y,Z));return q}updateRangeFromParsed(e,t,a,c){super.updateRangeFromParsed(e,t,a,c);const p=a._custom;p&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,p.min),e.max=Math.max(e.max,p.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:a,vScale:c}=t,p=this.getParsed(e),y=p._custom,s=Rv(y)?"["+y.start+", "+y.end+"]":""+c.getLabelForValue(p[c.axis]);return{label:""+a.getLabelForValue(p[a.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,c){const p=c==="reset",{index:y,_cachedMeta:{vScale:s}}=this,L=s.getBasePixel(),R=s.isHorizontal(),V=this._getRuler(),{sharedOptions:q,includeOptions:Z}=this._getSharedOptions(t,c);for(let ee=t;ee<t+a;ee++){const se=this.getParsed(ee),he=p||wn(se[s.axis])?{base:L,head:L}:this._calculateBarValuePixels(ee),we=this._calculateBarIndexPixels(ee,V),De=(se._stacks||{})[s.axis],Ze={horizontal:R,base:he.base,enableBorderRadius:!De||Rv(se._custom)||y===De._top||y===De._bottom,x:R?he.head:we.center,y:R?we.center:he.head,height:R?we.size:Math.abs(he.size),width:R?Math.abs(he.size):we.size};Z&&(Ze.options=q||this.resolveDataElementOptions(ee,e[ee].active?"active":c));const ct=Ze.options||e[ee].options;rce(Ze,ct,De,y),ace(Ze,ct,V.ratio),this.updateElement(e[ee],ee,Ze,c)}}_getStacks(e,t){const{iScale:a}=this._cachedMeta,c=a.getMatchingVisibleMetas(this._type).filter(V=>V.controller.options.grouped),p=a.options.stacked,y=[],s=this._cachedMeta.controller.getParsed(t),L=s&&s[a.axis],R=V=>{const q=V._parsed.find(ee=>ee[a.axis]===L),Z=q&&q[V.vScale.axis];if(wn(Z)||isNaN(Z))return!0};for(const V of c)if(!(t!==void 0&&R(V))&&((p===!1||y.indexOf(V.stack)===-1||p===void 0&&V.stack===void 0)&&y.push(V.stack),V.index===e))break;return y.length||y.push(void 0),y}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,a){const c=this._getStacks(e,a),p=t!==void 0?c.indexOf(t):-1;return p===-1?c.length-1:p}_getRuler(){const e=this.options,t=this._cachedMeta,a=t.iScale,c=[];let p,y;for(p=0,y=t.data.length;p<y;++p)c.push(a.getPixelForValue(this.getParsed(p)[a.axis],p));const s=e.barThickness;return{min:s||Jle(t),pixels:c,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:a,index:c},options:{base:p,minBarLength:y}}=this,s=p||0,L=this.getParsed(e),R=L._custom,V=Rv(R);let q=L[t.axis],Z=0,ee=a?this.applyStack(t,L,a):q,se,he;ee!==q&&(Z=ee-q,ee=q),V&&(q=R.barStart,ee=R.barEnd-R.barStart,q!==0&&Uo(q)!==Uo(R.barEnd)&&(Z=0),Z+=q);const we=!wn(p)&&!V?p:Z;let De=t.getPixelForValue(we);if(this.chart.getDataVisibility(e)?se=t.getPixelForValue(Z+ee):se=De,he=se-De,Math.abs(he)<y){he=ice(he,t,s)*y,q===s&&(De-=he/2);const Ze=t.getPixelForDecimal(0),ct=t.getPixelForDecimal(1),rt=Math.min(Ze,ct),gt=Math.max(Ze,ct);De=Math.max(Math.min(De,gt),rt),se=De+he,a&&!V&&(L._stacks[t.axis]._visualValues[c]=t.getValueForPixel(se)-t.getValueForPixel(De))}if(De===t.getPixelForValue(s)){const Ze=Uo(he)*t.getLineWidthForValue(s)/2;De+=Ze,he-=Ze}return{size:he,base:De,head:se,center:se+he/2}}_calculateBarIndexPixels(e,t){const a=t.scale,c=this.options,p=c.skipNull,y=Ki(c.maxBarThickness,1/0);let s,L;if(t.grouped){const R=p?this._getStackCount(e):t.stackCount,V=c.barThickness==="flex"?ece(e,t,c,R):Qle(e,t,c,R),q=this._getStackIndex(this.index,this._cachedMeta.stack,p?e:void 0);s=V.start+V.chunk*q+V.chunk/2,L=Math.min(y,V.chunk*V.ratio)}else s=a.getPixelForValue(this.getParsed(e)[a.axis],e),L=Math.min(y,t.min*t.ratio);return{base:s-L/2,head:s+L/2,center:s,size:L}}draw(){const e=this._cachedMeta,t=e.vScale,a=e.data,c=a.length;let p=0;for(;p<c;++p)this.getParsed(p)[t.axis]!==null&&!a[p].hidden&&a[p].draw(this._ctx)}}et(n2,"id","bar"),et(n2,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),et(n2,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class r2 extends uo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,a,c){const p=super.parsePrimitiveData(e,t,a,c);for(let y=0;y<p.length;y++)p[y]._custom=this.resolveDataElementOptions(y+a).radius;return p}parseArrayData(e,t,a,c){const p=super.parseArrayData(e,t,a,c);for(let y=0;y<p.length;y++){const s=t[a+y];p[y]._custom=Ki(s[2],this.resolveDataElementOptions(y+a).radius)}return p}parseObjectData(e,t,a,c){const p=super.parseObjectData(e,t,a,c);for(let y=0;y<p.length;y++){const s=t[a+y];p[y]._custom=Ki(s&&s.r&&+s.r,this.resolveDataElementOptions(y+a).radius)}return p}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let a=e.length-1;a>=0;--a)t=Math.max(t,e[a].size(this.resolveDataElementOptions(a))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:c,yScale:p}=t,y=this.getParsed(e),s=c.getLabelForValue(y.x),L=p.getLabelForValue(y.y),R=y._custom;return{label:a[e]||"",value:"("+s+", "+L+(R?", "+R:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,a,c){const p=c==="reset",{iScale:y,vScale:s}=this._cachedMeta,{sharedOptions:L,includeOptions:R}=this._getSharedOptions(t,c),V=y.axis,q=s.axis;for(let Z=t;Z<t+a;Z++){const ee=e[Z],se=!p&&this.getParsed(Z),he={},we=he[V]=p?y.getPixelForDecimal(.5):y.getPixelForValue(se[V]),De=he[q]=p?s.getBasePixel():s.getPixelForValue(se[q]);he.skip=isNaN(we)||isNaN(De),R&&(he.options=L||this.resolveDataElementOptions(Z,ee.active?"active":c),p&&(he.options.radius=0)),this.updateElement(ee,Z,he,c)}}resolveDataElementOptions(e,t){const a=this.getParsed(e);let c=super.resolveDataElementOptions(e,t);c.$shared&&(c=Object.assign({},c,{$shared:!1}));const p=c.radius;return t!=="active"&&(c.radius=0),c.radius+=Ki(a&&a._custom,p),c}}et(r2,"id","bubble"),et(r2,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),et(r2,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function oce(i,e,t){let a=1,c=1,p=0,y=0;if(e<rr){const s=i,L=s+e,R=Math.cos(s),V=Math.sin(s),q=Math.cos(L),Z=Math.sin(L),ee=(ct,rt,gt)=>tm(ct,s,L,!0)?1:Math.max(rt,rt*t,gt,gt*t),se=(ct,rt,gt)=>tm(ct,s,L,!0)?-1:Math.min(rt,rt*t,gt,gt*t),he=ee(0,R,q),we=ee(Lr,V,Z),De=se(sr,R,q),Ze=se(sr+Lr,V,Z);a=(he-De)/2,c=(we-Ze)/2,p=-(he+De)/2,y=-(we+Ze)/2}return{ratioX:a,ratioY:c,offsetX:p,offsetY:y}}class Kh extends uo{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const a=this.getDataset().data,c=this._cachedMeta;if(this._parsing===!1)c._parsed=a;else{let p=L=>+a[L];if(pn(a[e])){const{key:L="value"}=this._parsing;p=R=>+Uc(a[R],L)}let y,s;for(y=e,s=e+t;y<s;++y)c._parsed[y]=p(y)}}_getRotation(){return ho(this.options.rotation-90)}_getCircumference(){return ho(this.options.circumference)}_getRotationExtents(){let e=rr,t=-rr;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const c=this.chart.getDatasetMeta(a).controller,p=c._getRotation(),y=c._getCircumference();e=Math.min(e,p),t=Math.max(t,p+y)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:a}=t,c=this._cachedMeta,p=c.data,y=this.getMaxBorderWidth()+this.getMaxOffset(p)+this.options.spacing,s=Math.max((Math.min(a.width,a.height)-y)/2,0),L=Math.min(boe(this.options.cutout,s),1),R=this._getRingWeight(this.index),{circumference:V,rotation:q}=this._getRotationExtents(),{ratioX:Z,ratioY:ee,offsetX:se,offsetY:he}=oce(q,V,L),we=(a.width-y)/Z,De=(a.height-y)/ee,Ze=Math.max(Math.min(we,De)/2,0),ct=m8(this.options.radius,Ze),rt=Math.max(ct*L,0),gt=(ct-rt)/this._getVisibleDatasetWeightTotal();this.offsetX=se*ct,this.offsetY=he*ct,c.total=this.calculateTotal(),this.outerRadius=ct-gt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-gt*R,0),this.updateElements(p,0,p.length,e)}_circumference(e,t){const a=this.options,c=this._cachedMeta,p=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||c._parsed[e]===null||c.data[e].hidden?0:this.calculateCircumference(c._parsed[e]*p/rr)}updateElements(e,t,a,c){const p=c==="reset",y=this.chart,s=y.chartArea,R=y.options.animation,V=(s.left+s.right)/2,q=(s.top+s.bottom)/2,Z=p&&R.animateScale,ee=Z?0:this.innerRadius,se=Z?0:this.outerRadius,{sharedOptions:he,includeOptions:we}=this._getSharedOptions(t,c);let De=this._getRotation(),Ze;for(Ze=0;Ze<t;++Ze)De+=this._circumference(Ze,p);for(Ze=t;Ze<t+a;++Ze){const ct=this._circumference(Ze,p),rt=e[Ze],gt={x:V+this.offsetX,y:q+this.offsetY,startAngle:De,endAngle:De+ct,circumference:ct,outerRadius:se,innerRadius:ee};we&&(gt.options=he||this.resolveDataElementOptions(Ze,rt.active?"active":c)),De+=ct,this.updateElement(rt,Ze,gt,c)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a=0,c;for(c=0;c<t.length;c++){const p=e._parsed[c];p!==null&&!isNaN(p)&&this.chart.getDataVisibility(c)&&!t[c].hidden&&(a+=Math.abs(p))}return a}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?rr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,c=a.data.labels||[],p=Tm(t._parsed[e],a.options.locale);return{label:c[e]||"",value:p}}getMaxBorderWidth(e){let t=0;const a=this.chart;let c,p,y,s,L;if(!e){for(c=0,p=a.data.datasets.length;c<p;++c)if(a.isDatasetVisible(c)){y=a.getDatasetMeta(c),e=y.data,s=y.controller;break}}if(!e)return 0;for(c=0,p=e.length;c<p;++c)L=s.resolveDataElementOptions(c),L.borderAlign!=="inner"&&(t=Math.max(t,L.borderWidth||0,L.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,c=e.length;a<c;++a){const p=this.resolveDataElementOptions(a);t=Math.max(t,p.offset||0,p.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max(Ki(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}et(Kh,"id","doughnut"),et(Kh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),et(Kh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),et(Kh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:a,color:c}}=e.legend.options;return t.labels.map((p,y)=>{const L=e.getDatasetMeta(0).controller.getStyle(y);return{text:p,fillStyle:L.backgroundColor,strokeStyle:L.borderColor,fontColor:c,lineWidth:L.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(y),index:y}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}}});class s2 extends uo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:a,data:c=[],_dataset:p}=t,y=this.chart._animationsDisabled;let{start:s,count:L}=M8(t,c,y);this._drawStart=s,this._drawCount=L,S8(t)&&(s=0,L=c.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!p._decimated,a.points=c;const R=this.resolveDatasetElementOptions(e);this.options.showLine||(R.borderWidth=0),R.segment=this.options.segment,this.updateElement(a,void 0,{animated:!y,options:R},e),this.updateElements(c,s,L,e)}updateElements(e,t,a,c){const p=c==="reset",{iScale:y,vScale:s,_stacked:L,_dataset:R}=this._cachedMeta,{sharedOptions:V,includeOptions:q}=this._getSharedOptions(t,c),Z=y.axis,ee=s.axis,{spanGaps:se,segment:he}=this.options,we=mp(se)?se:Number.POSITIVE_INFINITY,De=this.chart._animationsDisabled||p||c==="none",Ze=t+a,ct=e.length;let rt=t>0&&this.getParsed(t-1);for(let gt=0;gt<ct;++gt){const Tt=e[gt],it=De?Tt:{};if(gt<t||gt>=Ze){it.skip=!0;continue}const _t=this.getParsed(gt),Ft=wn(_t[ee]),vt=it[Z]=y.getPixelForValue(_t[Z],gt),It=it[ee]=p||Ft?s.getBasePixel():s.getPixelForValue(L?this.applyStack(s,_t,L):_t[ee],gt);it.skip=isNaN(vt)||isNaN(It)||Ft,it.stop=gt>0&&Math.abs(_t[Z]-rt[Z])>we,he&&(it.parsed=_t,it.raw=R.data[gt]),q&&(it.options=V||this.resolveDataElementOptions(gt,Tt.active?"active":c)),De||this.updateElement(Tt,gt,it,c),rt=_t}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,a=t.options&&t.options.borderWidth||0,c=e.data||[];if(!c.length)return a;const p=c[0].size(this.resolveDataElementOptions(0)),y=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(a,p,y)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}et(s2,"id","line"),et(s2,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),et(s2,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class W1 extends uo{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,c=a.data.labels||[],p=Tm(t._parsed[e].r,a.options.locale);return{label:c[e]||"",value:p}}parseObjectData(e,t,a,c){return L8.bind(this)(e,t,a,c)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((a,c)=>{const p=this.getParsed(c).r;!isNaN(p)&&this.chart.getDataVisibility(c)&&(p<t.min&&(t.min=p),p>t.max&&(t.max=p))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,a=e.options,c=Math.min(t.right-t.left,t.bottom-t.top),p=Math.max(c/2,0),y=Math.max(a.cutoutPercentage?p/100*a.cutoutPercentage:1,0),s=(p-y)/e.getVisibleDatasetCount();this.outerRadius=p-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,a,c){const p=c==="reset",y=this.chart,L=y.options.animation,R=this._cachedMeta.rScale,V=R.xCenter,q=R.yCenter,Z=R.getIndexAngle(0)-.5*sr;let ee=Z,se;const he=360/this.countVisibleElements();for(se=0;se<t;++se)ee+=this._computeAngle(se,c,he);for(se=t;se<t+a;se++){const we=e[se];let De=ee,Ze=ee+this._computeAngle(se,c,he),ct=y.getDataVisibility(se)?R.getDistanceFromCenterForValue(this.getParsed(se).r):0;ee=Ze,p&&(L.animateScale&&(ct=0),L.animateRotate&&(De=Ze=Z));const rt={x:V,y:q,innerRadius:0,outerRadius:ct,startAngle:De,endAngle:Ze,options:this.resolveDataElementOptions(se,we.active?"active":c)};this.updateElement(we,se,rt,c)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((a,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&t++}),t}_computeAngle(e,t,a){return this.chart.getDataVisibility(e)?ho(this.resolveDataElementOptions(e,t).angle||a):0}}et(W1,"id","polarArea"),et(W1,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),et(W1,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:a,color:c}}=e.legend.options;return t.labels.map((p,y)=>{const L=e.getDatasetMeta(0).controller.getStyle(y);return{text:p,fillStyle:L.backgroundColor,strokeStyle:L.borderColor,fontColor:c,lineWidth:L.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(y),index:y}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class mx extends Kh{}et(mx,"id","pie"),et(mx,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class a2 extends uo{getLabelAndValue(e){const t=this._cachedMeta.vScale,a=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(a[t.axis])}}parseObjectData(e,t,a,c){return L8.bind(this)(e,t,a,c)}update(e){const t=this._cachedMeta,a=t.dataset,c=t.data||[],p=t.iScale.getLabels();if(a.points=c,e!=="resize"){const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0);const s={_loop:!0,_fullLoop:p.length===c.length,options:y};this.updateElement(a,void 0,s,e)}this.updateElements(c,0,c.length,e)}updateElements(e,t,a,c){const p=this._cachedMeta.rScale,y=c==="reset";for(let s=t;s<t+a;s++){const L=e[s],R=this.resolveDataElementOptions(s,L.active?"active":c),V=p.getPointPositionForValue(s,this.getParsed(s).r),q=y?p.xCenter:V.x,Z=y?p.yCenter:V.y,ee={x:q,y:Z,angle:V.angle,skip:isNaN(q)||isNaN(Z),options:R};this.updateElement(L,s,ee,c)}}}et(a2,"id","radar"),et(a2,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),et(a2,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class o2 extends uo{getLabelAndValue(e){const t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:c,yScale:p}=t,y=this.getParsed(e),s=c.getLabelForValue(y.x),L=p.getLabelForValue(y.y);return{label:a[e]||"",value:"("+s+", "+L+")"}}update(e){const t=this._cachedMeta,{data:a=[]}=t,c=this.chart._animationsDisabled;let{start:p,count:y}=M8(t,a,c);if(this._drawStart=p,this._drawCount=y,S8(t)&&(p=0,y=a.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:L}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!L._decimated,s.points=a;const R=this.resolveDatasetElementOptions(e);R.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:R},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(a,p,y,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,a,c){const p=c==="reset",{iScale:y,vScale:s,_stacked:L,_dataset:R}=this._cachedMeta,V=this.resolveDataElementOptions(t,c),q=this.getSharedOptions(V),Z=this.includeOptions(c,q),ee=y.axis,se=s.axis,{spanGaps:he,segment:we}=this.options,De=mp(he)?he:Number.POSITIVE_INFINITY,Ze=this.chart._animationsDisabled||p||c==="none";let ct=t>0&&this.getParsed(t-1);for(let rt=t;rt<t+a;++rt){const gt=e[rt],Tt=this.getParsed(rt),it=Ze?gt:{},_t=wn(Tt[se]),Ft=it[ee]=y.getPixelForValue(Tt[ee],rt),vt=it[se]=p||_t?s.getBasePixel():s.getPixelForValue(L?this.applyStack(s,Tt,L):Tt[se],rt);it.skip=isNaN(Ft)||isNaN(vt)||_t,it.stop=rt>0&&Math.abs(Tt[ee]-ct[ee])>De,we&&(it.parsed=Tt,it.raw=R.data[rt]),Z&&(it.options=q||this.resolveDataElementOptions(rt,gt.active?"active":c)),Ze||this.updateElement(gt,rt,it,c),ct=Tt}this.updateSharedOptions(q,c,V)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let s=0;for(let L=t.length-1;L>=0;--L)s=Math.max(s,t[L].size(this.resolveDataElementOptions(L))/2);return s>0&&s}const a=e.dataset,c=a.options&&a.options.borderWidth||0;if(!t.length)return c;const p=t[0].size(this.resolveDataElementOptions(0)),y=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(c,p,y)/2}}et(o2,"id","scatter"),et(o2,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),et(o2,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var lce=Object.freeze({__proto__:null,BarController:n2,BubbleController:r2,DoughnutController:Kh,LineController:s2,PieController:mx,PolarAreaController:W1,RadarController:a2,ScatterController:o2});function Uh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yb{constructor(e){et(this,"options");this.options=e||{}}static override(e){Object.assign(yb.prototype,e)}init(){}formats(){return Uh()}parse(){return Uh()}format(){return Uh()}add(){return Uh()}diff(){return Uh()}startOf(){return Uh()}endOf(){return Uh()}}var U8={_date:yb};function cce(i,e,t,a){const{controller:c,data:p,_sorted:y}=i,s=c._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&y&&p.length){const L=s._reversePixels?koe:Pl;if(a){if(c._sharedOptions){const R=p[0],V=typeof R.getRange=="function"&&R.getRange(e);if(V){const q=L(p,e,t-V),Z=L(p,e,t+V);return{lo:q.lo,hi:Z.hi}}}}else return L(p,e,t)}return{lo:0,hi:p.length-1}}function Em(i,e,t,a,c){const p=i.getSortedVisibleDatasetMetas(),y=t[e];for(let s=0,L=p.length;s<L;++s){const{index:R,data:V}=p[s],{lo:q,hi:Z}=cce(p[s],e,y,c);for(let ee=q;ee<=Z;++ee){const se=V[ee];se.skip||a(se,R,ee)}}}function hce(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(a,c){const p=e?Math.abs(a.x-c.x):0,y=t?Math.abs(a.y-c.y):0;return Math.sqrt(Math.pow(p,2)+Math.pow(y,2))}}function zv(i,e,t,a,c){const p=[];return!c&&!i.isPointInArea(e)||Em(i,t,e,function(s,L,R){!c&&!Dl(s,i.chartArea,0)||s.inRange(e.x,e.y,a)&&p.push({element:s,datasetIndex:L,index:R})},!0),p}function uce(i,e,t,a){let c=[];function p(y,s,L){const{startAngle:R,endAngle:V}=y.getProps(["startAngle","endAngle"],a),{angle:q}=y8(y,{x:e.x,y:e.y});tm(q,R,V)&&c.push({element:y,datasetIndex:s,index:L})}return Em(i,t,e,p),c}function dce(i,e,t,a,c,p){let y=[];const s=hce(t);let L=Number.POSITIVE_INFINITY;function R(V,q,Z){const ee=V.inRange(e.x,e.y,c);if(a&&!ee)return;const se=V.getCenterPoint(c);if(!(!!p||i.isPointInArea(se))&&!ee)return;const we=s(e,se);we<L?(y=[{element:V,datasetIndex:q,index:Z}],L=we):we===L&&y.push({element:V,datasetIndex:q,index:Z})}return Em(i,t,e,R),y}function Fv(i,e,t,a,c,p){return!p&&!i.isPointInArea(e)?[]:t==="r"&&!a?uce(i,e,t,c):dce(i,e,t,a,c,p)}function _E(i,e,t,a,c){const p=[],y=t==="x"?"inXRange":"inYRange";let s=!1;return Em(i,t,e,(L,R,V)=>{L[y]&&L[y](e[t],c)&&(p.push({element:L,datasetIndex:R,index:V}),s=s||L.inRange(e.x,e.y,c))}),a&&!s?[]:p}var pce={evaluateInteractionItems:Em,modes:{index(i,e,t,a){const c=$h(e,i),p=t.axis||"x",y=t.includeInvisible||!1,s=t.intersect?zv(i,c,p,a,y):Fv(i,c,p,!1,a,y),L=[];return s.length?(i.getSortedVisibleDatasetMetas().forEach(R=>{const V=s[0].index,q=R.data[V];q&&!q.skip&&L.push({element:q,datasetIndex:R.index,index:V})}),L):[]},dataset(i,e,t,a){const c=$h(e,i),p=t.axis||"xy",y=t.includeInvisible||!1;let s=t.intersect?zv(i,c,p,a,y):Fv(i,c,p,!1,a,y);if(s.length>0){const L=s[0].datasetIndex,R=i.getDatasetMeta(L).data;s=[];for(let V=0;V<R.length;++V)s.push({element:R[V],datasetIndex:L,index:V})}return s},point(i,e,t,a){const c=$h(e,i),p=t.axis||"xy",y=t.includeInvisible||!1;return zv(i,c,p,a,y)},nearest(i,e,t,a){const c=$h(e,i),p=t.axis||"xy",y=t.includeInvisible||!1;return Fv(i,c,p,t.intersect,a,y)},x(i,e,t,a){const c=$h(e,i);return _E(i,c,"x",t.intersect,a)},y(i,e,t,a){const c=$h(e,i);return _E(i,c,"y",t.intersect,a)}}};const j8=["left","top","right","bottom"];function b1(i,e){return i.filter(t=>t.pos===e)}function yE(i,e){return i.filter(t=>j8.indexOf(t.pos)===-1&&t.box.axis===e)}function w1(i,e){return i.sort((t,a)=>{const c=e?a:t,p=e?t:a;return c.weight===p.weight?c.index-p.index:c.weight-p.weight})}function fce(i){const e=[];let t,a,c,p,y,s;for(t=0,a=(i||[]).length;t<a;++t)c=i[t],{position:p,options:{stack:y,stackWeight:s=1}}=c,e.push({index:t,box:c,pos:p,horizontal:c.isHorizontal(),weight:c.weight,stack:y&&p+y,stackWeight:s});return e}function mce(i){const e={};for(const t of i){const{stack:a,pos:c,stackWeight:p}=t;if(!a||!j8.includes(c))continue;const y=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=p}return e}function gce(i,e){const t=mce(i),{vBoxMaxWidth:a,hBoxMaxHeight:c}=e;let p,y,s;for(p=0,y=i.length;p<y;++p){s=i[p];const{fullSize:L}=s.box,R=t[s.stack],V=R&&s.stackWeight/R.weight;s.horizontal?(s.width=V?V*a:L&&e.availableWidth,s.height=c):(s.width=a,s.height=V?V*c:L&&e.availableHeight)}return t}function _ce(i){const e=fce(i),t=w1(e.filter(R=>R.box.fullSize),!0),a=w1(b1(e,"left"),!0),c=w1(b1(e,"right")),p=w1(b1(e,"top"),!0),y=w1(b1(e,"bottom")),s=yE(e,"x"),L=yE(e,"y");return{fullSize:t,leftAndTop:a.concat(p),rightAndBottom:c.concat(L).concat(y).concat(s),chartArea:b1(e,"chartArea"),vertical:a.concat(c).concat(L),horizontal:p.concat(y).concat(s)}}function vE(i,e,t,a){return Math.max(i[t],e[t])+Math.max(i[a],e[a])}function q8(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function yce(i,e,t,a){const{pos:c,box:p}=t,y=i.maxPadding;if(!pn(c)){t.size&&(i[c]-=t.size);const q=a[t.stack]||{size:0,count:1};q.size=Math.max(q.size,t.horizontal?p.height:p.width),t.size=q.size/q.count,i[c]+=t.size}p.getPadding&&q8(y,p.getPadding());const s=Math.max(0,e.outerWidth-vE(y,i,"left","right")),L=Math.max(0,e.outerHeight-vE(y,i,"top","bottom")),R=s!==i.w,V=L!==i.h;return i.w=s,i.h=L,t.horizontal?{same:R,other:V}:{same:V,other:R}}function vce(i){const e=i.maxPadding;function t(a){const c=Math.max(e[a]-i[a],0);return i[a]+=c,c}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function xce(i,e){const t=e.maxPadding;function a(c){const p={left:0,top:0,right:0,bottom:0};return c.forEach(y=>{p[y]=Math.max(e[y],t[y])}),p}return a(i?["left","right"]:["top","bottom"])}function L1(i,e,t,a){const c=[];let p,y,s,L,R,V;for(p=0,y=i.length,R=0;p<y;++p){s=i[p],L=s.box,L.update(s.width||e.w,s.height||e.h,xce(s.horizontal,e));const{same:q,other:Z}=yce(e,t,s,a);R|=q&&c.length,V=V||Z,L.fullSize||c.push(s)}return R&&L1(c,e,t,a)||V}function Bg(i,e,t,a,c){i.top=t,i.left=e,i.right=e+a,i.bottom=t+c,i.width=a,i.height=c}function xE(i,e,t,a){const c=t.padding;let{x:p,y}=e;for(const s of i){const L=s.box,R=a[s.stack]||{count:1,placed:0,weight:1},V=s.stackWeight/R.weight||1;if(s.horizontal){const q=e.w*V,Z=R.size||L.height;em(R.start)&&(y=R.start),L.fullSize?Bg(L,c.left,y,t.outerWidth-c.right-c.left,Z):Bg(L,e.left+R.placed,y,q,Z),R.start=y,R.placed+=q,y=L.bottom}else{const q=e.h*V,Z=R.size||L.width;em(R.start)&&(p=R.start),L.fullSize?Bg(L,p,c.top,Z,t.outerHeight-c.bottom-c.top):Bg(L,p,e.top+R.placed,Z,q),R.start=p,R.placed+=q,p=L.right}}e.x=p,e.y=y}var xs={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,a){if(!i)return;const c=bs(i.options.layout.padding),p=Math.max(e-c.width,0),y=Math.max(t-c.height,0),s=_ce(i.boxes),L=s.vertical,R=s.horizontal;Vn(i.boxes,he=>{typeof he.beforeLayout=="function"&&he.beforeLayout()});const V=L.reduce((he,we)=>we.box.options&&we.box.options.display===!1?he:he+1,0)||1,q=Object.freeze({outerWidth:e,outerHeight:t,padding:c,availableWidth:p,availableHeight:y,vBoxMaxWidth:p/2/V,hBoxMaxHeight:y/2}),Z=Object.assign({},c);q8(Z,bs(a));const ee=Object.assign({maxPadding:Z,w:p,h:y,x:c.left,y:c.top},c),se=gce(L.concat(R),q);L1(s.fullSize,ee,q,se),L1(L,ee,q,se),L1(R,ee,q,se)&&L1(L,ee,q,se),vce(ee),xE(s.leftAndTop,ee,q,se),ee.x+=ee.w,ee.y+=ee.h,xE(s.rightAndBottom,ee,q,se),i.chartArea={left:ee.left,top:ee.top,right:ee.left+ee.w,bottom:ee.top+ee.h,height:ee.h,width:ee.w},Vn(s.chartArea,he=>{const we=he.box;Object.assign(we,i.chartArea),we.update(ee.w,ee.h,{left:0,top:0,right:0,bottom:0})})}};class $8{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,c){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,c?Math.floor(t/c):a)}}isAttached(e){return!0}updateConfig(e){}}class bce extends $8{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const l2="$chartjs",wce={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bE=i=>i===null||i==="";function Mce(i,e){const t=i.style,a=i.getAttribute("height"),c=i.getAttribute("width");if(i[l2]={initial:{height:a,width:c,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",bE(c)){const p=rE(i,"width");p!==void 0&&(i.width=p)}if(bE(a))if(i.style.height==="")i.height=i.width/(e||2);else{const p=rE(i,"height");p!==void 0&&(i.height=p)}return i}const G8=Ele?{passive:!0}:!1;function Sce(i,e,t){i&&i.addEventListener(e,t,G8)}function Tce(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,G8)}function Ece(i,e){const t=wce[i.type]||i.type,{x:a,y:c}=$h(i,e);return{type:t,chart:e,native:i,x:a!==void 0?a:null,y:c!==void 0?c:null}}function P2(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function Cce(i,e,t){const a=i.canvas,c=new MutationObserver(p=>{let y=!1;for(const s of p)y=y||P2(s.addedNodes,a),y=y&&!P2(s.removedNodes,a);y&&t()});return c.observe(document,{childList:!0,subtree:!0}),c}function Ace(i,e,t){const a=i.canvas,c=new MutationObserver(p=>{let y=!1;for(const s of p)y=y||P2(s.removedNodes,a),y=y&&!P2(s.addedNodes,a);y&&t()});return c.observe(document,{childList:!0,subtree:!0}),c}const nm=new Map;let wE=0;function W8(){const i=window.devicePixelRatio;i!==wE&&(wE=i,nm.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function Ice(i,e){nm.size||window.addEventListener("resize",W8),nm.set(i,e)}function Pce(i){nm.delete(i),nm.size||window.removeEventListener("resize",W8)}function Dce(i,e,t){const a=i.canvas,c=a&&_b(a);if(!c)return;const p=w8((s,L)=>{const R=c.clientWidth;t(s,L),R<c.clientWidth&&t()},window),y=new ResizeObserver(s=>{const L=s[0],R=L.contentRect.width,V=L.contentRect.height;R===0&&V===0||p(R,V)});return y.observe(c),Ice(i,p),y}function Bv(i,e,t){t&&t.disconnect(),e==="resize"&&Pce(i)}function Lce(i,e,t){const a=i.canvas,c=w8(p=>{i.ctx!==null&&t(Ece(p,i))},i);return Sce(a,e,c),c}class kce extends $8{acquireContext(e,t){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(Mce(e,t),a):null}releaseContext(e){const t=e.canvas;if(!t[l2])return!1;const a=t[l2].initial;["height","width"].forEach(p=>{const y=a[p];wn(y)?t.removeAttribute(p):t.setAttribute(p,y)});const c=a.style||{};return Object.keys(c).forEach(p=>{t.style[p]=c[p]}),t.width=t.width,delete t[l2],!0}addEventListener(e,t,a){this.removeEventListener(e,t);const c=e.$proxies||(e.$proxies={}),y={attach:Cce,detach:Ace,resize:Dce}[t]||Lce;c[t]=y(e,t,a)}removeEventListener(e,t){const a=e.$proxies||(e.$proxies={}),c=a[t];if(!c)return;({attach:Bv,detach:Bv,resize:Bv}[t]||Tce)(e,t,c),a[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,c){return Tle(e,t,a,c)}isAttached(e){const t=e&&_b(e);return!!(t&&t.isConnected)}}function Oce(i){return!gb()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?bce:kce}var i2;let Bl=(i2=class{constructor(){et(this,"x");et(this,"y");et(this,"active",!1);et(this,"options");et(this,"$animations")}tooltipPosition(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return mp(this.x)&&mp(this.y)}getProps(e,t){const a=this.$animations;if(!t||!a)return this;const c={};return e.forEach(p=>{c[p]=a[p]&&a[p].active()?a[p]._to:this[p]}),c}},et(i2,"defaults",{}),et(i2,"defaultRoutes"),i2);function Rce(i,e){const t=i.options.ticks,a=zce(i),c=Math.min(t.maxTicksLimit||a,a),p=t.major.enabled?Bce(e):[],y=p.length,s=p[0],L=p[y-1],R=[];if(y>c)return Nce(e,R,p,y/c),R;const V=Fce(p,e,c);if(y>0){let q,Z;const ee=y>1?Math.round((L-s)/(y-1)):null;for(Ng(e,R,V,wn(ee)?0:s-ee,s),q=0,Z=y-1;q<Z;q++)Ng(e,R,V,p[q],p[q+1]);return Ng(e,R,V,L,wn(ee)?e.length:L+ee),R}return Ng(e,R,V),R}function zce(i){const e=i.options.offset,t=i._tickSize(),a=i._length/t+(e?0:1),c=i._maxLength/t;return Math.floor(Math.min(a,c))}function Fce(i,e,t){const a=Vce(i),c=e.length/t;if(!a)return Math.max(c,1);const p=Ioe(a);for(let y=0,s=p.length-1;y<s;y++){const L=p[y];if(L>c)return L}return Math.max(c,1)}function Bce(i){const e=[];let t,a;for(t=0,a=i.length;t<a;t++)i[t].major&&e.push(t);return e}function Nce(i,e,t,a){let c=0,p=t[0],y;for(a=Math.ceil(a),y=0;y<i.length;y++)y===p&&(e.push(i[y]),c++,p=t[c*a])}function Ng(i,e,t,a,c){const p=Ki(a,0),y=Math.min(Ki(c,i.length),i.length);let s=0,L,R,V;for(t=Math.ceil(t),c&&(L=c-a,t=L/Math.floor(L/t)),V=p;V<0;)s++,V=Math.round(p+s*t);for(R=Math.max(p,0);R<y;R++)R===V&&(e.push(i[R]),s++,V=Math.round(p+s*t))}function Vce(i){const e=i.length;let t,a;if(e<2)return!1;for(a=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==a)return!1;return a}const Hce=i=>i==="left"?"right":i==="right"?"left":i,ME=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,SE=(i,e)=>Math.min(e||i,i);function TE(i,e){const t=[],a=i.length/e,c=i.length;let p=0;for(;p<c;p+=a)t.push(i[Math.floor(p)]);return t}function Uce(i,e,t){const a=i.ticks.length,c=Math.min(e,a-1),p=i._startPixel,y=i._endPixel,s=1e-6;let L=i.getPixelForTick(c),R;if(!(t&&(a===1?R=Math.max(L-p,y-L):e===0?R=(i.getPixelForTick(1)-L)/2:R=(L-i.getPixelForTick(c-1))/2,L+=c<e?R:-R,L<p-s||L>y+s)))return L}function jce(i,e){Vn(i,t=>{const a=t.gc,c=a.length/2;let p;if(c>e){for(p=0;p<c;++p)delete t.data[a[p]];a.splice(0,c)}})}function M1(i){return i.drawTicks?i.tickLength:0}function EE(i,e){if(!i.display)return 0;const t=qr(i.font,e),a=bs(i.padding);return(lr(i.text)?i.text.length:1)*t.lineHeight+a.height}function qce(i,e){return Zc(i,{scale:e,type:"scale"})}function $ce(i,e,t){return Zc(i,{tick:t,index:e,type:"tick"})}function Gce(i,e,t){let a=hb(i);return(t&&e!=="right"||!t&&e==="right")&&(a=Hce(a)),a}function Wce(i,e,t,a){const{top:c,left:p,bottom:y,right:s,chart:L}=i,{chartArea:R,scales:V}=L;let q=0,Z,ee,se;const he=y-c,we=s-p;if(i.isHorizontal()){if(ee=ys(a,p,s),pn(t)){const De=Object.keys(t)[0],Ze=t[De];se=V[De].getPixelForValue(Ze)+he-e}else t==="center"?se=(R.bottom+R.top)/2+he-e:se=ME(i,t,e);Z=s-p}else{if(pn(t)){const De=Object.keys(t)[0],Ze=t[De];ee=V[De].getPixelForValue(Ze)-we+e}else t==="center"?ee=(R.left+R.right)/2-we+e:ee=ME(i,t,e);se=ys(a,y,c),q=t==="left"?-Lr:Lr}return{titleX:ee,titleY:se,maxWidth:Z,rotation:q}}class _u extends Bl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:c}=this;return e=fa(e,Number.POSITIVE_INFINITY),t=fa(t,Number.NEGATIVE_INFINITY),a=fa(a,Number.POSITIVE_INFINITY),c=fa(c,Number.NEGATIVE_INFINITY),{min:fa(e,a),max:fa(t,c),minDefined:wr(e),maxDefined:wr(t)}}getMinMax(e){let{min:t,max:a,minDefined:c,maxDefined:p}=this.getUserBounds(),y;if(c&&p)return{min:t,max:a};const s=this.getMatchingVisibleMetas();for(let L=0,R=s.length;L<R;++L)y=s[L].controller.getMinMax(this,e),c||(t=Math.min(t,y.min)),p||(a=Math.max(a,y.max));return t=p&&t>a?a:t,a=c&&t>a?t:a,{min:fa(t,fa(a,t)),max:fa(a,fa(t,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Kn(this.options.beforeUpdate,[this])}update(e,t,a){const{beginAtZero:c,grace:p,ticks:y}=this.options,s=y.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nle(this,p,c),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const L=s<this.ticks.length;this._convertTicksToLabels(L?TE(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||y.source==="auto")&&(this.ticks=Rce(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),L&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,a;this.isHorizontal()?(t=this.left,a=this.right):(t=this.top,a=this.bottom,e=!e),this._startPixel=t,this._endPixel=a,this._reversePixels=e,this._length=a-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Kn(this.options.afterUpdate,[this])}beforeSetDimensions(){Kn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Kn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Kn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Kn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let a,c,p;for(a=0,c=e.length;a<c;a++)p=e[a],p.label=Kn(t.callback,[p.value,a,e],this)}afterTickToLabelConversion(){Kn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Kn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,a=SE(this.ticks.length,e.ticks.maxTicksLimit),c=t.minRotation||0,p=t.maxRotation;let y=c,s,L,R;if(!this._isVisible()||!t.display||c>=p||a<=1||!this.isHorizontal()){this.labelRotation=c;return}const V=this._getLabelSizes(),q=V.widest.width,Z=V.highest.height,ee=es(this.chart.width-q,0,this.maxWidth);s=e.offset?this.maxWidth/a:ee/(a-1),q+6>s&&(s=ee/(a-(e.offset?.5:1)),L=this.maxHeight-M1(e.grid)-t.padding-EE(e.title,this.chart.options.font),R=Math.sqrt(q*q+Z*Z),y=lb(Math.min(Math.asin(es((V.highest.height+6)/s,-1,1)),Math.asin(es(L/R,-1,1))-Math.asin(es(Z/R,-1,1)))),y=Math.max(c,Math.min(p,y))),this.labelRotation=y}afterCalculateLabelRotation(){Kn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Kn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:a,title:c,grid:p}}=this,y=this._isVisible(),s=this.isHorizontal();if(y){const L=EE(c,t.options.font);if(s?(e.width=this.maxWidth,e.height=M1(p)+L):(e.height=this.maxHeight,e.width=M1(p)+L),a.display&&this.ticks.length){const{first:R,last:V,widest:q,highest:Z}=this._getLabelSizes(),ee=a.padding*2,se=ho(this.labelRotation),he=Math.cos(se),we=Math.sin(se);if(s){const De=a.mirror?0:we*q.width+he*Z.height;e.height=Math.min(this.maxHeight,e.height+De+ee)}else{const De=a.mirror?0:he*q.width+we*Z.height;e.width=Math.min(this.maxWidth,e.width+De+ee)}this._calculatePadding(R,V,we,he)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,c){const{ticks:{align:p,padding:y},position:s}=this.options,L=this.labelRotation!==0,R=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const V=this.getPixelForTick(0)-this.left,q=this.right-this.getPixelForTick(this.ticks.length-1);let Z=0,ee=0;L?R?(Z=c*e.width,ee=a*t.height):(Z=a*e.height,ee=c*t.width):p==="start"?ee=t.width:p==="end"?Z=e.width:p!=="inner"&&(Z=e.width/2,ee=t.width/2),this.paddingLeft=Math.max((Z-V+y)*this.width/(this.width-V),0),this.paddingRight=Math.max((ee-q+y)*this.width/(this.width-q),0)}else{let V=t.height/2,q=e.height/2;p==="start"?(V=0,q=e.height):p==="end"&&(V=t.height,q=0),this.paddingTop=V+y,this.paddingBottom=q+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Kn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,a;for(t=0,a=e.length;t<a;t++)wn(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let a=this.ticks;t<a.length&&(a=TE(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,a){const{ctx:c,_longestTextCache:p}=this,y=[],s=[],L=Math.floor(t/SE(t,a));let R=0,V=0,q,Z,ee,se,he,we,De,Ze,ct,rt,gt;for(q=0;q<t;q+=L){if(se=e[q].label,he=this._resolveTickFontOptions(q),c.font=we=he.string,De=p[we]=p[we]||{data:{},gc:[]},Ze=he.lineHeight,ct=rt=0,!wn(se)&&!lr(se))ct=A2(c,De.data,De.gc,ct,se),rt=Ze;else if(lr(se))for(Z=0,ee=se.length;Z<ee;++Z)gt=se[Z],!wn(gt)&&!lr(gt)&&(ct=A2(c,De.data,De.gc,ct,gt),rt+=Ze);y.push(ct),s.push(rt),R=Math.max(ct,R),V=Math.max(rt,V)}jce(p,t);const Tt=y.indexOf(R),it=s.indexOf(V),_t=Ft=>({width:y[Ft]||0,height:s[Ft]||0});return{first:_t(0),last:_t(t-1),widest:_t(Tt),highest:_t(it),widths:y,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Loe(this._alignToPixels?Hh(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const a=t[e];return a.$context||(a.$context=$ce(this.getContext(),e,a))}return this.$context||(this.$context=qce(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ho(this.labelRotation),a=Math.abs(Math.cos(t)),c=Math.abs(Math.sin(t)),p=this._getLabelSizes(),y=e.autoSkipPadding||0,s=p?p.widest.width+y:0,L=p?p.highest.height+y:0;return this.isHorizontal()?L*a>s*c?s/a:L/c:L*c<s*a?L/a:s/c}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,a=this.chart,c=this.options,{grid:p,position:y,border:s}=c,L=p.offset,R=this.isHorizontal(),q=this.ticks.length+(L?1:0),Z=M1(p),ee=[],se=s.setContext(this.getContext()),he=se.display?se.width:0,we=he/2,De=function(Ye){return Hh(a,Ye,he)};let Ze,ct,rt,gt,Tt,it,_t,Ft,vt,It,Qt,Oi;if(y==="top")Ze=De(this.bottom),it=this.bottom-Z,Ft=Ze-we,It=De(e.top)+we,Oi=e.bottom;else if(y==="bottom")Ze=De(this.top),It=e.top,Oi=De(e.bottom)-we,it=Ze+we,Ft=this.top+Z;else if(y==="left")Ze=De(this.right),Tt=this.right-Z,_t=Ze-we,vt=De(e.left)+we,Qt=e.right;else if(y==="right")Ze=De(this.left),vt=e.left,Qt=De(e.right)-we,Tt=Ze+we,_t=this.left+Z;else if(t==="x"){if(y==="center")Ze=De((e.top+e.bottom)/2+.5);else if(pn(y)){const Ye=Object.keys(y)[0],tt=y[Ye];Ze=De(this.chart.scales[Ye].getPixelForValue(tt))}It=e.top,Oi=e.bottom,it=Ze+we,Ft=it+Z}else if(t==="y"){if(y==="center")Ze=De((e.left+e.right)/2);else if(pn(y)){const Ye=Object.keys(y)[0],tt=y[Ye];Ze=De(this.chart.scales[Ye].getPixelForValue(tt))}Tt=Ze-we,_t=Tt-Z,vt=e.left,Qt=e.right}const Ji=Ki(c.ticks.maxTicksLimit,q),zt=Math.max(1,Math.ceil(q/Ji));for(ct=0;ct<q;ct+=zt){const Ye=this.getContext(ct),tt=p.setContext(Ye),ut=s.setContext(Ye),dt=tt.lineWidth,Gt=tt.color,Kt=ut.dash||[],_i=ut.dashOffset,jt=tt.tickWidth,kn=tt.tickColor,In=tt.tickBorderDash||[],Pi=tt.tickBorderDashOffset;rt=Uce(this,ct,L),rt!==void 0&&(gt=Hh(a,rt,dt),R?Tt=_t=vt=Qt=gt:it=Ft=It=Oi=gt,ee.push({tx1:Tt,ty1:it,tx2:_t,ty2:Ft,x1:vt,y1:It,x2:Qt,y2:Oi,width:dt,color:Gt,borderDash:Kt,borderDashOffset:_i,tickWidth:jt,tickColor:kn,tickBorderDash:In,tickBorderDashOffset:Pi}))}return this._ticksLength=q,this._borderValue=Ze,ee}_computeLabelItems(e){const t=this.axis,a=this.options,{position:c,ticks:p}=a,y=this.isHorizontal(),s=this.ticks,{align:L,crossAlign:R,padding:V,mirror:q}=p,Z=M1(a.grid),ee=Z+V,se=q?-V:ee,he=-ho(this.labelRotation),we=[];let De,Ze,ct,rt,gt,Tt,it,_t,Ft,vt,It,Qt,Oi="middle";if(c==="top")Tt=this.bottom-se,it=this._getXAxisLabelAlignment();else if(c==="bottom")Tt=this.top+se,it=this._getXAxisLabelAlignment();else if(c==="left"){const zt=this._getYAxisLabelAlignment(Z);it=zt.textAlign,gt=zt.x}else if(c==="right"){const zt=this._getYAxisLabelAlignment(Z);it=zt.textAlign,gt=zt.x}else if(t==="x"){if(c==="center")Tt=(e.top+e.bottom)/2+ee;else if(pn(c)){const zt=Object.keys(c)[0],Ye=c[zt];Tt=this.chart.scales[zt].getPixelForValue(Ye)+ee}it=this._getXAxisLabelAlignment()}else if(t==="y"){if(c==="center")gt=(e.left+e.right)/2-ee;else if(pn(c)){const zt=Object.keys(c)[0],Ye=c[zt];gt=this.chart.scales[zt].getPixelForValue(Ye)}it=this._getYAxisLabelAlignment(Z).textAlign}t==="y"&&(L==="start"?Oi="top":L==="end"&&(Oi="bottom"));const Ji=this._getLabelSizes();for(De=0,Ze=s.length;De<Ze;++De){ct=s[De],rt=ct.label;const zt=p.setContext(this.getContext(De));_t=this.getPixelForTick(De)+p.labelOffset,Ft=this._resolveTickFontOptions(De),vt=Ft.lineHeight,It=lr(rt)?rt.length:1;const Ye=It/2,tt=zt.color,ut=zt.textStrokeColor,dt=zt.textStrokeWidth;let Gt=it;y?(gt=_t,it==="inner"&&(De===Ze-1?Gt=this.options.reverse?"left":"right":De===0?Gt=this.options.reverse?"right":"left":Gt="center"),c==="top"?R==="near"||he!==0?Qt=-It*vt+vt/2:R==="center"?Qt=-Ji.highest.height/2-Ye*vt+vt:Qt=-Ji.highest.height+vt/2:R==="near"||he!==0?Qt=vt/2:R==="center"?Qt=Ji.highest.height/2-Ye*vt:Qt=Ji.highest.height-It*vt,q&&(Qt*=-1),he!==0&&!zt.showLabelBackdrop&&(gt+=vt/2*Math.sin(he))):(Tt=_t,Qt=(1-It)*vt/2);let Kt;if(zt.showLabelBackdrop){const _i=bs(zt.backdropPadding),jt=Ji.heights[De],kn=Ji.widths[De];let In=Qt-_i.top,Pi=0-_i.left;switch(Oi){case"middle":In-=jt/2;break;case"bottom":In-=jt;break}switch(it){case"center":Pi-=kn/2;break;case"right":Pi-=kn;break;case"inner":De===Ze-1?Pi-=kn:De>0&&(Pi-=kn/2);break}Kt={left:Pi,top:In,width:kn+_i.width,height:jt+_i.height,color:zt.backdropColor}}we.push({label:rt,font:Ft,textOffset:Qt,options:{rotation:he,color:tt,strokeColor:ut,strokeWidth:dt,textAlign:Gt,textBaseline:Oi,translation:[gt,Tt],backdrop:Kt}})}return we}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ho(this.labelRotation))return e==="top"?"left":"right";let c="center";return t.align==="start"?c="left":t.align==="end"?c="right":t.align==="inner"&&(c="inner"),c}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:a,mirror:c,padding:p}}=this.options,y=this._getLabelSizes(),s=e+p,L=y.widest.width;let R,V;return t==="left"?c?(V=this.right+p,a==="near"?R="left":a==="center"?(R="center",V+=L/2):(R="right",V+=L)):(V=this.right-s,a==="near"?R="right":a==="center"?(R="center",V-=L/2):(R="left",V=this.left)):t==="right"?c?(V=this.left+p,a==="near"?R="right":a==="center"?(R="center",V-=L/2):(R="left",V-=L)):(V=this.left+s,a==="near"?R="left":a==="center"?(R="center",V+=L/2):(R="right",V=this.right)):R="right",{textAlign:R,x:V}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:a,top:c,width:p,height:y}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,c,p,y),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const c=this.ticks.findIndex(p=>p.value===e);return c>=0?t.setContext(this.getContext(c)).lineWidth:0}drawGrid(e){const t=this.options.grid,a=this.ctx,c=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let p,y;const s=(L,R,V)=>{!V.width||!V.color||(a.save(),a.lineWidth=V.width,a.strokeStyle=V.color,a.setLineDash(V.borderDash||[]),a.lineDashOffset=V.borderDashOffset,a.beginPath(),a.moveTo(L.x,L.y),a.lineTo(R.x,R.y),a.stroke(),a.restore())};if(t.display)for(p=0,y=c.length;p<y;++p){const L=c[p];t.drawOnChartArea&&s({x:L.x1,y:L.y1},{x:L.x2,y:L.y2},L),t.drawTicks&&s({x:L.tx1,y:L.ty1},{x:L.tx2,y:L.ty2},{color:L.tickColor,width:L.tickWidth,borderDash:L.tickBorderDash,borderDashOffset:L.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:a,grid:c}}=this,p=a.setContext(this.getContext()),y=a.display?p.width:0;if(!y)return;const s=c.setContext(this.getContext(0)).lineWidth,L=this._borderValue;let R,V,q,Z;this.isHorizontal()?(R=Hh(e,this.left,y)-y/2,V=Hh(e,this.right,s)+s/2,q=Z=L):(q=Hh(e,this.top,y)-y/2,Z=Hh(e,this.bottom,s)+s/2,R=V=L),t.save(),t.lineWidth=p.width,t.strokeStyle=p.color,t.beginPath(),t.moveTo(R,q),t.lineTo(V,Z),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,c=this._computeLabelArea();c&&K2(a,c);const p=this.getLabelItems(e);for(const y of p){const s=y.options,L=y.font,R=y.label,V=y.textOffset;cu(a,R,0,V,L,s)}c&&J2(a)}drawTitle(){const{ctx:e,options:{position:t,title:a,reverse:c}}=this;if(!a.display)return;const p=qr(a.font),y=bs(a.padding),s=a.align;let L=p.lineHeight/2;t==="bottom"||t==="center"||pn(t)?(L+=y.bottom,lr(a.text)&&(L+=p.lineHeight*(a.text.length-1))):L+=y.top;const{titleX:R,titleY:V,maxWidth:q,rotation:Z}=Wce(this,L,t,s);cu(e,a.text,0,0,p,{color:a.color,maxWidth:q,rotation:Z,textAlign:Gce(s,t,c),textBaseline:"middle",translation:[R,V]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,a=Ki(e.grid&&e.grid.z,-1),c=Ki(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==_u.prototype.draw?[{z:t,draw:p=>{this.draw(p)}}]:[{z:a,draw:p=>{this.drawBackground(),this.drawGrid(p),this.drawTitle()}},{z:c,draw:()=>{this.drawBorder()}},{z:t,draw:p=>{this.drawLabels(p)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",c=[];let p,y;for(p=0,y=t.length;p<y;++p){const s=t[p];s[a]===this.id&&(!e||s.type===e)&&c.push(s)}return c}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return qr(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vg{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let a;Xce(t)&&(a=this.register(t));const c=this.items,p=e.id,y=this.scope+"."+p;if(!p)throw new Error("class does not have id: "+e);return p in c||(c[p]=e,Zce(e,y,a),this.override&&cr.override(e.id,e.overrides)),y}get(e){return this.items[e]}unregister(e){const t=this.items,a=e.id,c=this.scope;a in t&&delete t[a],c&&a in cr[c]&&(delete cr[c][a],this.override&&delete lu[a])}}function Zce(i,e,t){const a=Q1(Object.create(null),[t?cr.get(t):{},cr.get(e),i.defaults]);cr.set(e,a),i.defaultRoutes&&Yce(e,i.defaultRoutes),i.descriptors&&cr.describe(e,i.descriptors)}function Yce(i,e){Object.keys(e).forEach(t=>{const a=t.split("."),c=a.pop(),p=[i].concat(a).join("."),y=e[t].split("."),s=y.pop(),L=y.join(".");cr.route(p,c,L,s)})}function Xce(i){return"id"in i&&"defaults"in i}class Kce{constructor(){this.controllers=new Vg(uo,"datasets",!0),this.elements=new Vg(Bl,"elements"),this.plugins=new Vg(Object,"plugins"),this.scales=new Vg(_u,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,a){[...t].forEach(c=>{const p=a||this._getRegistryForType(c);a||p.isForType(c)||p===this.plugins&&c.id?this._exec(e,p,c):Vn(c,y=>{const s=a||this._getRegistryForType(y);this._exec(e,s,y)})})}_exec(e,t,a){const c=ob(e);Kn(a["before"+c],[],a),t[e](a),Kn(a["after"+c],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){const c=t.get(e);if(c===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return c}}var Ro=new Kce;class Jce{constructor(){this._init=[]}notify(e,t,a,c){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const p=c?this._descriptors(e).filter(c):this._descriptors(e),y=this._notify(p,e,t,a);return t==="afterDestroy"&&(this._notify(p,e,"stop"),this._notify(this._init,e,"uninstall")),y}_notify(e,t,a,c){c=c||{};for(const p of e){const y=p.plugin,s=y[a],L=[t,c,p.options];if(Kn(s,L,y)===!1&&c.cancelable)return!1}return!0}invalidate(){wn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const a=e&&e.config,c=Ki(a.options&&a.options.plugins,{}),p=Qce(a);return c===!1&&!t?[]:the(e,p,c,t)}_notifyStateChanges(e){const t=this._oldCache||[],a=this._cache,c=(p,y)=>p.filter(s=>!y.some(L=>s.plugin.id===L.plugin.id));this._notify(c(t,a),e,"stop"),this._notify(c(a,t),e,"start")}}function Qce(i){const e={},t=[],a=Object.keys(Ro.plugins.items);for(let p=0;p<a.length;p++)t.push(Ro.getPlugin(a[p]));const c=i.plugins||[];for(let p=0;p<c.length;p++){const y=c[p];t.indexOf(y)===-1&&(t.push(y),e[y.id]=!0)}return{plugins:t,localIds:e}}function ehe(i,e){return!e&&i===!1?null:i===!0?{}:i}function the(i,{plugins:e,localIds:t},a,c){const p=[],y=i.getContext();for(const s of e){const L=s.id,R=ehe(a[L],c);R!==null&&p.push({plugin:s,options:ihe(i.config,{plugin:s,local:t[L]},R,y)})}return p}function ihe(i,{plugin:e,local:t},a,c){const p=i.pluginScopeKeys(e),y=i.getOptionScopes(a,p);return t&&e.defaults&&y.push(e.defaults),i.createResolver(y,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gx(i,e){const t=cr.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function nhe(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function rhe(i,e){return i===e?"_index_":"_value_"}function CE(i){if(i==="x"||i==="y"||i==="r")return i}function she(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function _x(i,...e){if(CE(i))return i;for(const t of e){const a=t.axis||she(t.position)||i.length>1&&CE(i[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function AE(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function ahe(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(a=>a.xAxisID===i||a.yAxisID===i);if(t.length)return AE(i,"x",t[0])||AE(i,"y",t[0])}return{}}function ohe(i,e){const t=lu[i.type]||{scales:{}},a=e.scales||{},c=gx(i.type,e),p=Object.create(null);return Object.keys(a).forEach(y=>{const s=a[y];if(!pn(s))return console.error(`Invalid scale configuration for scale: ${y}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${y}`);const L=_x(y,s,ahe(y,i),cr.scales[s.type]),R=rhe(L,c),V=t.scales||{};p[y]=j1(Object.create(null),[{axis:L},s,V[L],V[R]])}),i.data.datasets.forEach(y=>{const s=y.type||i.type,L=y.indexAxis||gx(s,e),V=(lu[s]||{}).scales||{};Object.keys(V).forEach(q=>{const Z=nhe(q,L),ee=y[Z+"AxisID"]||Z;p[ee]=p[ee]||Object.create(null),j1(p[ee],[{axis:Z},a[ee],V[q]])})}),Object.keys(p).forEach(y=>{const s=p[y];j1(s,[cr.scales[s.type],cr.scale])}),p}function Z8(i){const e=i.options||(i.options={});e.plugins=Ki(e.plugins,{}),e.scales=ohe(i,e)}function Y8(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function lhe(i){return i=i||{},i.data=Y8(i.data),Z8(i),i}const IE=new Map,X8=new Set;function Hg(i,e){let t=IE.get(i);return t||(t=e(),IE.set(i,t),X8.add(t)),t}const S1=(i,e,t)=>{const a=Uc(e,t);a!==void 0&&i.add(a)};class che{constructor(e){this._config=lhe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Y8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Z8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Hg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Hg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,a=this.type;return Hg(`${a}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const a=this._scopeCache;let c=a.get(e);return(!c||t)&&(c=new Map,a.set(e,c)),c}getOptionScopes(e,t,a){const{options:c,type:p}=this,y=this._cachedScopes(e,a),s=y.get(t);if(s)return s;const L=new Set;t.forEach(V=>{e&&(L.add(e),V.forEach(q=>S1(L,e,q))),V.forEach(q=>S1(L,c,q)),V.forEach(q=>S1(L,lu[p]||{},q)),V.forEach(q=>S1(L,cr,q)),V.forEach(q=>S1(L,px,q))});const R=Array.from(L);return R.length===0&&R.push(Object.create(null)),X8.has(t)&&y.set(t,R),R}chartOptionScopes(){const{options:e,type:t}=this;return[e,lu[t]||{},cr.datasets[t]||{},{type:t},cr,px]}resolveNamedOptions(e,t,a,c=[""]){const p={$shared:!0},{resolver:y,subPrefixes:s}=PE(this._resolverCache,e,c);let L=y;if(uhe(y,t)){p.$shared=!1,a=jc(a)?a():a;const R=this.createResolver(e,a,s);L=gp(y,a,R)}for(const R of t)p[R]=L[R];return p}createResolver(e,t,a=[""],c){const{resolver:p}=PE(this._resolverCache,e,a);return pn(t)?gp(p,t,void 0,c):p}}function PE(i,e,t){let a=i.get(e);a||(a=new Map,i.set(e,a));const c=t.join();let p=a.get(c);return p||(p={resolver:pb(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},a.set(c,p)),p}const hhe=i=>pn(i)&&Object.getOwnPropertyNames(i).some(e=>jc(i[e]));function uhe(i,e){const{isScriptable:t,isIndexable:a}=A8(i);for(const c of e){const p=t(c),y=a(c),s=(y||p)&&i[c];if(p&&(jc(s)||hhe(s))||y&&lr(s))return!0}return!1}var dhe="4.4.7";const phe=["top","bottom","left","right","chartArea"];function DE(i,e){return i==="top"||i==="bottom"||phe.indexOf(i)===-1&&e==="x"}function LE(i,e){return function(t,a){return t[i]===a[i]?t[e]-a[e]:t[i]-a[i]}}function kE(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Kn(t&&t.onComplete,[i],e)}function fhe(i){const e=i.chart,t=e.options.animation;Kn(t&&t.onProgress,[i],e)}function K8(i){return gb()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const c2={},OE=i=>{const e=K8(i);return Object.values(c2).filter(t=>t.canvas===e).pop()};function mhe(i,e,t){const a=Object.keys(i);for(const c of a){const p=+c;if(p>=e){const y=i[c];delete i[c],(t>0||p>e)&&(i[p+t]=y)}}}function ghe(i,e,t,a){return!t||i.type==="mouseout"?null:a?e:i}function Ug(i,e,t){return i.options.clip?i[t]:e[t]}function _he(i,e){const{xScale:t,yScale:a}=i;return t&&a?{left:Ug(t,e,"left"),right:Ug(t,e,"right"),top:Ug(a,e,"top"),bottom:Ug(a,e,"bottom")}:e}var Ac;let vb=(Ac=class{static register(...e){Ro.add(...e),RE()}static unregister(...e){Ro.remove(...e),RE()}constructor(e,t){const a=this.config=new che(t),c=K8(e),p=OE(c);if(p)throw new Error("Canvas is already in use. Chart with ID '"+p.id+"' must be destroyed before the canvas with ID '"+p.canvas.id+"' can be reused.");const y=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||Oce(c)),this.platform.updateConfig(a);const s=this.platform.acquireContext(c,y.aspectRatio),L=s&&s.canvas,R=L&&L.height,V=L&&L.width;if(this.id=xoe(),this.ctx=s,this.canvas=L,this.width=V,this.height=R,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jce,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=zoe(q=>this.update(q),y.resizeDelay||0),this._dataChanges=[],c2[this.id]=this,!s||!L){console.error("Failed to create chart: can't acquire context from the given item");return}bl.listen(this,"complete",kE),bl.listen(this,"progress",fhe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:c,_aspectRatio:p}=this;return wn(e)?t&&p?p:c?a/c:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ro}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eE(this.canvas,this.ctx),this}stop(){return bl.stop(this),this}resize(e,t){bl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const a=this.options,c=this.canvas,p=a.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(c,e,t,p),s=a.devicePixelRatio||this.platform.getDevicePixelRatio(),L=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,nE(this,s,!0)&&(this.notifyPlugins("resize",{size:y}),Kn(a.onResize,[this,y],this),this.attached&&this._doResize(L)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Vn(t,(a,c)=>{a.id=c})}buildOrUpdateScales(){const e=this.options,t=e.scales,a=this.scales,c=Object.keys(a).reduce((y,s)=>(y[s]=!1,y),{});let p=[];t&&(p=p.concat(Object.keys(t).map(y=>{const s=t[y],L=_x(y,s),R=L==="r",V=L==="x";return{options:s,dposition:R?"chartArea":V?"bottom":"left",dtype:R?"radialLinear":V?"category":"linear"}}))),Vn(p,y=>{const s=y.options,L=s.id,R=_x(L,s),V=Ki(s.type,y.dtype);(s.position===void 0||DE(s.position,R)!==DE(y.dposition))&&(s.position=y.dposition),c[L]=!0;let q=null;if(L in a&&a[L].type===V)q=a[L];else{const Z=Ro.getScale(V);q=new Z({id:L,type:V,ctx:this.ctx,chart:this}),a[q.id]=q}q.init(s,e)}),Vn(c,(y,s)=>{y||delete a[s]}),Vn(a,y=>{xs.configure(this,y,y.options),xs.addBox(this,y)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort((c,p)=>c.index-p.index),a>t){for(let c=t;c<a;++c)this._destroyDatasetMeta(c);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(LE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((a,c)=>{t.filter(p=>p===a._dataset).length===0&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let a,c;for(this._removeUnreferencedMetasets(),a=0,c=t.length;a<c;a++){const p=t[a];let y=this.getDatasetMeta(a);const s=p.type||this.config.type;if(y.type&&y.type!==s&&(this._destroyDatasetMeta(a),y=this.getDatasetMeta(a)),y.type=s,y.indexAxis=p.indexAxis||gx(s,this.options),y.order=p.order||0,y.index=a,y.label=""+p.label,y.visible=this.isDatasetVisible(a),y.controller)y.controller.updateIndex(a),y.controller.linkScales();else{const L=Ro.getController(s),{datasetElementType:R,dataElementType:V}=cr.datasets[s];Object.assign(L,{dataElementType:Ro.getElement(V),datasetElementType:R&&Ro.getElement(R)}),y.controller=new L(this,a),e.push(y.controller)}}return this._updateMetasets(),e}_resetElements(){Vn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const p=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let R=0,V=this.data.datasets.length;R<V;R++){const{controller:q}=this.getDatasetMeta(R),Z=!c&&p.indexOf(q)===-1;q.buildOrUpdateElements(Z),y=Math.max(+q.getMaxOverflow(),y)}y=this._minPadding=a.layout.autoPadding?y:0,this._updateLayout(y),c||Vn(p,R=>{R.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(LE("z","_idx"));const{_active:s,_lastEvent:L}=this;L?this._eventHandler(L,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Vn(this.scales,e=>{xs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!$6(t,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:a,start:c,count:p}of t){const y=a==="_removeElements"?-p:p;mhe(e,c,y)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,a=p=>new Set(e.filter(y=>y[0]===p).map((y,s)=>s+","+y.splice(1).join(","))),c=a(0);for(let p=1;p<t;p++)if(!$6(c,a(p)))return;return Array.from(c).map(p=>p.split(",")).map(p=>({method:p[1],start:+p[2],count:+p[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xs.update(this,this.width,this.height,e);const t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],Vn(this.boxes,c=>{a&&c.position==="chartArea"||(c.configure&&c.configure(),this._layers.push(...c._layers()))},this),this._layers.forEach((c,p)=>{c._idx=p}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,a=this.data.datasets.length;t<a;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,jc(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const a=this.getDatasetMeta(e),c={meta:a,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",c)!==!1&&(a.controller._update(t),c.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",c))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bl.has(this)?this.attached&&!bl.running(this)&&bl.start(this):(this.draw(),kE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:c}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,c)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,a=[];let c,p;for(c=0,p=t.length;c<p;++c){const y=t[c];(!e||y.visible)&&a.push(y)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,a=e._clip,c=!a.disabled,p=_he(e,this.chartArea),y={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",y)!==!1&&(c&&K2(t,{left:a.left===!1?0:p.left-a.left,right:a.right===!1?this.width:p.right+a.right,top:a.top===!1?0:p.top-a.top,bottom:a.bottom===!1?this.height:p.bottom+a.bottom}),e.controller.draw(),c&&J2(t),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(e){return Dl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,c){const p=pce.modes[t];return typeof p=="function"?p(this,e,a,c):[]}getDatasetMeta(e){const t=this.data.datasets[e],a=this._metasets;let c=a.filter(p=>p&&p._dataset===t).pop();return c||(c={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(c)),c}getContext(){return this.$context||(this.$context=Zc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!t.hidden}setDatasetVisibility(e,t){const a=this.getDatasetMeta(e);a.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){const c=a?"show":"hide",p=this.getDatasetMeta(e),y=p.controller._resolveAnimations(void 0,c);em(t)?(p.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),y.update(p,{visible:a}),this.update(s=>s.datasetIndex===e?c:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),bl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),eE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete c2[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,a=(p,y)=>{t.addEventListener(this,p,y),e[p]=y},c=(p,y,s)=>{p.offsetX=y,p.offsetY=s,this._eventHandler(p)};Vn(this.options.events,p=>a(p,c))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,a=(L,R)=>{t.addEventListener(this,L,R),e[L]=R},c=(L,R)=>{e[L]&&(t.removeEventListener(this,L,R),delete e[L])},p=(L,R)=>{this.canvas&&this.resize(L,R)};let y;const s=()=>{c("attach",s),this.attached=!0,this.resize(),a("resize",p),a("detach",y)};y=()=>{this.attached=!1,c("resize",p),this._stop(),this._resize(0,0),a("attach",s)},t.isAttached(this.canvas)?s():y()}unbindEvents(){Vn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Vn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){const c=a?"set":"remove";let p,y,s,L;for(t==="dataset"&&(p=this.getDatasetMeta(e[0].datasetIndex),p.controller["_"+c+"DatasetHoverStyle"]()),s=0,L=e.length;s<L;++s){y=e[s];const R=y&&this.getDatasetMeta(y.datasetIndex).controller;R&&R[c+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],a=e.map(({datasetIndex:p,index:y})=>{const s=this.getDatasetMeta(p);if(!s)throw new Error("No dataset found at index "+p);return{datasetIndex:p,element:s.data[y],index:y}});!T2(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,a){const c=this.options.hover,p=(L,R)=>L.filter(V=>!R.some(q=>V.datasetIndex===q.datasetIndex&&V.index===q.index)),y=p(t,e),s=a?e:p(e,t);y.length&&this.updateHoverStyle(y,c.mode,!1),s.length&&c.mode&&this.updateHoverStyle(s,c.mode,!0)}_eventHandler(e,t){const a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},c=y=>(y.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,c)===!1)return;const p=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,c),(p||a.changed)&&this.render(),this}_handleEvent(e,t,a){const{_active:c=[],options:p}=this,y=t,s=this._getActiveElements(e,c,a,y),L=Eoe(e),R=ghe(e,this._lastEvent,a,L);a&&(this._lastEvent=null,Kn(p.onHover,[e,s,this],this),L&&Kn(p.onClick,[e,s,this],this));const V=!T2(s,c);return(V||t)&&(this._active=s,this._updateHoverStyles(s,c,t)),this._lastEvent=R,V}_getActiveElements(e,t,a,c){if(e.type==="mouseout")return[];if(!a)return t;const p=this.options.hover;return this.getElementsAtEventForMode(e,p.mode,p,c)}},et(Ac,"defaults",cr),et(Ac,"instances",c2),et(Ac,"overrides",lu),et(Ac,"registry",Ro),et(Ac,"version",dhe),et(Ac,"getChart",OE),Ac);function RE(){return Vn(vb.instances,i=>i._plugins.invalidate())}function yhe(i,e,t){const{startAngle:a,pixelMargin:c,x:p,y,outerRadius:s,innerRadius:L}=e;let R=c/s;i.beginPath(),i.arc(p,y,s,a-R,t+R),L>c?(R=c/L,i.arc(p,y,L,t+R,a-R,!0)):i.arc(p,y,c,t+Lr,a-Lr),i.closePath(),i.clip()}function vhe(i){return db(i,["outerStart","outerEnd","innerStart","innerEnd"])}function xhe(i,e,t,a){const c=vhe(i.options.borderRadius),p=(t-e)/2,y=Math.min(p,a*e/2),s=L=>{const R=(t-Math.min(p,L))*a/2;return es(L,0,Math.min(p,R))};return{outerStart:s(c.outerStart),outerEnd:s(c.outerEnd),innerStart:es(c.innerStart,0,y),innerEnd:es(c.innerEnd,0,y)}}function Xd(i,e,t,a){return{x:t+i*Math.cos(e),y:a+i*Math.sin(e)}}function D2(i,e,t,a,c,p){const{x:y,y:s,startAngle:L,pixelMargin:R,innerRadius:V}=e,q=Math.max(e.outerRadius+a+t-R,0),Z=V>0?V+a+t+R:0;let ee=0;const se=c-L;if(a){const zt=V>0?V-a:0,Ye=q>0?q-a:0,tt=(zt+Ye)/2,ut=tt!==0?se*tt/(tt+a):se;ee=(se-ut)/2}const he=Math.max(.001,se*q-t/sr)/q,we=(se-he)/2,De=L+we+ee,Ze=c-we-ee,{outerStart:ct,outerEnd:rt,innerStart:gt,innerEnd:Tt}=xhe(e,Z,q,Ze-De),it=q-ct,_t=q-rt,Ft=De+ct/it,vt=Ze-rt/_t,It=Z+gt,Qt=Z+Tt,Oi=De+gt/It,Ji=Ze-Tt/Qt;if(i.beginPath(),p){const zt=(Ft+vt)/2;if(i.arc(y,s,q,Ft,zt),i.arc(y,s,q,zt,vt),rt>0){const dt=Xd(_t,vt,y,s);i.arc(dt.x,dt.y,rt,vt,Ze+Lr)}const Ye=Xd(Qt,Ze,y,s);if(i.lineTo(Ye.x,Ye.y),Tt>0){const dt=Xd(Qt,Ji,y,s);i.arc(dt.x,dt.y,Tt,Ze+Lr,Ji+Math.PI)}const tt=(Ze-Tt/Z+(De+gt/Z))/2;if(i.arc(y,s,Z,Ze-Tt/Z,tt,!0),i.arc(y,s,Z,tt,De+gt/Z,!0),gt>0){const dt=Xd(It,Oi,y,s);i.arc(dt.x,dt.y,gt,Oi+Math.PI,De-Lr)}const ut=Xd(it,De,y,s);if(i.lineTo(ut.x,ut.y),ct>0){const dt=Xd(it,Ft,y,s);i.arc(dt.x,dt.y,ct,De-Lr,Ft)}}else{i.moveTo(y,s);const zt=Math.cos(Ft)*q+y,Ye=Math.sin(Ft)*q+s;i.lineTo(zt,Ye);const tt=Math.cos(vt)*q+y,ut=Math.sin(vt)*q+s;i.lineTo(tt,ut)}i.closePath()}function bhe(i,e,t,a,c){const{fullCircles:p,startAngle:y,circumference:s}=e;let L=e.endAngle;if(p){D2(i,e,t,a,L,c);for(let R=0;R<p;++R)i.fill();isNaN(s)||(L=y+(s%rr||rr))}return D2(i,e,t,a,L,c),i.fill(),L}function whe(i,e,t,a,c){const{fullCircles:p,startAngle:y,circumference:s,options:L}=e,{borderWidth:R,borderJoinStyle:V,borderDash:q,borderDashOffset:Z}=L,ee=L.borderAlign==="inner";if(!R)return;i.setLineDash(q||[]),i.lineDashOffset=Z,ee?(i.lineWidth=R*2,i.lineJoin=V||"round"):(i.lineWidth=R,i.lineJoin=V||"bevel");let se=e.endAngle;if(p){D2(i,e,t,a,se,c);for(let he=0;he<p;++he)i.stroke();isNaN(s)||(se=y+(s%rr||rr))}ee&&yhe(i,e,se),p||(D2(i,e,t,a,se,c),i.stroke())}class k1 extends Bl{constructor(t){super();et(this,"circumference");et(this,"endAngle");et(this,"fullCircles");et(this,"innerRadius");et(this,"outerRadius");et(this,"pixelMargin");et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,c){const p=this.getProps(["x","y"],c),{angle:y,distance:s}=y8(p,{x:t,y:a}),{startAngle:L,endAngle:R,innerRadius:V,outerRadius:q,circumference:Z}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),ee=(this.options.spacing+this.options.borderWidth)/2,se=Ki(Z,R-L),he=tm(y,L,R)&&L!==R,we=se>=rr||he,De=Il(s,V+ee,q+ee);return we&&De}getCenterPoint(t){const{x:a,y:c,startAngle:p,endAngle:y,innerRadius:s,outerRadius:L}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:R,spacing:V}=this.options,q=(p+y)/2,Z=(s+L+V+R)/2;return{x:a+Math.cos(q)*Z,y:c+Math.sin(q)*Z}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:c}=this,p=(a.offset||0)/4,y=(a.spacing||0)/2,s=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=c>rr?Math.floor(c/rr):0,c===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const L=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(L)*p,Math.sin(L)*p);const R=1-Math.sin(Math.min(sr,c||0)),V=p*R;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,bhe(t,this,V,y,s),whe(t,this,V,y,s),t.restore()}}et(k1,"id","arc"),et(k1,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),et(k1,"defaultRoutes",{backgroundColor:"backgroundColor"}),et(k1,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function J8(i,e,t=e){i.lineCap=Ki(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Ki(t.borderDash,e.borderDash)),i.lineDashOffset=Ki(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Ki(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Ki(t.borderWidth,e.borderWidth),i.strokeStyle=Ki(t.borderColor,e.borderColor)}function Mhe(i,e,t){i.lineTo(t.x,t.y)}function She(i){return i.stepped?Zoe:i.tension||i.cubicInterpolationMode==="monotone"?Yoe:Mhe}function Q8(i,e,t={}){const a=i.length,{start:c=0,end:p=a-1}=t,{start:y,end:s}=e,L=Math.max(c,y),R=Math.min(p,s),V=c<y&&p<y||c>s&&p>s;return{count:a,start:L,loop:e.loop,ilen:R<L&&!V?a+R-L:R-L}}function The(i,e,t,a){const{points:c,options:p}=e,{count:y,start:s,loop:L,ilen:R}=Q8(c,t,a),V=She(p);let{move:q=!0,reverse:Z}=a||{},ee,se,he;for(ee=0;ee<=R;++ee)se=c[(s+(Z?R-ee:ee))%y],!se.skip&&(q?(i.moveTo(se.x,se.y),q=!1):V(i,he,se,Z,p.stepped),he=se);return L&&(se=c[(s+(Z?R:0))%y],V(i,he,se,Z,p.stepped)),!!L}function Ehe(i,e,t,a){const c=e.points,{count:p,start:y,ilen:s}=Q8(c,t,a),{move:L=!0,reverse:R}=a||{};let V=0,q=0,Z,ee,se,he,we,De;const Ze=rt=>(y+(R?s-rt:rt))%p,ct=()=>{he!==we&&(i.lineTo(V,we),i.lineTo(V,he),i.lineTo(V,De))};for(L&&(ee=c[Ze(0)],i.moveTo(ee.x,ee.y)),Z=0;Z<=s;++Z){if(ee=c[Ze(Z)],ee.skip)continue;const rt=ee.x,gt=ee.y,Tt=rt|0;Tt===se?(gt<he?he=gt:gt>we&&(we=gt),V=(q*V+rt)/++q):(ct(),i.lineTo(rt,gt),se=Tt,q=0,he=we=gt),De=gt}ct()}function yx(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Ehe:The}function Che(i){return i.stepped?Cle:i.tension||i.cubicInterpolationMode==="monotone"?Ale:Gh}function Ahe(i,e,t,a){let c=e._path;c||(c=e._path=new Path2D,e.path(c,t,a)&&c.closePath()),J8(i,e.options),i.stroke(c)}function Ihe(i,e,t,a){const{segments:c,options:p}=e,y=yx(e);for(const s of c)J8(i,p,s.style),i.beginPath(),y(i,e,s,{start:t,end:t+a-1})&&i.closePath(),i.stroke()}const Phe=typeof Path2D=="function";function Dhe(i,e,t,a){Phe&&!e.options.segment?Ahe(i,e,t,a):Ihe(i,e,t,a)}class Bc extends Bl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const c=a.spanGaps?this._loop:this._fullLoop;vle(this._points,a,e,c,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ole(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,a=e.length;return a&&t[e[a-1].end]}interpolate(e,t){const a=this.options,c=e[t],p=this.points,y=B8(this,{property:t,start:c,end:c});if(!y.length)return;const s=[],L=Che(a);let R,V;for(R=0,V=y.length;R<V;++R){const{start:q,end:Z}=y[R],ee=p[q],se=p[Z];if(ee===se){s.push(ee);continue}const he=Math.abs((c-ee[t])/(se[t]-ee[t])),we=L(ee,se,he,a.stepped);we[t]=e[t],s.push(we)}return s.length===1?s[0]:s}pathSegment(e,t,a){return yx(this)(e,this,t,a)}path(e,t,a){const c=this.segments,p=yx(this);let y=this._loop;t=t||0,a=a||this.points.length-t;for(const s of c)y&=p(e,this,s,{start:t,end:t+a-1});return!!y}draw(e,t,a,c){const p=this.options||{};(this.points||[]).length&&p.borderWidth&&(e.save(),Dhe(e,this,a,c),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}et(Bc,"id","line"),et(Bc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),et(Bc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),et(Bc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function zE(i,e,t,a){const c=i.options,{[t]:p}=i.getProps([t],a);return Math.abs(e-p)<c.radius+c.hitRadius}class h2 extends Bl{constructor(t){super();et(this,"parsed");et(this,"skip");et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,c){const p=this.options,{x:y,y:s}=this.getProps(["x","y"],c);return Math.pow(t-y,2)+Math.pow(a-s,2)<Math.pow(p.hitRadius+p.radius,2)}inXRange(t,a){return zE(this,t,"x",a)}inYRange(t,a){return zE(this,t,"y",a)}getCenterPoint(t){const{x:a,y:c}=this.getProps(["x","y"],t);return{x:a,y:c}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const c=a&&t.borderWidth||0;return(a+c)*2}draw(t,a){const c=this.options;this.skip||c.radius<.1||!Dl(this,a,this.size(c)/2)||(t.strokeStyle=c.borderColor,t.lineWidth=c.borderWidth,t.fillStyle=c.backgroundColor,fx(t,c,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}et(h2,"id","point"),et(h2,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),et(h2,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function eI(i,e){const{x:t,y:a,base:c,width:p,height:y}=i.getProps(["x","y","base","width","height"],e);let s,L,R,V,q;return i.horizontal?(q=y/2,s=Math.min(t,c),L=Math.max(t,c),R=a-q,V=a+q):(q=p/2,s=t-q,L=t+q,R=Math.min(a,c),V=Math.max(a,c)),{left:s,top:R,right:L,bottom:V}}function Nc(i,e,t,a){return i?0:es(e,t,a)}function Lhe(i,e,t){const a=i.options.borderWidth,c=i.borderSkipped,p=C8(a);return{t:Nc(c.top,p.top,0,t),r:Nc(c.right,p.right,0,e),b:Nc(c.bottom,p.bottom,0,t),l:Nc(c.left,p.left,0,e)}}function khe(i,e,t){const{enableBorderRadius:a}=i.getProps(["enableBorderRadius"]),c=i.options.borderRadius,p=iu(c),y=Math.min(e,t),s=i.borderSkipped,L=a||pn(c);return{topLeft:Nc(!L||s.top||s.left,p.topLeft,0,y),topRight:Nc(!L||s.top||s.right,p.topRight,0,y),bottomLeft:Nc(!L||s.bottom||s.left,p.bottomLeft,0,y),bottomRight:Nc(!L||s.bottom||s.right,p.bottomRight,0,y)}}function Ohe(i){const e=eI(i),t=e.right-e.left,a=e.bottom-e.top,c=Lhe(i,t/2,a/2),p=khe(i,t/2,a/2);return{outer:{x:e.left,y:e.top,w:t,h:a,radius:p},inner:{x:e.left+c.l,y:e.top+c.t,w:t-c.l-c.r,h:a-c.t-c.b,radius:{topLeft:Math.max(0,p.topLeft-Math.max(c.t,c.l)),topRight:Math.max(0,p.topRight-Math.max(c.t,c.r)),bottomLeft:Math.max(0,p.bottomLeft-Math.max(c.b,c.l)),bottomRight:Math.max(0,p.bottomRight-Math.max(c.b,c.r))}}}}function Nv(i,e,t,a){const c=e===null,p=t===null,s=i&&!(c&&p)&&eI(i,a);return s&&(c||Il(e,s.left,s.right))&&(p||Il(t,s.top,s.bottom))}function Rhe(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function zhe(i,e){i.rect(e.x,e.y,e.w,e.h)}function Vv(i,e,t={}){const a=i.x!==t.x?-e:0,c=i.y!==t.y?-e:0,p=(i.x+i.w!==t.x+t.w?e:0)-a,y=(i.y+i.h!==t.y+t.h?e:0)-c;return{x:i.x+a,y:i.y+c,w:i.w+p,h:i.h+y,radius:i.radius}}class u2 extends Bl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:a,backgroundColor:c}}=this,{inner:p,outer:y}=Ohe(this),s=Rhe(y.radius)?im:zhe;e.save(),(y.w!==p.w||y.h!==p.h)&&(e.beginPath(),s(e,Vv(y,t,p)),e.clip(),s(e,Vv(p,-t,y)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),s(e,Vv(p,t)),e.fillStyle=c,e.fill(),e.restore()}inRange(e,t,a){return Nv(this,e,t,a)}inXRange(e,t){return Nv(this,e,null,t)}inYRange(e,t){return Nv(this,null,e,t)}getCenterPoint(e){const{x:t,y:a,base:c,horizontal:p}=this.getProps(["x","y","base","horizontal"],e);return{x:p?(t+c)/2:t,y:p?a:(a+c)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}et(u2,"id","bar"),et(u2,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),et(u2,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Fhe=Object.freeze({__proto__:null,ArcElement:k1,BarElement:u2,LineElement:Bc,PointElement:h2});const vx=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],FE=vx.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function tI(i){return vx[i%vx.length]}function iI(i){return FE[i%FE.length]}function Bhe(i,e){return i.borderColor=tI(e),i.backgroundColor=iI(e),++e}function Nhe(i,e){return i.backgroundColor=i.data.map(()=>tI(e++)),e}function Vhe(i,e){return i.backgroundColor=i.data.map(()=>iI(e++)),e}function Hhe(i){let e=0;return(t,a)=>{const c=i.getDatasetMeta(a).controller;c instanceof Kh?e=Nhe(t,e):c instanceof W1?e=Vhe(t,e):c&&(e=Bhe(t,e))}}function BE(i){let e;for(e in i)if(i[e].borderColor||i[e].backgroundColor)return!0;return!1}function Uhe(i){return i&&(i.borderColor||i.backgroundColor)}function jhe(){return cr.borderColor!=="rgba(0,0,0,0.1)"||cr.backgroundColor!=="rgba(0,0,0,0.1)"}var qhe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,e,t){if(!t.enabled)return;const{data:{datasets:a},options:c}=i.config,{elements:p}=c,y=BE(a)||Uhe(c)||p&&BE(p)||jhe();if(!t.forceOverride&&y)return;const s=Hhe(i);a.forEach(s)}};function $he(i,e,t,a,c){const p=c.samples||a;if(p>=t)return i.slice(e,e+t);const y=[],s=(t-2)/(p-2);let L=0;const R=e+t-1;let V=e,q,Z,ee,se,he;for(y[L++]=i[V],q=0;q<p-2;q++){let we=0,De=0,Ze;const ct=Math.floor((q+1)*s)+1+e,rt=Math.min(Math.floor((q+2)*s)+1,t)+e,gt=rt-ct;for(Ze=ct;Ze<rt;Ze++)we+=i[Ze].x,De+=i[Ze].y;we/=gt,De/=gt;const Tt=Math.floor(q*s)+1+e,it=Math.min(Math.floor((q+1)*s)+1,t)+e,{x:_t,y:Ft}=i[V];for(ee=se=-1,Ze=Tt;Ze<it;Ze++)se=.5*Math.abs((_t-we)*(i[Ze].y-Ft)-(_t-i[Ze].x)*(De-Ft)),se>ee&&(ee=se,Z=i[Ze],he=Ze);y[L++]=Z,V=he}return y[L++]=i[R],y}function Ghe(i,e,t,a){let c=0,p=0,y,s,L,R,V,q,Z,ee,se,he;const we=[],De=e+t-1,Ze=i[e].x,rt=i[De].x-Ze;for(y=e;y<e+t;++y){s=i[y],L=(s.x-Ze)/rt*a,R=s.y;const gt=L|0;if(gt===V)R<se?(se=R,q=y):R>he&&(he=R,Z=y),c=(p*c+s.x)/++p;else{const Tt=y-1;if(!wn(q)&&!wn(Z)){const it=Math.min(q,Z),_t=Math.max(q,Z);it!==ee&&it!==Tt&&we.push({...i[it],x:c}),_t!==ee&&_t!==Tt&&we.push({...i[_t],x:c})}y>0&&Tt!==ee&&we.push(i[Tt]),we.push(s),V=gt,p=0,se=he=R,q=Z=ee=y}}return we}function nI(i){if(i._decimated){const e=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function NE(i){i.data.datasets.forEach(e=>{nI(e)})}function Whe(i,e){const t=e.length;let a=0,c;const{iScale:p}=i,{min:y,max:s,minDefined:L,maxDefined:R}=p.getUserBounds();return L&&(a=es(Pl(e,p.axis,y).lo,0,t-1)),R?c=es(Pl(e,p.axis,s).hi+1,a,t)-a:c=t-a,{start:a,count:c}}var Zhe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,e,t)=>{if(!t.enabled){NE(i);return}const a=i.width;i.data.datasets.forEach((c,p)=>{const{_data:y,indexAxis:s}=c,L=i.getDatasetMeta(p),R=y||c.data;if(D1([s,i.options.indexAxis])==="y"||!L.controller.supportsDecimation)return;const V=i.scales[L.xAxisID];if(V.type!=="linear"&&V.type!=="time"||i.options.parsing)return;let{start:q,count:Z}=Whe(L,R);const ee=t.threshold||4*a;if(Z<=ee){nI(c);return}wn(y)&&(c._data=R,delete c.data,Object.defineProperty(c,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(he){this._data=he}}));let se;switch(t.algorithm){case"lttb":se=$he(R,q,Z,a,t);break;case"min-max":se=Ghe(R,q,Z,a);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}c._decimated=se})},destroy(i){NE(i)}};function Yhe(i,e,t){const a=i.segments,c=i.points,p=e.points,y=[];for(const s of a){let{start:L,end:R}=s;R=xb(L,R,c);const V=xx(t,c[L],c[R],s.loop);if(!e.segments){y.push({source:s,target:V,start:c[L],end:c[R]});continue}const q=B8(e,V);for(const Z of q){const ee=xx(t,p[Z.start],p[Z.end],Z.loop),se=F8(s,c,ee);for(const he of se)y.push({source:he,target:Z,start:{[t]:VE(V,ee,"start",Math.max)},end:{[t]:VE(V,ee,"end",Math.min)}})}}return y}function xx(i,e,t,a){if(a)return;let c=e[i],p=t[i];return i==="angle"&&(c=ma(c),p=ma(p)),{property:i,start:c,end:p}}function Xhe(i,e){const{x:t=null,y:a=null}=i||{},c=e.points,p=[];return e.segments.forEach(({start:y,end:s})=>{s=xb(y,s,c);const L=c[y],R=c[s];a!==null?(p.push({x:L.x,y:a}),p.push({x:R.x,y:a})):t!==null&&(p.push({x:t,y:L.y}),p.push({x:t,y:R.y}))}),p}function xb(i,e,t){for(;e>i;e--){const a=t[e];if(!isNaN(a.x)&&!isNaN(a.y))break}return e}function VE(i,e,t,a){return i&&e?a(i[t],e[t]):i?i[t]:e?e[t]:0}function rI(i,e){let t=[],a=!1;return lr(i)?(a=!0,t=i):t=Xhe(i,e),t.length?new Bc({points:t,options:{tension:0},_loop:a,_fullLoop:a}):null}function HE(i){return i&&i.fill!==!1}function Khe(i,e,t){let c=i[e].fill;const p=[e];let y;if(!t)return c;for(;c!==!1&&p.indexOf(c)===-1;){if(!wr(c))return c;if(y=i[c],!y)return!1;if(y.visible)return c;p.push(c),c=y.fill}return!1}function Jhe(i,e,t){const a=iue(i);if(pn(a))return isNaN(a.value)?!1:a;let c=parseFloat(a);return wr(c)&&Math.floor(c)===c?Qhe(a[0],e,c,t):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function Qhe(i,e,t,a){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=a?!1:t}function eue(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:pn(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function tue(i,e,t){let a;return i==="start"?a=t:i==="end"?a=e.options.reverse?e.min:e.max:pn(i)?a=i.value:a=e.getBaseValue(),a}function iue(i){const e=i.options,t=e.fill;let a=Ki(t&&t.target,t);return a===void 0&&(a=!!e.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function nue(i){const{scale:e,index:t,line:a}=i,c=[],p=a.segments,y=a.points,s=rue(e,t);s.push(rI({x:null,y:e.bottom},a));for(let L=0;L<p.length;L++){const R=p[L];for(let V=R.start;V<=R.end;V++)sue(c,y[V],s)}return new Bc({points:c,options:{}})}function rue(i,e){const t=[],a=i.getMatchingVisibleMetas("line");for(let c=0;c<a.length;c++){const p=a[c];if(p.index===e)break;p.hidden||t.unshift(p.dataset)}return t}function sue(i,e,t){const a=[];for(let c=0;c<t.length;c++){const p=t[c],{first:y,last:s,point:L}=aue(p,e,"x");if(!(!L||y&&s)){if(y)a.unshift(L);else if(i.push(L),!s)break}}i.push(...a)}function aue(i,e,t){const a=i.interpolate(e,t);if(!a)return{};const c=a[t],p=i.segments,y=i.points;let s=!1,L=!1;for(let R=0;R<p.length;R++){const V=p[R],q=y[V.start][t],Z=y[V.end][t];if(Il(c,q,Z)){s=c===q,L=c===Z;break}}return{first:s,last:L,point:a}}class sI{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,a){const{x:c,y:p,radius:y}=this;return t=t||{start:0,end:rr},e.arc(c,p,y,t.end,t.start,!0),!a.bounds}interpolate(e){const{x:t,y:a,radius:c}=this,p=e.angle;return{x:t+Math.cos(p)*c,y:a+Math.sin(p)*c,angle:p}}}function oue(i){const{chart:e,fill:t,line:a}=i;if(wr(t))return lue(e,t);if(t==="stack")return nue(i);if(t==="shape")return!0;const c=cue(i);return c instanceof sI?c:rI(c,a)}function lue(i,e){const t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function cue(i){return(i.scale||{}).getPointPositionForValue?uue(i):hue(i)}function hue(i){const{scale:e={},fill:t}=i,a=eue(t,e);if(wr(a)){const c=e.isHorizontal();return{x:c?a:null,y:c?null:a}}return null}function uue(i){const{scale:e,fill:t}=i,a=e.options,c=e.getLabels().length,p=a.reverse?e.max:e.min,y=tue(t,e,p),s=[];if(a.grid.circular){const L=e.getPointPositionForValue(0,p);return new sI({x:L.x,y:L.y,radius:e.getDistanceFromCenterForValue(y)})}for(let L=0;L<c;++L)s.push(e.getPointPositionForValue(L,y));return s}function Hv(i,e,t){const a=oue(e),{line:c,scale:p,axis:y}=e,s=c.options,L=s.fill,R=s.backgroundColor,{above:V=R,below:q=R}=L||{};a&&c.points.length&&(K2(i,t),due(i,{line:c,target:a,above:V,below:q,area:t,scale:p,axis:y}),J2(i))}function due(i,e){const{line:t,target:a,above:c,below:p,area:y,scale:s}=e,L=t._loop?"angle":e.axis;i.save(),L==="x"&&p!==c&&(UE(i,a,y.top),jE(i,{line:t,target:a,color:c,scale:s,property:L}),i.restore(),i.save(),UE(i,a,y.bottom)),jE(i,{line:t,target:a,color:p,scale:s,property:L}),i.restore()}function UE(i,e,t){const{segments:a,points:c}=e;let p=!0,y=!1;i.beginPath();for(const s of a){const{start:L,end:R}=s,V=c[L],q=c[xb(L,R,c)];p?(i.moveTo(V.x,V.y),p=!1):(i.lineTo(V.x,t),i.lineTo(V.x,V.y)),y=!!e.pathSegment(i,s,{move:y}),y?i.closePath():i.lineTo(q.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function jE(i,e){const{line:t,target:a,property:c,color:p,scale:y}=e,s=Yhe(t,a,c);for(const{source:L,target:R,start:V,end:q}of s){const{style:{backgroundColor:Z=p}={}}=L,ee=a!==!0;i.save(),i.fillStyle=Z,pue(i,y,ee&&xx(c,V,q)),i.beginPath();const se=!!t.pathSegment(i,L);let he;if(ee){se?i.closePath():qE(i,a,q,c);const we=!!a.pathSegment(i,R,{move:se,reverse:!0});he=se&&we,he||qE(i,a,V,c)}i.closePath(),i.fill(he?"evenodd":"nonzero"),i.restore()}}function pue(i,e,t){const{top:a,bottom:c}=e.chart.chartArea,{property:p,start:y,end:s}=t||{};p==="x"&&(i.beginPath(),i.rect(y,a,s-y,c-a),i.clip())}function qE(i,e,t,a){const c=e.interpolate(t,a);c&&i.lineTo(c.x,c.y)}var fue={id:"filler",afterDatasetsUpdate(i,e,t){const a=(i.data.datasets||[]).length,c=[];let p,y,s,L;for(y=0;y<a;++y)p=i.getDatasetMeta(y),s=p.dataset,L=null,s&&s.options&&s instanceof Bc&&(L={visible:i.isDatasetVisible(y),index:y,fill:Jhe(s,y,a),chart:i,axis:p.controller.options.indexAxis,scale:p.vScale,line:s}),p.$filler=L,c.push(L);for(y=0;y<a;++y)L=c[y],!(!L||L.fill===!1)&&(L.fill=Khe(c,y,t.propagate))},beforeDraw(i,e,t){const a=t.drawTime==="beforeDraw",c=i.getSortedVisibleDatasetMetas(),p=i.chartArea;for(let y=c.length-1;y>=0;--y){const s=c[y].$filler;s&&(s.line.updateControlPoints(p,s.axis),a&&s.fill&&Hv(i.ctx,s,p))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const a=i.getSortedVisibleDatasetMetas();for(let c=a.length-1;c>=0;--c){const p=a[c].$filler;HE(p)&&Hv(i.ctx,p,i.chartArea)}},beforeDatasetDraw(i,e,t){const a=e.meta.$filler;!HE(a)||t.drawTime!=="beforeDatasetDraw"||Hv(i.ctx,a,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $E=(i,e)=>{let{boxHeight:t=e,boxWidth:a=e}=i;return i.usePointStyle&&(t=Math.min(t,e),a=i.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:t,itemHeight:Math.max(e,t)}},mue=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class GE extends Bl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Kn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(a=>e.filter(a,this.chart.data))),e.sort&&(t=t.sort((a,c)=>e.sort(a,c,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,c=qr(a.font),p=c.size,y=this._computeTitleHeight(),{boxWidth:s,itemHeight:L}=$E(a,p);let R,V;t.font=c.string,this.isHorizontal()?(R=this.maxWidth,V=this._fitRows(y,p,s,L)+10):(V=this.maxHeight,R=this._fitCols(y,c,s,L)+10),this.width=Math.min(R,e.maxWidth||this.maxWidth),this.height=Math.min(V,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,c){const{ctx:p,maxWidth:y,options:{labels:{padding:s}}}=this,L=this.legendHitBoxes=[],R=this.lineWidths=[0],V=c+s;let q=e;p.textAlign="left",p.textBaseline="middle";let Z=-1,ee=-V;return this.legendItems.forEach((se,he)=>{const we=a+t/2+p.measureText(se.text).width;(he===0||R[R.length-1]+we+2*s>y)&&(q+=V,R[R.length-(he>0?0:1)]=0,ee+=V,Z++),L[he]={left:0,top:ee,row:Z,width:we,height:c},R[R.length-1]+=we+s}),q}_fitCols(e,t,a,c){const{ctx:p,maxHeight:y,options:{labels:{padding:s}}}=this,L=this.legendHitBoxes=[],R=this.columnSizes=[],V=y-e;let q=s,Z=0,ee=0,se=0,he=0;return this.legendItems.forEach((we,De)=>{const{itemWidth:Ze,itemHeight:ct}=gue(a,t,p,we,c);De>0&&ee+ct+2*s>V&&(q+=Z+s,R.push({width:Z,height:ee}),se+=Z+s,he++,Z=ee=0),L[De]={left:se,top:ee,col:he,width:Ze,height:ct},Z=Math.max(Z,Ze),ee+=ct+s}),q+=Z,R.push({width:Z,height:ee}),q}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:c},rtl:p}}=this,y=ap(p,this.left,this.width);if(this.isHorizontal()){let s=0,L=ys(a,this.left+c,this.right-this.lineWidths[s]);for(const R of t)s!==R.row&&(s=R.row,L=ys(a,this.left+c,this.right-this.lineWidths[s])),R.top+=this.top+e+c,R.left=y.leftForLtr(y.x(L),R.width),L+=R.width+c}else{let s=0,L=ys(a,this.top+e+c,this.bottom-this.columnSizes[s].height);for(const R of t)R.col!==s&&(s=R.col,L=ys(a,this.top+e+c,this.bottom-this.columnSizes[s].height)),R.top=L,R.left+=this.left+c,R.left=y.leftForLtr(y.x(R.left),R.width),L+=R.height+c}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;K2(e,this),this._draw(),J2(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:a,ctx:c}=this,{align:p,labels:y}=e,s=cr.color,L=ap(e.rtl,this.left,this.width),R=qr(y.font),{padding:V}=y,q=R.size,Z=q/2;let ee;this.drawTitle(),c.textAlign=L.textAlign("left"),c.textBaseline="middle",c.lineWidth=.5,c.font=R.string;const{boxWidth:se,boxHeight:he,itemHeight:we}=$E(y,q),De=function(Tt,it,_t){if(isNaN(se)||se<=0||isNaN(he)||he<0)return;c.save();const Ft=Ki(_t.lineWidth,1);if(c.fillStyle=Ki(_t.fillStyle,s),c.lineCap=Ki(_t.lineCap,"butt"),c.lineDashOffset=Ki(_t.lineDashOffset,0),c.lineJoin=Ki(_t.lineJoin,"miter"),c.lineWidth=Ft,c.strokeStyle=Ki(_t.strokeStyle,s),c.setLineDash(Ki(_t.lineDash,[])),y.usePointStyle){const vt={radius:he*Math.SQRT2/2,pointStyle:_t.pointStyle,rotation:_t.rotation,borderWidth:Ft},It=L.xPlus(Tt,se/2),Qt=it+Z;E8(c,vt,It,Qt,y.pointStyleWidth&&se)}else{const vt=it+Math.max((q-he)/2,0),It=L.leftForLtr(Tt,se),Qt=iu(_t.borderRadius);c.beginPath(),Object.values(Qt).some(Oi=>Oi!==0)?im(c,{x:It,y:vt,w:se,h:he,radius:Qt}):c.rect(It,vt,se,he),c.fill(),Ft!==0&&c.stroke()}c.restore()},Ze=function(Tt,it,_t){cu(c,_t.text,Tt,it+we/2,R,{strikethrough:_t.hidden,textAlign:L.textAlign(_t.textAlign)})},ct=this.isHorizontal(),rt=this._computeTitleHeight();ct?ee={x:ys(p,this.left+V,this.right-a[0]),y:this.top+V+rt,line:0}:ee={x:this.left+V,y:ys(p,this.top+rt+V,this.bottom-t[0].height),line:0},O8(this.ctx,e.textDirection);const gt=we+V;this.legendItems.forEach((Tt,it)=>{c.strokeStyle=Tt.fontColor,c.fillStyle=Tt.fontColor;const _t=c.measureText(Tt.text).width,Ft=L.textAlign(Tt.textAlign||(Tt.textAlign=y.textAlign)),vt=se+Z+_t;let It=ee.x,Qt=ee.y;L.setWidth(this.width),ct?it>0&&It+vt+V>this.right&&(Qt=ee.y+=gt,ee.line++,It=ee.x=ys(p,this.left+V,this.right-a[ee.line])):it>0&&Qt+gt>this.bottom&&(It=ee.x=It+t[ee.line].width+V,ee.line++,Qt=ee.y=ys(p,this.top+rt+V,this.bottom-t[ee.line].height));const Oi=L.x(It);if(De(Oi,Qt,Tt),It=Foe(Ft,It+se+Z,ct?It+vt:this.right,e.rtl),Ze(L.x(It),Qt,Tt),ct)ee.x+=vt+V;else if(typeof Tt.text!="string"){const Ji=R.lineHeight;ee.y+=aI(Tt,Ji)+V}else ee.y+=gt}),R8(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,a=qr(t.font),c=bs(t.padding);if(!t.display)return;const p=ap(e.rtl,this.left,this.width),y=this.ctx,s=t.position,L=a.size/2,R=c.top+L;let V,q=this.left,Z=this.width;if(this.isHorizontal())Z=Math.max(...this.lineWidths),V=this.top+R,q=ys(e.align,q,this.right-Z);else{const se=this.columnSizes.reduce((he,we)=>Math.max(he,we.height),0);V=R+ys(e.align,this.top,this.bottom-se-e.labels.padding-this._computeTitleHeight())}const ee=ys(s,q,q+Z);y.textAlign=p.textAlign(hb(s)),y.textBaseline="middle",y.strokeStyle=t.color,y.fillStyle=t.color,y.font=a.string,cu(y,t.text,ee,V,a)}_computeTitleHeight(){const e=this.options.title,t=qr(e.font),a=bs(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,c,p;if(Il(e,this.left,this.right)&&Il(t,this.top,this.bottom)){for(p=this.legendHitBoxes,a=0;a<p.length;++a)if(c=p[a],Il(e,c.left,c.left+c.width)&&Il(t,c.top,c.top+c.height))return this.legendItems[a]}return null}handleEvent(e){const t=this.options;if(!vue(e.type,t))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const c=this._hoveredItem,p=mue(c,a);c&&!p&&Kn(t.onLeave,[e,c,this],this),this._hoveredItem=a,a&&!p&&Kn(t.onHover,[e,a,this],this)}else a&&Kn(t.onClick,[e,a,this],this)}}function gue(i,e,t,a,c){const p=_ue(a,i,e,t),y=yue(c,a,e.lineHeight);return{itemWidth:p,itemHeight:y}}function _ue(i,e,t,a){let c=i.text;return c&&typeof c!="string"&&(c=c.reduce((p,y)=>p.length>y.length?p:y)),e+t.size/2+a.measureText(c).width}function yue(i,e,t){let a=i;return typeof e.text!="string"&&(a=aI(e,t)),a}function aI(i,e){const t=i.text?i.text.length:0;return e*t}function vue(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var xue={id:"legend",_element:GE,start(i,e,t){const a=i.legend=new GE({ctx:i.ctx,options:t,chart:i});xs.configure(i,a,t),xs.addBox(i,a)},stop(i){xs.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const a=i.legend;xs.configure(i,a,t),a.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const a=e.datasetIndex,c=t.chart;c.isDatasetVisible(a)?(c.hide(a),e.hidden=!0):(c.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:a,textAlign:c,color:p,useBorderRadius:y,borderRadius:s}}=i.legend.options;return i._getSortedDatasetMetas().map(L=>{const R=L.controller.getStyle(t?0:void 0),V=bs(R.borderWidth);return{text:e[L.index].label,fillStyle:R.backgroundColor,fontColor:p,hidden:!L.visible,lineCap:R.borderCapStyle,lineDash:R.borderDash,lineDashOffset:R.borderDashOffset,lineJoin:R.borderJoinStyle,lineWidth:(V.width+V.height)/4,strokeStyle:R.borderColor,pointStyle:a||R.pointStyle,rotation:R.rotation,textAlign:c||R.textAlign,borderRadius:y&&(s||R.borderRadius),datasetIndex:L.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class bb extends Bl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const c=lr(a.text)?a.text.length:1;this._padding=bs(a.padding);const p=c*qr(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=p:this.width=p}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:a,bottom:c,right:p,options:y}=this,s=y.align;let L=0,R,V,q;return this.isHorizontal()?(V=ys(s,a,p),q=t+e,R=p-a):(y.position==="left"?(V=a+e,q=ys(s,c,t),L=sr*-.5):(V=p-e,q=ys(s,t,c),L=sr*.5),R=c-t),{titleX:V,titleY:q,maxWidth:R,rotation:L}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const a=qr(t.font),p=a.lineHeight/2+this._padding.top,{titleX:y,titleY:s,maxWidth:L,rotation:R}=this._drawArgs(p);cu(e,t.text,0,0,a,{color:t.color,maxWidth:L,rotation:R,textAlign:hb(t.align),textBaseline:"middle",translation:[y,s]})}}function bue(i,e){const t=new bb({ctx:i.ctx,options:e,chart:i});xs.configure(i,t,e),xs.addBox(i,t),i.titleBlock=t}var wue={id:"title",_element:bb,start(i,e,t){bue(i,t)},stop(i){const e=i.titleBlock;xs.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const a=i.titleBlock;xs.configure(i,a,t),a.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jg=new WeakMap;var Mue={id:"subtitle",start(i,e,t){const a=new bb({ctx:i.ctx,options:t,chart:i});xs.configure(i,a,t),xs.addBox(i,a),jg.set(i,a)},stop(i){xs.removeBox(i,jg.get(i)),jg.delete(i)},beforeUpdate(i,e,t){const a=jg.get(i);xs.configure(i,a,t),a.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const O1={average(i){if(!i.length)return!1;let e,t,a=new Set,c=0,p=0;for(e=0,t=i.length;e<t;++e){const s=i[e].element;if(s&&s.hasValue()){const L=s.tooltipPosition();a.add(L.x),c+=L.y,++p}}return p===0||a.size===0?!1:{x:[...a].reduce((s,L)=>s+L)/a.size,y:c/p}},nearest(i,e){if(!i.length)return!1;let t=e.x,a=e.y,c=Number.POSITIVE_INFINITY,p,y,s;for(p=0,y=i.length;p<y;++p){const L=i[p].element;if(L&&L.hasValue()){const R=L.getCenterPoint(),V=dx(e,R);V<c&&(c=V,s=L)}}if(s){const L=s.tooltipPosition();t=L.x,a=L.y}return{x:t,y:a}}};function ko(i,e){return e&&(lr(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function wl(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Sue(i,e){const{element:t,datasetIndex:a,index:c}=e,p=i.getDatasetMeta(a).controller,{label:y,value:s}=p.getLabelAndValue(c);return{chart:i,label:y,parsed:p.getParsed(c),raw:i.data.datasets[a].data[c],formattedValue:s,dataset:p.getDataset(),dataIndex:c,datasetIndex:a,element:t}}function WE(i,e){const t=i.chart.ctx,{body:a,footer:c,title:p}=i,{boxWidth:y,boxHeight:s}=e,L=qr(e.bodyFont),R=qr(e.titleFont),V=qr(e.footerFont),q=p.length,Z=c.length,ee=a.length,se=bs(e.padding);let he=se.height,we=0,De=a.reduce((rt,gt)=>rt+gt.before.length+gt.lines.length+gt.after.length,0);if(De+=i.beforeBody.length+i.afterBody.length,q&&(he+=q*R.lineHeight+(q-1)*e.titleSpacing+e.titleMarginBottom),De){const rt=e.displayColors?Math.max(s,L.lineHeight):L.lineHeight;he+=ee*rt+(De-ee)*L.lineHeight+(De-1)*e.bodySpacing}Z&&(he+=e.footerMarginTop+Z*V.lineHeight+(Z-1)*e.footerSpacing);let Ze=0;const ct=function(rt){we=Math.max(we,t.measureText(rt).width+Ze)};return t.save(),t.font=R.string,Vn(i.title,ct),t.font=L.string,Vn(i.beforeBody.concat(i.afterBody),ct),Ze=e.displayColors?y+2+e.boxPadding:0,Vn(a,rt=>{Vn(rt.before,ct),Vn(rt.lines,ct),Vn(rt.after,ct)}),Ze=0,t.font=V.string,Vn(i.footer,ct),t.restore(),we+=se.width,{width:we,height:he}}function Tue(i,e){const{y:t,height:a}=e;return t<a/2?"top":t>i.height-a/2?"bottom":"center"}function Eue(i,e,t,a){const{x:c,width:p}=a,y=t.caretSize+t.caretPadding;if(i==="left"&&c+p+y>e.width||i==="right"&&c-p-y<0)return!0}function Cue(i,e,t,a){const{x:c,width:p}=t,{width:y,chartArea:{left:s,right:L}}=i;let R="center";return a==="center"?R=c<=(s+L)/2?"left":"right":c<=p/2?R="left":c>=y-p/2&&(R="right"),Eue(R,i,e,t)&&(R="center"),R}function ZE(i,e,t){const a=t.yAlign||e.yAlign||Tue(i,t);return{xAlign:t.xAlign||e.xAlign||Cue(i,e,t,a),yAlign:a}}function Aue(i,e){let{x:t,width:a}=i;return e==="right"?t-=a:e==="center"&&(t-=a/2),t}function Iue(i,e,t){let{y:a,height:c}=i;return e==="top"?a+=t:e==="bottom"?a-=c+t:a-=c/2,a}function YE(i,e,t,a){const{caretSize:c,caretPadding:p,cornerRadius:y}=i,{xAlign:s,yAlign:L}=t,R=c+p,{topLeft:V,topRight:q,bottomLeft:Z,bottomRight:ee}=iu(y);let se=Aue(e,s);const he=Iue(e,L,R);return L==="center"?s==="left"?se+=R:s==="right"&&(se-=R):s==="left"?se-=Math.max(V,Z)+c:s==="right"&&(se+=Math.max(q,ee)+c),{x:es(se,0,a.width-e.width),y:es(he,0,a.height-e.height)}}function qg(i,e,t){const a=bs(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-a.right:i.x+a.left}function XE(i){return ko([],wl(i))}function Pue(i,e,t){return Zc(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function KE(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const oI={beforeTitle:vl,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,a=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return t[e.dataIndex]}return""},afterTitle:vl,beforeBody:vl,beforeLabel:vl,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return wn(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:vl,afterBody:vl,beforeFooter:vl,footer:vl,afterFooter:vl};function js(i,e,t,a){const c=i[e].call(t,a);return typeof c>"u"?oI[e].call(t,a):c}class bx extends Bl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,a=this.options.setContext(this.getContext()),c=a.enabled&&t.options.animation&&a.animations,p=new N8(this.chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(p)),p}getContext(){return this.$context||(this.$context=Pue(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:a}=t,c=js(a,"beforeTitle",this,e),p=js(a,"title",this,e),y=js(a,"afterTitle",this,e);let s=[];return s=ko(s,wl(c)),s=ko(s,wl(p)),s=ko(s,wl(y)),s}getBeforeBody(e,t){return XE(js(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:a}=t,c=[];return Vn(e,p=>{const y={before:[],lines:[],after:[]},s=KE(a,p);ko(y.before,wl(js(s,"beforeLabel",this,p))),ko(y.lines,js(s,"label",this,p)),ko(y.after,wl(js(s,"afterLabel",this,p))),c.push(y)}),c}getAfterBody(e,t){return XE(js(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:a}=t,c=js(a,"beforeFooter",this,e),p=js(a,"footer",this,e),y=js(a,"afterFooter",this,e);let s=[];return s=ko(s,wl(c)),s=ko(s,wl(p)),s=ko(s,wl(y)),s}_createItems(e){const t=this._active,a=this.chart.data,c=[],p=[],y=[];let s=[],L,R;for(L=0,R=t.length;L<R;++L)s.push(Sue(this.chart,t[L]));return e.filter&&(s=s.filter((V,q,Z)=>e.filter(V,q,Z,a))),e.itemSort&&(s=s.sort((V,q)=>e.itemSort(V,q,a))),Vn(s,V=>{const q=KE(e.callbacks,V);c.push(js(q,"labelColor",this,V)),p.push(js(q,"labelPointStyle",this,V)),y.push(js(q,"labelTextColor",this,V))}),this.labelColors=c,this.labelPointStyles=p,this.labelTextColors=y,this.dataPoints=s,s}update(e,t){const a=this.options.setContext(this.getContext()),c=this._active;let p,y=[];if(!c.length)this.opacity!==0&&(p={opacity:0});else{const s=O1[a.position].call(this,c,this._eventPosition);y=this._createItems(a),this.title=this.getTitle(y,a),this.beforeBody=this.getBeforeBody(y,a),this.body=this.getBody(y,a),this.afterBody=this.getAfterBody(y,a),this.footer=this.getFooter(y,a);const L=this._size=WE(this,a),R=Object.assign({},s,L),V=ZE(this.chart,a,R),q=YE(a,R,V,this.chart);this.xAlign=V.xAlign,this.yAlign=V.yAlign,p={opacity:1,x:q.x,y:q.y,width:L.width,height:L.height,caretX:s.x,caretY:s.y}}this._tooltipItems=y,this.$context=void 0,p&&this._resolveAnimations().update(this,p),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,c){const p=this.getCaretPosition(e,a,c);t.lineTo(p.x1,p.y1),t.lineTo(p.x2,p.y2),t.lineTo(p.x3,p.y3)}getCaretPosition(e,t,a){const{xAlign:c,yAlign:p}=this,{caretSize:y,cornerRadius:s}=a,{topLeft:L,topRight:R,bottomLeft:V,bottomRight:q}=iu(s),{x:Z,y:ee}=e,{width:se,height:he}=t;let we,De,Ze,ct,rt,gt;return p==="center"?(rt=ee+he/2,c==="left"?(we=Z,De=we-y,ct=rt+y,gt=rt-y):(we=Z+se,De=we+y,ct=rt-y,gt=rt+y),Ze=we):(c==="left"?De=Z+Math.max(L,V)+y:c==="right"?De=Z+se-Math.max(R,q)-y:De=this.caretX,p==="top"?(ct=ee,rt=ct-y,we=De-y,Ze=De+y):(ct=ee+he,rt=ct+y,we=De+y,Ze=De-y),gt=ct),{x1:we,x2:De,x3:Ze,y1:ct,y2:rt,y3:gt}}drawTitle(e,t,a){const c=this.title,p=c.length;let y,s,L;if(p){const R=ap(a.rtl,this.x,this.width);for(e.x=qg(this,a.titleAlign,a),t.textAlign=R.textAlign(a.titleAlign),t.textBaseline="middle",y=qr(a.titleFont),s=a.titleSpacing,t.fillStyle=a.titleColor,t.font=y.string,L=0;L<p;++L)t.fillText(c[L],R.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+s,L+1===p&&(e.y+=a.titleMarginBottom-s)}}_drawColorBox(e,t,a,c,p){const y=this.labelColors[a],s=this.labelPointStyles[a],{boxHeight:L,boxWidth:R}=p,V=qr(p.bodyFont),q=qg(this,"left",p),Z=c.x(q),ee=L<V.lineHeight?(V.lineHeight-L)/2:0,se=t.y+ee;if(p.usePointStyle){const he={radius:Math.min(R,L)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},we=c.leftForLtr(Z,R)+R/2,De=se+L/2;e.strokeStyle=p.multiKeyBackground,e.fillStyle=p.multiKeyBackground,fx(e,he,we,De),e.strokeStyle=y.borderColor,e.fillStyle=y.backgroundColor,fx(e,he,we,De)}else{e.lineWidth=pn(y.borderWidth)?Math.max(...Object.values(y.borderWidth)):y.borderWidth||1,e.strokeStyle=y.borderColor,e.setLineDash(y.borderDash||[]),e.lineDashOffset=y.borderDashOffset||0;const he=c.leftForLtr(Z,R),we=c.leftForLtr(c.xPlus(Z,1),R-2),De=iu(y.borderRadius);Object.values(De).some(Ze=>Ze!==0)?(e.beginPath(),e.fillStyle=p.multiKeyBackground,im(e,{x:he,y:se,w:R,h:L,radius:De}),e.fill(),e.stroke(),e.fillStyle=y.backgroundColor,e.beginPath(),im(e,{x:we,y:se+1,w:R-2,h:L-2,radius:De}),e.fill()):(e.fillStyle=p.multiKeyBackground,e.fillRect(he,se,R,L),e.strokeRect(he,se,R,L),e.fillStyle=y.backgroundColor,e.fillRect(we,se+1,R-2,L-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){const{body:c}=this,{bodySpacing:p,bodyAlign:y,displayColors:s,boxHeight:L,boxWidth:R,boxPadding:V}=a,q=qr(a.bodyFont);let Z=q.lineHeight,ee=0;const se=ap(a.rtl,this.x,this.width),he=function(_t){t.fillText(_t,se.x(e.x+ee),e.y+Z/2),e.y+=Z+p},we=se.textAlign(y);let De,Ze,ct,rt,gt,Tt,it;for(t.textAlign=y,t.textBaseline="middle",t.font=q.string,e.x=qg(this,we,a),t.fillStyle=a.bodyColor,Vn(this.beforeBody,he),ee=s&&we!=="right"?y==="center"?R/2+V:R+2+V:0,rt=0,Tt=c.length;rt<Tt;++rt){for(De=c[rt],Ze=this.labelTextColors[rt],t.fillStyle=Ze,Vn(De.before,he),ct=De.lines,s&&ct.length&&(this._drawColorBox(t,e,rt,se,a),Z=Math.max(q.lineHeight,L)),gt=0,it=ct.length;gt<it;++gt)he(ct[gt]),Z=q.lineHeight;Vn(De.after,he)}ee=0,Z=q.lineHeight,Vn(this.afterBody,he),e.y-=p}drawFooter(e,t,a){const c=this.footer,p=c.length;let y,s;if(p){const L=ap(a.rtl,this.x,this.width);for(e.x=qg(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=L.textAlign(a.footerAlign),t.textBaseline="middle",y=qr(a.footerFont),t.fillStyle=a.footerColor,t.font=y.string,s=0;s<p;++s)t.fillText(c[s],L.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+a.footerSpacing}}drawBackground(e,t,a,c){const{xAlign:p,yAlign:y}=this,{x:s,y:L}=e,{width:R,height:V}=a,{topLeft:q,topRight:Z,bottomLeft:ee,bottomRight:se}=iu(c.cornerRadius);t.fillStyle=c.backgroundColor,t.strokeStyle=c.borderColor,t.lineWidth=c.borderWidth,t.beginPath(),t.moveTo(s+q,L),y==="top"&&this.drawCaret(e,t,a,c),t.lineTo(s+R-Z,L),t.quadraticCurveTo(s+R,L,s+R,L+Z),y==="center"&&p==="right"&&this.drawCaret(e,t,a,c),t.lineTo(s+R,L+V-se),t.quadraticCurveTo(s+R,L+V,s+R-se,L+V),y==="bottom"&&this.drawCaret(e,t,a,c),t.lineTo(s+ee,L+V),t.quadraticCurveTo(s,L+V,s,L+V-ee),y==="center"&&p==="left"&&this.drawCaret(e,t,a,c),t.lineTo(s,L+q),t.quadraticCurveTo(s,L,s+q,L),t.closePath(),t.fill(),c.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,a=this.$animations,c=a&&a.x,p=a&&a.y;if(c||p){const y=O1[e.position].call(this,this._active,this._eventPosition);if(!y)return;const s=this._size=WE(this,e),L=Object.assign({},y,this._size),R=ZE(t,e,L),V=YE(e,L,R,t);(c._to!==V.x||p._to!==V.y)&&(this.xAlign=R.xAlign,this.yAlign=R.yAlign,this.width=s.width,this.height=s.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,V))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(t);const c={width:this.width,height:this.height},p={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const y=bs(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=a,this.drawBackground(p,e,c,t),O8(e,t.textDirection),p.y+=y.top,this.drawTitle(p,e,t),this.drawBody(p,e,t),this.drawFooter(p,e,t),R8(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const a=this._active,c=e.map(({datasetIndex:s,index:L})=>{const R=this.chart.getDatasetMeta(s);if(!R)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:R.data[L],index:L}}),p=!T2(a,c),y=this._positionChanged(c,t);(p||y)&&(this._active=c,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const c=this.options,p=this._active||[],y=this._getActiveElements(e,p,t,a),s=this._positionChanged(y,e),L=t||!T2(y,p)||s;return L&&(this._active=y,(c.enabled||c.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),L}_getActiveElements(e,t,a,c){const p=this.options;if(e.type==="mouseout")return[];if(!c)return t.filter(s=>this.chart.data.datasets[s.datasetIndex]&&this.chart.getDatasetMeta(s.datasetIndex).controller.getParsed(s.index)!==void 0);const y=this.chart.getElementsAtEventForMode(e,p.mode,p,a);return p.reverse&&y.reverse(),y}_positionChanged(e,t){const{caretX:a,caretY:c,options:p}=this,y=O1[p.position].call(this,e,t);return y!==!1&&(a!==y.x||c!==y.y)}}et(bx,"positioners",O1);var Due={id:"tooltip",_element:bx,positioners:O1,afterInit(i,e,t){t&&(i.tooltip=new bx({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Lue=Object.freeze({__proto__:null,Colors:qhe,Decimation:Zhe,Filler:fue,Legend:xue,SubTitle:Mue,Title:wue,Tooltip:Due});const kue=(i,e,t,a)=>(typeof e=="string"?(t=i.push(e)-1,a.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Oue(i,e,t,a){const c=i.indexOf(e);if(c===-1)return kue(i,e,t,a);const p=i.lastIndexOf(e);return c!==p?t:c}const Rue=(i,e)=>i===null?null:es(Math.round(i),0,e);function JE(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class wx extends _u{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const a=this.getLabels();for(const{index:c,label:p}of t)a[c]===p&&a.splice(c,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(wn(e))return null;const a=this.getLabels();return t=isFinite(t)&&a[t]===e?t:Oue(a,e,Ki(t,e),this._addedLabels),Rue(t,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:a,max:c}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),t||(c=this.getLabels().length-1)),this.min=a,this.max=c}buildTicks(){const e=this.min,t=this.max,a=this.options.offset,c=[];let p=this.getLabels();p=e===0&&t===p.length-1?p:p.slice(e,t+1),this._valueRange=Math.max(p.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let y=e;y<=t;y++)c.push({value:y});return c}getLabelForValue(e){return JE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}et(wx,"id","category"),et(wx,"defaults",{ticks:{callback:JE}});function zue(i,e){const t=[],{bounds:c,step:p,min:y,max:s,precision:L,count:R,maxTicks:V,maxDigits:q,includeBounds:Z}=i,ee=p||1,se=V-1,{min:he,max:we}=e,De=!wn(y),Ze=!wn(s),ct=!wn(R),rt=(we-he)/(q+1);let gt=W6((we-he)/se/ee)*ee,Tt,it,_t,Ft;if(gt<1e-14&&!De&&!Ze)return[{value:he},{value:we}];Ft=Math.ceil(we/gt)-Math.floor(he/gt),Ft>se&&(gt=W6(Ft*gt/se/ee)*ee),wn(L)||(Tt=Math.pow(10,L),gt=Math.ceil(gt*Tt)/Tt),c==="ticks"?(it=Math.floor(he/gt)*gt,_t=Math.ceil(we/gt)*gt):(it=he,_t=we),De&&Ze&&p&&Poe((s-y)/p,gt/1e3)?(Ft=Math.round(Math.min((s-y)/gt,V)),gt=(s-y)/Ft,it=y,_t=s):ct?(it=De?y:it,_t=Ze?s:_t,Ft=R-1,gt=(_t-it)/Ft):(Ft=(_t-it)/gt,q1(Ft,Math.round(Ft),gt/1e3)?Ft=Math.round(Ft):Ft=Math.ceil(Ft));const vt=Math.max(Z6(gt),Z6(it));Tt=Math.pow(10,wn(L)?vt:L),it=Math.round(it*Tt)/Tt,_t=Math.round(_t*Tt)/Tt;let It=0;for(De&&(Z&&it!==y?(t.push({value:y}),it<y&&It++,q1(Math.round((it+It*gt)*Tt)/Tt,y,QE(y,rt,i))&&It++):it<y&&It++);It<Ft;++It){const Qt=Math.round((it+It*gt)*Tt)/Tt;if(Ze&&Qt>s)break;t.push({value:Qt})}return Ze&&Z&&_t!==s?t.length&&q1(t[t.length-1].value,s,QE(s,rt,i))?t[t.length-1].value=s:t.push({value:s}):(!Ze||_t===s)&&t.push({value:_t}),t}function QE(i,e,{horizontal:t,minRotation:a}){const c=ho(a),p=(t?Math.sin(c):Math.cos(c))||.001,y=.75*e*(""+i).length;return Math.min(e/p,y)}class L2 extends _u{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return wn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:c,max:p}=this;const y=L=>c=t?c:L,s=L=>p=a?p:L;if(e){const L=Uo(c),R=Uo(p);L<0&&R<0?s(0):L>0&&R>0&&y(0)}if(c===p){let L=p===0?1:Math.abs(p*.05);s(p+L),e||y(c-L)}this.min=c,this.max=p}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:a}=e,c;return a?(c=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,c>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${c} ticks. Limiting to 1000.`),c=1e3)):(c=this.computeTickLimit(),t=t||11),t&&(c=Math.min(t,c)),c}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const c={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},p=this._range||this,y=zue(c,p);return e.bounds==="ticks"&&_8(y,this,"value"),e.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const e=this.ticks;let t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const c=(a-t)/Math.max(e.length-1,1)/2;t-=c,a+=c}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return Tm(e,this.chart.options.locale,this.options.ticks.format)}}class Mx extends L2{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=wr(e)?e:0,this.max=wr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,a=ho(this.options.ticks.minRotation),c=(e?Math.sin(a):Math.cos(a))||.001,p=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,p.lineHeight/c))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}et(Mx,"id","linear"),et(Mx,"defaults",{ticks:{callback:X2.formatters.numeric}});const rm=i=>Math.floor(Fc(i)),jh=(i,e)=>Math.pow(10,rm(i)+e);function eC(i){return i/Math.pow(10,rm(i))===1}function tC(i,e,t){const a=Math.pow(10,t),c=Math.floor(i/a);return Math.ceil(e/a)-c}function Fue(i,e){const t=e-i;let a=rm(t);for(;tC(i,e,a)>10;)a++;for(;tC(i,e,a)<10;)a--;return Math.min(a,rm(i))}function Bue(i,{min:e,max:t}){e=fa(i.min,e);const a=[],c=rm(e);let p=Fue(e,t),y=p<0?Math.pow(10,Math.abs(p)):1;const s=Math.pow(10,p),L=c>p?Math.pow(10,c):0,R=Math.round((e-L)*y)/y,V=Math.floor((e-L)/s/10)*s*10;let q=Math.floor((R-V)/Math.pow(10,p)),Z=fa(i.min,Math.round((L+V+q*Math.pow(10,p))*y)/y);for(;Z<t;)a.push({value:Z,major:eC(Z),significand:q}),q>=10?q=q<15?15:20:q++,q>=20&&(p++,q=2,y=p>=0?1:y),Z=Math.round((L+V+q*Math.pow(10,p))*y)/y;const ee=fa(i.max,Z);return a.push({value:ee,major:eC(ee),significand:q}),a}class Sx extends _u{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const a=L2.prototype.parse.apply(this,[e,t]);if(a===0){this._zero=!0;return}return wr(a)&&a>0?a:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=wr(e)?Math.max(0,e):null,this.max=wr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!wr(this._userMin)&&(this.min=e===jh(this.min,0)?jh(this.min,-1):jh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let a=this.min,c=this.max;const p=s=>a=e?a:s,y=s=>c=t?c:s;a===c&&(a<=0?(p(1),y(10)):(p(jh(a,-1)),y(jh(c,1)))),a<=0&&p(jh(c,-1)),c<=0&&y(jh(a,1)),this.min=a,this.max=c}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},a=Bue(t,this);return e.bounds==="ticks"&&_8(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(e){return e===void 0?"0":Tm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Fc(e),this._valueRange=Fc(this.max)-Fc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Fc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}et(Sx,"id","logarithmic"),et(Sx,"defaults",{ticks:{callback:X2.formatters.logarithmic,major:{enabled:!0}}});function Tx(i){const e=i.ticks;if(e.display&&i.display){const t=bs(e.backdropPadding);return Ki(e.font&&e.font.size,cr.font.size)+t.height}return 0}function Nue(i,e,t){return t=lr(t)?t:[t],{w:Woe(i,e.string,t),h:t.length*e.lineHeight}}function iC(i,e,t,a,c){return i===a||i===c?{start:e-t/2,end:e+t/2}:i<a||i>c?{start:e-t,end:e}:{start:e,end:e+t}}function Vue(i){const e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),a=[],c=[],p=i._pointLabels.length,y=i.options.pointLabels,s=y.centerPointLabels?sr/p:0;for(let L=0;L<p;L++){const R=y.setContext(i.getPointLabelContext(L));c[L]=R.padding;const V=i.getPointPosition(L,i.drawingArea+c[L],s),q=qr(R.font),Z=Nue(i.ctx,q,i._pointLabels[L]);a[L]=Z;const ee=ma(i.getIndexAngle(L)+s),se=Math.round(lb(ee)),he=iC(se,V.x,Z.w,0,180),we=iC(se,V.y,Z.h,90,270);Hue(t,e,ee,he,we)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=que(i,a,c)}function Hue(i,e,t,a,c){const p=Math.abs(Math.sin(t)),y=Math.abs(Math.cos(t));let s=0,L=0;a.start<e.l?(s=(e.l-a.start)/p,i.l=Math.min(i.l,e.l-s)):a.end>e.r&&(s=(a.end-e.r)/p,i.r=Math.max(i.r,e.r+s)),c.start<e.t?(L=(e.t-c.start)/y,i.t=Math.min(i.t,e.t-L)):c.end>e.b&&(L=(c.end-e.b)/y,i.b=Math.max(i.b,e.b+L))}function Uue(i,e,t){const a=i.drawingArea,{extra:c,additionalAngle:p,padding:y,size:s}=t,L=i.getPointPosition(e,a+c+y,p),R=Math.round(lb(ma(L.angle+Lr))),V=Wue(L.y,s.h,R),q=$ue(R),Z=Gue(L.x,s.w,q);return{visible:!0,x:L.x,y:V,textAlign:q,left:Z,top:V,right:Z+s.w,bottom:V+s.h}}function jue(i,e){if(!e)return!0;const{left:t,top:a,right:c,bottom:p}=i;return!(Dl({x:t,y:a},e)||Dl({x:t,y:p},e)||Dl({x:c,y:a},e)||Dl({x:c,y:p},e))}function que(i,e,t){const a=[],c=i._pointLabels.length,p=i.options,{centerPointLabels:y,display:s}=p.pointLabels,L={extra:Tx(p)/2,additionalAngle:y?sr/c:0};let R;for(let V=0;V<c;V++){L.padding=t[V],L.size=e[V];const q=Uue(i,V,L);a.push(q),s==="auto"&&(q.visible=jue(q,R),q.visible&&(R=q))}return a}function $ue(i){return i===0||i===180?"center":i<180?"left":"right"}function Gue(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function Wue(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function Zue(i,e,t){const{left:a,top:c,right:p,bottom:y}=t,{backdropColor:s}=e;if(!wn(s)){const L=iu(e.borderRadius),R=bs(e.backdropPadding);i.fillStyle=s;const V=a-R.left,q=c-R.top,Z=p-a+R.width,ee=y-c+R.height;Object.values(L).some(se=>se!==0)?(i.beginPath(),im(i,{x:V,y:q,w:Z,h:ee,radius:L}),i.fill()):i.fillRect(V,q,Z,ee)}}function Yue(i,e){const{ctx:t,options:{pointLabels:a}}=i;for(let c=e-1;c>=0;c--){const p=i._pointLabelItems[c];if(!p.visible)continue;const y=a.setContext(i.getPointLabelContext(c));Zue(t,y,p);const s=qr(y.font),{x:L,y:R,textAlign:V}=p;cu(t,i._pointLabels[c],L,R+s.lineHeight/2,s,{color:y.color,textAlign:V,textBaseline:"middle"})}}function lI(i,e,t,a){const{ctx:c}=i;if(t)c.arc(i.xCenter,i.yCenter,e,0,rr);else{let p=i.getPointPosition(0,e);c.moveTo(p.x,p.y);for(let y=1;y<a;y++)p=i.getPointPosition(y,e),c.lineTo(p.x,p.y)}}function Xue(i,e,t,a,c){const p=i.ctx,y=e.circular,{color:s,lineWidth:L}=e;!y&&!a||!s||!L||t<0||(p.save(),p.strokeStyle=s,p.lineWidth=L,p.setLineDash(c.dash||[]),p.lineDashOffset=c.dashOffset,p.beginPath(),lI(i,t,y,a),p.closePath(),p.stroke(),p.restore())}function Kue(i,e,t){return Zc(i,{label:t,index:e,type:"pointLabel"})}class R1 extends L2{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=bs(Tx(this.options)/2),t=this.width=this.maxWidth-e.width,a=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+a/2+e.top),this.drawingArea=Math.floor(Math.min(t,a)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=wr(e)&&!isNaN(e)?e:0,this.max=wr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Tx(this.options))}generateTickLabels(e){L2.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,a)=>{const c=Kn(this.options.pointLabels.callback,[t,a],this);return c||c===0?c:""}).filter((t,a)=>this.chart.getDataVisibility(a))}fit(){const e=this.options;e.display&&e.pointLabels.display?Vue(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,a,c){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((a-c)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,a,c))}getIndexAngle(e){const t=rr/(this._pointLabels.length||1),a=this.options.startAngle||0;return ma(e*t+ho(a))}getDistanceFromCenterForValue(e){if(wn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(wn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const a=t[e];return Kue(this.getContext(),e,a)}}getPointPosition(e,t,a=0){const c=this.getIndexAngle(e)-Lr+a;return{x:Math.cos(c)*t+this.xCenter,y:Math.sin(c)*t+this.yCenter,angle:c}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:a,right:c,bottom:p}=this._pointLabelItems[e];return{left:t,top:a,right:c,bottom:p}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const a=this.ctx;a.save(),a.beginPath(),lI(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),a.closePath(),a.fillStyle=e,a.fill(),a.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:a,grid:c,border:p}=t,y=this._pointLabels.length;let s,L,R;if(t.pointLabels.display&&Yue(this,y),c.display&&this.ticks.forEach((V,q)=>{if(q!==0||q===0&&this.min<0){L=this.getDistanceFromCenterForValue(V.value);const Z=this.getContext(q),ee=c.setContext(Z),se=p.setContext(Z);Xue(this,ee,L,y,se)}}),a.display){for(e.save(),s=y-1;s>=0;s--){const V=a.setContext(this.getPointLabelContext(s)),{color:q,lineWidth:Z}=V;!Z||!q||(e.lineWidth=Z,e.strokeStyle=q,e.setLineDash(V.borderDash),e.lineDashOffset=V.borderDashOffset,L=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),R=this.getPointPosition(s,L),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(R.x,R.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,a=t.ticks;if(!a.display)return;const c=this.getIndexAngle(0);let p,y;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(c),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,L)=>{if(L===0&&this.min>=0&&!t.reverse)return;const R=a.setContext(this.getContext(L)),V=qr(R.font);if(p=this.getDistanceFromCenterForValue(this.ticks[L].value),R.showLabelBackdrop){e.font=V.string,y=e.measureText(s.label).width,e.fillStyle=R.backdropColor;const q=bs(R.backdropPadding);e.fillRect(-y/2-q.left,-p-V.size/2-q.top,y+q.width,V.size+q.height)}cu(e,s.label,0,-p,V,{color:R.color,strokeColor:R.textStrokeColor,strokeWidth:R.textStrokeWidth})}),e.restore()}drawTitle(){}}et(R1,"id","radialLinear"),et(R1,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:X2.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),et(R1,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),et(R1,"descriptors",{angleLines:{_fallback:"grid"}});const e_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gs=Object.keys(e_);function nC(i,e){return i-e}function rC(i,e){if(wn(e))return null;const t=i._adapter,{parser:a,round:c,isoWeekday:p}=i._parseOpts;let y=e;return typeof a=="function"&&(y=a(y)),wr(y)||(y=typeof a=="string"?t.parse(y,a):t.parse(y)),y===null?null:(c&&(y=c==="week"&&(mp(p)||p===!0)?t.startOf(y,"isoWeek",p):t.startOf(y,c)),+y)}function sC(i,e,t,a){const c=Gs.length;for(let p=Gs.indexOf(i);p<c-1;++p){const y=e_[Gs[p]],s=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((t-e)/(s*y.size))<=a)return Gs[p]}return Gs[c-1]}function Jue(i,e,t,a,c){for(let p=Gs.length-1;p>=Gs.indexOf(t);p--){const y=Gs[p];if(e_[y].common&&i._adapter.diff(c,a,y)>=e-1)return y}return Gs[t?Gs.indexOf(t):0]}function Que(i){for(let e=Gs.indexOf(i)+1,t=Gs.length;e<t;++e)if(e_[Gs[e]].common)return Gs[e]}function aC(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:a,hi:c}=cb(t,e),p=t[a]>=e?t[a]:t[c];i[p]=!0}}function ede(i,e,t,a){const c=i._adapter,p=+c.startOf(e[0].value,a),y=e[e.length-1].value;let s,L;for(s=p;s<=y;s=+c.add(s,1,a))L=t[s],L>=0&&(e[L].major=!0);return e}function oC(i,e,t){const a=[],c={},p=e.length;let y,s;for(y=0;y<p;++y)s=e[y],c[s]=y,a.push({value:s,major:!1});return p===0||!t?a:ede(i,a,c,t)}class sm extends _u{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const a=e.time||(e.time={}),c=this._adapter=new U8._date(e.adapters.date);c.init(t),j1(a.displayFormats,c.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:rC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,a=e.time.unit||"day";let{min:c,max:p,minDefined:y,maxDefined:s}=this.getUserBounds();function L(R){!y&&!isNaN(R.min)&&(c=Math.min(c,R.min)),!s&&!isNaN(R.max)&&(p=Math.max(p,R.max))}(!y||!s)&&(L(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&L(this.getMinMax(!1))),c=wr(c)&&!isNaN(c)?c:+t.startOf(Date.now(),a),p=wr(p)&&!isNaN(p)?p:+t.endOf(Date.now(),a)+1,this.min=Math.min(c,p-1),this.max=Math.max(c+1,p)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],a=e[e.length-1]),{min:t,max:a}}buildTicks(){const e=this.options,t=e.time,a=e.ticks,c=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&c.length&&(this.min=this._userMin||c[0],this.max=this._userMax||c[c.length-1]);const p=this.min,y=this.max,s=Ooe(c,p,y);return this._unit=t.unit||(a.autoSkip?sC(t.minUnit,this.min,this.max,this._getLabelCapacity(p)):Jue(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:Que(this._unit),this.initOffsets(c),e.reverse&&s.reverse(),oC(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,a=0,c,p;this.options.offset&&e.length&&(c=this.getDecimalForValue(e[0]),e.length===1?t=1-c:t=(this.getDecimalForValue(e[1])-c)/2,p=this.getDecimalForValue(e[e.length-1]),e.length===1?a=p:a=(p-this.getDecimalForValue(e[e.length-2]))/2);const y=e.length<3?.5:.25;t=es(t,0,y),a=es(a,0,y),this._offsets={start:t,end:a,factor:1/(t+1+a)}}_generate(){const e=this._adapter,t=this.min,a=this.max,c=this.options,p=c.time,y=p.unit||sC(p.minUnit,t,a,this._getLabelCapacity(t)),s=Ki(c.ticks.stepSize,1),L=y==="week"?p.isoWeekday:!1,R=mp(L)||L===!0,V={};let q=t,Z,ee;if(R&&(q=+e.startOf(q,"isoWeek",L)),q=+e.startOf(q,R?"day":y),e.diff(a,t,y)>1e5*s)throw new Error(t+" and "+a+" are too far apart with stepSize of "+s+" "+y);const se=c.ticks.source==="data"&&this.getDataTimestamps();for(Z=q,ee=0;Z<a;Z=+e.add(Z,s,y),ee++)aC(V,Z,se);return(Z===a||c.bounds==="ticks"||ee===1)&&aC(V,Z,se),Object.keys(V).sort(nC).map(he=>+he)}getLabelForValue(e){const t=this._adapter,a=this.options.time;return a.tooltipFormat?t.format(e,a.tooltipFormat):t.format(e,a.displayFormats.datetime)}format(e,t){const c=this.options.time.displayFormats,p=this._unit,y=t||c[p];return this._adapter.format(e,y)}_tickFormatFunction(e,t,a,c){const p=this.options,y=p.ticks.callback;if(y)return Kn(y,[e,t,a],this);const s=p.time.displayFormats,L=this._unit,R=this._majorUnit,V=L&&s[L],q=R&&s[R],Z=a[t],ee=R&&q&&Z&&Z.major;return this._adapter.format(e,c||(ee?q:V))}generateTickLabels(e){let t,a,c;for(t=0,a=e.length;t<a;++t)c=e[t],c.label=this._tickFormatFunction(c.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+a)*t.factor)}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,a=this.ctx.measureText(e).width,c=ho(this.isHorizontal()?t.maxRotation:t.minRotation),p=Math.cos(c),y=Math.sin(c),s=this._resolveTickFontOptions(0).size;return{w:a*p+s*y,h:a*y+s*p}}_getLabelCapacity(e){const t=this.options.time,a=t.displayFormats,c=a[t.unit]||a.millisecond,p=this._tickFormatFunction(e,0,oC(this,[e],this._majorUnit),c),y=this._getLabelSize(p),s=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return s>0?s:1}getDataTimestamps(){let e=this._cache.data||[],t,a;if(e.length)return e;const c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(t=0,a=c.length;t<a;++t)e=e.concat(c[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,a;if(e.length)return e;const c=this.getLabels();for(t=0,a=c.length;t<a;++t)e.push(rC(this,c[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return x8(e.sort(nC))}}et(sm,"id","time"),et(sm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $g(i,e,t){let a=0,c=i.length-1,p,y,s,L;t?(e>=i[a].pos&&e<=i[c].pos&&({lo:a,hi:c}=Pl(i,"pos",e)),{pos:p,time:s}=i[a],{pos:y,time:L}=i[c]):(e>=i[a].time&&e<=i[c].time&&({lo:a,hi:c}=Pl(i,"time",e)),{time:p,pos:s}=i[a],{time:y,pos:L}=i[c]);const R=y-p;return R?s+(L-s)*(e-p)/R:s}class Ex extends sm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=$g(t,this.min),this._tableRange=$g(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:a}=this,c=[],p=[];let y,s,L,R,V;for(y=0,s=e.length;y<s;++y)R=e[y],R>=t&&R<=a&&c.push(R);if(c.length<2)return[{time:t,pos:0},{time:a,pos:1}];for(y=0,s=c.length;y<s;++y)V=c[y+1],L=c[y-1],R=c[y],Math.round((V+L)/2)!==R&&p.push({time:R,pos:y/(s-1)});return p}_generate(){const e=this.min,t=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(t)||a.length===1)&&a.push(t),a.sort((c,p)=>c-p)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),a=this.getLabelTimestamps();return t.length&&a.length?e=this.normalize(t.concat(a)):e=t.length?t:a,e=this._cache.all=e,e}getDecimalForValue(e){return($g(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return $g(this._table,a*this._tableRange+this._minPos,!0)}}et(Ex,"id","timeseries"),et(Ex,"defaults",sm.defaults);var tde=Object.freeze({__proto__:null,CategoryScale:wx,LinearScale:Mx,LogarithmicScale:Sx,RadialLinearScale:R1,TimeScale:sm,TimeSeriesScale:Ex});const ide=[lce,Fhe,Lue,tde];vb.register(...ide);/*!
 * Chartkick.js v5.0.1
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * MIT License
 */function Hc(i){return Object.prototype.toString.call(i)==="[object Array]"}function wb(i){return i instanceof Function}function d2(i){return Object.prototype.toString.call(i)==="[object Object]"&&!wb(i)&&i instanceof Object}function Cx(i,e){for(var t in e)t!=="__proto__"&&(d2(e[t])||Hc(e[t])?(d2(e[t])&&!d2(i[t])&&(i[t]={}),Hc(e[t])&&!Hc(i[t])&&(i[t]=[]),Cx(i[t],e[t])):e[t]!==void 0&&(i[t]=e[t]))}function _r(i,e){var t={};return Cx(t,i),Cx(t,e),t}var nde=/^(\d\d\d\d)(?:-)?(\d\d)(?:-)?(\d\d)$/i;function rde(i){for(var e=0;e<i.length;e++)for(var t=i[e].data,a=0;a<t.length;a++)if(t[a][1]<0)return!0;return!1}function Rl(i){return""+i}function jo(i){return parseFloat(i)}function Fo(i){if(i instanceof Date)return i;if(typeof i=="number")return new Date(i*1e3);var e=Rl(i),t=e.match(nde);if(t){var a=parseInt(t[1],10),c=parseInt(t[2],10)-1,p=parseInt(t[3],10);return new Date(a,c,p)}else{var y=e.replace(/ /,"T").replace(" ","").replace("UTC","Z");return new Date(Date.parse(y)||e)}}function Mb(i){if(Hc(i))return i;var e=[];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push([t,i[t]]);return e}function Cm(i,e,t,a,c,p,y,s){return function(L,R,V){var q=L.data,Z=_r({},i);return Z=_r(Z,V||{}),(L.singleSeriesFormat||"legend"in R)&&e(Z,R.legend,L.singleSeriesFormat),R.title&&t(Z,R.title),"min"in R?a(Z,R.min):rde(q)||a(Z,0),R.max&&c(Z,R.max),"stacked"in R&&p(Z,R.stacked),R.colors&&(Z.colors=R.colors),R.xtitle&&y(Z,R.xtitle),R.ytitle&&s(Z,R.ytitle),Z=_r(Z,R.library||{}),Z}}function sde(i,e){return i[0].getTime()-e[0].getTime()}function Sb(i,e){return i[0]-e[0]}function cI(i,e){return i-e}function Kd(i,e){for(var t=0;t<i.length;t++)if(!e(i[t]))return!1;return!0}function ade(i){return i==="day"||i==="week"||i==="month"||i==="year"}function hI(i,e){if(e===void 0&&(e=!1),i.length===0)return null;var t=Kd(i,function(R){return R.getMilliseconds()===0&&R.getSeconds()===0});if(!t)return null;var a=Kd(i,function(R){return R.getMinutes()===0});if(!a)return"minute";var c=Kd(i,function(R){return R.getHours()===0});if(!c)return"hour";if(e)return"day";var p=Kd(i,function(R){return R.getDate()===1});if(!p){var y=i[0].getDay(),s=Kd(i,function(R){return R.getDay()===y});return s?"week":"day"}var L=Kd(i,function(R){return R.getMonth()===0});return L?"year":"month"}function Uv(i){return!isNaN(Fo(i))&&Rl(i).length>=6}function ode(i){return typeof i=="number"}var lC=["bytes","KB","MB","GB","TB","PB","EB"];function lo(i,e,t,a){i=i||"",t.prefix&&(e<0&&(e=e*-1,i+="-"),i+=t.prefix);var c=t.suffix||"",p=t.precision,y=t.round;if(t.byteScale){var s=e>=0;s||(e*=-1);var L=a?t.byteScale:e,R;L>=1152921504606847e3?(e/=1152921504606847e3,R=6):L>=0x4000000000000?(e/=0x4000000000000,R=5):L>=1099511627776?(e/=1099511627776,R=4):L>=1073741824?(e/=1073741824,R=3):L>=1048576?(e/=1048576,R=2):L>=1024?(e/=1024,R=1):R=0,p===void 0&&y===void 0&&(e>=1023.5&&R<lC.length-1&&(e=1,R+=1),p=e>=1e3?4:3),c=" "+lC[R],s||(e*=-1)}if(p!==void 0&&y!==void 0)throw Error("Use either round or precision, not both");if(!a&&(p!==void 0&&(e=e.toPrecision(p),t.zeros||(e=parseFloat(e))),y!==void 0))if(y<0){var V=Math.pow(10,-1*y);e=parseInt((1*e/V).toFixed(0))*V}else e=e.toFixed(y),t.zeros||(e=parseFloat(e));if(t.thousands||t.decimal){e=Rl(e);var q=e.split(".");e=q[0],t.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,t.thousands)),q.length>1&&(e+=(t.decimal||".")+q[1])}return i+e+c}function cC(i,e,t){return t in e?e[t]:t in i.options?i.options[t]:null}var Tb={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},uI={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},dI=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"];function Eb(i,e,t){e!==void 0?(i.plugins.legend.display=!!e,e&&e!==!0&&(i.plugins.legend.position=e)):t&&(i.plugins.legend.display=!1)}function Cb(i,e){i.plugins.title.display=!0,i.plugins.title.text=e}function lde(i,e){e!==null&&(i.scales.y.min=jo(e))}function cde(i,e){i.scales.y.max=jo(e)}function hde(i,e){e!==null&&(i.scales.x.min=jo(e))}function ude(i,e){i.scales.x.max=jo(e)}function pI(i,e){i.scales.x.stacked=!!e,i.scales.y.stacked=!!e}function fI(i,e){i.scales.x.title.display=!0,i.scales.x.title.text=e}function mI(i,e){i.scales.y.title.display=!0,i.scales.y.title.text=e}function hC(i,e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return t?"rgba("+parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)+", "+e+")":i}function Ec(i){return i!=null}function dde(i,e,t){var a=Math.ceil(i.element.offsetWidth/4/e.labels.length);a>25?a=25:a<10&&(a=10),t.scales.x.ticks.callback||(t.scales.x.ticks.callback=function(c){return c=Rl(this.getLabelForValue(c)),c.length>a?c.substring(0,a-2)+"...":c})}function pde(i){for(var e=1,t=fde(i);t>=1024;)e*=1024,t/=1024;return e}function t_(i,e,t){var a={thousands:i.options.thousands,decimal:i.options.decimal},c=_r({prefix:i.options.prefix,suffix:i.options.suffix,precision:i.options.precision,round:i.options.round,zeros:i.options.zeros},a);if(i.options.bytes){var p=i.data;t==="pie"&&(p=[{data:p}]),c.byteScale=pde(p)}if(t!=="pie"){var y=e.scales.y;t==="bar"&&(y=e.scales.x),c.byteScale&&(y.ticks.stepSize||(y.ticks.stepSize=c.byteScale/2),y.ticks.maxTicksLimit||(y.ticks.maxTicksLimit=4)),y.ticks.callback||(y.ticks.callback=function(L){return lo("",L,c,!0)}),(t==="scatter"||t==="bubble")&&!e.scales.x.ticks.callback&&(e.scales.x.ticks.callback=function(L){return lo("",L,a,!0)})}if(!e.plugins.tooltip.callbacks.label)if(t==="scatter")e.plugins.tooltip.callbacks.label=function(L){var R=L.dataset.label||"";R&&(R+=": ");var V=L.parsed;return R+"("+lo("",V.x,a)+", "+lo("",V.y,c)+")"};else if(t==="bubble")e.plugins.tooltip.callbacks.label=function(L){var R=L.dataset.label||"";R&&(R+=": ");var V=L.raw;return R+"("+lo("",V.x,a)+", "+lo("",V.y,c)+", "+lo("",V.v,a)+")"};else if(t==="pie")e.plugins.tooltip.callbacks.label=function(L){return lo("",L.parsed,c)};else{var s=t==="bar"?"x":"y";e.plugins.tooltip.callbacks.label=function(L){if(L.parsed[s]!==null){var R=L.dataset.label||"";return R&&(R+=": "),lo(R,L.parsed[s],c)}}}(t==="line"||t==="area")&&i.xtype==="number"&&(e.scales.x.ticks.callback||(e.scales.x.ticks.callback=function(L){return Rl(L)}),e.plugins.tooltip.callbacks.title||(e.plugins.tooltip.callbacks.title=function(L){return Rl(L[0].parsed.x)}))}function fde(i){for(var e=0,t=0;t<i.length;t++)for(var a=i[t].data,c=0;c<a.length;c++){var p=Math.abs(a[c][1]);p>e&&(e=p)}return e}function mde(i){for(var e=0,t=0;t<i.length;t++)for(var a=i[t].data,c=0;c<a.length;c++){var p=a[c][2];p>e&&(e=p)}return e}var Ab=Cm(_r(Tb,uI),Eb,Cb,lde,cde,pI,fI,mI);function gde(i){for(var e=i.data,t={},a=[],c=[],p=[],y=0;y<e.length;y++)for(var s=e[y].data,L=0;L<s.length;L++){var R=s[L],V=i.xtype==="datetime"?R[0].getTime():R[0];t[V]||(t[V]=new Array(e.length),a.push(V)),t[V][y]=R[1]}(i.xtype==="datetime"||i.xtype==="number")&&a.sort(cI);for(var q=0;q<e.length;q++)p.push([]);for(var Z=0;Z<a.length;Z++){var ee=a[Z],se=i.xtype==="datetime"?new Date(ee):ee;c.push(se);for(var he=t[ee],we=0;we<e.length;we++){var De=he[we];p[we].push(De===void 0?null:De)}}return{labels:c,values:p}}function _de(i){for(var e=i.data,t=[],a=mde(e),c=0;c<e.length;c++){for(var p=e[c].data,y=[],s=0;s<p.length;s++){var L=p[s];y.push({x:L[0],y:L[1],r:L[2]*20/a,v:L[2]})}t.push(y)}return{labels:[],values:t}}function yde(i){for(var e=i.data,t=[],a=0;a<e.length;a++){var c=e[a].data;c.sort(Sb);for(var p=[],y=0;y<c.length;y++){var s=c[y];p.push({x:s[0],y:s[1]})}t.push(p)}return{labels:[],values:t}}function vde(i,e){return e==="bubble"?_de(i):i.xtype==="number"&&e!=="bar"&&e!=="column"?yde(i):gde(i)}function Ib(i,e,t){for(var a=vde(i,t),c=a.labels,p=a.values,y=i.data,s=[],L=i.options.colors||dI,R=0;R<y.length;R++){var V=y[R],q=void 0,Z=void 0;if(i.options.colors&&i.singleSeriesFormat&&(t==="bar"||t==="column")&&!V.color&&Hc(i.options.colors)&&!Hc(i.options.colors[0])){q=L,Z=[];for(var ee=0;ee<L.length;ee++)Z[ee]=hC(q[ee],.5)}else q=V.color||L[R],Z=t!=="line"?hC(q,.5):q;var se={label:V.name||"",data:p[R],fill:t==="area",borderColor:q,backgroundColor:Z,borderWidth:2},he=t==="line"||t==="area"||t==="scatter"||t==="bubble";he&&(se.pointBackgroundColor=q,se.pointHoverBackgroundColor=q,se.pointHitRadius=50),t==="bubble"&&(se.pointBackgroundColor=Z,se.pointHoverBackgroundColor=Z,se.pointHoverBorderWidth=2),V.stack&&(se.stack=V.stack);var we=cC(i,V,"curve");we===!1?se.tension=0:he&&(se.tension=.4);var De=cC(i,V,"points");De===!1&&(se.pointRadius=0,se.pointHoverRadius=0),se=_r(se,i.options.dataset||{}),se=_r(se,V.library||{}),se=_r(se,V.dataset||{}),s.push(se)}var Ze=i.options.xmin,ct=i.options.xmax;if(i.xtype==="datetime"?(Ec(Ze)&&(e.scales.x.min=Fo(Ze).getTime()),Ec(ct)&&(e.scales.x.max=Fo(ct).getTime())):i.xtype==="number"&&(Ec(Ze)&&(e.scales.x.min=Ze),Ec(ct)&&(e.scales.x.max=ct)),i.xtype==="datetime"){var rt=hI(c);if(c.length===0&&(Ec(Ze)&&c.push(Fo(Ze)),Ec(ct)&&c.push(Fo(ct))),c.length>0){for(var gt=(Ec(Ze)?Fo(Ze):c[0]).getTime(),Tt=(Ec(ct)?Fo(ct):c[0]).getTime(),it=1;it<c.length;it++){var _t=c[it].getTime();_t<gt&&(gt=_t),_t>Tt&&(Tt=_t)}var Ft=(Tt-gt)/(86400*1e3);if(!e.scales.x.time.unit){var vt;if(rt==="year"||Ft>365*10?(e.scales.x.time.unit="year",vt=365):rt==="month"||Ft>30*10?(e.scales.x.time.unit="month",vt=30):rt==="week"||rt==="day"||Ft>10?(e.scales.x.time.unit="day",vt=1):rt==="hour"||Ft>.5?(e.scales.x.time.displayFormats={hour:"MMM d, h a"},e.scales.x.time.unit="hour",vt=1/24):rt==="minute"&&(e.scales.x.time.displayFormats={minute:"h:mm a"},e.scales.x.time.unit="minute",vt=1/24/60),vt&&Ft>0){var It=i.element.offsetWidth;if(It>0){var Qt=Math.ceil(Ft/vt/(It/100));rt==="week"&&vt===1&&(Qt=Math.ceil(Qt/7)*7),e.scales.x.ticks.stepSize=Qt}}}e.scales.x.time.tooltipFormat||(rt==="year"?e.scales.x.time.tooltipFormat="yyyy":rt==="month"?e.scales.x.time.tooltipFormat="MMM yyyy":rt==="week"||rt==="day"?e.scales.x.time.tooltipFormat="PP":rt==="hour"?e.scales.x.time.tooltipFormat="MMM d, h a":rt==="minute"&&(e.scales.x.time.tooltipFormat="h:mm a"))}}return{labels:c,datasets:s}}var qo=function(e){this.name="chartjs",this.library=e};qo.prototype.renderLineChart=function(e,t){t||(t="line");var a={},c=Ab(e,_r(a,e.options));t_(e,c,t);var p=Ib(e,c,t);e.xtype==="number"?(c.scales.x.type=c.scales.x.type||"linear",c.scales.x.position=c.scales.x.position||"bottom"):c.scales.x.type=e.xtype==="string"?"category":"time",this.drawChart(e,"line",p,c)};qo.prototype.renderPieChart=function(e){var t=_r({},Tb);e.options.donut&&(t.cutout="50%"),"legend"in e.options&&Eb(t,e.options.legend),e.options.title&&Cb(t,e.options.title),t=_r(t,e.options.library||{}),t_(e,t,"pie");for(var a=[],c=[],p=0;p<e.data.length;p++){var y=e.data[p];a.push(y[0]),c.push(y[1])}var s={data:c,backgroundColor:e.options.colors||dI};s=_r(s,e.options.dataset||{});var L={labels:a,datasets:[s]};this.drawChart(e,"pie",L,t)};qo.prototype.renderColumnChart=function(e,t){var a;if(t==="bar"){var c=_r(Tb,uI);c.indexAxis="y",c.scales.x.grid.drawOnChartArea=!0,c.scales.y.grid.drawOnChartArea=!1,delete c.scales.y.ticks.maxTicksLimit,a=Cm(c,Eb,Cb,hde,ude,pI,fI,mI)(e,e.options)}else a=Ab(e,e.options);t_(e,a,t);var p=Ib(e,a,"column");t!=="bar"&&dde(e,p,a),"mode"in a.interaction||(a.interaction.mode="index"),this.drawChart(e,"bar",p,a)};qo.prototype.renderAreaChart=function(e){this.renderLineChart(e,"area")};qo.prototype.renderBarChart=function(e){this.renderColumnChart(e,"bar")};qo.prototype.renderScatterChart=function(e,t){t=t||"scatter";var a=Ab(e,e.options);t_(e,a,t),"showLine"in a||(a.showLine=!1);var c=Ib(e,a,t);a.scales.x.type=a.scales.x.type||"linear",a.scales.x.position=a.scales.x.position||"bottom","mode"in a.interaction||(a.interaction.mode="nearest"),this.drawChart(e,t,c,a)};qo.prototype.renderBubbleChart=function(e){this.renderScatterChart(e,"bubble")};qo.prototype.destroy=function(e){e.chart&&e.chart.destroy()};qo.prototype.drawChart=function(e,t,a,c){if(this.destroy(e),!e.destroyed){var p={type:t,data:a,options:c};e.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(p)+");"),e.element.innerHTML="<canvas></canvas>";var y=e.element.getElementsByTagName("CANVAS")[0];e.chart=new this.library(y,p)}};var gI={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}};function _I(i,e,t){e!==void 0?(i.legend.enabled=!!e,e&&e!==!0&&(e==="top"||e==="bottom"?i.legend.verticalAlign=e:(i.legend.layout="vertical",i.legend.verticalAlign="middle",i.legend.align=e))):t&&(i.legend.enabled=!1)}function yI(i,e){i.title.text=e}function xde(i,e){i.yAxis.min=e}function bde(i,e){i.yAxis.max=e}function wde(i,e){var t=e?e===!0?"normal":e:null;i.plotOptions.series.stacking=t,i.plotOptions.area.stacking=t,i.plotOptions.areaspline.stacking=t}function Mde(i,e){i.xAxis.title.text=e}function Sde(i,e){i.yAxis.title.text=e}var Pb=Cm(gI,_I,yI,xde,bde,wde,Mde,Sde);function Db(i,e,t){var a={prefix:i.options.prefix,suffix:i.options.suffix,thousands:i.options.thousands,decimal:i.options.decimal,precision:i.options.precision,round:i.options.round,zeros:i.options.zeros};t!=="pie"&&!Hc(e.yAxis)&&!e.yAxis.labels.formatter&&(e.yAxis.labels.formatter=function(){return lo("",this.value,a)}),!e.tooltip.pointFormatter&&!e.tooltip.pointFormat&&(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">●</span> '+lo(this.series.name+": <b>",this.y,a)+"</b><br/>"})}var Nl=function(e){this.name="highcharts",this.library=e};Nl.prototype.renderLineChart=function(e,t){t=t||"spline";var a={};t==="areaspline"&&(a={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),e.options.curve===!1&&(t==="areaspline"?t="area":t==="spline"&&(t="line"));var c=Pb(e,e.options,a);e.xtype==="number"?c.xAxis.type=c.xAxis.type||"linear":c.xAxis.type=e.xtype==="string"?"category":"datetime",c.chart.type||(c.chart.type=t),Db(e,c,t);for(var p=e.data,y=0;y<p.length;y++){p[y].name=p[y].name||"Value";var s=p[y].data;if(e.xtype==="datetime")for(var L=0;L<s.length;L++)s[L][0]=s[L][0].getTime();else e.xtype==="number"&&s.sort(Sb);p[y].marker={symbol:"circle"},e.options.points===!1&&(p[y].marker.enabled=!1)}this.drawChart(e,p,c)};Nl.prototype.renderScatterChart=function(e){var t=Pb(e,e.options,{});t.chart.type="scatter",this.drawChart(e,e.data,t)};Nl.prototype.renderPieChart=function(e){var t=_r(gI,{});e.options.colors&&(t.colors=e.options.colors),e.options.donut&&(t.plotOptions={pie:{innerSize:"50%"}}),"legend"in e.options&&_I(t,e.options.legend),e.options.title&&yI(t,e.options.title);var a=_r(t,e.options.library||{});Db(e,a,"pie");var c=[{type:"pie",name:e.options.label||"Value",data:e.data}];this.drawChart(e,c,a)};Nl.prototype.renderColumnChart=function(e,t){t=t||"column";var a=e.data,c=Pb(e,e.options),p=[],y=[];c.chart.type=t,Db(e,c,t);for(var s=0;s<a.length;s++)for(var L=a[s],R=0;R<L.data.length;R++){var V=L.data[R];p[V[0]]||(p[V[0]]=new Array(a.length),y.push(V[0])),p[V[0]][s]=V[1]}e.xtype==="number"&&y.sort(cI),c.xAxis.categories=y;for(var q=[],Z=0;Z<a.length;Z++){for(var ee=[],se=0;se<y.length;se++)ee.push(p[y[se]][Z]||0);var he={name:a[Z].name||"Value",data:ee};a[Z].stack&&(he.stack=a[Z].stack),q.push(he)}this.drawChart(e,q,c)};Nl.prototype.renderBarChart=function(e){this.renderColumnChart(e,"bar")};Nl.prototype.renderAreaChart=function(e){this.renderLineChart(e,"areaspline")};Nl.prototype.destroy=function(e){e.chart&&e.chart.destroy()};Nl.prototype.drawChart=function(e,t,a){this.destroy(e),!e.destroyed&&(a.chart.renderTo=e.element.id,a.series=t,e.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(a)+");"),e.chart=new this.library.Chart(a))};var uC={},p2=[],Am={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}};function Lb(i,e,t){if(e!==void 0){var a;e?e===!0?a="right":a=e:a="none",i.legend.position=a}else t&&(i.legend.position="none")}function kb(i,e){i.title=e,i.titleTextStyle={color:"#333",fontSize:"20px"}}function Tde(i,e){i.vAxis.viewWindow.min=e}function Ede(i,e){i.vAxis.viewWindow.max=e}function Cde(i,e){i.hAxis.viewWindow.min=e}function Ade(i,e){i.hAxis.viewWindow.max=e}function vI(i,e){i.isStacked=e||!1}function xI(i,e){i.hAxis.title=e,i.hAxis.titleTextStyle.italic=!1}function bI(i,e){i.vAxis.title=e,i.vAxis.titleTextStyle.italic=!1}var i_=Cm(Am,Lb,kb,Tde,Ede,vI,xI,bI);function Ide(i){window.attachEvent?window.attachEvent("onresize",i):window.addEventListener&&window.addEventListener("resize",i,!0),i()}var Zs=function(e){this.name="google",this.library=e};Zs.prototype.renderLineChart=function(e){var t=this;this.waitForLoaded(e,function(){var a={};e.options.curve===!1&&(a.curveType="none"),e.options.points===!1&&(a.pointSize=0);var c=i_(e,e.options,a),p=t.createDataTable(e.data,e.xtype);t.drawChart(e,"LineChart",p,c)})};Zs.prototype.renderPieChart=function(e){var t=this;this.waitForLoaded(e,function(){var a={chartArea:{top:"10%",height:"80%"},legend:{}};e.options.colors&&(a.colors=e.options.colors),e.options.donut&&(a.pieHole=.5),"legend"in e.options&&Lb(a,e.options.legend),e.options.title&&kb(a,e.options.title);var c=_r(_r(Am,a),e.options.library||{}),p=new t.library.visualization.DataTable;p.addColumn("string",""),p.addColumn("number","Value"),p.addRows(e.data),t.drawChart(e,"PieChart",p,c)})};Zs.prototype.renderColumnChart=function(e){var t=this;this.waitForLoaded(e,function(){var a=i_(e,e.options),c=t.createDataTable(e.data,e.xtype);t.drawChart(e,"ColumnChart",c,a)})};Zs.prototype.renderBarChart=function(e){var t=this;this.waitForLoaded(e,function(){var a={hAxis:{gridlines:{color:"#ccc"}}},c=Cm(Am,Lb,kb,Cde,Ade,vI,xI,bI)(e,e.options,a),p=t.createDataTable(e.data,e.xtype);t.drawChart(e,"BarChart",p,c)})};Zs.prototype.renderAreaChart=function(e){var t=this;this.waitForLoaded(e,function(){var a={isStacked:!0,pointSize:0,areaOpacity:.5},c=i_(e,e.options,a),p=t.createDataTable(e.data,e.xtype);t.drawChart(e,"AreaChart",p,c)})};Zs.prototype.renderGeoChart=function(e){var t=this;this.waitForLoaded(e,"geochart",function(){var a={legend:"none",colorAxis:{colors:e.options.colors||["#f6c7b6","#ce502d"]}},c=_r(_r(Am,a),e.options.library||{}),p=new t.library.visualization.DataTable;p.addColumn("string",""),p.addColumn("number",e.options.label||"Value"),p.addRows(e.data),t.drawChart(e,"GeoChart",p,c)})};Zs.prototype.renderScatterChart=function(e){var t=this;this.waitForLoaded(e,function(){for(var a={},c=i_(e,e.options,a),p=e.data,y=[],s=0;s<p.length;s++){p[s].name=p[s].name||"Value";for(var L=p[s].data,R=0;R<L.length;R++){var V=new Array(p.length+1);V[0]=L[R][0],V[s+1]=L[R][1],y.push(V)}}var q=new t.library.visualization.DataTable;q.addColumn("number","");for(var Z=0;Z<p.length;Z++)q.addColumn("number",p[Z].name);q.addRows(y),t.drawChart(e,"ScatterChart",q,c)})};Zs.prototype.renderTimeline=function(e){var t=this;this.waitForLoaded(e,"timeline",function(){var a={legend:"none"};e.options.colors&&(a.colors=e.options.colors);var c=_r(_r(Am,a),e.options.library||{}),p=new t.library.visualization.DataTable;p.addColumn({type:"string",id:"Name"}),p.addColumn({type:"date",id:"Start"}),p.addColumn({type:"date",id:"End"}),p.addRows(e.data),e.element.style.lineHeight="normal",t.drawChart(e,"Timeline",p,c)})};Zs.prototype.destroy=function(e){e.chart&&e.chart.clearChart()};Zs.prototype.drawChart=function(e,t,a,c){this.destroy(e),!e.destroyed&&(e.options.code&&window.console.log("var data = new google.visualization.DataTable("+a.toJSON()+`);
var chart = new google.visualization.`+t+`(element);
chart.draw(data, `+JSON.stringify(c)+");"),e.chart=new this.library.visualization[t](e.element),Ide(function(){e.chart.draw(a,c)}))};Zs.prototype.waitForLoaded=function(e,t,a){var c=this;if(a||(a=t,t="corechart"),p2.push({pack:t,callback:a}),uC[t])this.runCallbacks();else{uC[t]=!0;var p={packages:[t],callback:function(){c.runCallbacks()}},y=e.__config();y.language&&(p.language=y.language),t==="geochart"&&y.mapsApiKey&&(p.mapsApiKey=y.mapsApiKey),this.library.charts.load("current",p)}};Zs.prototype.runCallbacks=function(){for(var e=0;e<p2.length;e++){var t=p2[e],a=this.library.visualization&&(t.pack==="corechart"&&this.library.visualization.LineChart||t.pack==="timeline"&&this.library.visualization.Timeline||t.pack==="geochart"&&this.library.visualization.GeoChart);a&&(t.callback(),p2.splice(e,1),e--)}};Zs.prototype.createDataTable=function(e,t){for(var a=[],c=[],p=0;p<e.length;p++){var y=e[p];e[p].name=e[p].name||"Value";for(var s=0;s<y.data.length;s++){var L=y.data[s],R=t==="datetime"?L[0].getTime():L[0];a[R]||(a[R]=new Array(e.length),c.push(R)),a[R][p]=L[1]}}for(var V=[],q=[],Z=0;Z<c.length;Z++){var ee=c[Z],se=void 0;t==="datetime"?(se=new Date(ee),q.push(se)):se=ee,V.push([se].concat(a[ee]))}var he=!0;if(t==="datetime"){V.sort(sde);var we=hI(q,!0);he=ade(we)}else if(t==="number"){V.sort(Sb);for(var De=0;De<V.length;De++)V[De][0]=Rl(V[De][0]);t="string"}var Ze=new this.library.visualization.DataTable;t=t==="datetime"&&he?"date":t,Ze.addColumn(t,"");for(var ct=0;ct<e.length;ct++)Ze.addColumn("number",e[ct].name);return Ze.addRows(V),Ze};var ru=[];function Pde(i){if(i){if(i.product==="Highcharts")return Nl;if(i.charts)return Zs;if(wb(i))return qo}throw new Error("Unknown adapter")}function Z1(i){for(var e=Pde(i),t=0;t<ru.length;t++)if(ru[t].library===i)return;ru.push(new e(i))}function Dde(){"Chart"in window&&Z1(window.Chart),"Highcharts"in window&&Z1(window.Highcharts),window.google&&window.google.charts&&Z1(window.google)}function Lde(i,e){var t="render"+i,a=e.options.adapter;Dde();for(var c=0;c<ru.length;c++){var p=ru[c];if((!a||a===p.name)&&wb(p[t]))return e.adapter=p.name,e.__adapterObject=p,p[t](e)}throw ru.length>0?new Error("No charting library found for "+i):new Error("No charting libraries found - be sure to include one before your charts")}var Dn={charts:{},configure:function(i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(Dn.config[e]=i[e])},setDefaultOptions:function(i){Dn.options=i},eachChart:function(i){for(var e in Dn.charts)Object.prototype.hasOwnProperty.call(Dn.charts,e)&&i(Dn.charts[e])},destroyAll:function(){for(var i in Dn.charts)Object.prototype.hasOwnProperty.call(Dn.charts,i)&&(Dn.charts[i].destroy(),delete Dn.charts[i])},config:{},options:{},adapters:ru,addAdapter:Z1,use:function(i){return Z1(i),Dn}};function kde(i){for(var e=[],t=0;t<i.length;t++)e.push([jo(i[t][0]),jo(i[t][1]),jo(i[t][2])]);return e}function Ode(i,e){if(e==="bubble")return kde(i);var t;e==="number"?t=jo:e==="datetime"?t=Fo:t=Rl;for(var a=[],c=0;c<i.length;c++)a.push([t(i[c][0]),jo(i[c][1])]);return a}function Rde(i,e,t){return MI(i)?(t.xmin||t.xmax)&&(!t.xmin||Uv(t.xmin))&&(!t.xmax||Uv(t.xmax))?"datetime":"number":dC(i,ode)?"number":!e&&dC(i,Uv)?"datetime":"string"}function dC(i,e){for(var t=0;t<i.length;t++)for(var a=Mb(i[t].data),c=0;c<a.length;c++)if(!e(a[c][0]))return!1;return!0}function zde(i){for(var e=[],t=0;t<i.length;t++){var a={};for(var c in i[t])Object.prototype.hasOwnProperty.call(i[t],c)&&(a[c]=i[t][c]);e.push(a)}return e}function Ip(i,e,t){var a=i.options,c=i.rawData;i.singleSeriesFormat=!Hc(c)||!d2(c[0]),i.singleSeriesFormat&&(c=[{name:a.label,data:c}]),c=zde(c);for(var p=0;p<c.length;p++)c[p].data=Mb(c[p].data);i.xtype=e||(a.discrete?"string":Rde(c,t,a));for(var y=0;y<c.length;y++)c[y].data=Ode(c[y].data,i.xtype);return c}function wI(i){for(var e=Mb(i.rawData),t=0;t<e.length;t++)e[t]=[Rl(e[t][0]),jo(e[t][1])];return e}function MI(i,e){if(e==="PieChart"||e==="GeoChart"||e==="Timeline")return i.length===0;for(var t=0;t<i.length;t++)if(i[t].data.length>0)return!1;return!0}function Fde(i){var e=i.options.download;e===!0?e={}:typeof e=="string"&&(e={filename:e});var t=document.createElement("a");t.download=e.filename||"chart.png",t.style.position="absolute",t.style.top="20px",t.style.right="20px",t.style.zIndex=1e3,t.style.lineHeight="20px",t.target="_blank";var a=document.createElement("img"),c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path fill="#CCCCCC" d="M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"/></svg>';a.src="data:image/svg+xml;utf8,"+encodeURIComponent(c),a.alt="Download",a.style.width="20px",a.style.height="20px",a.style.border="none",t.appendChild(a);var p=i.element;p.style.position="relative",i.__downloadAttached=!0,i.__enterEvent=p.addEventListener("mouseover",function(y){var s=y.relatedTarget;(!s||s!==this&&!this.contains(s))&&i.options.download&&(t.href=i.toImage(e),p.appendChild(t))}),i.__leaveEvent=p.addEventListener("mouseout",function(y){var s=y.relatedTarget;(!s||s!==this&&!this.contains(s))&&t.parentNode&&t.parentNode.removeChild(t)})}var SI=[],Ax=0,Bde=4;function Nde(i,e,t){SI.push([i,e,t]),Ob()}function Ob(){if(Ax<Bde){var i=SI.shift();i&&(Ax++,Hde(i[0],i[1],i[2]),Ob())}}function Vde(){Ax--,Ob()}function Hde(i,e,t){var a=new XMLHttpRequest;a.open("GET",i,!0),a.setRequestHeader("Content-Type","application/json"),a.onload=function(){Vde(),a.status===200?e(JSON.parse(a.responseText)):t(a.statusText)},a.send()}function Rb(i,e){i.textContent=e}function f2(i,e,t){t||(e="Error Loading Chart: "+e),Rb(i,e),i.style.color="#ff0000"}function jv(i){try{i.__render()}catch(e){throw f2(i.element,e.message),e}}function am(i,e,t){if(t&&i.options.loading&&(typeof e=="string"||typeof e=="function")&&Rb(i.element,i.options.loading),typeof e=="string")Nde(e,function(a){i.rawData=a,jv(i)},function(a){f2(i.element,a)});else if(typeof e=="function")try{e(function(a){i.rawData=a,jv(i)},function(a){f2(i.element,a,!0)})}catch(a){f2(i.element,a,!0)}else i.rawData=e,jv(i)}function Ude(i,e){if(MI(e.data,i)){var t=e.options.empty||e.options.messages&&e.options.messages.empty||"No data";Rb(e.element,t)}else Lde(i,e),e.options.download&&!e.__downloadAttached&&e.adapter==="chartjs"&&Fde(e)}function jde(i){if(typeof i=="string"){var e=i;if(i=document.getElementById(i),!i)throw new Error("No element with id "+e)}return i}var Jn=function(e,t,a){this.element=jde(e),this.options=_r(Dn.options,a||{}),this.dataSource=t,this.element.id&&(Dn.charts[this.element.id]=this),am(this,t,!0),this.options.refresh&&this.startRefresh()};Jn.prototype.getElement=function(){return this.element};Jn.prototype.getDataSource=function(){return this.dataSource};Jn.prototype.getData=function(){return this.data};Jn.prototype.getOptions=function(){return this.options};Jn.prototype.getChartObject=function(){return this.chart};Jn.prototype.getAdapter=function(){return this.adapter};Jn.prototype.updateData=function(e,t){this.dataSource=e,t&&this.__updateOptions(t),am(this,e,!0)};Jn.prototype.setOptions=function(e){this.__updateOptions(e),this.redraw()};Jn.prototype.redraw=function(){am(this,this.rawData)};Jn.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var e=this.dataSource.indexOf("?")===-1?"?":"&",t=this.dataSource+e+"_="+new Date().getTime();am(this,t)}else typeof this.dataSource=="function"&&am(this,this.dataSource)};Jn.prototype.startRefresh=function(){var e=this,t=this.options.refresh;if(t&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(t)this.intervalId=setInterval(function(){e.refreshData()},t*1e3);else throw new Error("No refresh interval")};Jn.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)};Jn.prototype.toImage=function(e){if(this.adapter==="chartjs")if(e&&e.background&&e.background!=="transparent"){var t=this.chart.canvas,a=this.chart.ctx,c=document.createElement("canvas"),p=c.getContext("2d");return c.width=a.canvas.width,c.height=a.canvas.height,p.fillStyle=e.background,p.fillRect(0,0,c.width,c.height),p.drawImage(t,0,0),c.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")};Jn.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&this.element.removeEventListener("mouseover",this.__enterEvent),this.__leaveEvent&&this.element.removeEventListener("mouseout",this.__leaveEvent)};Jn.prototype.__updateOptions=function(e){var t=e.refresh&&e.refresh!==this.options.refresh;this.options=_r(Dn.options,e),t&&(this.stopRefresh(),this.startRefresh())};Jn.prototype.__render=function(){this.data=this.__processData(),Ude(this.__chartName(),this)};Jn.prototype.__config=function(){return Dn.config};var qde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Ip(this)},e.prototype.__chartName=function(){return"LineChart"},e}(Jn),$de=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return wI(this)},e.prototype.__chartName=function(){return"PieChart"},e}(Jn),Gde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Ip(this,null,!0)},e.prototype.__chartName=function(){return"ColumnChart"},e}(Jn),Wde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Ip(this,null,!0)},e.prototype.__chartName=function(){return"BarChart"},e}(Jn),Zde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Ip(this)},e.prototype.__chartName=function(){return"AreaChart"},e}(Jn),Yde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return wI(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(Jn),Xde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Ip(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(Jn),Kde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Ip(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(Jn),Jde=function(i){function e(){i.apply(this,arguments)}return e.__proto__=i,e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){for(var a=this.rawData,c=0;c<a.length;c++)a[c][1]=Fo(a[c][1]),a[c][2]=Fo(a[c][2]);return a},e.prototype.__chartName=function(){return"Timeline"},e}(Jn);Dn.LineChart=qde;Dn.PieChart=$de;Dn.ColumnChart=Gde;Dn.BarChart=Wde;Dn.AreaChart=Zde;Dn.GeoChart=Yde;Dn.ScatterChart=Xde;Dn.BubbleChart=Kde;Dn.Timeline=Jde;typeof window<"u"&&!window.Chartkick&&(window.Chartkick=Dn,document.addEventListener("turbolinks:before-render",function(){Dn.config.autoDestroy!==!1&&Dn.destroyAll()}),document.addEventListener("turbo:before-render",function(){Dn.config.autoDestroy!==!1&&Dn.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0));Dn.default=Dn;function zl(i){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(i)}function ar(i){if(i===null||i===!0||i===!1)return NaN;var e=Number(i);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function xi(i,e){if(e.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+e.length+" present")}function Ii(i){xi(1,arguments);var e=Object.prototype.toString.call(i);return i instanceof Date||zl(i)==="object"&&e==="[object Date]"?new Date(i.getTime()):typeof i=="number"||e==="[object Number]"?new Date(i):((typeof i=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function TI(i,e){xi(2,arguments);var t=Ii(i),a=ar(e);return isNaN(a)?new Date(NaN):(a&&t.setDate(t.getDate()+a),t)}function zb(i,e){xi(2,arguments);var t=Ii(i),a=ar(e);if(isNaN(a))return new Date(NaN);if(!a)return t;var c=t.getDate(),p=new Date(t.getTime());p.setMonth(t.getMonth()+a+1,0);var y=p.getDate();return c>=y?p:(t.setFullYear(p.getFullYear(),p.getMonth(),c),t)}function Im(i,e){xi(2,arguments);var t=Ii(i).getTime(),a=ar(e);return new Date(t+a)}var Qde=36e5;function epe(i,e){xi(2,arguments);var t=ar(e);return Im(i,t*Qde)}var tpe={};function Yc(){return tpe}function pC(i,e){var t,a,c,p,y,s,L,R;xi(1,arguments);var V=Yc(),q=ar((t=(a=(c=(p=e==null?void 0:e.weekStartsOn)!==null&&p!==void 0?p:e==null||(y=e.locale)===null||y===void 0||(s=y.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&c!==void 0?c:V.weekStartsOn)!==null&&a!==void 0?a:(L=V.locale)===null||L===void 0||(R=L.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&t!==void 0?t:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Z=Ii(i),ee=Z.getDay(),se=(ee<q?7:0)+ee-q;return Z.setDate(Z.getDate()-se),Z.setHours(0,0,0,0),Z}function k2(i){var e=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return e.setUTCFullYear(i.getFullYear()),i.getTime()-e.getTime()}function Ix(i){xi(1,arguments);var e=Ii(i);return e.setHours(0,0,0,0),e}var ipe=864e5;function npe(i,e){xi(2,arguments);var t=Ix(i),a=Ix(e),c=t.getTime()-k2(t),p=a.getTime()-k2(a);return Math.round((c-p)/ipe)}var rpe=6e4;function spe(i,e){xi(2,arguments);var t=ar(e);return Im(i,t*rpe)}function ape(i,e){xi(2,arguments);var t=ar(e),a=t*3;return zb(i,a)}function ope(i,e){xi(2,arguments);var t=ar(e);return Im(i,t*1e3)}function lpe(i,e){xi(2,arguments);var t=ar(e),a=t*7;return TI(i,a)}function cpe(i,e){xi(2,arguments);var t=ar(e);return zb(i,t*12)}function Y1(i,e){xi(2,arguments);var t=Ii(i),a=Ii(e),c=t.getTime()-a.getTime();return c<0?-1:c>0?1:c}var n_=6e4,r_=36e5,hpe=1e3;function upe(i){return xi(1,arguments),i instanceof Date||zl(i)==="object"&&Object.prototype.toString.call(i)==="[object Date]"}function EI(i){if(xi(1,arguments),!upe(i)&&typeof i!="number")return!1;var e=Ii(i);return!isNaN(Number(e))}function dpe(i,e){xi(2,arguments);var t=Ii(i),a=Ii(e),c=t.getFullYear()-a.getFullYear(),p=t.getMonth()-a.getMonth();return c*12+p}function ppe(i,e){xi(2,arguments);var t=Ii(i),a=Ii(e);return t.getFullYear()-a.getFullYear()}function fC(i,e){var t=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function CI(i,e){xi(2,arguments);var t=Ii(i),a=Ii(e),c=fC(t,a),p=Math.abs(npe(t,a));t.setDate(t.getDate()-c*p);var y=+(fC(t,a)===-c),s=c*(p-y);return s===0?0:s}function s_(i,e){return xi(2,arguments),Ii(i).getTime()-Ii(e).getTime()}var mC={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},fpe="trunc";function Pm(i){return i?mC[i]:mC[fpe]}function mpe(i,e,t){xi(2,arguments);var a=s_(i,e)/r_;return Pm(void 0)(a)}function gpe(i,e,t){xi(2,arguments);var a=s_(i,e)/n_;return Pm(void 0)(a)}function AI(i){xi(1,arguments);var e=Ii(i);return e.setHours(23,59,59,999),e}function II(i){xi(1,arguments);var e=Ii(i),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function _pe(i){xi(1,arguments);var e=Ii(i);return AI(e).getTime()===II(e).getTime()}function PI(i,e){xi(2,arguments);var t=Ii(i),a=Ii(e),c=Y1(t,a),p=Math.abs(dpe(t,a)),y;if(p<1)y=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-c*p);var s=Y1(t,a)===-c;_pe(Ii(i))&&p===1&&Y1(i,a)===1&&(s=!1),y=c*(p-Number(s))}return y===0?0:y}function ype(i,e,t){xi(2,arguments);var a=PI(i,e)/3;return Pm(void 0)(a)}function vpe(i,e,t){xi(2,arguments);var a=s_(i,e)/1e3;return Pm(void 0)(a)}function xpe(i,e,t){xi(2,arguments);var a=CI(i,e)/7;return Pm(void 0)(a)}function bpe(i,e){xi(2,arguments);var t=Ii(i),a=Ii(e),c=Y1(t,a),p=Math.abs(ppe(t,a));t.setFullYear(1584),a.setFullYear(1584);var y=Y1(t,a)===-c,s=c*(p-Number(y));return s===0?0:s}function wpe(i){xi(1,arguments);var e=Ii(i);return e.setSeconds(0,0),e}function Mpe(i){xi(1,arguments);var e=Ii(i),t=e.getMonth(),a=t-t%3;return e.setMonth(a,1),e.setHours(0,0,0,0),e}function Spe(i){xi(1,arguments);var e=Ii(i);return e.setDate(1),e.setHours(0,0,0,0),e}function Tpe(i){xi(1,arguments);var e=Ii(i),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function Epe(i){xi(1,arguments);var e=Ii(i),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Cpe(i){xi(1,arguments);var e=Ii(i);return e.setMinutes(59,59,999),e}function Ape(i,e){var t,a,c,p,y,s;xi(1,arguments);var L=Yc(),R=ar((t=(a=(c=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&c!==void 0?c:L.weekStartsOn)!==null&&a!==void 0?a:(y=L.locale)===null||y===void 0||(s=y.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&t!==void 0?t:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var V=Ii(i),q=V.getDay(),Z=(q<R?-7:0)+6-(q-R);return V.setDate(V.getDate()+Z),V.setHours(23,59,59,999),V}function Ipe(i){xi(1,arguments);var e=Ii(i);return e.setSeconds(59,999),e}function Ppe(i){xi(1,arguments);var e=Ii(i),t=e.getMonth(),a=t-t%3+3;return e.setMonth(a,0),e.setHours(23,59,59,999),e}function Dpe(i){xi(1,arguments);var e=Ii(i);return e.setMilliseconds(999),e}function DI(i,e){xi(2,arguments);var t=ar(e);return Im(i,-t)}var Lpe=864e5;function kpe(i){xi(1,arguments);var e=Ii(i),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var a=e.getTime(),c=t-a;return Math.floor(c/Lpe)+1}function yp(i){xi(1,arguments);var e=1,t=Ii(i),a=t.getUTCDay(),c=(a<e?7:0)+a-e;return t.setUTCDate(t.getUTCDate()-c),t.setUTCHours(0,0,0,0),t}function LI(i){xi(1,arguments);var e=Ii(i),t=e.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(t+1,0,4),a.setUTCHours(0,0,0,0);var c=yp(a),p=new Date(0);p.setUTCFullYear(t,0,4),p.setUTCHours(0,0,0,0);var y=yp(p);return e.getTime()>=c.getTime()?t+1:e.getTime()>=y.getTime()?t:t-1}function Ope(i){xi(1,arguments);var e=LI(i),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var a=yp(t);return a}var Rpe=6048e5;function kI(i){xi(1,arguments);var e=Ii(i),t=yp(e).getTime()-Ope(e).getTime();return Math.round(t/Rpe)+1}function hu(i,e){var t,a,c,p,y,s,L,R;xi(1,arguments);var V=Yc(),q=ar((t=(a=(c=(p=e==null?void 0:e.weekStartsOn)!==null&&p!==void 0?p:e==null||(y=e.locale)===null||y===void 0||(s=y.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&c!==void 0?c:V.weekStartsOn)!==null&&a!==void 0?a:(L=V.locale)===null||L===void 0||(R=L.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&t!==void 0?t:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Z=Ii(i),ee=Z.getUTCDay(),se=(ee<q?7:0)+ee-q;return Z.setUTCDate(Z.getUTCDate()-se),Z.setUTCHours(0,0,0,0),Z}function Fb(i,e){var t,a,c,p,y,s,L,R;xi(1,arguments);var V=Ii(i),q=V.getUTCFullYear(),Z=Yc(),ee=ar((t=(a=(c=(p=e==null?void 0:e.firstWeekContainsDate)!==null&&p!==void 0?p:e==null||(y=e.locale)===null||y===void 0||(s=y.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&c!==void 0?c:Z.firstWeekContainsDate)!==null&&a!==void 0?a:(L=Z.locale)===null||L===void 0||(R=L.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(ee>=1&&ee<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var se=new Date(0);se.setUTCFullYear(q+1,0,ee),se.setUTCHours(0,0,0,0);var he=hu(se,e),we=new Date(0);we.setUTCFullYear(q,0,ee),we.setUTCHours(0,0,0,0);var De=hu(we,e);return V.getTime()>=he.getTime()?q+1:V.getTime()>=De.getTime()?q:q-1}function zpe(i,e){var t,a,c,p,y,s,L,R;xi(1,arguments);var V=Yc(),q=ar((t=(a=(c=(p=e==null?void 0:e.firstWeekContainsDate)!==null&&p!==void 0?p:e==null||(y=e.locale)===null||y===void 0||(s=y.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&c!==void 0?c:V.firstWeekContainsDate)!==null&&a!==void 0?a:(L=V.locale)===null||L===void 0||(R=L.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&t!==void 0?t:1),Z=Fb(i,e),ee=new Date(0);ee.setUTCFullYear(Z,0,q),ee.setUTCHours(0,0,0,0);var se=hu(ee,e);return se}var Fpe=6048e5;function OI(i,e){xi(1,arguments);var t=Ii(i),a=hu(t,e).getTime()-zpe(t,e).getTime();return Math.round(a/Fpe)+1}function Nn(i,e){for(var t=i<0?"-":"",a=Math.abs(i).toString();a.length<e;)a="0"+a;return t+a}var Cc={y:function(e,t){var a=e.getUTCFullYear(),c=a>0?a:1-a;return Nn(t==="yy"?c%100:c,t.length)},M:function(e,t){var a=e.getUTCMonth();return t==="M"?String(a+1):Nn(a+1,2)},d:function(e,t){return Nn(e.getUTCDate(),t.length)},a:function(e,t){var a=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(e,t){return Nn(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Nn(e.getUTCHours(),t.length)},m:function(e,t){return Nn(e.getUTCMinutes(),t.length)},s:function(e,t){return Nn(e.getUTCSeconds(),t.length)},S:function(e,t){var a=t.length,c=e.getUTCMilliseconds(),p=Math.floor(c*Math.pow(10,a-3));return Nn(p,t.length)}},Jd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bpe={G:function(e,t,a){var c=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(c,{width:"abbreviated"});case"GGGGG":return a.era(c,{width:"narrow"});case"GGGG":default:return a.era(c,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){var c=e.getUTCFullYear(),p=c>0?c:1-c;return a.ordinalNumber(p,{unit:"year"})}return Cc.y(e,t)},Y:function(e,t,a,c){var p=Fb(e,c),y=p>0?p:1-p;if(t==="YY"){var s=y%100;return Nn(s,2)}return t==="Yo"?a.ordinalNumber(y,{unit:"year"}):Nn(y,t.length)},R:function(e,t){var a=LI(e);return Nn(a,t.length)},u:function(e,t){var a=e.getUTCFullYear();return Nn(a,t.length)},Q:function(e,t,a){var c=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(c);case"QQ":return Nn(c,2);case"Qo":return a.ordinalNumber(c,{unit:"quarter"});case"QQQ":return a.quarter(c,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(c,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(c,{width:"wide",context:"formatting"})}},q:function(e,t,a){var c=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(c);case"qq":return Nn(c,2);case"qo":return a.ordinalNumber(c,{unit:"quarter"});case"qqq":return a.quarter(c,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(c,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(c,{width:"wide",context:"standalone"})}},M:function(e,t,a){var c=e.getUTCMonth();switch(t){case"M":case"MM":return Cc.M(e,t);case"Mo":return a.ordinalNumber(c+1,{unit:"month"});case"MMM":return a.month(c,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(c,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(c,{width:"wide",context:"formatting"})}},L:function(e,t,a){var c=e.getUTCMonth();switch(t){case"L":return String(c+1);case"LL":return Nn(c+1,2);case"Lo":return a.ordinalNumber(c+1,{unit:"month"});case"LLL":return a.month(c,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(c,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(c,{width:"wide",context:"standalone"})}},w:function(e,t,a,c){var p=OI(e,c);return t==="wo"?a.ordinalNumber(p,{unit:"week"}):Nn(p,t.length)},I:function(e,t,a){var c=kI(e);return t==="Io"?a.ordinalNumber(c,{unit:"week"}):Nn(c,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getUTCDate(),{unit:"date"}):Cc.d(e,t)},D:function(e,t,a){var c=kpe(e);return t==="Do"?a.ordinalNumber(c,{unit:"dayOfYear"}):Nn(c,t.length)},E:function(e,t,a){var c=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return a.day(c,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(c,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(c,{width:"short",context:"formatting"});case"EEEE":default:return a.day(c,{width:"wide",context:"formatting"})}},e:function(e,t,a,c){var p=e.getUTCDay(),y=(p-c.weekStartsOn+8)%7||7;switch(t){case"e":return String(y);case"ee":return Nn(y,2);case"eo":return a.ordinalNumber(y,{unit:"day"});case"eee":return a.day(p,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(p,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(p,{width:"short",context:"formatting"});case"eeee":default:return a.day(p,{width:"wide",context:"formatting"})}},c:function(e,t,a,c){var p=e.getUTCDay(),y=(p-c.weekStartsOn+8)%7||7;switch(t){case"c":return String(y);case"cc":return Nn(y,t.length);case"co":return a.ordinalNumber(y,{unit:"day"});case"ccc":return a.day(p,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(p,{width:"narrow",context:"standalone"});case"cccccc":return a.day(p,{width:"short",context:"standalone"});case"cccc":default:return a.day(p,{width:"wide",context:"standalone"})}},i:function(e,t,a){var c=e.getUTCDay(),p=c===0?7:c;switch(t){case"i":return String(p);case"ii":return Nn(p,t.length);case"io":return a.ordinalNumber(p,{unit:"day"});case"iii":return a.day(c,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(c,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(c,{width:"short",context:"formatting"});case"iiii":default:return a.day(c,{width:"wide",context:"formatting"})}},a:function(e,t,a){var c=e.getUTCHours(),p=c/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(p,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(p,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(p,{width:"wide",context:"formatting"})}},b:function(e,t,a){var c=e.getUTCHours(),p;switch(c===12?p=Jd.noon:c===0?p=Jd.midnight:p=c/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(p,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(p,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(p,{width:"wide",context:"formatting"})}},B:function(e,t,a){var c=e.getUTCHours(),p;switch(c>=17?p=Jd.evening:c>=12?p=Jd.afternoon:c>=4?p=Jd.morning:p=Jd.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(p,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(p,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){var c=e.getUTCHours()%12;return c===0&&(c=12),a.ordinalNumber(c,{unit:"hour"})}return Cc.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Cc.H(e,t)},K:function(e,t,a){var c=e.getUTCHours()%12;return t==="Ko"?a.ordinalNumber(c,{unit:"hour"}):Nn(c,t.length)},k:function(e,t,a){var c=e.getUTCHours();return c===0&&(c=24),t==="ko"?a.ordinalNumber(c,{unit:"hour"}):Nn(c,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Cc.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Cc.s(e,t)},S:function(e,t){return Cc.S(e,t)},X:function(e,t,a,c){var p=c._originalDate||e,y=p.getTimezoneOffset();if(y===0)return"Z";switch(t){case"X":return _C(y);case"XXXX":case"XX":return Wh(y);case"XXXXX":case"XXX":default:return Wh(y,":")}},x:function(e,t,a,c){var p=c._originalDate||e,y=p.getTimezoneOffset();switch(t){case"x":return _C(y);case"xxxx":case"xx":return Wh(y);case"xxxxx":case"xxx":default:return Wh(y,":")}},O:function(e,t,a,c){var p=c._originalDate||e,y=p.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gC(y,":");case"OOOO":default:return"GMT"+Wh(y,":")}},z:function(e,t,a,c){var p=c._originalDate||e,y=p.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gC(y,":");case"zzzz":default:return"GMT"+Wh(y,":")}},t:function(e,t,a,c){var p=c._originalDate||e,y=Math.floor(p.getTime()/1e3);return Nn(y,t.length)},T:function(e,t,a,c){var p=c._originalDate||e,y=p.getTime();return Nn(y,t.length)}};function gC(i,e){var t=i>0?"-":"+",a=Math.abs(i),c=Math.floor(a/60),p=a%60;if(p===0)return t+String(c);var y=e;return t+String(c)+y+Nn(p,2)}function _C(i,e){if(i%60===0){var t=i>0?"-":"+";return t+Nn(Math.abs(i)/60,2)}return Wh(i,e)}function Wh(i,e){var t=e||"",a=i>0?"-":"+",c=Math.abs(i),p=Nn(Math.floor(c/60),2),y=Nn(c%60,2);return a+p+t+y}var yC=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},RI=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Npe=function(e,t){var a=e.match(/(P+)(p+)?/)||[],c=a[1],p=a[2];if(!p)return yC(e,t);var y;switch(c){case"P":y=t.dateTime({width:"short"});break;case"PP":y=t.dateTime({width:"medium"});break;case"PPP":y=t.dateTime({width:"long"});break;case"PPPP":default:y=t.dateTime({width:"full"});break}return y.replace("{{date}}",yC(c,t)).replace("{{time}}",RI(p,t))},Px={p:RI,P:Npe},Vpe=["D","DD"],Hpe=["YY","YYYY"];function zI(i){return Vpe.indexOf(i)!==-1}function FI(i){return Hpe.indexOf(i)!==-1}function O2(i,e,t){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Upe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jpe=function(e,t,a){var c,p=Upe[e];return typeof p=="string"?c=p:t===1?c=p.one:c=p.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+c:c+" ago":c};function qv(i){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):i.defaultWidth,a=i.formats[t]||i.formats[i.defaultWidth];return a}}var qpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$pe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wpe={date:qv({formats:qpe,defaultWidth:"full"}),time:qv({formats:$pe,defaultWidth:"full"}),dateTime:qv({formats:Gpe,defaultWidth:"full"})},Zpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ype=function(e,t,a,c){return Zpe[e]};function T1(i){return function(e,t){var a=t!=null&&t.context?String(t.context):"standalone",c;if(a==="formatting"&&i.formattingValues){var p=i.defaultFormattingWidth||i.defaultWidth,y=t!=null&&t.width?String(t.width):p;c=i.formattingValues[y]||i.formattingValues[p]}else{var s=i.defaultWidth,L=t!=null&&t.width?String(t.width):i.defaultWidth;c=i.values[L]||i.values[s]}var R=i.argumentCallback?i.argumentCallback(e):e;return c[R]}}var Xpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},efe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ife=function(e,t){var a=Number(e),c=a%100;if(c>20||c<10)switch(c%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},nfe={ordinalNumber:ife,era:T1({values:Xpe,defaultWidth:"wide"}),quarter:T1({values:Kpe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:T1({values:Jpe,defaultWidth:"wide"}),day:T1({values:Qpe,defaultWidth:"wide"}),dayPeriod:T1({values:efe,defaultWidth:"wide",formattingValues:tfe,defaultFormattingWidth:"wide"})};function E1(i){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.width,c=a&&i.matchPatterns[a]||i.matchPatterns[i.defaultMatchWidth],p=e.match(c);if(!p)return null;var y=p[0],s=a&&i.parsePatterns[a]||i.parsePatterns[i.defaultParseWidth],L=Array.isArray(s)?sfe(s,function(q){return q.test(y)}):rfe(s,function(q){return q.test(y)}),R;R=i.valueCallback?i.valueCallback(L):L,R=t.valueCallback?t.valueCallback(R):R;var V=e.slice(y.length);return{value:R,rest:V}}}function rfe(i,e){for(var t in i)if(i.hasOwnProperty(t)&&e(i[t]))return t}function sfe(i,e){for(var t=0;t<i.length;t++)if(e(i[t]))return t}function afe(i){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.match(i.matchPattern);if(!a)return null;var c=a[0],p=e.match(i.parsePattern);if(!p)return null;var y=i.valueCallback?i.valueCallback(p[0]):p[0];y=t.valueCallback?t.valueCallback(y):y;var s=e.slice(c.length);return{value:y,rest:s}}}var ofe=/^(\d+)(th|st|nd|rd)?/i,lfe=/\d+/i,cfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hfe={any:[/^b/i,/^(a|c)/i]},ufe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dfe={any:[/1/i,/2/i,/3/i,/4/i]},pfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ffe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_fe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vfe={ordinalNumber:afe({matchPattern:ofe,parsePattern:lfe,valueCallback:function(e){return parseInt(e,10)}}),era:E1({matchPatterns:cfe,defaultMatchWidth:"wide",parsePatterns:hfe,defaultParseWidth:"any"}),quarter:E1({matchPatterns:ufe,defaultMatchWidth:"wide",parsePatterns:dfe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:E1({matchPatterns:pfe,defaultMatchWidth:"wide",parsePatterns:ffe,defaultParseWidth:"any"}),day:E1({matchPatterns:mfe,defaultMatchWidth:"wide",parsePatterns:gfe,defaultParseWidth:"any"}),dayPeriod:E1({matchPatterns:_fe,defaultMatchWidth:"any",parsePatterns:yfe,defaultParseWidth:"any"})},BI={code:"en-US",formatDistance:jpe,formatLong:Wpe,formatRelative:Ype,localize:nfe,match:vfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},xfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wfe=/^'([^]*?)'?$/,Mfe=/''/g,Sfe=/[a-zA-Z]/;function Tfe(i,e,t){var a,c,p,y,s,L,R,V,q,Z,ee,se,he,we,De,Ze,ct,rt;xi(2,arguments);var gt=String(e),Tt=Yc(),it=(a=(c=t==null?void 0:t.locale)!==null&&c!==void 0?c:Tt.locale)!==null&&a!==void 0?a:BI,_t=ar((p=(y=(s=(L=t==null?void 0:t.firstWeekContainsDate)!==null&&L!==void 0?L:t==null||(R=t.locale)===null||R===void 0||(V=R.options)===null||V===void 0?void 0:V.firstWeekContainsDate)!==null&&s!==void 0?s:Tt.firstWeekContainsDate)!==null&&y!==void 0?y:(q=Tt.locale)===null||q===void 0||(Z=q.options)===null||Z===void 0?void 0:Z.firstWeekContainsDate)!==null&&p!==void 0?p:1);if(!(_t>=1&&_t<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ft=ar((ee=(se=(he=(we=t==null?void 0:t.weekStartsOn)!==null&&we!==void 0?we:t==null||(De=t.locale)===null||De===void 0||(Ze=De.options)===null||Ze===void 0?void 0:Ze.weekStartsOn)!==null&&he!==void 0?he:Tt.weekStartsOn)!==null&&se!==void 0?se:(ct=Tt.locale)===null||ct===void 0||(rt=ct.options)===null||rt===void 0?void 0:rt.weekStartsOn)!==null&&ee!==void 0?ee:0);if(!(Ft>=0&&Ft<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!it.localize)throw new RangeError("locale must contain localize property");if(!it.formatLong)throw new RangeError("locale must contain formatLong property");var vt=Ii(i);if(!EI(vt))throw new RangeError("Invalid time value");var It=k2(vt),Qt=DI(vt,It),Oi={firstWeekContainsDate:_t,weekStartsOn:Ft,locale:it,_originalDate:vt},Ji=gt.match(bfe).map(function(zt){var Ye=zt[0];if(Ye==="p"||Ye==="P"){var tt=Px[Ye];return tt(zt,it.formatLong)}return zt}).join("").match(xfe).map(function(zt){if(zt==="''")return"'";var Ye=zt[0];if(Ye==="'")return Efe(zt);var tt=Bpe[Ye];if(tt)return!(t!=null&&t.useAdditionalWeekYearTokens)&&FI(zt)&&O2(zt,e,String(i)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&zI(zt)&&O2(zt,e,String(i)),tt(Qt,zt,it.localize,Oi);if(Ye.match(Sfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ye+"`");return zt}).join("");return Ji}function Efe(i){var e=i.match(wfe);return e?e[1].replace(Mfe,"'"):i}function Cfe(i,e){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i}function vC(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,a=Array(e);t<e;t++)a[t]=i[t];return a}function Afe(i,e){if(i){if(typeof i=="string")return vC(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?vC(i,e):void 0}}function xC(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=Afe(i))||e){t&&(i=t);var a=0,c=function(){};return{s:c,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(R){throw R},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,y=!0,s=!1;return{s:function(){t=t.call(i)},n:function(){var R=t.next();return y=R.done,R},e:function(R){s=!0,p=R},f:function(){try{y||t.return==null||t.return()}finally{if(s)throw p}}}}function ui(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Dx(i,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Dx(i,e)}function Mn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Dx(i,e)}function R2(i){return R2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R2(i)}function NI(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NI=function(){return!!i})()}function Ife(i,e){if(e&&(zl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ui(i)}function Sn(i){var e=NI();return function(){var t,a=R2(i);if(e){var c=R2(this).constructor;t=Reflect.construct(a,arguments,c)}else t=a.apply(this,arguments);return Ife(this,t)}}function mn(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Pfe(i,e){if(zl(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e||"default");if(zl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function VI(i){var e=Pfe(i,"string");return zl(e)=="symbol"?e:e+""}function Dfe(i,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,VI(a.key),a)}}function gn(i,e,t){return e&&Dfe(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function si(i,e,t){return(e=VI(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Lfe=10,HI=function(){function i(){mn(this,i),si(this,"priority",void 0),si(this,"subPriority",0)}return gn(i,[{key:"validate",value:function(t,a){return!0}}]),i}(),kfe=function(i){Mn(t,i);var e=Sn(t);function t(a,c,p,y,s){var L;return mn(this,t),L=e.call(this),L.value=a,L.validateValue=c,L.setValue=p,L.priority=y,s&&(L.subPriority=s),L}return gn(t,[{key:"validate",value:function(c,p){return this.validateValue(c,this.value,p)}},{key:"set",value:function(c,p,y){return this.setValue(c,p,this.value,y)}}]),t}(HI),Ofe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",Lfe),si(ui(a),"subPriority",-1),a}return gn(t,[{key:"set",value:function(c,p){if(p.timestampIsSet)return c;var y=new Date(0);return y.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),y.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),y}}]),t}(HI),Ln=function(){function i(){mn(this,i),si(this,"incompatibleTokens",void 0),si(this,"priority",void 0),si(this,"subPriority",void 0)}return gn(i,[{key:"run",value:function(t,a,c,p){var y=this.parse(t,a,c,p);return y?{setter:new kfe(y.value,this.validate,this.set,this.priority,this.subPriority),rest:y.rest}:null}},{key:"validate",value:function(t,a,c){return!0}}]),i}(),Rfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",140),si(ui(a),"incompatibleTokens",["R","u","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"G":case"GG":case"GGG":return y.era(c,{width:"abbreviated"})||y.era(c,{width:"narrow"});case"GGGGG":return y.era(c,{width:"narrow"});case"GGGG":default:return y.era(c,{width:"wide"})||y.era(c,{width:"abbreviated"})||y.era(c,{width:"narrow"})}}},{key:"set",value:function(c,p,y){return p.era=y,c.setUTCFullYear(y,0,1),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),kr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},No={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Or(i,e){return i&&{value:e(i.value),rest:i.rest}}function gr(i,e){var t=e.match(i);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Vo(i,e){var t=e.match(i);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var a=t[1]==="+"?1:-1,c=t[2]?parseInt(t[2],10):0,p=t[3]?parseInt(t[3],10):0,y=t[5]?parseInt(t[5],10):0;return{value:a*(c*r_+p*n_+y*hpe),rest:e.slice(t[0].length)}}function UI(i){return gr(kr.anyDigitsSigned,i)}function Mr(i,e){switch(i){case 1:return gr(kr.singleDigit,e);case 2:return gr(kr.twoDigits,e);case 3:return gr(kr.threeDigits,e);case 4:return gr(kr.fourDigits,e);default:return gr(new RegExp("^\\d{1,"+i+"}"),e)}}function z2(i,e){switch(i){case 1:return gr(kr.singleDigitSigned,e);case 2:return gr(kr.twoDigitsSigned,e);case 3:return gr(kr.threeDigitsSigned,e);case 4:return gr(kr.fourDigitsSigned,e);default:return gr(new RegExp("^-?\\d{1,"+i+"}"),e)}}function Bb(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function jI(i,e){var t=e>0,a=t?e:1-e,c;if(a<=50)c=i||100;else{var p=a+50,y=Math.floor(p/100)*100,s=i>=p%100;c=i+y-(s?100:0)}return t?c:1-c}function qI(i){return i%400===0||i%4===0&&i%100!==0}var zfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",130),si(ui(a),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){var s=function(R){return{year:R,isTwoDigitYear:p==="yy"}};switch(p){case"y":return Or(Mr(4,c),s);case"yo":return Or(y.ordinalNumber(c,{unit:"year"}),s);default:return Or(Mr(p.length,c),s)}}},{key:"validate",value:function(c,p){return p.isTwoDigitYear||p.year>0}},{key:"set",value:function(c,p,y){var s=c.getUTCFullYear();if(y.isTwoDigitYear){var L=jI(y.year,s);return c.setUTCFullYear(L,0,1),c.setUTCHours(0,0,0,0),c}var R=!("era"in p)||p.era===1?y.year:1-y.year;return c.setUTCFullYear(R,0,1),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),Ffe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",130),si(ui(a),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){var s=function(R){return{year:R,isTwoDigitYear:p==="YY"}};switch(p){case"Y":return Or(Mr(4,c),s);case"Yo":return Or(y.ordinalNumber(c,{unit:"year"}),s);default:return Or(Mr(p.length,c),s)}}},{key:"validate",value:function(c,p){return p.isTwoDigitYear||p.year>0}},{key:"set",value:function(c,p,y,s){var L=Fb(c,s);if(y.isTwoDigitYear){var R=jI(y.year,L);return c.setUTCFullYear(R,0,s.firstWeekContainsDate),c.setUTCHours(0,0,0,0),hu(c,s)}var V=!("era"in p)||p.era===1?y.year:1-y.year;return c.setUTCFullYear(V,0,s.firstWeekContainsDate),c.setUTCHours(0,0,0,0),hu(c,s)}}]),t}(Ln),Bfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",130),si(ui(a),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p){return z2(p==="R"?4:p.length,c)}},{key:"set",value:function(c,p,y){var s=new Date(0);return s.setUTCFullYear(y,0,4),s.setUTCHours(0,0,0,0),yp(s)}}]),t}(Ln),Nfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",130),si(ui(a),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p){return z2(p==="u"?4:p.length,c)}},{key:"set",value:function(c,p,y){return c.setUTCFullYear(y,0,1),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),Vfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",120),si(ui(a),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"Q":case"QQ":return Mr(p.length,c);case"Qo":return y.ordinalNumber(c,{unit:"quarter"});case"QQQ":return y.quarter(c,{width:"abbreviated",context:"formatting"})||y.quarter(c,{width:"narrow",context:"formatting"});case"QQQQQ":return y.quarter(c,{width:"narrow",context:"formatting"});case"QQQQ":default:return y.quarter(c,{width:"wide",context:"formatting"})||y.quarter(c,{width:"abbreviated",context:"formatting"})||y.quarter(c,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(c,p){return p>=1&&p<=4}},{key:"set",value:function(c,p,y){return c.setUTCMonth((y-1)*3,1),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),Hfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",120),si(ui(a),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"q":case"qq":return Mr(p.length,c);case"qo":return y.ordinalNumber(c,{unit:"quarter"});case"qqq":return y.quarter(c,{width:"abbreviated",context:"standalone"})||y.quarter(c,{width:"narrow",context:"standalone"});case"qqqqq":return y.quarter(c,{width:"narrow",context:"standalone"});case"qqqq":default:return y.quarter(c,{width:"wide",context:"standalone"})||y.quarter(c,{width:"abbreviated",context:"standalone"})||y.quarter(c,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(c,p){return p>=1&&p<=4}},{key:"set",value:function(c,p,y){return c.setUTCMonth((y-1)*3,1),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),Ufe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),si(ui(a),"priority",110),a}return gn(t,[{key:"parse",value:function(c,p,y){var s=function(R){return R-1};switch(p){case"M":return Or(gr(kr.month,c),s);case"MM":return Or(Mr(2,c),s);case"Mo":return Or(y.ordinalNumber(c,{unit:"month"}),s);case"MMM":return y.month(c,{width:"abbreviated",context:"formatting"})||y.month(c,{width:"narrow",context:"formatting"});case"MMMMM":return y.month(c,{width:"narrow",context:"formatting"});case"MMMM":default:return y.month(c,{width:"wide",context:"formatting"})||y.month(c,{width:"abbreviated",context:"formatting"})||y.month(c,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(c,p){return p>=0&&p<=11}},{key:"set",value:function(c,p,y){return c.setUTCMonth(y,1),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),jfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",110),si(ui(a),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){var s=function(R){return R-1};switch(p){case"L":return Or(gr(kr.month,c),s);case"LL":return Or(Mr(2,c),s);case"Lo":return Or(y.ordinalNumber(c,{unit:"month"}),s);case"LLL":return y.month(c,{width:"abbreviated",context:"standalone"})||y.month(c,{width:"narrow",context:"standalone"});case"LLLLL":return y.month(c,{width:"narrow",context:"standalone"});case"LLLL":default:return y.month(c,{width:"wide",context:"standalone"})||y.month(c,{width:"abbreviated",context:"standalone"})||y.month(c,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(c,p){return p>=0&&p<=11}},{key:"set",value:function(c,p,y){return c.setUTCMonth(y,1),c.setUTCHours(0,0,0,0),c}}]),t}(Ln);function qfe(i,e,t){xi(2,arguments);var a=Ii(i),c=ar(e),p=OI(a,t)-c;return a.setUTCDate(a.getUTCDate()-p*7),a}var $fe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",100),si(ui(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"w":return gr(kr.week,c);case"wo":return y.ordinalNumber(c,{unit:"week"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=1&&p<=53}},{key:"set",value:function(c,p,y,s){return hu(qfe(c,y,s),s)}}]),t}(Ln);function Gfe(i,e){xi(2,arguments);var t=Ii(i),a=ar(e),c=kI(t)-a;return t.setUTCDate(t.getUTCDate()-c*7),t}var Wfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",100),si(ui(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"I":return gr(kr.week,c);case"Io":return y.ordinalNumber(c,{unit:"week"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=1&&p<=53}},{key:"set",value:function(c,p,y){return yp(Gfe(c,y))}}]),t}(Ln),Zfe=[31,28,31,30,31,30,31,31,30,31,30,31],Yfe=[31,29,31,30,31,30,31,31,30,31,30,31],Xfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",90),si(ui(a),"subPriority",1),si(ui(a),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"d":return gr(kr.date,c);case"do":return y.ordinalNumber(c,{unit:"date"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){var y=c.getUTCFullYear(),s=qI(y),L=c.getUTCMonth();return s?p>=1&&p<=Yfe[L]:p>=1&&p<=Zfe[L]}},{key:"set",value:function(c,p,y){return c.setUTCDate(y),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),Kfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",90),si(ui(a),"subpriority",1),si(ui(a),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"D":case"DD":return gr(kr.dayOfYear,c);case"Do":return y.ordinalNumber(c,{unit:"date"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){var y=c.getUTCFullYear(),s=qI(y);return s?p>=1&&p<=366:p>=1&&p<=365}},{key:"set",value:function(c,p,y){return c.setUTCMonth(0,y),c.setUTCHours(0,0,0,0),c}}]),t}(Ln);function Nb(i,e,t){var a,c,p,y,s,L,R,V;xi(2,arguments);var q=Yc(),Z=ar((a=(c=(p=(y=t==null?void 0:t.weekStartsOn)!==null&&y!==void 0?y:t==null||(s=t.locale)===null||s===void 0||(L=s.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&p!==void 0?p:q.weekStartsOn)!==null&&c!==void 0?c:(R=q.locale)===null||R===void 0||(V=R.options)===null||V===void 0?void 0:V.weekStartsOn)!==null&&a!==void 0?a:0);if(!(Z>=0&&Z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ee=Ii(i),se=ar(e),he=ee.getUTCDay(),we=se%7,De=(we+7)%7,Ze=(De<Z?7:0)+se-he;return ee.setUTCDate(ee.getUTCDate()+Ze),ee}var Jfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",90),si(ui(a),"incompatibleTokens",["D","i","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"E":case"EE":case"EEE":return y.day(c,{width:"abbreviated",context:"formatting"})||y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"});case"EEEEE":return y.day(c,{width:"narrow",context:"formatting"});case"EEEEEE":return y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"});case"EEEE":default:return y.day(c,{width:"wide",context:"formatting"})||y.day(c,{width:"abbreviated",context:"formatting"})||y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(c,p){return p>=0&&p<=6}},{key:"set",value:function(c,p,y,s){return c=Nb(c,y,s),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),Qfe=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",90),si(ui(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y,s){var L=function(V){var q=Math.floor((V-1)/7)*7;return(V+s.weekStartsOn+6)%7+q};switch(p){case"e":case"ee":return Or(Mr(p.length,c),L);case"eo":return Or(y.ordinalNumber(c,{unit:"day"}),L);case"eee":return y.day(c,{width:"abbreviated",context:"formatting"})||y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"});case"eeeee":return y.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"});case"eeee":default:return y.day(c,{width:"wide",context:"formatting"})||y.day(c,{width:"abbreviated",context:"formatting"})||y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(c,p){return p>=0&&p<=6}},{key:"set",value:function(c,p,y,s){return c=Nb(c,y,s),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),e1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",90),si(ui(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y,s){var L=function(V){var q=Math.floor((V-1)/7)*7;return(V+s.weekStartsOn+6)%7+q};switch(p){case"c":case"cc":return Or(Mr(p.length,c),L);case"co":return Or(y.ordinalNumber(c,{unit:"day"}),L);case"ccc":return y.day(c,{width:"abbreviated",context:"standalone"})||y.day(c,{width:"short",context:"standalone"})||y.day(c,{width:"narrow",context:"standalone"});case"ccccc":return y.day(c,{width:"narrow",context:"standalone"});case"cccccc":return y.day(c,{width:"short",context:"standalone"})||y.day(c,{width:"narrow",context:"standalone"});case"cccc":default:return y.day(c,{width:"wide",context:"standalone"})||y.day(c,{width:"abbreviated",context:"standalone"})||y.day(c,{width:"short",context:"standalone"})||y.day(c,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(c,p){return p>=0&&p<=6}},{key:"set",value:function(c,p,y,s){return c=Nb(c,y,s),c.setUTCHours(0,0,0,0),c}}]),t}(Ln);function t1e(i,e){xi(2,arguments);var t=ar(e);t%7===0&&(t=t-7);var a=1,c=Ii(i),p=c.getUTCDay(),y=t%7,s=(y+7)%7,L=(s<a?7:0)+t-p;return c.setUTCDate(c.getUTCDate()+L),c}var i1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",90),si(ui(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){var s=function(R){return R===0?7:R};switch(p){case"i":case"ii":return Mr(p.length,c);case"io":return y.ordinalNumber(c,{unit:"day"});case"iii":return Or(y.day(c,{width:"abbreviated",context:"formatting"})||y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"}),s);case"iiiii":return Or(y.day(c,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Or(y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Or(y.day(c,{width:"wide",context:"formatting"})||y.day(c,{width:"abbreviated",context:"formatting"})||y.day(c,{width:"short",context:"formatting"})||y.day(c,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(c,p){return p>=1&&p<=7}},{key:"set",value:function(c,p,y){return c=t1e(c,y),c.setUTCHours(0,0,0,0),c}}]),t}(Ln),n1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",80),si(ui(a),"incompatibleTokens",["b","B","H","k","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"a":case"aa":case"aaa":return y.dayPeriod(c,{width:"abbreviated",context:"formatting"})||y.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaaa":return y.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return y.dayPeriod(c,{width:"wide",context:"formatting"})||y.dayPeriod(c,{width:"abbreviated",context:"formatting"})||y.dayPeriod(c,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(c,p,y){return c.setUTCHours(Bb(y),0,0,0),c}}]),t}(Ln),r1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",80),si(ui(a),"incompatibleTokens",["a","B","H","k","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"b":case"bb":case"bbb":return y.dayPeriod(c,{width:"abbreviated",context:"formatting"})||y.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbbb":return y.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return y.dayPeriod(c,{width:"wide",context:"formatting"})||y.dayPeriod(c,{width:"abbreviated",context:"formatting"})||y.dayPeriod(c,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(c,p,y){return c.setUTCHours(Bb(y),0,0,0),c}}]),t}(Ln),s1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",80),si(ui(a),"incompatibleTokens",["a","b","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"B":case"BB":case"BBB":return y.dayPeriod(c,{width:"abbreviated",context:"formatting"})||y.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBBB":return y.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return y.dayPeriod(c,{width:"wide",context:"formatting"})||y.dayPeriod(c,{width:"abbreviated",context:"formatting"})||y.dayPeriod(c,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(c,p,y){return c.setUTCHours(Bb(y),0,0,0),c}}]),t}(Ln),a1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",70),si(ui(a),"incompatibleTokens",["H","K","k","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"h":return gr(kr.hour12h,c);case"ho":return y.ordinalNumber(c,{unit:"hour"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=1&&p<=12}},{key:"set",value:function(c,p,y){var s=c.getUTCHours()>=12;return s&&y<12?c.setUTCHours(y+12,0,0,0):!s&&y===12?c.setUTCHours(0,0,0,0):c.setUTCHours(y,0,0,0),c}}]),t}(Ln),o1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",70),si(ui(a),"incompatibleTokens",["a","b","h","K","k","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"H":return gr(kr.hour23h,c);case"Ho":return y.ordinalNumber(c,{unit:"hour"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=0&&p<=23}},{key:"set",value:function(c,p,y){return c.setUTCHours(y,0,0,0),c}}]),t}(Ln),l1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",70),si(ui(a),"incompatibleTokens",["h","H","k","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"K":return gr(kr.hour11h,c);case"Ko":return y.ordinalNumber(c,{unit:"hour"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=0&&p<=11}},{key:"set",value:function(c,p,y){var s=c.getUTCHours()>=12;return s&&y<12?c.setUTCHours(y+12,0,0,0):c.setUTCHours(y,0,0,0),c}}]),t}(Ln),c1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",70),si(ui(a),"incompatibleTokens",["a","b","h","H","K","t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"k":return gr(kr.hour24h,c);case"ko":return y.ordinalNumber(c,{unit:"hour"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=1&&p<=24}},{key:"set",value:function(c,p,y){var s=y<=24?y%24:y;return c.setUTCHours(s,0,0,0),c}}]),t}(Ln),h1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",60),si(ui(a),"incompatibleTokens",["t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"m":return gr(kr.minute,c);case"mo":return y.ordinalNumber(c,{unit:"minute"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=0&&p<=59}},{key:"set",value:function(c,p,y){return c.setUTCMinutes(y,0,0),c}}]),t}(Ln),u1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",50),si(ui(a),"incompatibleTokens",["t","T"]),a}return gn(t,[{key:"parse",value:function(c,p,y){switch(p){case"s":return gr(kr.second,c);case"so":return y.ordinalNumber(c,{unit:"second"});default:return Mr(p.length,c)}}},{key:"validate",value:function(c,p){return p>=0&&p<=59}},{key:"set",value:function(c,p,y){return c.setUTCSeconds(y,0),c}}]),t}(Ln),d1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",30),si(ui(a),"incompatibleTokens",["t","T"]),a}return gn(t,[{key:"parse",value:function(c,p){var y=function(L){return Math.floor(L*Math.pow(10,-p.length+3))};return Or(Mr(p.length,c),y)}},{key:"set",value:function(c,p,y){return c.setUTCMilliseconds(y),c}}]),t}(Ln),p1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",10),si(ui(a),"incompatibleTokens",["t","T","x"]),a}return gn(t,[{key:"parse",value:function(c,p){switch(p){case"X":return Vo(No.basicOptionalMinutes,c);case"XX":return Vo(No.basic,c);case"XXXX":return Vo(No.basicOptionalSeconds,c);case"XXXXX":return Vo(No.extendedOptionalSeconds,c);case"XXX":default:return Vo(No.extended,c)}}},{key:"set",value:function(c,p,y){return p.timestampIsSet?c:new Date(c.getTime()-y)}}]),t}(Ln),f1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",10),si(ui(a),"incompatibleTokens",["t","T","X"]),a}return gn(t,[{key:"parse",value:function(c,p){switch(p){case"x":return Vo(No.basicOptionalMinutes,c);case"xx":return Vo(No.basic,c);case"xxxx":return Vo(No.basicOptionalSeconds,c);case"xxxxx":return Vo(No.extendedOptionalSeconds,c);case"xxx":default:return Vo(No.extended,c)}}},{key:"set",value:function(c,p,y){return p.timestampIsSet?c:new Date(c.getTime()-y)}}]),t}(Ln),m1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",40),si(ui(a),"incompatibleTokens","*"),a}return gn(t,[{key:"parse",value:function(c){return UI(c)}},{key:"set",value:function(c,p,y){return[new Date(y*1e3),{timestampIsSet:!0}]}}]),t}(Ln),g1e=function(i){Mn(t,i);var e=Sn(t);function t(){var a;mn(this,t);for(var c=arguments.length,p=new Array(c),y=0;y<c;y++)p[y]=arguments[y];return a=e.call.apply(e,[this].concat(p)),si(ui(a),"priority",20),si(ui(a),"incompatibleTokens","*"),a}return gn(t,[{key:"parse",value:function(c){return UI(c)}},{key:"set",value:function(c,p,y){return[new Date(y),{timestampIsSet:!0}]}}]),t}(Ln),_1e={G:new Rfe,y:new zfe,Y:new Ffe,R:new Bfe,u:new Nfe,Q:new Vfe,q:new Hfe,M:new Ufe,L:new jfe,w:new $fe,I:new Wfe,d:new Xfe,D:new Kfe,E:new Jfe,e:new Qfe,c:new e1e,i:new i1e,a:new n1e,b:new r1e,B:new s1e,h:new a1e,H:new o1e,K:new l1e,k:new c1e,m:new h1e,s:new u1e,S:new d1e,X:new p1e,x:new f1e,t:new m1e,T:new g1e},y1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x1e=/^'([^]*?)'?$/,b1e=/''/g,w1e=/\S/,M1e=/[a-zA-Z]/;function S1e(i,e,t,a){var c,p,y,s,L,R,V,q,Z,ee,se,he,we,De,Ze,ct,rt,gt;xi(3,arguments);var Tt=String(i),it=String(e),_t=Yc(),Ft=(c=(p=a==null?void 0:a.locale)!==null&&p!==void 0?p:_t.locale)!==null&&c!==void 0?c:BI;if(!Ft.match)throw new RangeError("locale must contain match property");var vt=ar((y=(s=(L=(R=a==null?void 0:a.firstWeekContainsDate)!==null&&R!==void 0?R:a==null||(V=a.locale)===null||V===void 0||(q=V.options)===null||q===void 0?void 0:q.firstWeekContainsDate)!==null&&L!==void 0?L:_t.firstWeekContainsDate)!==null&&s!==void 0?s:(Z=_t.locale)===null||Z===void 0||(ee=Z.options)===null||ee===void 0?void 0:ee.firstWeekContainsDate)!==null&&y!==void 0?y:1);if(!(vt>=1&&vt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var It=ar((se=(he=(we=(De=a==null?void 0:a.weekStartsOn)!==null&&De!==void 0?De:a==null||(Ze=a.locale)===null||Ze===void 0||(ct=Ze.options)===null||ct===void 0?void 0:ct.weekStartsOn)!==null&&we!==void 0?we:_t.weekStartsOn)!==null&&he!==void 0?he:(rt=_t.locale)===null||rt===void 0||(gt=rt.options)===null||gt===void 0?void 0:gt.weekStartsOn)!==null&&se!==void 0?se:0);if(!(It>=0&&It<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(it==="")return Tt===""?Ii(t):new Date(NaN);var Qt={firstWeekContainsDate:vt,weekStartsOn:It,locale:Ft},Oi=[new Ofe],Ji=it.match(v1e).map(function(sn){var ji=sn[0];if(ji in Px){var Ie=Px[ji];return Ie(sn,Ft.formatLong)}return sn}).join("").match(y1e),zt=[],Ye=xC(Ji),tt;try{var ut=function(){var ji=tt.value;!(a!=null&&a.useAdditionalWeekYearTokens)&&FI(ji)&&O2(ji,it,i),!(a!=null&&a.useAdditionalDayOfYearTokens)&&zI(ji)&&O2(ji,it,i);var Ie=ji[0],Br=_1e[Ie];if(Br){var $r=Br.incompatibleTokens;if(Array.isArray($r)){var xa=zt.find(function(is){return $r.includes(is.token)||is.token===Ie});if(xa)throw new RangeError("The format string mustn't contain `".concat(xa.fullToken,"` and `").concat(ji,"` at the same time"))}else if(Br.incompatibleTokens==="*"&&zt.length>0)throw new RangeError("The format string mustn't contain `".concat(ji,"` and any other token at the same time"));zt.push({token:Ie,fullToken:ji});var Ct=Br.run(Tt,ji,Ft.match,Qt);if(!Ct)return{v:new Date(NaN)};Oi.push(Ct.setter),Tt=Ct.rest}else{if(Ie.match(M1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ie+"`");if(ji==="''"?ji="'":Ie==="'"&&(ji=T1e(ji)),Tt.indexOf(ji)===0)Tt=Tt.slice(ji.length);else return{v:new Date(NaN)}}};for(Ye.s();!(tt=Ye.n()).done;){var dt=ut();if(zl(dt)==="object")return dt.v}}catch(sn){Ye.e(sn)}finally{Ye.f()}if(Tt.length>0&&w1e.test(Tt))return new Date(NaN);var Gt=Oi.map(function(sn){return sn.priority}).sort(function(sn,ji){return ji-sn}).filter(function(sn,ji,Ie){return Ie.indexOf(sn)===ji}).map(function(sn){return Oi.filter(function(ji){return ji.priority===sn}).sort(function(ji,Ie){return Ie.subPriority-ji.subPriority})}).map(function(sn){return sn[0]}),Kt=Ii(t);if(isNaN(Kt.getTime()))return new Date(NaN);var _i=DI(Kt,k2(Kt)),jt={},kn=xC(Gt),In;try{for(kn.s();!(In=kn.n()).done;){var Pi=In.value;if(!Pi.validate(_i,Qt))return new Date(NaN);var Hn=Pi.set(_i,jt,Qt);Array.isArray(Hn)?(_i=Hn[0],Cfe(jt,Hn[1])):_i=Hn}}catch(sn){kn.e(sn)}finally{kn.f()}return _i}function T1e(i){return i.match(x1e)[1].replace(b1e,"'")}function E1e(i){xi(1,arguments);var e=Ii(i);return e.setMinutes(0,0,0),e}function C1e(i){xi(1,arguments);var e=Ii(i);return e.setMilliseconds(0),e}function A1e(i,e){var t;xi(1,arguments);var a=ar((t=e==null?void 0:e.additionalDigits)!==null&&t!==void 0?t:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var c=L1e(i),p;if(c.date){var y=k1e(c.date,a);p=O1e(y.restDateString,y.year)}if(!p||isNaN(p.getTime()))return new Date(NaN);var s=p.getTime(),L=0,R;if(c.time&&(L=R1e(c.time),isNaN(L)))return new Date(NaN);if(c.timezone){if(R=z1e(c.timezone),isNaN(R))return new Date(NaN)}else{var V=new Date(s+L),q=new Date(0);return q.setFullYear(V.getUTCFullYear(),V.getUTCMonth(),V.getUTCDate()),q.setHours(V.getUTCHours(),V.getUTCMinutes(),V.getUTCSeconds(),V.getUTCMilliseconds()),q}return new Date(s+L+R)}var Gg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},I1e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,P1e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,D1e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function L1e(i){var e={},t=i.split(Gg.dateTimeDelimiter),a;if(t.length>2)return e;if(/:/.test(t[0])?a=t[0]:(e.date=t[0],a=t[1],Gg.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Gg.timeZoneDelimiter)[0],a=i.substr(e.date.length,i.length))),a){var c=Gg.timezone.exec(a);c?(e.time=a.replace(c[1],""),e.timezone=c[1]):e.time=a}return e}function k1e(i,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=i.match(t);if(!a)return{year:NaN,restDateString:""};var c=a[1]?parseInt(a[1]):null,p=a[2]?parseInt(a[2]):null;return{year:p===null?c:p*100,restDateString:i.slice((a[1]||a[2]).length)}}function O1e(i,e){if(e===null)return new Date(NaN);var t=i.match(I1e);if(!t)return new Date(NaN);var a=!!t[4],c=C1(t[1]),p=C1(t[2])-1,y=C1(t[3]),s=C1(t[4]),L=C1(t[5])-1;if(a)return H1e(e,s,L)?F1e(e,s,L):new Date(NaN);var R=new Date(0);return!N1e(e,p,y)||!V1e(e,c)?new Date(NaN):(R.setUTCFullYear(e,p,Math.max(c,y)),R)}function C1(i){return i?parseInt(i):1}function R1e(i){var e=i.match(P1e);if(!e)return NaN;var t=$v(e[1]),a=$v(e[2]),c=$v(e[3]);return U1e(t,a,c)?t*r_+a*n_+c*1e3:NaN}function $v(i){return i&&parseFloat(i.replace(",","."))||0}function z1e(i){if(i==="Z")return 0;var e=i.match(D1e);if(!e)return 0;var t=e[1]==="+"?-1:1,a=parseInt(e[2]),c=e[3]&&parseInt(e[3])||0;return j1e(a,c)?t*(a*r_+c*n_):NaN}function F1e(i,e,t){var a=new Date(0);a.setUTCFullYear(i,0,4);var c=a.getUTCDay()||7,p=(e-1)*7+t+1-c;return a.setUTCDate(a.getUTCDate()+p),a}var B1e=[31,null,31,30,31,30,31,31,30,31,30,31];function $I(i){return i%400===0||i%4===0&&i%100!==0}function N1e(i,e,t){return e>=0&&e<=11&&t>=1&&t<=(B1e[e]||($I(i)?29:28))}function V1e(i,e){return e>=1&&e<=($I(i)?366:365)}function H1e(i,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function U1e(i,e,t){return i===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&i>=0&&i<25}function j1e(i,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const q1e={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};U8._date.override({_id:"date-fns",formats:function(){return q1e},parse:function(i,e){if(i===null||typeof i>"u")return null;const t=typeof i;return t==="number"||i instanceof Date?i=Ii(i):t==="string"&&(typeof e=="string"?i=S1e(i,e,new Date,this.options):i=A1e(i,this.options)),EI(i)?i.getTime():null},format:function(i,e){return Tfe(i,e,this.options)},add:function(i,e,t){switch(t){case"millisecond":return Im(i,e);case"second":return ope(i,e);case"minute":return spe(i,e);case"hour":return epe(i,e);case"day":return TI(i,e);case"week":return lpe(i,e);case"month":return zb(i,e);case"quarter":return ape(i,e);case"year":return cpe(i,e);default:return i}},diff:function(i,e,t){switch(t){case"millisecond":return s_(i,e);case"second":return vpe(i,e);case"minute":return gpe(i,e);case"hour":return mpe(i,e);case"day":return CI(i,e);case"week":return xpe(i,e);case"month":return PI(i,e);case"quarter":return ype(i,e);case"year":return bpe(i,e);default:return 0}},startOf:function(i,e,t){switch(e){case"second":return C1e(i);case"minute":return wpe(i);case"hour":return E1e(i);case"day":return Ix(i);case"week":return pC(i);case"isoWeek":return pC(i,{weekStartsOn:+t});case"month":return Spe(i);case"quarter":return Mpe(i);case"year":return Epe(i);default:return i}},endOf:function(i,e){switch(e){case"second":return Dpe(i);case"minute":return Ipe(i);case"hour":return Cpe(i);case"day":return AI(i);case"week":return Ape(i);case"month":return II(i);case"quarter":return Ppe(i);case"year":return Tpe(i);default:return i}}});document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",i=>{const e=i.target.closest(".modal-open-button");if(e){i.preventDefault();const t=e.dataset.modalId,a=document.querySelector(`dialog.modal#${t}`);a&&(document.querySelectorAll("dialog.modal[open]").forEach(c=>c.close()),a.showModal())}}),document.addEventListener("click",i=>{const e=i.target.closest(".modal-close-button");if(e){i.preventDefault();const t=e.closest("dialog.modal");t&&t.close()}}),document.addEventListener("click",i=>{const e=i.target.closest("dialog.modal");if(e){const t=e.querySelector(".modal-box");t&&!t.contains(i.target)&&e.close()}})});document.addEventListener("turbo:frame-load",function(i){i.target.id==="modal_routes"&&GI()});document.addEventListener("DOMContentLoaded",function(){GI()});function GI(){const i=document.querySelector(".stops-container"),e=document.querySelector("[data-add-stop]"),t=4;if(!i||!e)return;e.addEventListener("click",a),i.addEventListener("click",c);function a(){const s=i.querySelectorAll(".stop-field").length;if(s>=t){e.classList.add("hidden");return}const L=i.querySelector(".stop-field");if(!L)return;const R=L.cloneNode(!0);R.querySelectorAll("input, select").forEach(q=>{const Z=q.getAttribute("name"),ee=q.getAttribute("id");Z!=null&&Z.includes("[stop_order]")||(q.value=""),Z&&(q.name=Z.replace(/\[\d+\]/,`[${s}]`)),ee&&(q.id=ee.replace(/_\d+_/,`_${s}_`))});const V=p();R.classList.add("relative"),R.appendChild(V),i.appendChild(R),y()}function c(s){const L=s.target.closest("[data-remove-stop]");if(!L)return;const R=L.closest(".stop-field");!R||i.querySelectorAll(".stop-field").length<=1||(R.remove(),y())}function p(){const s=document.createElement("button");return s.type="button",s.setAttribute("data-remove-stop",""),s.className="btn btn-ghost btn-circle btn-sm absolute right-2 top-2",s.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>`,s}function y(){const s=i.querySelectorAll(".stop-field").length;e.classList.toggle("hidden",s>=t)}y()}const jn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Gn=globalThis,yu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,su="9.1.0";function a_(){return o_(Gn),Gn}function o_(i){const e=i.__SENTRY__=i.__SENTRY__||{};return e.version=e.version||su,e[su]=e[su]||{}}function l_(i,e,t=Gn){const a=t.__SENTRY__=t.__SENTRY__||{},c=a[su]=a[su]||{};return c[i]||(c[i]=e())}const $1e="Sentry Logger ",Lx=["debug","info","warn","error","log","assert","trace"],F2={};function Pp(i){if(!("console"in Gn))return i();const e=Gn.console,t={},a=Object.keys(F2);a.forEach(c=>{const p=F2[c];t[c]=e[c],e[c]=p});try{return i()}finally{a.forEach(c=>{e[c]=t[c]})}}function G1e(){let i=!1;const e={enable:()=>{i=!0},disable:()=>{i=!1},isEnabled:()=>i};return yu?Lx.forEach(t=>{e[t]=(...a)=>{i&&Pp(()=>{Gn.console[t](`${$1e}[${t}]:`,...a)})}}):Lx.forEach(t=>{e[t]=()=>{}}),e}const Ui=l_("logger",G1e),WI=50,uu="?",bC=/\(error: (.*)\)/,wC=/captureMessage|captureException/;function ZI(...i){const e=i.sort((t,a)=>t[0]-a[0]).map(t=>t[1]);return(t,a=0,c=0)=>{const p=[],y=t.split(`
`);for(let s=a;s<y.length;s++){const L=y[s];if(L.length>1024)continue;const R=bC.test(L)?L.replace(bC,"$1"):L;if(!R.match(/\S*Error: /)){for(const V of e){const q=V(R);if(q){p.push(q);break}}if(p.length>=WI+c)break}}return Z1e(p.slice(c))}}function W1e(i){return Array.isArray(i)?ZI(...i):i}function Z1e(i){if(!i.length)return[];const e=Array.from(i);return/sentryWrapped/.test(Wg(e).function||"")&&e.pop(),e.reverse(),wC.test(Wg(e).function||"")&&(e.pop(),wC.test(Wg(e).function||"")&&e.pop()),e.slice(0,WI).map(t=>({...t,filename:t.filename||Wg(e).filename,function:t.function||uu}))}function Wg(i){return i[i.length-1]||{}}const Gv="<anonymous>";function qc(i){try{return!i||typeof i!="function"?Gv:i.name||Gv}catch{return Gv}}function MC(i){const e=i.exception;if(e){const t=[];try{return e.values.forEach(a=>{a.stacktrace.frames&&t.push(...a.stacktrace.frames)}),t}catch{return}}}const m2={},SC={};function vu(i,e){m2[i]=m2[i]||[],m2[i].push(e)}function xu(i,e){if(!SC[i]){SC[i]=!0;try{e()}catch(t){yu&&Ui.error(`Error while instrumenting ${i}`,t)}}}function po(i,e){const t=i&&m2[i];if(t)for(const a of t)try{a(e)}catch(c){yu&&Ui.error(`Error while triggering instrumentation handler.
Type: ${i}
Name: ${qc(a)}
Error:`,c)}}let Wv=null;function Y1e(i){const e="error";vu(e,i),xu(e,X1e)}function X1e(){Wv=Gn.onerror,Gn.onerror=function(i,e,t,a,c){return po("error",{column:a,error:c,line:t,msg:i,url:e}),Wv?Wv.apply(this,arguments):!1},Gn.onerror.__SENTRY_INSTRUMENTED__=!0}let Zv=null;function K1e(i){const e="unhandledrejection";vu(e,i),xu(e,J1e)}function J1e(){Zv=Gn.onunhandledrejection,Gn.onunhandledrejection=function(i){return po("unhandledrejection",i),Zv?Zv.apply(this,arguments):!0},Gn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const YI=Object.prototype.toString;function Vb(i){switch(YI.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return du(i,Error)}}function Dp(i,e){return YI.call(i)===`[object ${e}]`}function XI(i){return Dp(i,"ErrorEvent")}function TC(i){return Dp(i,"DOMError")}function Q1e(i){return Dp(i,"DOMException")}function Ll(i){return Dp(i,"String")}function Hb(i){return typeof i=="object"&&i!==null&&"__sentry_template_string__"in i&&"__sentry_template_values__"in i}function Ub(i){return i===null||Hb(i)||typeof i!="object"&&typeof i!="function"}function vp(i){return Dp(i,"Object")}function c_(i){return typeof Event<"u"&&du(i,Event)}function eme(i){return typeof Element<"u"&&du(i,Element)}function tme(i){return Dp(i,"RegExp")}function h_(i){return!!(i!=null&&i.then&&typeof i.then=="function")}function ime(i){return vp(i)&&"nativeEvent"in i&&"preventDefault"in i&&"stopPropagation"in i}function du(i,e){try{return i instanceof e}catch{return!1}}function KI(i){return!!(typeof i=="object"&&i!==null&&(i.__isVue||i._isVue))}const jb=Gn,nme=80;function JI(i,e={}){if(!i)return"<unknown>";try{let t=i;const a=5,c=[];let p=0,y=0;const s=" > ",L=s.length;let R;const V=Array.isArray(e)?e:e.keyAttrs,q=!Array.isArray(e)&&e.maxStringLength||nme;for(;t&&p++<a&&(R=rme(t,V),!(R==="html"||p>1&&y+c.length*L+R.length>=q));)c.push(R),y+=R.length,t=t.parentNode;return c.reverse().join(s)}catch{return"<unknown>"}}function rme(i,e){const t=i,a=[];if(!(t!=null&&t.tagName))return"";if(jb.HTMLElement&&t instanceof HTMLElement&&t.dataset){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}a.push(t.tagName.toLowerCase());const c=e!=null&&e.length?e.filter(y=>t.getAttribute(y)).map(y=>[y,t.getAttribute(y)]):null;if(c!=null&&c.length)c.forEach(y=>{a.push(`[${y[0]}="${y[1]}"]`)});else{t.id&&a.push(`#${t.id}`);const y=t.className;if(y&&Ll(y)){const s=y.split(/\s+/);for(const L of s)a.push(`.${L}`)}}const p=["aria-label","type","name","title","alt"];for(const y of p){const s=t.getAttribute(y);s&&a.push(`[${y}="${s}"]`)}return a.join("")}function qb(){try{return jb.document.location.href}catch{return""}}function sme(i){if(!jb.HTMLElement)return null;let e=i;const t=5;for(let a=0;a<t;a++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function op(i,e=0){return typeof i!="string"||e===0||i.length<=e?i:`${i.slice(0,e)}...`}function EC(i,e){if(!Array.isArray(i))return"";const t=[];for(let a=0;a<i.length;a++){const c=i[a];try{KI(c)?t.push("[VueViewModel]"):t.push(String(c))}catch{t.push("[value cannot be serialized]")}}return t.join(e)}function ame(i,e,t=!1){return Ll(i)?tme(e)?e.test(i):Ll(e)?t?i===e:i.includes(e):!1:!1}function u_(i,e=[],t=!1){return e.some(a=>ame(i,a,t))}function ya(i,e,t){if(!(e in i))return;const a=i[e],c=t(a);typeof c=="function"&&QI(c,a);try{i[e]=c}catch{yu&&Ui.log(`Failed to replace method "${e}" in object`,i)}}function pu(i,e,t){try{Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0})}catch{yu&&Ui.log(`Failed to add non-enumerable property "${e}" to object`,i)}}function QI(i,e){try{const t=e.prototype||{};i.prototype=e.prototype=t,pu(i,"__sentry_original__",e)}catch{}}function $b(i){return i.__sentry_original__}function e7(i){if(Vb(i))return{message:i.message,name:i.name,stack:i.stack,...AC(i)};if(c_(i)){const e={type:i.type,target:CC(i.target),currentTarget:CC(i.currentTarget),...AC(i)};return typeof CustomEvent<"u"&&du(i,CustomEvent)&&(e.detail=i.detail),e}else return i}function CC(i){try{return eme(i)?JI(i):Object.prototype.toString.call(i)}catch{return"<unknown>"}}function AC(i){if(typeof i=="object"&&i!==null){const e={};for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e}else return{}}function ome(i,e=40){const t=Object.keys(e7(i));t.sort();const a=t[0];if(!a)return"[object has no keys]";if(a.length>=e)return op(a,e);for(let c=t.length;c>0;c--){const p=t.slice(0,c).join(", ");if(!(p.length>e))return c===t.length?p:op(p,e)}return""}function va(i){return kx(i,new Map)}function kx(i,e){if(lme(i)){const t=e.get(i);if(t!==void 0)return t;const a={};e.set(i,a);for(const c of Object.getOwnPropertyNames(i))typeof i[c]<"u"&&(a[c]=kx(i[c],e));return a}if(Array.isArray(i)){const t=e.get(i);if(t!==void 0)return t;const a=[];return e.set(i,a),i.forEach(c=>{a.push(kx(c,e))}),a}return i}function lme(i){if(!vp(i))return!1;try{const e=Object.getPrototypeOf(i).constructor.name;return!e||e==="Object"}catch{return!0}}const t7=1e3;function Dm(){return Date.now()/t7}function cme(){const{performance:i}=Gn;if(!(i!=null&&i.now))return Dm;const e=Date.now()-i.now(),t=i.timeOrigin==null?e:i.timeOrigin;return()=>(t+i.now())/t7}const kl=cme();function La(){const i=Gn,e=i.crypto||i.msCrypto;let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const a=new Uint8Array(1);return e.getRandomValues(a),a[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,a=>(a^(t()&15)>>a/4).toString(16))}function i7(i){var e,t;return(t=(e=i.exception)==null?void 0:e.values)==null?void 0:t[0]}function Ic(i){const{message:e,event_id:t}=i;if(e)return e;const a=i7(i);return a?a.type&&a.value?`${a.type}: ${a.value}`:a.type||a.value||t||"<unknown>":t||"<unknown>"}function Ox(i,e,t){const a=i.exception=i.exception||{},c=a.values=a.values||[],p=c[0]=c[0]||{};p.value||(p.value=e||""),p.type||(p.type="Error")}function xp(i,e){const t=i7(i);if(!t)return;const a={type:"generic",handled:!0},c=t.mechanism;if(t.mechanism={...a,...c,...e},e&&"data"in e){const p={...c==null?void 0:c.data,...e.data};t.mechanism.data=p}}function IC(i){if(hme(i))return!0;try{pu(i,"__sentry_captured__",!0)}catch{}return!1}function hme(i){try{return i.__sentry_captured__}catch{}}var Ml;(function(i){i[i.PENDING=0]="PENDING";const t=1;i[i.RESOLVED=t]="RESOLVED";const a=2;i[i.REJECTED=a]="REJECTED"})(Ml||(Ml={}));function fu(i){return new $c(e=>{e(i)})}function B2(i){return new $c((e,t)=>{t(i)})}class $c{constructor(e){this._state=Ml.PENDING,this._handlers=[],this._runExecutor(e)}then(e,t){return new $c((a,c)=>{this._handlers.push([!1,p=>{if(!e)a(p);else try{a(e(p))}catch(y){c(y)}},p=>{if(!t)c(p);else try{a(t(p))}catch(y){c(y)}}]),this._executeHandlers()})}catch(e){return this.then(t=>t,e)}finally(e){return new $c((t,a)=>{let c,p;return this.then(y=>{p=!1,c=y,e&&e()},y=>{p=!0,c=y,e&&e()}).then(()=>{if(p){a(c);return}t(c)})})}_executeHandlers(){if(this._state===Ml.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(t=>{t[0]||(this._state===Ml.RESOLVED&&t[1](this._value),this._state===Ml.REJECTED&&t[2](this._value),t[0]=!0)})}_runExecutor(e){const t=(p,y)=>{if(this._state===Ml.PENDING){if(h_(y)){y.then(a,c);return}this._state=p,this._value=y,this._executeHandlers()}},a=p=>{t(Ml.RESOLVED,p)},c=p=>{t(Ml.REJECTED,p)};try{e(a,c)}catch(p){c(p)}}}function ume(i){const e=kl(),t={sid:La(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>pme(t)};return bp(t,i),t}function bp(i,e={}){if(e.user&&(!i.ipAddress&&e.user.ip_address&&(i.ipAddress=e.user.ip_address),!i.did&&!e.did&&(i.did=e.user.id||e.user.email||e.user.username)),i.timestamp=e.timestamp||kl(),e.abnormal_mechanism&&(i.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(i.ignoreDuration=e.ignoreDuration),e.sid&&(i.sid=e.sid.length===32?e.sid:La()),e.init!==void 0&&(i.init=e.init),!i.did&&e.did&&(i.did=`${e.did}`),typeof e.started=="number"&&(i.started=e.started),i.ignoreDuration)i.duration=void 0;else if(typeof e.duration=="number")i.duration=e.duration;else{const t=i.timestamp-i.started;i.duration=t>=0?t:0}e.release&&(i.release=e.release),e.environment&&(i.environment=e.environment),!i.ipAddress&&e.ipAddress&&(i.ipAddress=e.ipAddress),!i.userAgent&&e.userAgent&&(i.userAgent=e.userAgent),typeof e.errors=="number"&&(i.errors=e.errors),e.status&&(i.status=e.status)}function dme(i,e){let t={};i.status==="ok"&&(t={status:"exited"}),bp(i,t)}function pme(i){return va({sid:`${i.sid}`,init:i.init,started:new Date(i.started*1e3).toISOString(),timestamp:new Date(i.timestamp*1e3).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,abnormal_mechanism:i.abnormal_mechanism,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})}function PC(){return La()}function n7(){return La().substring(16)}function Lm(i,e,t=2){if(!e||typeof e!="object"||t<=0)return e;if(i&&Object.keys(e).length===0)return i;const a={...i};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=Lm(a[c],e[c],t-1));return a}const Rx="_sentrySpan";function DC(i,e){e?pu(i,Rx,e):delete i[Rx]}function LC(i){return i[Rx]}const fme=100;class Fl{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:PC(),sampleRand:Math.random()}}clone(){const e=new Fl;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,DC(e,LC(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&bp(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return t===null?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t=typeof e=="function"?e(this):e,a=t instanceof Fl?t.getScopeData():vp(t)?e:void 0,{tags:c,extra:p,user:y,contexts:s,level:L,fingerprint:R=[],propagationContext:V}=a||{};return this._tags={...this._tags,...c},this._extra={...this._extra,...p},this._contexts={...this._contexts,...s},y&&Object.keys(y).length&&(this._user=y),L&&(this._level=L),R.length&&(this._fingerprint=R),V&&(this._propagationContext=V),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,DC(this,void 0),this._attachments=[],this.setPropagationContext({traceId:PC(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){var p;const a=typeof t=="number"?t:fme;if(a<=0)return this;const c={timestamp:Dm(),...e};return this._breadcrumbs.push(c),this._breadcrumbs.length>a&&(this._breadcrumbs=this._breadcrumbs.slice(-a),(p=this._client)==null||p.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:LC(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Lm(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const a=(t==null?void 0:t.event_id)||La();if(!this._client)return Ui.warn("No client configured on scope - will not capture exception!"),a;const c=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:c,...t,event_id:a},this),a}captureMessage(e,t,a){const c=(a==null?void 0:a.event_id)||La();if(!this._client)return Ui.warn("No client configured on scope - will not capture message!"),c;const p=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:p,...a,event_id:c},this),c}captureEvent(e,t){const a=(t==null?void 0:t.event_id)||La();return this._client?(this._client.captureEvent(e,{...t,event_id:a},this),a):(Ui.warn("No client configured on scope - will not capture event!"),a)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function mme(){return l_("defaultCurrentScope",()=>new Fl)}function gme(){return l_("defaultIsolationScope",()=>new Fl)}class _me{constructor(e,t){let a;e?a=e:a=new Fl;let c;t?c=t:c=new Fl,this._stack=[{scope:a}],this._isolationScope=c}withScope(e){const t=this._pushScope();let a;try{a=e(t)}catch(c){throw this._popScope(),c}return h_(a)?a.then(c=>(this._popScope(),c),c=>{throw this._popScope(),c}):(this._popScope(),a)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function wp(){const i=a_(),e=o_(i);return e.stack=e.stack||new _me(mme(),gme())}function yme(i){return wp().withScope(i)}function vme(i,e){const t=wp();return t.withScope(()=>(t.getStackTop().scope=i,e(i)))}function kC(i){return wp().withScope(()=>i(wp().getIsolationScope()))}function xme(){return{withIsolationScope:kC,withScope:yme,withSetScope:vme,withSetIsolationScope:(i,e)=>kC(e),getCurrentScope:()=>wp().getScope(),getIsolationScope:()=>wp().getIsolationScope()}}function Gb(i){const e=o_(i);return e.acs?e.acs:xme()}function Xc(){const i=a_();return Gb(i).getCurrentScope()}function km(){const i=a_();return Gb(i).getIsolationScope()}function bme(){return l_("globalScope",()=>new Fl)}function wme(...i){const e=a_(),t=Gb(e);if(i.length===2){const[a,c]=i;return a?t.withSetScope(a,c):t.withScope(c)}return t.withScope(i[0])}function As(){return Xc().getClient()}function Mme(i){const e=i.getPropagationContext(),{traceId:t,parentSpanId:a,propagationSpanId:c}=e;return va({trace_id:t,span_id:c||n7(),parent_span_id:a})}const Sme="sentry.source",Tme="sentry.sample_rate",Eme="sentry.op",Cme="sentry.origin",r7="sentry.profile_id",s7="sentry.exclusive_time",Ame=0,Ime=1,Pme="_sentryScope",Dme="_sentryIsolationScope";function a7(i){return{scope:i[Pme],isolationScope:i[Dme]}}function Lme(i){if(typeof i=="boolean")return Number(i);const e=typeof i=="string"?parseFloat(i):i;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const kme="sentry-",Ome=/^sentry-/;function Rme(i){const e=zme(i);if(!e)return;const t=Object.entries(e).reduce((a,[c,p])=>{if(c.match(Ome)){const y=c.slice(kme.length);a[y]=p}return a},{});if(Object.keys(t).length>0)return t}function zme(i){if(!(!i||!Ll(i)&&!Array.isArray(i)))return Array.isArray(i)?i.reduce((e,t)=>{const a=OC(t);return Object.entries(a).forEach(([c,p])=>{e[c]=p}),e},{}):OC(i)}function OC(i){return i.split(",").map(e=>e.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((e,[t,a])=>(t&&a&&(e[t]=a),e),{})}const Fme=1;let RC=!1;function Bme(i){const{spanId:e,traceId:t,isRemote:a}=i.spanContext(),c=a?e:Wb(i).parent_span_id,p=a7(i).scope,y=a?(p==null?void 0:p.getPropagationContext().propagationSpanId)||n7():e;return va({parent_span_id:c,span_id:y,trace_id:t})}function zC(i){return typeof i=="number"?FC(i):Array.isArray(i)?i[0]+i[1]/1e9:i instanceof Date?FC(i.getTime()):kl()}function FC(i){return i>9999999999?i/1e3:i}function Wb(i){if(Vme(i))return i.getSpanJSON();const{spanId:e,traceId:t}=i.spanContext();if(Nme(i)){const{attributes:a,startTime:c,name:p,endTime:y,parentSpanId:s,status:L}=i;return va({span_id:e,trace_id:t,data:a,description:p,parent_span_id:s,start_timestamp:zC(c),timestamp:zC(y)||void 0,status:Ume(L),op:a[Eme],origin:a[Cme]})}return{span_id:e,trace_id:t,start_timestamp:0,data:{}}}function Nme(i){const e=i;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function Vme(i){return typeof i.getSpanJSON=="function"}function Hme(i){const{traceFlags:e}=i.spanContext();return e===Fme}function Ume(i){if(!(!i||i.code===Ame))return i.code===Ime?"ok":i.message||"unknown_error"}const jme="_sentryRootSpan";function o7(i){return i[jme]||i}function BC(){RC||(Pp(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),RC=!0)}function qme(i){var t;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=i||((t=As())==null?void 0:t.getOptions());return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}const Zb="production",$me="_frozenDsc";function l7(i,e){const t=e.getOptions(),{publicKey:a}=e.getDsn()||{},c=va({environment:t.environment||Zb,release:t.release,public_key:a,trace_id:i});return e.emit("createDsc",c),c}function Gme(i,e){const t=e.getPropagationContext();return t.dsc||l7(t.traceId,i)}function Wme(i){var se;const e=As();if(!e)return{};const t=o7(i),a=Wb(t),c=a.data,p=t.spanContext().traceState,y=(p==null?void 0:p.get("sentry.sample_rate"))??c[Tme];function s(he){return(typeof y=="number"||typeof y=="string")&&(he.sample_rate=`${y}`),he}const L=t[$me];if(L)return s(L);const R=p==null?void 0:p.get("sentry.dsc"),V=R&&Rme(R);if(V)return s(V);const q=l7(i.spanContext().traceId,e),Z=c[Sme],ee=a.description;return Z!=="url"&&ee&&(q.transaction=ee),qme()&&(q.sampled=String(Hme(t)),q.sample_rand=(p==null?void 0:p.get("sentry.sample_rand"))??((se=a7(t).scope)==null?void 0:se.getPropagationContext().sampleRand.toString())),s(q),e.emit("createDsc",q,t),q}const Zme=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Yme(i){return i==="http"||i==="https"}function Yb(i,e=!1){const{host:t,path:a,pass:c,port:p,projectId:y,protocol:s,publicKey:L}=i;return`${s}://${L}${e&&c?`:${c}`:""}@${t}${p?`:${p}`:""}/${a&&`${a}/`}${y}`}function Xme(i){const e=Zme.exec(i);if(!e){Pp(()=>{console.error(`Invalid Sentry Dsn: ${i}`)});return}const[t,a,c="",p="",y="",s=""]=e.slice(1);let L="",R=s;const V=R.split("/");if(V.length>1&&(L=V.slice(0,-1).join("/"),R=V.pop()),R){const q=R.match(/^\d+/);q&&(R=q[0])}return c7({host:p,pass:c,path:L,projectId:R,port:y,protocol:t,publicKey:a})}function c7(i){return{protocol:i.protocol,publicKey:i.publicKey||"",pass:i.pass||"",host:i.host,port:i.port||"",path:i.path||"",projectId:i.projectId}}function Kme(i){if(!yu)return!0;const{port:e,projectId:t,protocol:a}=i;return["protocol","publicKey","host","projectId"].find(y=>i[y]?!1:(Ui.error(`Invalid Sentry Dsn: ${y} missing`),!0))?!1:t.match(/^\d+$/)?Yme(a)?e&&isNaN(parseInt(e,10))?(Ui.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Ui.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),!1):(Ui.error(`Invalid Sentry Dsn: Invalid projectId ${t}`),!1)}function Jme(i){const e=typeof i=="string"?Xme(i):c7(i);if(!(!e||!Kme(e)))return e}function Sl(i,e=100,t=1/0){try{return zx("",i,e,t)}catch(a){return{ERROR:`**non-serializable** (${a})`}}}function h7(i,e=3,t=100*1024){const a=Sl(i,e);return i0e(a)>t?h7(i,e-1,t):a}function zx(i,e,t=1/0,a=1/0,c=n0e()){const[p,y]=c;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const s=Qme(i,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;const L=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:t;if(L===0)return s.replace("object ","");if(p(e))return"[Circular ~]";const R=e;if(R&&typeof R.toJSON=="function")try{const ee=R.toJSON();return zx("",ee,L-1,a,c)}catch{}const V=Array.isArray(e)?[]:{};let q=0;const Z=e7(e);for(const ee in Z){if(!Object.prototype.hasOwnProperty.call(Z,ee))continue;if(q>=a){V[ee]="[MaxProperties ~]";break}const se=Z[ee];V[ee]=zx(ee,se,L-1,a,c),q++}return y(e),V}function Qme(i,e){try{if(i==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(i==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(KI(e))return"[VueViewModel]";if(ime(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${qc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const t=e0e(e);return/^HTML(\w*)Element$/.test(t)?`[HTMLElement: ${t}]`:`[object ${t}]`}catch(t){return`**non-serializable** (${t})`}}function e0e(i){const e=Object.getPrototypeOf(i);return e?e.constructor.name:"null prototype"}function t0e(i){return~-encodeURI(i).split(/%..|./).length}function i0e(i){return t0e(JSON.stringify(i))}function n0e(){const i=new WeakSet;function e(a){return i.has(a)?!0:(i.add(a),!1)}function t(a){i.delete(a)}return[e,t]}function d_(i,e=[]){return[i,e]}function r0e(i,e){const[t,a]=i;return[t,[...a,e]]}function NC(i,e){const t=i[1];for(const a of t){const c=a[0].type;if(e(a,c))return!0}return!1}function Fx(i){const e=o_(Gn);return e.encodePolyfill?e.encodePolyfill(i):new TextEncoder().encode(i)}function s0e(i){const[e,t]=i;let a=JSON.stringify(e);function c(p){typeof a=="string"?a=typeof p=="string"?a+p:[Fx(a),p]:a.push(typeof p=="string"?Fx(p):p)}for(const p of t){const[y,s]=p;if(c(`
${JSON.stringify(y)}
`),typeof s=="string"||s instanceof Uint8Array)c(s);else{let L;try{L=JSON.stringify(s)}catch{L=JSON.stringify(Sl(s))}c(L)}}return typeof a=="string"?a:a0e(a)}function a0e(i){const e=i.reduce((c,p)=>c+p.length,0),t=new Uint8Array(e);let a=0;for(const c of i)t.set(c,a),a+=c.length;return t}function o0e(i){const e=typeof i.data=="string"?Fx(i.data):i.data;return[va({type:"attachment",length:e.length,filename:i.filename,content_type:i.contentType,attachment_type:i.attachmentType}),e]}const l0e={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security"};function VC(i){return l0e[i]}function u7(i){if(!(i!=null&&i.sdk))return;const{name:e,version:t}=i.sdk;return{name:e,version:t}}function c0e(i,e,t,a){var p;const c=(p=i.sdkProcessingMetadata)==null?void 0:p.dynamicSamplingContext;return{event_id:i.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!t&&a&&{dsn:Yb(a)},...c&&{trace:va({...c})}}}function h0e(i,e){return e&&(i.sdk=i.sdk||{},i.sdk.name=i.sdk.name||e.name,i.sdk.version=i.sdk.version||e.version,i.sdk.integrations=[...i.sdk.integrations||[],...e.integrations||[]],i.sdk.packages=[...i.sdk.packages||[],...e.packages||[]]),i}function u0e(i,e,t,a){const c=u7(t),p={sent_at:new Date().toISOString(),...c&&{sdk:c},...!!a&&e&&{dsn:Yb(e)}},y="aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i.toJSON()];return d_(p,[y])}function d0e(i,e,t,a){const c=u7(t),p=i.type&&i.type!=="replay_event"?i.type:"event";h0e(i,t==null?void 0:t.sdk);const y=c0e(i,c,a,e);return delete i.sdkProcessingMetadata,d_(y,[[{type:p},i]])}function Bx(i,e,t,a=0){return new $c((c,p)=>{const y=i[a];if(e===null||typeof y!="function")c(e);else{const s=y({...e},t);jn&&y.id&&s===null&&Ui.log(`Event processor "${y.id}" dropped event`),h_(s)?s.then(L=>Bx(i,L,t,a+1).then(c)).then(null,p):Bx(i,s,t,a+1).then(c).then(null,p)}})}let Zg,HC,Yg;function p0e(i){const e=Gn._sentryDebugIds;if(!e)return{};const t=Object.keys(e);return Yg&&t.length===HC||(HC=t.length,Yg=t.reduce((a,c)=>{Zg||(Zg={});const p=Zg[c];if(p)a[p[0]]=p[1];else{const y=i(c);for(let s=y.length-1;s>=0;s--){const L=y[s],R=L==null?void 0:L.filename,V=e[c];if(R&&V){a[R]=V,Zg[c]=[R,V];break}}}return a},{})),Yg}function f0e(i,e){const{fingerprint:t,span:a,breadcrumbs:c,sdkProcessingMetadata:p}=e;m0e(i,e),a&&y0e(i,a),v0e(i,t),g0e(i,c),_0e(i,p)}function UC(i,e){const{extra:t,tags:a,user:c,contexts:p,level:y,sdkProcessingMetadata:s,breadcrumbs:L,fingerprint:R,eventProcessors:V,attachments:q,propagationContext:Z,transactionName:ee,span:se}=e;Xg(i,"extra",t),Xg(i,"tags",a),Xg(i,"user",c),Xg(i,"contexts",p),i.sdkProcessingMetadata=Lm(i.sdkProcessingMetadata,s,2),y&&(i.level=y),ee&&(i.transactionName=ee),se&&(i.span=se),L.length&&(i.breadcrumbs=[...i.breadcrumbs,...L]),R.length&&(i.fingerprint=[...i.fingerprint,...R]),V.length&&(i.eventProcessors=[...i.eventProcessors,...V]),q.length&&(i.attachments=[...i.attachments,...q]),i.propagationContext={...i.propagationContext,...Z}}function Xg(i,e,t){i[e]=Lm(i[e],t,1)}function m0e(i,e){const{extra:t,tags:a,user:c,contexts:p,level:y,transactionName:s}=e,L=va(t);Object.keys(L).length&&(i.extra={...L,...i.extra});const R=va(a);Object.keys(R).length&&(i.tags={...R,...i.tags});const V=va(c);Object.keys(V).length&&(i.user={...V,...i.user});const q=va(p);Object.keys(q).length&&(i.contexts={...q,...i.contexts}),y&&(i.level=y),s&&i.type!=="transaction"&&(i.transaction=s)}function g0e(i,e){const t=[...i.breadcrumbs||[],...e];i.breadcrumbs=t.length?t:void 0}function _0e(i,e){i.sdkProcessingMetadata={...i.sdkProcessingMetadata,...e}}function y0e(i,e){i.contexts={trace:Bme(e),...i.contexts},i.sdkProcessingMetadata={dynamicSamplingContext:Wme(e),...i.sdkProcessingMetadata};const t=o7(e),a=Wb(t).description;a&&!i.transaction&&i.type==="transaction"&&(i.transaction=a)}function v0e(i,e){i.fingerprint=i.fingerprint?Array.isArray(i.fingerprint)?i.fingerprint:[i.fingerprint]:[],e&&(i.fingerprint=i.fingerprint.concat(e)),i.fingerprint.length||delete i.fingerprint}function x0e(i,e,t,a,c,p){const{normalizeDepth:y=3,normalizeMaxBreadth:s=1e3}=i,L={...e,event_id:e.event_id||t.event_id||La(),timestamp:e.timestamp||Dm()},R=t.integrations||i.integrations.map(we=>we.name);b0e(L,i),S0e(L,R),c&&c.emit("applyFrameMetadata",e),e.type===void 0&&w0e(L,i.stackParser);const V=E0e(a,t.captureContext);t.mechanism&&xp(L,t.mechanism);const q=c?c.getEventProcessors():[],Z=bme().getScopeData();if(p){const we=p.getScopeData();UC(Z,we)}if(V){const we=V.getScopeData();UC(Z,we)}const ee=[...t.attachments||[],...Z.attachments];ee.length&&(t.attachments=ee),f0e(L,Z);const se=[...q,...Z.eventProcessors];return Bx(se,L,t).then(we=>(we&&M0e(we),typeof y=="number"&&y>0?T0e(we,y,s):we))}function b0e(i,e){var L,R;const{environment:t,release:a,dist:c,maxValueLength:p=250}=e;i.environment=i.environment||t||Zb,!i.release&&a&&(i.release=a),!i.dist&&c&&(i.dist=c),i.message&&(i.message=op(i.message,p));const y=(R=(L=i.exception)==null?void 0:L.values)==null?void 0:R[0];y!=null&&y.value&&(y.value=op(y.value,p));const s=i.request;s!=null&&s.url&&(s.url=op(s.url,p))}function w0e(i,e){var a,c;const t=p0e(e);(c=(a=i.exception)==null?void 0:a.values)==null||c.forEach(p=>{var y,s;(s=(y=p.stacktrace)==null?void 0:y.frames)==null||s.forEach(L=>{L.filename&&(L.debug_id=t[L.filename])})})}function M0e(i){var a,c;const e={};if((c=(a=i.exception)==null?void 0:a.values)==null||c.forEach(p=>{var y,s;(s=(y=p.stacktrace)==null?void 0:y.frames)==null||s.forEach(L=>{L.debug_id&&(L.abs_path?e[L.abs_path]=L.debug_id:L.filename&&(e[L.filename]=L.debug_id),delete L.debug_id)})}),Object.keys(e).length===0)return;i.debug_meta=i.debug_meta||{},i.debug_meta.images=i.debug_meta.images||[];const t=i.debug_meta.images;Object.entries(e).forEach(([p,y])=>{t.push({type:"sourcemap",code_file:p,debug_id:y})})}function S0e(i,e){e.length>0&&(i.sdk=i.sdk||{},i.sdk.integrations=[...i.sdk.integrations||[],...e])}function T0e(i,e,t){var c,p;if(!i)return null;const a={...i,...i.breadcrumbs&&{breadcrumbs:i.breadcrumbs.map(y=>({...y,...y.data&&{data:Sl(y.data,e,t)}}))},...i.user&&{user:Sl(i.user,e,t)},...i.contexts&&{contexts:Sl(i.contexts,e,t)},...i.extra&&{extra:Sl(i.extra,e,t)}};return(c=i.contexts)!=null&&c.trace&&a.contexts&&(a.contexts.trace=i.contexts.trace,i.contexts.trace.data&&(a.contexts.trace.data=Sl(i.contexts.trace.data,e,t))),i.spans&&(a.spans=i.spans.map(y=>({...y,...y.data&&{data:Sl(y.data,e,t)}}))),(p=i.contexts)!=null&&p.flags&&a.contexts&&(a.contexts.flags=Sl(i.contexts.flags,3,t)),a}function E0e(i,e){if(!e)return i;const t=i?i.clone():new Fl;return t.update(e),t}function z1(i,e){return Xc().captureException(i,void 0)}function d7(i,e){return Xc().captureEvent(i,e)}function jC(i){const e=km(),t=Xc(),{userAgent:a}=Gn.navigator||{},c=ume({user:t.getUser()||e.getUser(),...a&&{userAgent:a},...i}),p=e.getSession();return(p==null?void 0:p.status)==="ok"&&bp(p,{status:"exited"}),p7(),e.setSession(c),c}function p7(){const i=km(),t=Xc().getSession()||i.getSession();t&&dme(t),f7(),i.setSession()}function f7(){const i=km(),e=As(),t=i.getSession();t&&e&&e.captureSession(t)}function qC(i=!1){if(i){p7();return}f7()}const C0e="7";function A0e(i){const e=i.protocol?`${i.protocol}:`:"",t=i.port?`:${i.port}`:"";return`${e}//${i.host}${t}${i.path?`/${i.path}`:""}/api/`}function I0e(i){return`${A0e(i)}${i.projectId}/envelope/`}function P0e(i,e){const t={sentry_version:C0e};return i.publicKey&&(t.sentry_key=i.publicKey),e&&(t.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(t).toString()}function D0e(i,e,t){return e||`${I0e(i)}?${P0e(i,t)}`}const $C=[];function L0e(i){const e={};return i.forEach(t=>{const{name:a}=t,c=e[a];c&&!c.isDefaultInstance&&t.isDefaultInstance||(e[a]=t)}),Object.values(e)}function k0e(i){const e=i.defaultIntegrations||[],t=i.integrations;e.forEach(c=>{c.isDefaultInstance=!0});let a;if(Array.isArray(t))a=[...e,...t];else if(typeof t=="function"){const c=t(e);a=Array.isArray(c)?c:[c]}else a=e;return L0e(a)}function O0e(i,e){const t={};return e.forEach(a=>{a&&m7(i,a,t)}),t}function GC(i,e){for(const t of e)t!=null&&t.afterAllSetup&&t.afterAllSetup(i)}function m7(i,e,t){if(t[e.name]){jn&&Ui.log(`Integration skipped because it was already installed: ${e.name}`);return}if(t[e.name]=e,$C.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),$C.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(i),typeof e.preprocessEvent=="function"){const a=e.preprocessEvent.bind(e);i.on("preprocessEvent",(c,p)=>a(c,p,i))}if(typeof e.processEvent=="function"){const a=e.processEvent.bind(e),c=Object.assign((p,y)=>a(p,y,i),{id:e.name});i.addEventProcessor(c)}jn&&Ui.log(`Integration installed: ${e.name}`)}function R0e(i,e,t){const a=[{type:"client_report"},{timestamp:Dm(),discarded_events:i}];return d_(e?{dsn:e}:{},[a])}class co extends Error{constructor(e,t="warn"){super(e),this.message=e,this.logLevel=t}}function g7(i){const e=[];i.message&&e.push(i.message);try{const t=i.exception.values[i.exception.values.length-1];t!=null&&t.value&&(e.push(t.value),t.type&&e.push(`${t.type}: ${t.value}`))}catch{}return e}function z0e(i){var L;const{trace_id:e,parent_span_id:t,span_id:a,status:c,origin:p,data:y,op:s}=((L=i.contexts)==null?void 0:L.trace)??{};return va({data:y??{},description:i.transaction,op:s,parent_span_id:t,span_id:a??"",start_timestamp:i.start_timestamp??0,status:c,timestamp:i.timestamp,trace_id:e??"",origin:p,profile_id:y==null?void 0:y[r7],exclusive_time:y==null?void 0:y[s7],measurements:i.measurements,is_segment:!0})}function F0e(i){const e={type:"transaction",timestamp:i.timestamp,start_timestamp:i.start_timestamp,transaction:i.description,contexts:{trace:{trace_id:i.trace_id,span_id:i.span_id,parent_span_id:i.parent_span_id,op:i.op,status:i.status,origin:i.origin,data:{...i.data,...i.profile_id&&{[r7]:i.profile_id},...i.exclusive_time&&{[s7]:i.exclusive_time}}}},measurements:i.measurements};return va(e)}const WC="Not capturing exception because it's already been captured.",ZC="Discarded session because of missing or non-string release";class B0e{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Jme(e.dsn):jn&&Ui.warn("No DSN provided, client will not send events."),this._dsn){const t=D0e(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,a){const c=La();if(IC(e))return jn&&Ui.log(WC),c;const p={event_id:c,...t};return this._process(this.eventFromException(e,p).then(y=>this._captureEvent(y,p,a))),p.event_id}captureMessage(e,t,a,c){const p={event_id:La(),...a},y=Hb(e)?e:String(e),s=Ub(e)?this.eventFromMessage(y,t,p):this.eventFromException(e,p);return this._process(s.then(L=>this._captureEvent(L,p,c))),p.event_id}captureEvent(e,t,a){const c=La();if(t!=null&&t.originalException&&IC(t.originalException))return jn&&Ui.log(WC),c;const p={event_id:c,...t},y=e.sdkProcessingMetadata||{},s=y.capturedSpanScope,L=y.capturedSpanIsolationScope;return this._process(this._captureEvent(e,p,s||a,L)),p.event_id}captureSession(e){this.sendSession(e),bp(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(a=>t.flush(e).then(c=>a&&c))):fu(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];m7(this,e,this._integrations),t||GC(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let a=d0e(e,this._dsn,this._options._metadata,this._options.tunnel);for(const p of t.attachments||[])a=r0e(a,o0e(p));const c=this.sendEnvelope(a);c&&c.then(p=>this.emit("afterSendEvent",e,p),null)}sendSession(e){const{release:t,environment:a=Zb}=this._options;if("aggregates"in e){const p=e.attrs||{};if(!p.release&&!t){jn&&Ui.warn(ZC);return}p.release=p.release||t,p.environment=p.environment||a,e.attrs=p}else{if(!e.release&&!t){jn&&Ui.warn(ZC);return}e.release=e.release||t,e.environment=e.environment||a}this.emit("beforeSendSession",e);const c=u0e(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(c)}recordDroppedEvent(e,t,a=1){if(this._options.sendClientReports){const c=`${e}:${t}`;jn&&Ui.log(`Recording outcome: "${c}"${a>1?` (${a} times)`:""}`),this._outcomes[c]=(this._outcomes[c]||0)+a}}on(e,t){const a=this._hooks[e]=this._hooks[e]||[];return a.push(t),()=>{const c=a.indexOf(t);c>-1&&a.splice(c,1)}}emit(e,...t){const a=this._hooks[e];a&&a.forEach(c=>c(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,t=>(jn&&Ui.error("Error while sending envelope:",t),t)):(jn&&Ui.error("Transport disabled"),fu({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=O0e(this,e),GC(this,e)}_updateSessionFromEvent(e,t){var L;let a=t.level==="fatal",c=!1;const p=(L=t.exception)==null?void 0:L.values;if(p){c=!0;for(const R of p){const V=R.mechanism;if((V==null?void 0:V.handled)===!1){a=!0;break}}}const y=e.status==="ok";(y&&e.errors===0||y&&a)&&(bp(e,{...a&&{status:"crashed"},errors:e.errors||Number(c||a)}),this.captureSession(e))}_isClientDoneProcessing(e){return new $c(t=>{let a=0;const c=1,p=setInterval(()=>{this._numProcessing==0?(clearInterval(p),t(!0)):(a+=c,e&&a>=e&&(clearInterval(p),t(!1)))},c)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,a,c){const p=this.getOptions(),y=Object.keys(this._integrations);return!t.integrations&&(y!=null&&y.length)&&(t.integrations=y),this.emit("preprocessEvent",e,t),e.type||c.setLastEventId(e.event_id||t.event_id),x0e(p,e,t,a,this,c).then(s=>{if(s===null)return s;this.emit("postprocessEvent",s,t),s.contexts={trace:Mme(a),...s.contexts};const L=Gme(this,a);return s.sdkProcessingMetadata={dynamicSamplingContext:L,...s.sdkProcessingMetadata},s})}_captureEvent(e,t={},a=Xc(),c=km()){return jn&&Nx(e)&&Ui.log(`Captured error event \`${g7(e)[0]||"<unknown>"}\``),this._processEvent(e,t,a,c).then(p=>p.event_id,p=>{jn&&(p instanceof co&&p.logLevel==="log"?Ui.log(p.message):Ui.warn(p))})}_processEvent(e,t,a,c){const p=this.getOptions(),{sampleRate:y}=p,s=_7(e),L=Nx(e),R=e.type||"error",V=`before send for type \`${R}\``,q=typeof y>"u"?void 0:Lme(y);if(L&&typeof q=="number"&&Math.random()>q)return this.recordDroppedEvent("sample_rate","error"),B2(new co(`Discarding event because it's not included in the random sample (sampling rate = ${y})`,"log"));const Z=R==="replay_event"?"replay":R;return this._prepareEvent(e,t,a,c).then(ee=>{if(ee===null)throw this.recordDroppedEvent("event_processor",Z),new co("An event processor returned `null`, will not send event.","log");if(t.data&&t.data.__sentry__===!0)return ee;const he=V0e(this,p,ee,t);return N0e(he,V)}).then(ee=>{var we;if(ee===null){if(this.recordDroppedEvent("before_send",Z),s){const Ze=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",Ze)}throw new co(`${V} returned \`null\`, will not send event.`,"log")}const se=a.getSession()||c.getSession();if(L&&se&&this._updateSessionFromEvent(se,ee),s){const De=((we=ee.sdkProcessingMetadata)==null?void 0:we.spanCountBeforeProcessing)||0,Ze=ee.spans?ee.spans.length:0,ct=De-Ze;ct>0&&this.recordDroppedEvent("before_send","span",ct)}const he=ee.transaction_info;if(s&&he&&ee.transaction!==e.transaction){const De="custom";ee.transaction_info={...he,source:De}}return this.sendEvent(ee,t),ee}).then(null,ee=>{throw ee instanceof co?ee:(this.captureException(ee,{data:{__sentry__:!0},originalException:ee}),new co(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${ee}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([t,a])=>{const[c,p]=t.split(":");return{reason:c,category:p,quantity:a}})}_flushOutcomes(){jn&&Ui.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){jn&&Ui.log("No outcomes to send");return}if(!this._dsn){jn&&Ui.log("No dsn provided, will not send outcomes");return}jn&&Ui.log("Sending outcomes:",e);const t=R0e(e,this._options.tunnel&&Yb(this._dsn));this.sendEnvelope(t)}}function N0e(i,e){const t=`${e} must return \`null\` or a valid event.`;if(h_(i))return i.then(a=>{if(!vp(a)&&a!==null)throw new co(t);return a},a=>{throw new co(`${e} rejected with ${a}`)});if(!vp(i)&&i!==null)throw new co(t);return i}function V0e(i,e,t,a){const{beforeSend:c,beforeSendTransaction:p,beforeSendSpan:y}=e;let s=t;if(Nx(s)&&c)return c(s,a);if(_7(s)){if(y){const L=y(z0e(s));if(L?s=Lm(t,F0e(L)):BC(),s.spans){const R=[];for(const V of s.spans){const q=y(V);q?R.push(q):(BC(),R.push(V))}s.spans=R}}if(p){if(s.spans){const L=s.spans.length;s.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:L}}return p(s,a)}}return s}function Nx(i){return i.type===void 0}function _7(i){return i.type==="transaction"}function H0e(i,e){e.debug===!0&&(jn?Ui.enable():Pp(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Xc().update(e.initialScope);const a=new i(e);return U0e(a),a.init(),a}function U0e(i){Xc().setClient(i)}function j0e(i){const e=[];function t(){return i===void 0||e.length<i}function a(y){return e.splice(e.indexOf(y),1)[0]||Promise.resolve(void 0)}function c(y){if(!t())return B2(new co("Not adding Promise because buffer limit was reached."));const s=y();return e.indexOf(s)===-1&&e.push(s),s.then(()=>a(s)).then(null,()=>a(s).then(null,()=>{})),s}function p(y){return new $c((s,L)=>{let R=e.length;if(!R)return s(!0);const V=setTimeout(()=>{y&&y>0&&s(!1)},y);e.forEach(q=>{fu(q).then(()=>{--R||(clearTimeout(V),s(!0))},L)})})}return{$:e,add:c,drain:p}}const q0e=60*1e3;function $0e(i,e=Date.now()){const t=parseInt(`${i}`,10);if(!isNaN(t))return t*1e3;const a=Date.parse(`${i}`);return isNaN(a)?q0e:a-e}function G0e(i,e){return i[e]||i.all||0}function W0e(i,e,t=Date.now()){return G0e(i,e)>t}function Z0e(i,{statusCode:e,headers:t},a=Date.now()){const c={...i},p=t==null?void 0:t["x-sentry-rate-limits"],y=t==null?void 0:t["retry-after"];if(p)for(const s of p.trim().split(",")){const[L,R,,,V]=s.split(":",5),q=parseInt(L,10),Z=(isNaN(q)?60:q)*1e3;if(!R)c.all=a+Z;else for(const ee of R.split(";"))ee==="metric_bucket"?(!V||V.split(";").includes("custom"))&&(c[ee]=a+Z):c[ee]=a+Z}else y?c.all=a+$0e(y,a):e===429&&(c.all=a+60*1e3);return c}const Y0e=64;function X0e(i,e,t=j0e(i.bufferSize||Y0e)){let a={};const c=y=>t.drain(y);function p(y){const s=[];if(NC(y,(q,Z)=>{const ee=VC(Z);W0e(a,ee)?i.recordDroppedEvent("ratelimit_backoff",ee):s.push(q)}),s.length===0)return fu({});const L=d_(y[0],s),R=q=>{NC(L,(Z,ee)=>{i.recordDroppedEvent(q,VC(ee))})},V=()=>e({body:s0e(L)}).then(q=>(q.statusCode!==void 0&&(q.statusCode<200||q.statusCode>=300)&&jn&&Ui.warn(`Sentry responded with status code ${q.statusCode} to sent event.`),a=Z0e(a,q),q),q=>{throw R("network_error"),q});return t.add(V).then(q=>q,q=>{if(q instanceof co)return jn&&Ui.error("Skipped sending event because buffer is full."),R("queue_overflow"),fu({});throw q})}return{send:p,flush:c}}function K0e(i){var e;((e=i.user)==null?void 0:e.ip_address)===void 0&&(i.user={...i.user,ip_address:"{{auto}}"})}function J0e(i){var e;"aggregates"in i?((e=i.attrs)==null?void 0:e.ip_address)===void 0&&(i.attrs={...i.attrs,ip_address:"{{auto}}"}):i.ipAddress===void 0&&(i.ipAddress="{{auto}}")}function Q0e(i,e,t=[e],a="npm"){const c=i._metadata||{};c.sdk||(c.sdk={name:`sentry.javascript.${e}`,packages:t.map(p=>({name:`${a}:@sentry/${p}`,version:su})),version:su}),i._metadata=c}const ege=100;function mu(i,e){const t=As(),a=km();if(!t)return;const{beforeBreadcrumb:c=null,maxBreadcrumbs:p=ege}=t.getOptions();if(p<=0)return;const s={timestamp:Dm(),...i},L=c?Pp(()=>c(s,e)):s;L!==null&&(t.emit&&t.emit("beforeAddBreadcrumb",L,e),a.addBreadcrumb(L,p))}let YC;const tge="FunctionToString",XC=new WeakMap,ige=()=>({name:tge,setupOnce(){YC=Function.prototype.toString;try{Function.prototype.toString=function(...i){const e=$b(this),t=XC.has(As())&&e!==void 0?e:this;return YC.apply(t,i)}}catch{}},setup(i){XC.set(i,!0)}}),nge=ige,rge=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],sge="InboundFilters",age=(i={})=>({name:sge,processEvent(e,t,a){const c=a.getOptions(),p=lge(i,c);return cge(e,p)?null:e}}),oge=age;function lge(i={},e={}){return{allowUrls:[...i.allowUrls||[],...e.allowUrls||[]],denyUrls:[...i.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...i.ignoreErrors||[],...e.ignoreErrors||[],...i.disableErrorDefaults?[]:rge],ignoreTransactions:[...i.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:i.ignoreInternal!==void 0?i.ignoreInternal:!0}}function cge(i,e){return e.ignoreInternal&&fge(i)?(jn&&Ui.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ic(i)}`),!0):hge(i,e.ignoreErrors)?(jn&&Ui.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ic(i)}`),!0):gge(i)?(jn&&Ui.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ic(i)}`),!0):uge(i,e.ignoreTransactions)?(jn&&Ui.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ic(i)}`),!0):dge(i,e.denyUrls)?(jn&&Ui.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ic(i)}.
Url: ${N2(i)}`),!0):pge(i,e.allowUrls)?!1:(jn&&Ui.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ic(i)}.
Url: ${N2(i)}`),!0)}function hge(i,e){return i.type||!e||!e.length?!1:g7(i).some(t=>u_(t,e))}function uge(i,e){if(i.type!=="transaction"||!e||!e.length)return!1;const t=i.transaction;return t?u_(t,e):!1}function dge(i,e){if(!(e!=null&&e.length))return!1;const t=N2(i);return t?u_(t,e):!1}function pge(i,e){if(!(e!=null&&e.length))return!0;const t=N2(i);return t?u_(t,e):!0}function fge(i){try{return i.exception.values[0].type==="SentryError"}catch{}return!1}function mge(i=[]){for(let e=i.length-1;e>=0;e--){const t=i[e];if(t&&t.filename!=="<anonymous>"&&t.filename!=="[native code]")return t.filename||null}return null}function N2(i){try{let e;try{e=i.exception.values[0].stacktrace.frames}catch{}return e?mge(e):null}catch{return jn&&Ui.error(`Cannot extract url for event ${Ic(i)}`),null}}function gge(i){var e,t;return i.type||!((t=(e=i.exception)==null?void 0:e.values)!=null&&t.length)?!1:!i.message&&!i.exception.values.some(a=>a.stacktrace||a.type&&a.type!=="Error"||a.value)}function _ge(i,e,t=250,a,c,p,y){var L;if(!((L=p.exception)!=null&&L.values)||!y||!du(y.originalException,Error))return;const s=p.exception.values.length>0?p.exception.values[p.exception.values.length-1]:void 0;s&&(p.exception.values=yge(Vx(i,e,c,y.originalException,a,p.exception.values,s,0),t))}function Vx(i,e,t,a,c,p,y,s){if(p.length>=t+1)return p;let L=[...p];if(du(a[c],Error)){KC(y,s);const R=i(e,a[c]),V=L.length;JC(R,c,V,s),L=Vx(i,e,t,a[c],c,[R,...L],R,V)}return Array.isArray(a.errors)&&a.errors.forEach((R,V)=>{if(du(R,Error)){KC(y,s);const q=i(e,R),Z=L.length;JC(q,`errors[${V}]`,Z,s),L=Vx(i,e,t,R,c,[q,...L],q,Z)}}),L}function KC(i,e){i.mechanism=i.mechanism||{type:"generic",handled:!0},i.mechanism={...i.mechanism,...i.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function JC(i,e,t,a){i.mechanism=i.mechanism||{type:"generic",handled:!0},i.mechanism={...i.mechanism,type:"chained",source:e,exception_id:t,parent_id:a}}function yge(i,e){return i.map(t=>(t.value&&(t.value=op(t.value,e)),t))}function vge(i){const e="console";vu(e,i),xu(e,xge)}function xge(){"console"in Gn&&Lx.forEach(function(i){i in Gn.console&&ya(Gn.console,i,function(e){return F2[i]=e,function(...t){po("console",{args:t,level:i});const c=F2[i];c==null||c.apply(Gn.console,t)}})})}function bge(i){return i==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(i)?i:"log"}const wge="Dedupe",Mge=()=>{let i;return{name:wge,processEvent(e){if(e.type)return e;try{if(Tge(e,i))return jn&&Ui.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return i=e}}},Sge=Mge;function Tge(i,e){return e?!!(Ege(i,e)||Cge(i,e)):!1}function Ege(i,e){const t=i.message,a=e.message;return!(!t&&!a||t&&!a||!t&&a||t!==a||!v7(i,e)||!y7(i,e))}function Cge(i,e){const t=QC(e),a=QC(i);return!(!t||!a||t.type!==a.type||t.value!==a.value||!v7(i,e)||!y7(i,e))}function y7(i,e){let t=MC(i),a=MC(e);if(!t&&!a)return!0;if(t&&!a||!t&&a||(t=t,a=a,a.length!==t.length))return!1;for(let c=0;c<a.length;c++){const p=a[c],y=t[c];if(p.filename!==y.filename||p.lineno!==y.lineno||p.colno!==y.colno||p.function!==y.function)return!1}return!0}function v7(i,e){let t=i.fingerprint,a=e.fingerprint;if(!t&&!a)return!0;if(t&&!a||!t&&a)return!1;t=t,a=a;try{return t.join("")===a.join("")}catch{return!1}}function QC(i){var e;return((e=i.exception)==null?void 0:e.values)&&i.exception.values[0]}function Yv(i){if(!i)return{};const e=i.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const t=e[6]||"",a=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:t,hash:a,relative:e[5]+t+a}}function x7(i){if(i!==void 0)return i>=400&&i<500?"warning":i>=500?"error":void 0}const V2=Gn;function Age(){return"history"in V2}function b7(){if(!("fetch"in V2))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Hx(i){return i&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(i.toString())}function Ige(){var t;if(typeof EdgeRuntime=="string")return!0;if(!b7())return!1;if(Hx(V2.fetch))return!0;let i=!1;const e=V2.document;if(e&&typeof e.createElement=="function")try{const a=e.createElement("iframe");a.hidden=!0,e.head.appendChild(a),(t=a.contentWindow)!=null&&t.fetch&&(i=Hx(a.contentWindow.fetch)),e.head.removeChild(a)}catch(a){yu&&Ui.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return i}function Pge(i,e){const t="fetch";vu(t,i),xu(t,()=>Dge(void 0,e))}function Dge(i,e=!1){e&&!Ige()||ya(Gn,"fetch",function(t){return function(...a){const c=new Error,{method:p,url:y}=Lge(a),s={args:a,fetchData:{method:p,url:y},startTimestamp:kl()*1e3,virtualError:c};return po("fetch",{...s}),t.apply(Gn,a).then(async L=>(po("fetch",{...s,endTimestamp:kl()*1e3,response:L}),L),L=>{throw po("fetch",{...s,endTimestamp:kl()*1e3,error:L}),Vb(L)&&L.stack===void 0&&(L.stack=c.stack,pu(L,"framesToPop",1)),L})}})}function Ux(i,e){return!!i&&typeof i=="object"&&!!i[e]}function eA(i){return typeof i=="string"?i:i?Ux(i,"url")?i.url:i.toString?i.toString():"":""}function Lge(i){if(i.length===0)return{method:"GET",url:""};if(i.length===2){const[t,a]=i;return{url:eA(t),method:Ux(a,"method")?String(a.method).toUpperCase():"GET"}}const e=i[0];return{url:eA(e),method:Ux(e,"method")?String(e.method).toUpperCase():"GET"}}function kge(){return"npm"}const Dr=Gn;let jx=0;function w7(){return jx>0}function Oge(){jx++,setTimeout(()=>{jx--})}function Mp(i,e={}){function t(c){return typeof c=="function"}if(!t(i))return i;try{const c=i.__sentry_wrapped__;if(c)return typeof c=="function"?c:i;if($b(i))return i}catch{return i}const a=function(...c){try{const p=c.map(y=>Mp(y,e));return i.apply(this,p)}catch(p){throw Oge(),wme(y=>{y.addEventProcessor(s=>(e.mechanism&&(Ox(s,void 0),xp(s,e.mechanism)),s.extra={...s.extra,arguments:c},s)),z1(p)}),p}};try{for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&(a[c]=i[c])}catch{}QI(a,i),pu(i,"__sentry_wrapped__",a);try{Object.getOwnPropertyDescriptor(a,"name").configurable&&Object.defineProperty(a,"name",{get(){return i.name}})}catch{}return a}function Xb(i,e){const t=Kb(i,e),a={type:Nge(e),value:Vge(e)};return t.length&&(a.stacktrace={frames:t}),a.type===void 0&&a.value===""&&(a.value="Unrecoverable error caught"),a}function Rge(i,e,t,a){const c=As(),p=c==null?void 0:c.getOptions().normalizeDepth,y=$ge(e),s={__serialized__:h7(e,p)};if(y)return{exception:{values:[Xb(i,y)]},extra:s};const L={exception:{values:[{type:c_(e)?e.constructor.name:a?"UnhandledRejection":"Error",value:jge(e,{isUnhandledRejection:a})}]},extra:s};if(t){const R=Kb(i,t);R.length&&(L.exception.values[0].stacktrace={frames:R})}return L}function Xv(i,e){return{exception:{values:[Xb(i,e)]}}}function Kb(i,e){const t=e.stacktrace||e.stack||"",a=Fge(e),c=Bge(e);try{return i(t,a,c)}catch{}return[]}const zge=/Minified React error #\d+;/i;function Fge(i){return i&&zge.test(i.message)?1:0}function Bge(i){return typeof i.framesToPop=="number"?i.framesToPop:0}function M7(i){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?i instanceof WebAssembly.Exception:!1}function Nge(i){const e=i==null?void 0:i.name;return!e&&M7(i)?i.message&&Array.isArray(i.message)&&i.message.length==2?i.message[0]:"WebAssembly.Exception":e}function Vge(i){const e=i==null?void 0:i.message;return M7(i)?Array.isArray(i.message)&&i.message.length==2?i.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Hge(i,e,t,a){const c=(t==null?void 0:t.syntheticException)||void 0,p=Jb(i,e,c,a);return xp(p),p.level="error",t!=null&&t.event_id&&(p.event_id=t.event_id),fu(p)}function Uge(i,e,t="info",a,c){const p=(a==null?void 0:a.syntheticException)||void 0,y=qx(i,e,p,c);return y.level=t,a!=null&&a.event_id&&(y.event_id=a.event_id),fu(y)}function Jb(i,e,t,a,c){let p;if(XI(e)&&e.error)return Xv(i,e.error);if(TC(e)||Q1e(e)){const y=e;if("stack"in e)p=Xv(i,e);else{const s=y.name||(TC(y)?"DOMError":"DOMException"),L=y.message?`${s}: ${y.message}`:s;p=qx(i,L,t,a),Ox(p,L)}return"code"in y&&(p.tags={...p.tags,"DOMException.code":`${y.code}`}),p}return Vb(e)?Xv(i,e):vp(e)||c_(e)?(p=Rge(i,e,t,c),xp(p,{synthetic:!0}),p):(p=qx(i,e,t,a),Ox(p,`${e}`),xp(p,{synthetic:!0}),p)}function qx(i,e,t,a){const c={};if(a&&t){const p=Kb(i,t);p.length&&(c.exception={values:[{value:e,stacktrace:{frames:p}}]}),xp(c,{synthetic:!0})}if(Hb(e)){const{__sentry_template_string__:p,__sentry_template_values__:y}=e;return c.logentry={message:p,params:y},c}return c.message=e,c}function jge(i,{isUnhandledRejection:e}){const t=ome(i),a=e?"promise rejection":"exception";return XI(i)?`Event \`ErrorEvent\` captured as ${a} with message \`${i.message}\``:c_(i)?`Event \`${qge(i)}\` (type=${i.type}) captured as ${a}`:`Object captured as ${a} with keys: ${t}`}function qge(i){try{const e=Object.getPrototypeOf(i);return e?e.constructor.name:void 0}catch{}}function $ge(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const t=i[e];if(t instanceof Error)return t}}class Gge extends B0e{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e},a=Dr.SENTRY_SDK_SOURCE||kge();Q0e(t,"browser",["browser"],a),super(t),t.sendClientReports&&Dr.document&&Dr.document.addEventListener("visibilitychange",()=>{Dr.document.visibilityState==="hidden"&&this._flushOutcomes()}),this._options.sendDefaultPii&&(this.on("postprocessEvent",K0e),this.on("beforeSendSession",J0e))}eventFromException(e,t){return Hge(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",a){return Uge(this._options.stackParser,e,t,a,this._options.attachStacktrace)}_prepareEvent(e,t,a,c){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,a,c)}}const Wge=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ws=Gn,Zge=1e3;let tA,$x,Gx;function Yge(i){const e="dom";vu(e,i),xu(e,Xge)}function Xge(){if(!Ws.document)return;const i=po.bind(null,"dom"),e=iA(i,!0);Ws.document.addEventListener("click",e,!1),Ws.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(t=>{var p,y;const c=(p=Ws[t])==null?void 0:p.prototype;(y=c==null?void 0:c.hasOwnProperty)!=null&&y.call(c,"addEventListener")&&(ya(c,"addEventListener",function(s){return function(L,R,V){if(L==="click"||L=="keypress")try{const q=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},Z=q[L]=q[L]||{refCount:0};if(!Z.handler){const ee=iA(i);Z.handler=ee,s.call(this,L,ee,V)}Z.refCount++}catch{}return s.call(this,L,R,V)}}),ya(c,"removeEventListener",function(s){return function(L,R,V){if(L==="click"||L=="keypress")try{const q=this.__sentry_instrumentation_handlers__||{},Z=q[L];Z&&(Z.refCount--,Z.refCount<=0&&(s.call(this,L,Z.handler,V),Z.handler=void 0,delete q[L]),Object.keys(q).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,L,R,V)}}))})}function Kge(i){if(i.type!==$x)return!1;try{if(!i.target||i.target._sentryId!==Gx)return!1}catch{}return!0}function Jge(i,e){return i!=="keypress"?!1:e!=null&&e.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function iA(i,e=!1){return t=>{if(!t||t._sentryCaptured)return;const a=Qge(t);if(Jge(t.type,a))return;pu(t,"_sentryCaptured",!0),a&&!a._sentryId&&pu(a,"_sentryId",La());const c=t.type==="keypress"?"input":t.type;Kge(t)||(i({event:t,name:c,global:e}),$x=t.type,Gx=a?a._sentryId:void 0),clearTimeout(tA),tA=Ws.setTimeout(()=>{Gx=void 0,$x=void 0},Zge)}}function Qge(i){try{return i.target}catch{return null}}let Kg;function S7(i){const e="history";vu(e,i),xu(e,e2e)}function e2e(){if(Ws.addEventListener("popstate",()=>{const e=Ws.location.href,t=Kg;if(Kg=e,t===e)return;po("history",{from:t,to:e})}),!Age())return;function i(e){return function(...t){const a=t.length>2?t[2]:void 0;if(a){const c=Kg,p=String(a);if(Kg=p,c===p)return;po("history",{from:c,to:p})}return e.apply(this,t)}}ya(Ws.history,"pushState",i),ya(Ws.history,"replaceState",i)}const g2={};function t2e(i){const e=g2[i];if(e)return e;let t=Ws[i];if(Hx(t))return g2[i]=t.bind(Ws);const a=Ws.document;if(a&&typeof a.createElement=="function")try{const c=a.createElement("iframe");c.hidden=!0,a.head.appendChild(c);const p=c.contentWindow;p!=null&&p[i]&&(t=p[i]),a.head.removeChild(c)}catch(c){Wge&&Ui.warn(`Could not create sandbox iframe for ${i} check, bailing to window.${i}: `,c)}return t&&(g2[i]=t.bind(Ws))}function nA(i){g2[i]=void 0}const F1="__sentry_xhr_v3__";function i2e(i){const e="xhr";vu(e,i),xu(e,n2e)}function n2e(){if(!Ws.XMLHttpRequest)return;const i=XMLHttpRequest.prototype;i.open=new Proxy(i.open,{apply(e,t,a){const c=new Error,p=kl()*1e3,y=Ll(a[0])?a[0].toUpperCase():void 0,s=r2e(a[1]);if(!y||!s)return e.apply(t,a);t[F1]={method:y,url:s,request_headers:{}},y==="POST"&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const L=()=>{const R=t[F1];if(R&&t.readyState===4){try{R.status_code=t.status}catch{}const V={endTimestamp:kl()*1e3,startTimestamp:p,xhr:t,virtualError:c};po("xhr",V)}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply(R,V,q){return L(),R.apply(V,q)}}):t.addEventListener("readystatechange",L),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(R,V,q){const[Z,ee]=q,se=V[F1];return se&&Ll(Z)&&Ll(ee)&&(se.request_headers[Z.toLowerCase()]=ee),R.apply(V,q)}}),e.apply(t,a)}}),i.send=new Proxy(i.send,{apply(e,t,a){const c=t[F1];if(!c)return e.apply(t,a);a[0]!==void 0&&(c.body=a[0]);const p={startTimestamp:kl()*1e3,xhr:t};return po("xhr",p),e.apply(t,a)}})}function r2e(i){if(Ll(i))return i;try{return i.toString()}catch{}}function s2e(i,e=t2e("fetch")){let t=0,a=0;function c(p){const y=p.body.length;t+=y,a++;const s={body:p.body,method:"POST",referrerPolicy:"strict-origin",headers:i.headers,keepalive:t<=6e4&&a<15,...i.fetchOptions};if(!e)return nA("fetch"),B2("No fetch implementation available");try{return e(i.url,s).then(L=>(t-=y,a--,{statusCode:L.status,headers:{"x-sentry-rate-limits":L.headers.get("X-Sentry-Rate-Limits"),"retry-after":L.headers.get("Retry-After")}}))}catch(L){return nA("fetch"),t-=y,a--,B2(L)}}return X0e(i,c)}const a2e=30,o2e=50;function Wx(i,e,t,a){const c={filename:i,function:e==="<anonymous>"?uu:e,in_app:!0};return t!==void 0&&(c.lineno=t),a!==void 0&&(c.colno=a),c}const l2e=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,c2e=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,h2e=/\((\S*)(?::(\d+))(?::(\d+))\)/,u2e=i=>{const e=l2e.exec(i);if(e){const[,a,c,p]=e;return Wx(a,uu,+c,+p)}const t=c2e.exec(i);if(t){if(t[2]&&t[2].indexOf("eval")===0){const y=h2e.exec(t[2]);y&&(t[2]=y[1],t[3]=y[2],t[4]=y[3])}const[c,p]=T7(t[1]||uu,t[2]);return Wx(p,c,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},d2e=[a2e,u2e],p2e=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,f2e=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,m2e=i=>{const e=p2e.exec(i);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const p=f2e.exec(e[3]);p&&(e[1]=e[1]||"eval",e[3]=p[1],e[4]=p[2],e[5]="")}let a=e[3],c=e[1]||uu;return[c,a]=T7(c,a),Wx(a,c,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},g2e=[o2e,m2e],_2e=[d2e,g2e],y2e=ZI(..._2e),T7=(i,e)=>{const t=i.indexOf("safari-extension")!==-1,a=i.indexOf("safari-web-extension")!==-1;return t||a?[i.indexOf("@")!==-1?i.split("@")[0]:uu,t?`safari-extension:${e}`:`safari-web-extension:${e}`]:[i,e]},om=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Jg=1024,v2e="Breadcrumbs",x2e=(i={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...i};return{name:v2e,setup(t){e.console&&vge(S2e(t)),e.dom&&Yge(M2e(t,e.dom)),e.xhr&&i2e(T2e(t)),e.fetch&&Pge(E2e(t)),e.history&&S7(C2e(t)),e.sentry&&t.on("beforeSendEvent",w2e(t))}}},b2e=x2e;function w2e(i){return function(t){As()===i&&mu({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Ic(t)},{event:t})}}function M2e(i,e){return function(a){if(As()!==i)return;let c,p,y=typeof e=="object"?e.serializeAttribute:void 0,s=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;s&&s>Jg&&(om&&Ui.warn(`\`dom.maxStringLength\` cannot exceed ${Jg}, but a value of ${s} was configured. Sentry will use ${Jg} instead.`),s=Jg),typeof y=="string"&&(y=[y]);try{const R=a.event,V=A2e(R)?R.target:R;c=JI(V,{keyAttrs:y,maxStringLength:s}),p=sme(V)}catch{c="<unknown>"}if(c.length===0)return;const L={category:`ui.${a.name}`,message:c};p&&(L.data={"ui.component_name":p}),mu(L,{event:a.event,name:a.name,global:a.global})}}function S2e(i){return function(t){if(As()!==i)return;const a={category:"console",data:{arguments:t.args,logger:"console"},level:bge(t.level),message:EC(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)a.message=`Assertion failed: ${EC(t.args.slice(1)," ")||"console.assert"}`,a.data.arguments=t.args.slice(1);else return;mu(a,{input:t.args,level:t.level})}}function T2e(i){return function(t){if(As()!==i)return;const{startTimestamp:a,endTimestamp:c}=t,p=t.xhr[F1];if(!a||!c||!p)return;const{method:y,url:s,status_code:L,body:R}=p,V={method:y,url:s,status_code:L},q={xhr:t.xhr,input:R,startTimestamp:a,endTimestamp:c},Z={category:"xhr",data:V,type:"http",level:x7(L)};i.emit("beforeOutgoingRequestBreadcrumb",Z,q),mu(Z,q)}}function E2e(i){return function(t){if(As()!==i)return;const{startTimestamp:a,endTimestamp:c}=t;if(c&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.fetchData.method,t.fetchData.url,t.error){const p=t.fetchData,y={data:t.error,input:t.args,startTimestamp:a,endTimestamp:c},s={category:"fetch",data:p,level:"error",type:"http"};i.emit("beforeOutgoingRequestBreadcrumb",s,y),mu(s,y)}else{const p=t.response,y={...t.fetchData,status_code:p==null?void 0:p.status};t.fetchData.request_body_size,t.fetchData.response_body_size,p==null||p.status;const s={input:t.args,response:p,startTimestamp:a,endTimestamp:c},L={category:"fetch",data:y,type:"http",level:x7(y.status_code)};i.emit("beforeOutgoingRequestBreadcrumb",L,s),mu(L,s)}}}function C2e(i){return function(t){if(As()!==i)return;let a=t.from,c=t.to;const p=Yv(Dr.location.href);let y=a?Yv(a):void 0;const s=Yv(c);y!=null&&y.path||(y=p),p.protocol===s.protocol&&p.host===s.host&&(c=s.relative),p.protocol===y.protocol&&p.host===y.host&&(a=y.relative),mu({category:"navigation",data:{from:a,to:c}})}}function A2e(i){return!!i&&!!i.target}const I2e=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],P2e="BrowserApiErrors",D2e=(i={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...i};return{name:P2e,setupOnce(){e.setTimeout&&ya(Dr,"setTimeout",rA),e.setInterval&&ya(Dr,"setInterval",rA),e.requestAnimationFrame&&ya(Dr,"requestAnimationFrame",k2e),e.XMLHttpRequest&&"XMLHttpRequest"in Dr&&ya(XMLHttpRequest.prototype,"send",O2e);const t=e.eventTarget;t&&(Array.isArray(t)?t:I2e).forEach(R2e)}}},L2e=D2e;function rA(i){return function(...e){const t=e[0];return e[0]=Mp(t,{mechanism:{data:{function:qc(i)},handled:!1,type:"instrument"}}),i.apply(this,e)}}function k2e(i){return function(e){return i.apply(this,[Mp(e,{mechanism:{data:{function:"requestAnimationFrame",handler:qc(i)},handled:!1,type:"instrument"}})])}}function O2e(i){return function(...e){const t=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(c=>{c in t&&typeof t[c]=="function"&&ya(t,c,function(p){const y={mechanism:{data:{function:c,handler:qc(p)},handled:!1,type:"instrument"}},s=$b(p);return s&&(y.mechanism.data.handler=qc(s)),Mp(p,y)})}),i.apply(this,e)}}function R2e(i){var a,c;const t=(a=Dr[i])==null?void 0:a.prototype;(c=t==null?void 0:t.hasOwnProperty)!=null&&c.call(t,"addEventListener")&&(ya(t,"addEventListener",function(p){return function(y,s,L){try{z2e(s)&&(s.handleEvent=Mp(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:qc(s),target:i},handled:!1,type:"instrument"}}))}catch{}return p.apply(this,[y,Mp(s,{mechanism:{data:{function:"addEventListener",handler:qc(s),target:i},handled:!1,type:"instrument"}}),L])}}),ya(t,"removeEventListener",function(p){return function(y,s,L){try{const R=s.__sentry_wrapped__;R&&p.call(this,y,R,L)}catch{}return p.call(this,y,s,L)}}))}function z2e(i){return typeof i.handleEvent=="function"}const F2e=()=>({name:"BrowserSession",setupOnce(){if(typeof Dr.document>"u"){om&&Ui.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}jC({ignoreDuration:!0}),qC(),S7(({from:i,to:e})=>{i!==void 0&&i!==e&&(jC({ignoreDuration:!0}),qC())})}}),B2e="GlobalHandlers",N2e=(i={})=>{const e={onerror:!0,onunhandledrejection:!0,...i};return{name:B2e,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(H2e(t),sA("onerror")),e.onunhandledrejection&&(U2e(t),sA("onunhandledrejection"))}}},V2e=N2e;function H2e(i){Y1e(e=>{const{stackParser:t,attachStacktrace:a}=E7();if(As()!==i||w7())return;const{msg:c,url:p,line:y,column:s,error:L}=e,R=$2e(Jb(t,L||c,void 0,a,!1),p,y,s);R.level="error",d7(R,{originalException:L,mechanism:{handled:!1,type:"onerror"}})})}function U2e(i){K1e(e=>{const{stackParser:t,attachStacktrace:a}=E7();if(As()!==i||w7())return;const c=j2e(e),p=Ub(c)?q2e(c):Jb(t,c,void 0,a,!0);p.level="error",d7(p,{originalException:c,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function j2e(i){if(Ub(i))return i;try{if("reason"in i)return i.reason;if("detail"in i&&"reason"in i.detail)return i.detail.reason}catch{}return i}function q2e(i){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}}function $2e(i,e,t,a){const c=i.exception=i.exception||{},p=c.values=c.values||[],y=p[0]=p[0]||{},s=y.stacktrace=y.stacktrace||{},L=s.frames=s.frames||[],R=a,V=t,q=Ll(e)&&e.length>0?e:qb();return L.length===0&&L.push({colno:R,filename:q,function:uu,in_app:!0,lineno:V}),i}function sA(i){om&&Ui.log(`Global Handler attached: ${i}`)}function E7(){const i=As();return(i==null?void 0:i.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const G2e=()=>({name:"HttpContext",preprocessEvent(i){var y,s;if(!Dr.navigator&&!Dr.location&&!Dr.document)return;const e=((y=i.request)==null?void 0:y.url)||qb(),{referrer:t}=Dr.document||{},{userAgent:a}=Dr.navigator||{},c={...(s=i.request)==null?void 0:s.headers,...t&&{Referer:t},...a&&{"User-Agent":a}},p={...i.request,...e&&{url:e},headers:c};i.request=p}}),W2e="cause",Z2e=5,Y2e="LinkedErrors",X2e=(i={})=>{const e=i.limit||Z2e,t=i.key||W2e;return{name:Y2e,preprocessEvent(a,c,p){const y=p.getOptions();_ge(Xb,y.stackParser,y.maxValueLength,t,e,a,c)}}},K2e=X2e;function J2e(i){return[oge(),nge(),L2e(),b2e(),V2e(),K2e(),Sge(),G2e(),F2e()]}function Q2e(i={}){var t;return{...{defaultIntegrations:J2e(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=Dr.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0},...e_e(i)}}function e_e(i){const e={};for(const t of Object.getOwnPropertyNames(i)){const a=t;i[a]!==void 0&&(e[a]=i[a])}return e}function t_e(){var L;const i=typeof Dr.window<"u"&&Dr;if(!i)return!1;const e=i.chrome?"chrome":"browser",t=i[e],a=(L=t==null?void 0:t.runtime)==null?void 0:L.id,c=qb()||"",p=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],y=!!a&&Dr===Dr.top&&p.some(R=>c.startsWith(`${R}//`)),s=typeof i.nw<"u";return!!a&&!y&&!s}function i_e(i={}){const e=Q2e(i);if(!e.skipBrowserExtensionCheck&&t_e()){om&&Pp(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}om&&!b7()&&Ui.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const t={...e,stackParser:W1e(e.stackParser||y2e),integrations:k0e(e),transport:e.transport||s2e};return H0e(Gge,t)}function n_e(){document.querySelectorAll(".inline-edit-field").forEach(i=>{const e=i.querySelector(".display-view"),t=i.querySelector(".edit-form"),a=i.querySelector(".edit-input"),c=i.querySelector(".edit-button"),p=i.querySelector(".save-button"),y=i.querySelector(".cancel-button");c.addEventListener("click",()=>{try{e.classList.add("hidden"),t.classList.remove("hidden"),a.focus()}catch(s){z1(s),console.error("Error showing edit form:",s)}}),y.addEventListener("click",()=>{try{a.value=e.textContent.trim(),e.classList.remove("hidden"),t.classList.add("hidden")}catch(s){z1(s)}}),p.addEventListener("click",s=>{s.preventDefault();const L=i.querySelector("form"),R=a.name.split("[")[1].split("]")[0],V=p.innerHTML;p.innerHTML=`
        <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      `,fetch(L.action,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']").content},body:JSON.stringify({user:{[R]:a.value}})}).then(q=>q.json()).then(q=>{try{if(q.html){const Z=document.createElement("div");Z.innerHTML=q.html;const ee=Z.firstElementChild;if(ee){const se=ee.dataset.flashType,he=ee.dataset.flashMessage;pr(he,se)}}q.success&&(e.textContent=q.new_value,e.classList.remove("hidden"),t.classList.add("hidden"))}catch(Z){z1(Z)}}).catch(q=>{z1(q),pr("An error occurred while saving changes","alert")}).finally(()=>{p.innerHTML=V})})})}document.addEventListener("DOMContentLoaded",n_e);var _2={logger:typeof console<"u"?console:void 0,WebSocket:typeof WebSocket<"u"?WebSocket:void 0},mr={log(...i){this.enabled&&(i.push(Date.now()),_2.logger.log("[ActionCable]",...i))}};const B1=()=>new Date().getTime(),Qg=i=>(B1()-i)/1e3;class Qb{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=B1(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),mr.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=B1(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),mr.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordMessage(){this.pingedAt=B1()}recordConnect(){this.reconnectAttempts=0,delete this.disconnectedAt,mr.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=B1(),mr.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){const{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor,a=Math.pow(1+t,Math.min(this.reconnectAttempts,10)),p=(this.reconnectAttempts===0?1:t)*Math.random();return e*1e3*a*(1+p)}reconnectIfStale(){this.connectionIsStale()&&(mr.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Qg(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?mr.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Qg(this.disconnectedAt)} s`):(mr.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Qg(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&Qg(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(mr.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}}Qb.staleThreshold=6;Qb.reconnectionBackoffRate=.15;var C7={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart",remote:"remote"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]};const{message_types:A1,protocols:Zx}=C7,r_e=Zx.slice(0,Zx.length-1),aA=[].indexOf;class ew{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new Qb(this),this.disconnected=!0}send(e){return this.isOpen()?(this.webSocket.send(JSON.stringify(e)),!0):!1}open(){if(this.isActive())return mr.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1;{const e=[...Zx,...this.consumer.subprotocols||[]];return mr.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${e}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new _2.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0}}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(mr.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(e){mr.log("Failed to reopen WebSocket",e)}finally{mr.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}triedToReconnect(){return this.monitor.reconnectAttempts>0}isProtocolSupported(){return aA.call(r_e,this.getProtocol())>=0}isState(...e){return aA.call(e,this.getState())>=0}getState(){if(this.webSocket){for(let e in _2.WebSocket)if(_2.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase()}return null}installEventHandlers(){for(let e in this.events){const t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}}ew.reopenDelay=500;ew.prototype.events={message(i){if(!this.isProtocolSupported())return;const{identifier:e,message:t,reason:a,reconnect:c,type:p}=JSON.parse(i.data);switch(this.monitor.recordMessage(),p){case A1.welcome:return this.triedToReconnect()&&(this.reconnectAttempted=!0),this.monitor.recordConnect(),this.subscriptions.reload();case A1.disconnect:return mr.log(`Disconnecting. Reason: ${a}`),this.close({allowReconnect:c});case A1.ping:return null;case A1.confirmation:return this.subscriptions.confirmSubscription(e),this.reconnectAttempted?(this.reconnectAttempted=!1,this.subscriptions.notify(e,"connected",{reconnected:!0})):this.subscriptions.notify(e,"connected",{reconnected:!1});case A1.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",t)}},open(){if(mr.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return mr.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(i){if(mr.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){mr.log("WebSocket onerror event")}};const s_e=function(i,e){if(e!=null)for(let t in e){const a=e[t];i[t]=a}return i};class a_e{constructor(e,t={},a){this.consumer=e,this.identifier=JSON.stringify(t),s_e(this,a)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}class o_e{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){this.pendingSubscriptions.indexOf(e)==-1?(mr.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):mr.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){mr.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(t=>t!==e)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(e=>{mr.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)})},500)}}class l_e{constructor(e){this.consumer=e,this.guarantor=new o_e(this),this.subscriptions=[]}create(e,t){const a=e,c=typeof a=="object"?a:{channel:a},p=new a_e(this.consumer,c,t);return this.add(p)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}reject(e){return this.findAll(e).map(t=>(this.forget(t),this.notify(t,"rejected"),t))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter(t=>t!==e),e}findAll(e){return this.subscriptions.filter(t=>t.identifier===e)}reload(){return this.subscriptions.map(e=>this.subscribe(e))}notifyAll(e,...t){return this.subscriptions.map(a=>this.notify(a,e,...t))}notify(e,t,...a){let c;return typeof e=="string"?c=this.findAll(e):c=[e],c.map(p=>typeof p[t]=="function"?p[t](...a):void 0)}subscribe(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}confirmSubscription(e){mr.log(`Subscription confirmed ${e}`),this.findAll(e).map(t=>this.guarantor.forget(t))}sendCommand(e,t){const{identifier:a}=e;return this.consumer.send({command:t,identifier:a})}}class c_e{constructor(e){this._url=e,this.subscriptions=new l_e(this),this.connection=new ew(this),this.subprotocols=[]}get url(){return h_e(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}addSubProtocol(e){this.subprotocols=[...this.subprotocols,e]}}function h_e(i){if(typeof i=="function"&&(i=i()),i&&!/^wss?:/i.test(i)){const e=document.createElement("a");return e.href=i,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href}else return i}function u_e(i=d_e("url")||C7.default_mount_path){return new c_e(i)}function d_e(i){const e=document.head.querySelector(`meta[name='action-cable-${i}']`);if(e)return e.getAttribute("content")}const p_e=u_e(),oA=i=>{const e=new Date(i),t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),c=e.getFullYear();return`${t}/${a}/${c}`},lA=i=>new Date(i).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1});p_e.subscriptions.create("Noticed::NotificationChannel",{connected(){console.log("Connected to NotificationChannel")},received(i){this.prependNotification(i),this.addMarkAllAsReadButton(),this.updateUnreadCount(1)},prependNotification(i){const e=document.querySelector("#notifications-list");if(e){const t=this.createNotificationElement(i);e.insertBefore(t,e.firstChild)}},createNotificationElement(i){const e=document.createElement("li");e.classList.add("notification-item","list-none","p-2","mb-1","bg-base-200");const t=document.createElement("a");t.href=n8(i.id),t.classList.add("flex","items-center","p-2","hover:bg-base-300","rounded-lg"),t.dataset.turboMethod="post",t.dataset.notificationId=i.id,t.dataset.action="notifications#markAsRead";const a=document.createElement("div");a.classList.add("flex-1");const c=document.createElement("p");c.classList.add("text-sm"),i.type==="departure_notification_cable"?c.innerHTML=`
       Coach ${i.coach.license_plate} is departing.
       <br>
       <span class="text-xs text-base-content/60">
         Route: ${i.booking.start_stop.location.name} → ${i.booking.end_stop.location.name}
       </span>
       <br>
       <span class="text-xs text-base-content/60">
         Departure: ${oA(i.booking.tickets[0].departure_date)} - ${lA(i.booking.tickets[0].departure_time)}
       </span>
       <span class="text-xs text-base-content/60 font-semibold">Your Tickets:</span>
       <ul class="list-disc list-inside text-xs">
         ${i.booking.tickets.map(R=>`
           <li>Seat ${R.seat_number} - ${this.formatCurrency(R.paid_amount)}</li>
         `).join("")}
       </ul>
     `:i.type==="cancel_booking_notification_cable"&&(c.innerHTML=`
      Your booking has been successfully canceled.
      <br>
      <span class="text-xs text-base-content/60">
        Route: ${i.booking.start_stop.location.name} - ${i.booking.end_stop.location.name}
      </span>
      <br>
      <span class="text-xs text-base-content/60">
        Departure: ${oA(i.booking.tickets[0].departure_date)} - ${lA(i.booking.tickets[0].departure_time)}
      </span>
      `);const p=document.createElement("p");p.classList.add("text-xs","mt-1","text-base-content/60"),p.textContent="Just now";const y=document.createElement("div");y.classList.add("w-2","h-2","bg-primary","rounded-full","unread-indicator"),a.appendChild(c),a.appendChild(p),t.appendChild(a),t.appendChild(y),e.appendChild(t);const s=document.querySelector("#notifications-list");if(s.children.length>0){const R=document.createElement("div");R.classList.add("divider","my-0"),s.insertBefore(R,s.firstChild)}const L=document.querySelector(".no-notifications-text");return L&&L.remove(),e},sumPaidAmount(i){return Number(i.reduce((e,t)=>e+(Number(t.paid_amount)||0),0))},formatCurrency(i){return`${Number(i).toLocaleString("vi-VN")} VND`},addMarkAllAsReadButton(){let i=document.querySelector(".mark-as-all-read-btn");if(!i){const e=document.querySelector(".menu-title");e&&(i=document.createElement("button"),i.classList.add("mark-as-all-read-btn","btn","btn-ghost","btn-xs"),i.textContent="Mark all as read",i.setAttribute("data-action","notifications#markAllAsRead"),e.appendChild(i))}},updateUnreadCount(i){let e=document.querySelector("#notifications-badge");if(!e){const p=document.querySelector(".indicator");p&&(e=document.createElement("div"),e.id="notifications-badge",p.appendChild(e))}let t=e.querySelector(".badge-notifications-count");t||(t=document.createElement("span"),t.classList.add("badge","badge-primary","badge-sm","indicator-item","badge-notifications-count"),e.appendChild(t));let c=(parseInt(t.textContent)||0)+i;c>0?t.textContent=c:(t.textContent="0",t.classList.add("hidden"))}});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".card").forEach(e=>{const t=e.querySelector(".lower-floor"),a=e.querySelector(".upper-floor"),c=e.querySelector(".lower-tab"),p=e.querySelector(".upper-tab");if(t&&a&&c&&p){const y=()=>{t.classList.remove("hidden"),a.classList.add("hidden"),c.classList.add("border-b-2","border-blue-500","text-blue-500"),p.classList.remove("border-b-2","border-blue-500","text-blue-500")},s=()=>{t.classList.add("hidden"),a.classList.remove("hidden"),p.classList.add("border-b-2","border-blue-500","text-blue-500"),c.classList.remove("border-b-2","border-blue-500","text-blue-500")};c.addEventListener("click",y),p.addEventListener("click",s),y()}})});const tw=xO.start();Dn.use(vb);tw.debug=!1;window.Stimulus=tw;const f_e=Object.assign({"./alert_controller.js":FO,"./booking_controller.js":VO,"./carousel_controller.js":HO,"./choices_controller.js":g9,"./datepicker_controller.js":M9,"./daterange_picker_controller.js":E9,"./dropdown_controller.js":C9,"./exchange_controller.js":A9,"./filter_controller.js":I9,"./form_controller.js":P9,"./icons_controller.js":Pae,"./location_controller.js":Lae,"./notifications_controller.js":zae,"./payment_controller.js":$ae,"./position_controller.js":Gae,"./search_form_controller.js":Wae,"./seat_selection_controller.js":Zae,"./stepper_controller.js":Yae,"./suggestion_search_controller.js":Xae,"./theme_controller.js":Kae});i_e({dsn:"https://032496ac00779e3cf546cda62c3a7952@o4508832288145408.ingest.de.sentry.io/4508832290570320",tracesSampleRate:1});wk(tw,f_e);/*!
Turbo 8.0.5
Copyright © 2024 37signals LLC
 */(function(i){if(typeof i.requestSubmit=="function")return;i.requestSubmit=function(a){a?(e(a,this),a.click()):(a=document.createElement("input"),a.type="submit",a.hidden=!0,this.appendChild(a),a.click(),this.removeChild(a))};function e(a,c){a instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),a.type=="submit"||t(TypeError,"The specified element is not a submit button"),a.form==c||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(a,c,p){throw new a("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+c+".",p)}})(HTMLFormElement.prototype);const A7=new WeakMap;function m_e(i){const e=i instanceof Element?i:i instanceof Node?i.parentElement:null,t=e?e.closest("input, button"):null;return(t==null?void 0:t.type)=="submit"?t:null}function g_e(i){const e=m_e(i.target);e&&e.form&&A7.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let i=window.Event.prototype;if("SubmitEvent"in window){const e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))i=e;else return}addEventListener("click",g_e,!0),Object.defineProperty(i,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return A7.get(this.target)}})})();const Jh={eager:"eager",lazy:"lazy"},$2=class $2 extends HTMLElement{constructor(){super();et(this,"loaded",Promise.resolve());this.delegate=new $2.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="src"?this.delegate.sourceURLChanged():t=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(t){t?this.setAttribute("refresh",t):this.removeAttribute("refresh")}get loading(){return __e(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,a;return(a=(t=this.ownerDocument)==null?void 0:t.documentElement)==null?void 0:a.hasAttribute("data-turbo-preview")}};et($2,"delegateConstructor");let Ra=$2;function __e(i){switch(i.toLowerCase()){case"lazy":return Jh.lazy;default:return Jh.eager}}function ts(i){return new URL(i.toString(),document.baseURI)}function au(i){let e;if(i.hash)return i.hash.slice(1);if(e=i.href.match(/#(.*)$/))return e[1]}function iw(i,e){const t=(e==null?void 0:e.getAttribute("formaction"))||i.getAttribute("action")||i.action;return ts(t)}function y_e(i){return(M_e(i).match(/\.[^.]*$/)||[])[0]||""}function v_e(i){return!!y_e(i).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function x_e(i,e){const t=S_e(e);return i.href===ts(t).href||i.href.startsWith(t)}function Pc(i,e){return x_e(i,e)&&v_e(i)}function Yx(i){const e=au(i);return e!=null?i.href.slice(0,-(e.length+1)):i.href}function e2(i){return Yx(i)}function b_e(i,e){return ts(i).href==ts(e).href}function w_e(i){return i.pathname.split("/").slice(1)}function M_e(i){return w_e(i).slice(-1)[0]}function S_e(i){return T_e(i.origin+i.pathname)}function T_e(i){return i.endsWith("/")?i:i+"/"}class p_{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return ts(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function lm(i){if(i.getAttribute("data-turbo-eval")=="false")return i;{const e=document.createElement("script"),t=Sp("csp-nonce");return t&&(e.nonce=t),e.textContent=i.textContent,e.async=!1,E_e(e,i),e}}function E_e(i,e){for(const{name:t,value:a}of e.attributes)i.setAttribute(t,a)}function C_e(i){const e=document.createElement("template");return e.innerHTML=i,e.content}function fr(i,{target:e,cancelable:t,detail:a}={}){const c=new CustomEvent(i,{cancelable:t,bubbles:!0,composed:!0,detail:a});return e&&e.isConnected?e.dispatchEvent(c):document.documentElement.dispatchEvent(c),c}function lp(){return document.visibilityState==="hidden"?P7():I7()}function I7(){return new Promise(i=>requestAnimationFrame(()=>i()))}function P7(){return new Promise(i=>setTimeout(()=>i(),0))}function A_e(){return Promise.resolve()}function D7(i=""){return new DOMParser().parseFromString(i,"text/html")}function L7(i,...e){const t=I_e(i,e).replace(/^\n/,"").split(`
`),a=t[0].match(/^\s+/),c=a?a[0].length:0;return t.map(p=>p.slice(c)).join(`
`)}function I_e(i,e){return i.reduce((t,a,c)=>{const p=e[c]==null?"":e[c];return t+a+p},"")}function Gc(){return Array.from({length:36}).map((i,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function H2(i,...e){for(const t of e.map(a=>a==null?void 0:a.getAttribute(i)))if(typeof t=="string")return t;return null}function P_e(i,...e){return e.some(t=>t&&t.hasAttribute(i))}function U2(...i){for(const e of i)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function j2(...i){for(const e of i)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function D_e(i,e=2e3){return new Promise(t=>{const a=()=>{i.removeEventListener("error",a),i.removeEventListener("load",a),t()};i.addEventListener("load",a,{once:!0}),i.addEventListener("error",a,{once:!0}),setTimeout(t,e)})}function k7(i){switch(i){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function L_e(i){return i=="advance"||i=="replace"||i=="restore"}function ou(...i){const e=H2("data-turbo-action",...i);return L_e(e)?e:null}function O7(i){return document.querySelector(`meta[name="${i}"]`)}function Sp(i){const e=O7(i);return e&&e.content}function k_e(i,e){let t=O7(i);return t||(t=document.createElement("meta"),t.setAttribute("name",i),document.head.appendChild(t)),t.setAttribute("content",e),t}function cp(i,e){var t;if(i instanceof Element)return i.closest(e)||cp(i.assignedSlot||((t=i.getRootNode())==null?void 0:t.host),e)}function nw(i){return!!i&&i.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof i.focus=="function"}function R7(i){return Array.from(i.querySelectorAll("[autofocus]")).find(nw)}async function O_e(i,e){const t=e();i(),await I7();const a=e();return[t,a]}function z7(i){if(i==="_blank")return!1;if(i){for(const e of document.getElementsByName(i))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function F7(i){return cp(i,"a[href]:not([target^=_]):not([download])")}function B7(i){return ts(i.getAttribute("href")||"")}function R_e(i,e){let t=null;return(...a)=>{const c=()=>i.apply(this,a);clearTimeout(t),t=setTimeout(c,e)}}class z_e extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){const a=this.values().next().value;this.delete(a)}super.add(e)}}const N7=new z_e(20),F_e=window.fetch;function rw(i,e={}){const t=new Headers(e.headers||{}),a=Gc();return N7.add(a),t.append("X-Turbo-Request-Id",a),F_e(i,{...e,headers:t})}function f_(i){switch(i.toLowerCase()){case"get":return _a.get;case"post":return _a.post;case"put":return _a.put;case"patch":return _a.patch;case"delete":return _a.delete}}const _a={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function V7(i){switch(i.toLowerCase()){case Dc.multipart:return Dc.multipart;case Dc.plain:return Dc.plain;default:return Dc.urlEncoded}}const Dc={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};var hm,Tp,H7,U7;class Lp{constructor(e,t,a,c=new URLSearchParams,p=null,y=Dc.urlEncoded){An(this,Tp);et(this,"abortController",new AbortController);An(this,hm,e=>{});var R;const[s,L]=cA(ts(a),t,c,y);this.delegate=e,this.url=s,this.target=p,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:L,signal:this.abortSignal,referrer:(R=this.delegate.referrer)==null?void 0:R.href},this.enctype=y}get method(){return this.fetchOptions.method}set method(e){const t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,a=f_(e)||_a.get;this.url.search="";const[c,p]=cA(this.url,a,t,this.enctype);this.url=c,this.fetchOptions.body=p,this.fetchOptions.method=a.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this);const t=await Ni(this,Tp,H7).call(this,e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=rw(this.url.href,e);const a=await this.response;return await this.receive(a)}catch(a){if(a.name!=="AbortError")throw Ni(this,Tp,U7).call(this,a)&&this.delegate.requestErrored(this,a),a}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new p_(e);return fr("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return m_(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}}hm=new WeakMap,Tp=new WeakSet,H7=async function(e){const t=new Promise(c=>Xn(this,hm,c)),a=fr("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:ki(this,hm)},target:this.target});return this.url=a.detail.url,a.defaultPrevented&&await t,a},U7=function(e){return!fr("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented};function m_(i){return f_(i)==_a.get}function cA(i,e,t,a){const c=Array.from(t).length>0?new URLSearchParams(j7(t)):i.searchParams;return m_(e)?[B_e(i,c),null]:a==Dc.urlEncoded?[i,c]:[i,t]}function j7(i){const e=[];for(const[t,a]of i)a instanceof File||e.push([t,a]);return e}function B_e(i,e){const t=new URLSearchParams(j7(e));return i.search=t.toString(),i}class N_e{constructor(e,t){et(this,"started",!1);et(this,"intersect",e=>{const t=e.slice(-1)[0];t!=null&&t.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class bu{static wrap(e){return typeof e=="string"?new this(C_e(e)):e}constructor(e){this.fragment=V_e(e)}}et(bu,"contentType","text/vnd.turbo-stream.html");function V_e(i){for(const e of i.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const a of t.templateElement.content.querySelectorAll("script"))a.replaceWith(lm(a));e.replaceWith(t)}return i}const H_e=100;var Qh,Cl;class U_e{constructor(){An(this,Qh,null);An(this,Cl,null)}get(e){if(ki(this,Cl)&&ki(this,Cl).url===e&&ki(this,Cl).expire>Date.now())return ki(this,Cl).request}setLater(e,t,a){this.clear(),Xn(this,Qh,setTimeout(()=>{t.perform(),this.set(e,t,a),Xn(this,Qh,null)},H_e))}set(e,t,a){Xn(this,Cl,{url:e,request:t,expire:new Date(new Date().getTime()+a)})}clear(){ki(this,Qh)&&clearTimeout(ki(this,Qh)),Xn(this,Cl,null)}}Qh=new WeakMap,Cl=new WeakMap;const j_e=10*1e3,np=new U_e,Qd={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};class Om{constructor(e,t,a,c=!1){et(this,"state",Qd.initialized);const p=Y_e(t,a),y=Z_e(W_e(t,a),p),s=q_e(t,a),L=X_e(t,a);this.delegate=e,this.formElement=t,this.submitter=a,this.fetchRequest=new Lp(this,p,y,s,t,L),this.mustRedirect=c}static confirmMethod(e,t,a){return Promise.resolve(confirm(e))}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=ts(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:e,requesting:t}=Qd,a=H2("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof a=="string"&&!await Om.confirmMethod(a,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=Qd;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=$_e(Sp("csrf-param"))||Sp("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(bu.contentType)}requestStarted(e){var t;this.state=Qd.waiting,(t=this.submitter)==null||t.setAttribute("disabled",""),this.setSubmitsWith(),U2(this.formElement),fr("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){np.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(np.clear(),this.requestMustRedirect(e)&&G_e(t)){const a=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,a)}else this.state=Qd.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=Qd.stopped,(t=this.submitter)==null||t.removeAttribute("disabled"),this.resetSubmitterText(),j2(this.formElement),fr("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||P_e("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)==null?void 0:e.getAttribute("data-turbo-submits-with")}}function q_e(i,e){const t=new FormData(i),a=e==null?void 0:e.getAttribute("name"),c=e==null?void 0:e.getAttribute("value");return a&&t.append(a,c||""),t}function $_e(i){if(i!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(a=>a.startsWith(i));if(t){const a=t.split("=").slice(1).join("=");return a?decodeURIComponent(a):void 0}}}function G_e(i){return i.statusCode==200&&!i.redirected}function W_e(i,e){const t=typeof i.action=="string"?i.action:null;return e!=null&&e.hasAttribute("formaction")?e.getAttribute("formaction")||"":i.getAttribute("action")||t||""}function Z_e(i,e){const t=ts(i);return m_(e)&&(t.search=""),t}function Y_e(i,e){const t=(e==null?void 0:e.getAttribute("formmethod"))||i.getAttribute("method")||"";return f_(t.toLowerCase())||_a.get}function X_e(i,e){return V7((e==null?void 0:e.getAttribute("formenctype"))||i.enctype)}class g_{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return R7(this.element)}get permanentElements(){return $7(this.element)}getPermanentElementById(e){return q7(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const a of this.permanentElements){const{id:c}=a,p=e.getPermanentElementById(c);p&&(t[c]=[a,p])}return t}}function q7(i,e){return i.querySelector(`#${e}[data-turbo-permanent]`)}function $7(i){return i.querySelectorAll("[id][data-turbo-permanent]")}class sw{constructor(e,t){et(this,"started",!1);et(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});et(this,"submitBubbled",e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,a=e.submitter||void 0;t&&K_e(t,a)&&J_e(t,a)&&this.delegate.willSubmitForm(t,a)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,a))}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function K_e(i,e){return((e==null?void 0:e.getAttribute("formmethod"))||i.getAttribute("method"))!="dialog"}function J_e(i,e){const t=(e==null?void 0:e.getAttribute("formtarget"))||i.getAttribute("target");return z7(t)}var um,dm;class G7{constructor(e,t){An(this,um,e=>{});An(this,dm,e=>{});this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(au(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:a,willRender:c,newSnapshot:p}=e,y=c;if(a)try{this.renderPromise=new Promise(V=>Xn(this,um,V)),this.renderer=e,await this.prepareToRenderSnapshot(e);const s=new Promise(V=>Xn(this,dm,V)),L={resume:ki(this,dm),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(p,L)||await s,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(p,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,ki(this,um).call(this,void 0),delete this.renderPromise}else y&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}um=new WeakMap,dm=new WeakMap;class Q_e extends G7{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new g_(this.element)}}class W7{constructor(e,t){et(this,"clickBubbled",e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent});et(this,"linkClicked",e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent});et(this,"willVisit",e=>{delete this.clickEvent});this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(e){var c;const t=e.composed?(c=e.target)==null?void 0:c.parentElement:e.target,a=F7(t)||t;return a instanceof Element&&a.closest("turbo-frame, html")==this.element}}class Z7{constructor(e,t){et(this,"started",!1);et(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});et(this,"clickBubbled",e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,a=F7(t);if(a&&z7(a.target)){const c=B7(a);this.delegate.willFollowLinkToLocation(a,c,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(a,c))}}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}class Y7{constructor(e,t){this.delegate=e,this.linkInterceptor=new Z7(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,a){return this.delegate.willSubmitFormLinkToLocation(e,t,a)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){const a=document.createElement("form"),c="hidden";for(const[q,Z]of t.searchParams)a.append(Object.assign(document.createElement("input"),{type:c,name:q,value:Z}));const p=Object.assign(t,{search:""});a.setAttribute("data-turbo","true"),a.setAttribute("action",p.href),a.setAttribute("hidden","");const y=e.getAttribute("data-turbo-method");y&&a.setAttribute("method",y);const s=e.getAttribute("data-turbo-frame");s&&a.setAttribute("data-turbo-frame",s);const L=ou(e);L&&a.setAttribute("data-turbo-action",L);const R=e.getAttribute("data-turbo-confirm");R&&a.setAttribute("data-turbo-confirm",R),e.hasAttribute("data-turbo-stream")&&a.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,a),document.body.appendChild(a),a.addEventListener("turbo:submit-end",()=>a.remove(),{once:!0}),requestAnimationFrame(()=>a.requestSubmit())}}class X7{static async preservingPermanentElements(e,t,a){const c=new this(e,t);c.enter(),await a(),c.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,a]=this.permanentElementMap[e];this.delegate.enteringBardo(t,a),this.replaceNewPermanentElementWithPlaceholder(a)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=eye(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);t==null||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function eye(i){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",i.id),e}var Al;class aw{constructor(e,t,a,c,p=!0){An(this,Al,null);this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=c,this.willRender=p,this.renderElement=a,this.promise=new Promise((y,s)=>this.resolvingFunctions={resolve:y,reject:s})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await X7.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){ki(this,Al)||e.contains(this.currentSnapshot.activeElement)&&Xn(this,Al,this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(ki(this,Al))&&ki(this,Al)instanceof HTMLElement&&(ki(this,Al).focus(),Xn(this,Al,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}Al=new WeakMap;class cm extends aw{static renderElement(e,t){var y;const a=document.createRange();a.selectNodeContents(e),a.deleteContents();const c=t,p=(y=c.ownerDocument)==null?void 0:y.createRange();p&&(p.selectNodeContents(c),e.appendChild(p.extractContents()))}constructor(e,t,a,c,p,y=!0){super(t,a,c,p,y),this.delegate=e}get shouldRender(){return!0}async render(){await lp(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await lp(),this.focusFirstAutofocusableElement(),await lp(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=tye(this.currentElement.getAttribute("data-autoscroll-block"),"end"),a=iye(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:a}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=lm(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function tye(i,e){return i=="end"||i=="start"||i=="center"||i=="nearest"?i:e}function iye(i,e){return i=="auto"||i=="smooth"?i:e}const Tl=class Tl{constructor(){et(this,"hiding",!1);et(this,"value",0);et(this,"visible",!1);et(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return L7`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${Tl.animationDuration}ms ease-out,
          opacity ${Tl.animationDuration/2}ms ${Tl.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,Tl.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,Tl.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=Tl.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return Sp("csp-nonce")}};et(Tl,"animationDuration",300);let Xx=Tl;class nye extends g_{constructor(){super(...arguments);et(this,"detailsByOuterHTML",this.children.filter(t=>!oye(t)).map(t=>hye(t)).reduce((t,a)=>{const{outerHTML:c}=a,p=c in t?t[c]:{type:rye(a),tracked:sye(a),elements:[]};return{...t,[c]:{...p,elements:[...p.elements,a]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,a){return Object.keys(this.detailsByOuterHTML).filter(c=>!(c in a.detailsByOuterHTML)).map(c=>this.detailsByOuterHTML[c]).filter(({type:c})=>c==t).map(({elements:[c]})=>c)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,a)=>{const{type:c,tracked:p,elements:y}=this.detailsByOuterHTML[a];return c==null&&!p?[...t,...y]:y.length>1?[...t,...y.slice(1)]:t},[])}getMetaValue(t){const a=this.findMetaElementByName(t);return a?a.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((a,c)=>{const{elements:[p]}=this.detailsByOuterHTML[c];return cye(p,t)?p:a},void 0|void 0)}}function rye(i){if(aye(i))return"script";if(lye(i))return"stylesheet"}function sye(i){return i.getAttribute("data-turbo-track")=="reload"}function aye(i){return i.localName=="script"}function oye(i){return i.localName=="noscript"}function lye(i){const e=i.localName;return e=="style"||e=="link"&&i.getAttribute("rel")=="stylesheet"}function cye(i,e){return i.localName=="meta"&&i.getAttribute("name")==e}function hye(i){return i.hasAttribute("nonce")&&i.setAttribute("nonce",""),i}class ka extends g_{static fromHTMLString(e=""){return this.fromDocument(D7(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:a}){return new this(e,t,new nye(a))}constructor(e,t,a){super(t),this.documentElement=e,this.headSnapshot=a}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),a=e.querySelectorAll("select");for(const[c,p]of t.entries()){const y=a[c];for(const s of y.selectedOptions)s.selected=!1;for(const s of p.selectedOptions)y.options[s.index].selected=!0}for(const c of e.querySelectorAll('input[type="password"]'))c.value="";return new ka(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){const e=this.getSetting("root")??"/";return ts(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}var pm,Lc;class uye{constructor(){An(this,pm,!1);An(this,Lc,Promise.resolve())}renderChange(e,t){return e&&this.viewTransitionsAvailable&&!ki(this,pm)?(Xn(this,pm,!0),Xn(this,Lc,ki(this,Lc).then(async()=>{await document.startViewTransition(t).finished}))):Xn(this,Lc,ki(this,Lc).then(t)),ki(this,Lc)}get viewTransitionsAvailable(){return document.startViewTransition}}pm=new WeakMap,Lc=new WeakMap;const dye={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},t2={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},xl={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},hp={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},pye={advance:"forward",restore:"back",replace:"none"};class fye{constructor(e,t,a,c={}){et(this,"identifier",Gc());et(this,"timingMetrics",{});et(this,"followedRedirect",!1);et(this,"historyChanged",!1);et(this,"scrolled",!1);et(this,"shouldCacheSnapshot",!0);et(this,"acceptsStreamResponse",!1);et(this,"snapshotCached",!1);et(this,"state",xl.initialized);et(this,"viewTransitioner",new uye);this.delegate=e,this.location=t,this.restorationIdentifier=a||Gc();const{action:p,historyChanged:y,referrer:s,snapshot:L,snapshotHTML:R,response:V,visitCachedSnapshot:q,willRender:Z,updateHistory:ee,shouldCacheSnapshot:se,acceptsStreamResponse:he,direction:we}={...dye,...c};this.action=p,this.historyChanged=y,this.referrer=s,this.snapshot=L,this.snapshotHTML=R,this.response=V,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=q,this.willRender=Z,this.updateHistory=ee,this.scrolled=!Z,this.shouldCacheSnapshot=se,this.acceptsStreamResponse=he,this.direction=we||pye[p]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==xl.initialized&&(this.recordTimingMetric(t2.visitStart),this.state=xl.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==xl.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=xl.canceled)}complete(){this.state==xl.started&&(this.recordTimingMetric(t2.visitEnd),this.adapter.visitCompleted(this),this.state=xl.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==xl.started&&(this.state=xl.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){const t=this.location.href===((e=this.referrer)==null?void 0:e.href)?"replace":this.action,a=k7(t);this.history.update(a,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Lp(this,_a.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(t2.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;hA(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(t2.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,hA(e)&&t!=null){const a=ka.fromHTMLString(t);await this.renderPageSnapshot(a,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(ka.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!au(this.location)||e.hasAnchor(au(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return ka.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)!=null&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(bu.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const a=await t.responseHTML,{redirected:c,statusCode:p}=t;a==null?this.recordResponse({statusCode:hp.contentTypeMismatch,redirected:c}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:p,responseHTML:a,redirected:c}))}async requestFailedWithResponse(e,t){const a=await t.responseHTML,{redirected:c,statusCode:p}=t;a==null?this.recordResponse({statusCode:hp.contentTypeMismatch,redirected:c}):this.recordResponse({statusCode:p,responseHTML:a,redirected:c})}requestErrored(e,t){this.recordResponse({statusCode:hp.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=au(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),this.frame=await lp(),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function hA(i){return i>=200&&i<300}class mye{constructor(e){et(this,"progressBar",new Xx);et(this,"showProgressBar",()=>{this.progressBar.show()});this.session=e}visitProposedToLocation(e,t){Pc(e,this.navigator.rootLocation)?this.navigator.startVisit(e,(t==null?void 0:t.restorationIdentifier)||Gc(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case hp.networkFailure:case hp.timeoutFailure:case hp.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;fr("turbo:reload",{detail:e}),window.location.href=((t=this.location)==null?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}}class gye{constructor(){et(this,"selector","[data-turbo-temporary]");et(this,"deprecatedSelector","[data-turbo-cache=false]");et(this,"started",!1);et(this,"removeTemporaryElements",e=>{for(const t of this.temporaryElements)t.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}var Oa,K7,y2,v2;class _ye{constructor(e,t){An(this,Oa);this.session=e,this.element=t,this.linkInterceptor=new W7(this,t),this.formSubmitObserver=new sw(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,a){return Ni(this,Oa,y2).call(this,e)}linkClickIntercepted(e,t,a){const c=Ni(this,Oa,v2).call(this,e);c&&c.delegate.linkClickIntercepted(e,t,a)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&Ni(this,Oa,K7).call(this,e,t)&&Ni(this,Oa,y2).call(this,e,t)}formSubmitted(e,t){const a=Ni(this,Oa,v2).call(this,e,t);a&&a.delegate.formSubmitted(e,t)}}Oa=new WeakSet,K7=function(e,t){const a=iw(e,t),c=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),p=ts((c==null?void 0:c.content)??"/");return Ni(this,Oa,y2).call(this,e,t)&&Pc(a,p)},y2=function(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const c=Ni(this,Oa,v2).call(this,e,t);return c?c!=e.closest("turbo-frame"):!1}else return!1},v2=function(e,t){const a=(t==null?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(a&&a!="_top"){const c=this.element.querySelector(`#${a}:not([disabled])`);if(c instanceof Ra)return c}};class yye{constructor(e){et(this,"location");et(this,"restorationIdentifier",Gc());et(this,"restorationData",{});et(this,"started",!1);et(this,"pageLoaded",!1);et(this,"currentIndex",0);et(this,"onPopState",e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:a,restorationIndex:c}=t;this.restorationIdentifier=a;const p=c>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,a,p),this.currentIndex=c}}});et(this,"onPageLoad",async e=>{await A_e(),this.pageLoaded=!0});this.delegate=e}start(){var e,t;this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=((t=(e=history.state)==null?void 0:e.turbo)==null?void 0:t.restorationIndex)||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,a=Gc()){e===history.pushState&&++this.currentIndex;const c={turbo:{restorationIdentifier:a,restorationIndex:this.currentIndex}};e.call(history,c,"",t.href),this.location=t,this.restorationIdentifier=a}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,a=this.restorationData[t];this.restorationData[t]={...a,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}var up,fm,mm,gm,G2,_m,Ep,J7,Q7;class vye{constructor(e,t){An(this,Ep);et(this,"started",!1);An(this,up,null);An(this,fm,()=>{this.eventTarget.addEventListener("mouseenter",ki(this,mm),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",ki(this,gm),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",ki(this,_m),!0),this.started=!0});An(this,mm,e=>{if(Sp("turbo-prefetch")==="false")return;const t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&Ni(this,Ep,Q7).call(this,t)){const c=t,p=B7(c);if(this.delegate.canPrefetchRequestToLocation(c,p)){Xn(this,up,c);const y=new Lp(this,_a.get,p,new URLSearchParams,t);np.setLater(p.toString(),y,ki(this,Ep,J7))}}});An(this,gm,e=>{e.target===ki(this,up)&&ki(this,G2).call(this)});An(this,G2,()=>{np.clear(),Xn(this,up,null)});An(this,_m,e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){const t=np.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),np.clear()}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",ki(this,fm),{once:!0}):ki(this,fm).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",ki(this,mm),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",ki(this,gm),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",ki(this,_m),!0),this.started=!1)}prepareRequest(e){const t=e.target;e.headers["X-Sec-Purpose"]="prefetch";const a=t.closest("turbo-frame"),c=t.getAttribute("data-turbo-frame")||(a==null?void 0:a.getAttribute("target"))||(a==null?void 0:a.id);c&&c!=="_top"&&(e.headers["Turbo-Frame"]=c)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}up=new WeakMap,fm=new WeakMap,mm=new WeakMap,gm=new WeakMap,G2=new WeakMap,_m=new WeakMap,Ep=new WeakSet,J7=function(){return Number(Sp("turbo-prefetch-cache-time"))||j_e},Q7=function(e){return!(!e.getAttribute("href")||xye(e)||bye(e)||wye(e)||Mye(e)||Tye(e))};const xye=i=>i.origin!==document.location.origin||!["http:","https:"].includes(i.protocol)||i.hasAttribute("target"),bye=i=>i.pathname+i.search===document.location.pathname+document.location.search||i.href.startsWith("#"),wye=i=>{if(i.getAttribute("data-turbo-prefetch")==="false"||i.getAttribute("data-turbo")==="false")return!0;const e=cp(i,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},Mye=i=>{const e=i.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Sye(i)||i.hasAttribute("data-turbo-confirm")||i.hasAttribute("data-turbo-stream"))},Sye=i=>i.hasAttribute("data-remote")||i.hasAttribute("data-behavior")||i.hasAttribute("data-confirm")||i.hasAttribute("data-method"),Tye=i=>fr("turbo:before-prefetch",{target:i,cancelable:!0}).defaultPrevented;var Cp,eP,tP;class Eye{constructor(e){An(this,Cp);this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,a={}){this.stop(),this.currentVisit=new fye(this,ts(e),t,{referrer:this.location,...a}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new Om(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const a=await t.responseHTML;if(a){const c=e.isSafe;c||this.view.clearSnapshotCache();const{statusCode:p,redirected:y}=t,L={action:Ni(this,Cp,eP).call(this,e,t),shouldCacheSnapshot:c,response:{statusCode:p,responseHTML:a,redirected:y}};this.proposeVisit(t.location,L)}}}async formSubmissionFailedWithResponse(e,t){const a=await t.responseHTML;if(a){const c=ka.fromHTMLString(a);t.serverError?await this.view.renderError(c,this.currentVisit):await this.view.renderPage(c,!1,!0,this.currentVisit),c.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){const a=au(e),c=au(this.view.lastRenderedLocation),p=t==="restore"&&typeof a>"u";return t!=="replace"&&Yx(e)===Yx(this.view.lastRenderedLocation)&&(p||a!=null&&a!==c)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}}Cp=new WeakSet,eP=function(e,t){const{submitter:a,formElement:c}=e;return ou(a,c)||Ni(this,Cp,tP).call(this,t)},tP=function(e){var a;return e.redirected&&e.location.href===((a=this.location)==null?void 0:a.href)?"replace":"advance"};const qh={initial:0,loading:1,interactive:2,complete:3};class Cye{constructor(e){et(this,"stage",qh.initial);et(this,"started",!1);et(this,"interpretReadyState",()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()});et(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=e}start(){this.started||(this.stage==qh.initial&&(this.stage=qh.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==qh.loading&&(this.stage=qh.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==qh.interactive&&(this.stage=qh.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class Aye{constructor(e){et(this,"started",!1);et(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class Iye{render({fragment:e}){X7.preservingPermanentElements(this,Pye(e),()=>{Dye(e,()=>{Lye(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function Pye(i){const e=$7(document.documentElement),t={};for(const a of e){const{id:c}=a;for(const p of i.querySelectorAll("turbo-stream")){const y=q7(p.templateElement.content,c);y&&(t[c]=[a,y])}}return t}async function Dye(i,e){const t=`turbo-stream-autofocus-${Gc()}`,a=i.querySelectorAll("turbo-stream"),c=kye(a);let p=null;if(c&&(c.id?p=c.id:p=t,c.id=p),e(),await lp(),(document.activeElement==null||document.activeElement==document.body)&&p){const s=document.getElementById(p);nw(s)&&s.focus(),s&&s.id==t&&s.removeAttribute("id")}}async function Lye(i){const[e,t]=await O_e(i,()=>document.activeElement),a=e&&e.id;if(a){const c=document.getElementById(a);nw(c)&&c!=t&&c.focus()}}function kye(i){for(const e of i){const t=R7(e.templateElement.content);if(t)return t}return null}var kc;class Oye{constructor(e){et(this,"sources",new Set);An(this,kc,!1);et(this,"inspectFetchResponse",e=>{const t=Rye(e);t&&zye(t)&&(e.preventDefault(),this.receiveMessageResponse(t))});et(this,"receiveMessageEvent",e=>{ki(this,kc)&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)});this.delegate=e}start(){ki(this,kc)||(Xn(this,kc,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){ki(this,kc)&&(Xn(this,kc,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(bu.wrap(e))}}kc=new WeakMap;function Rye(i){var t;const e=(t=i.detail)==null?void 0:t.fetchResponse;if(e instanceof p_)return e}function zye(i){return(i.contentType??"").startsWith(bu.contentType)}class uA extends aw{static renderElement(e,t){const{documentElement:a,body:c}=document;a.replaceChild(t,c)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const a=lm(e);t.replaceChild(a,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}var Fye=function(){let i=new Set,e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:Z,afterNodeAdded:Z,beforeNodeMorphed:Z,afterNodeMorphed:Z,beforeNodeRemoved:Z,afterNodeRemoved:Z,beforeAttributeUpdated:Z},head:{style:"merge",shouldPreserve:function(Ye){return Ye.getAttribute("im-preserve")==="true"},shouldReAppend:function(Ye){return Ye.getAttribute("im-re-append")==="true"},shouldRemove:Z,afterHeadMorphed:Z}};function t(Ye,tt,ut={}){Ye instanceof Document&&(Ye=Ye.documentElement),typeof tt=="string"&&(tt=rt(tt));let dt=gt(tt),Gt=se(Ye,dt,ut);return a(Ye,dt,Gt)}function a(Ye,tt,ut){if(ut.head.block){let dt=Ye.querySelector("head"),Gt=tt.querySelector("head");if(dt&&Gt){let Kt=q(Gt,dt,ut);Promise.all(Kt).then(function(){a(Ye,tt,Object.assign(ut,{head:{block:!1,ignore:!0}}))});return}}if(ut.morphStyle==="innerHTML")return y(tt,Ye,ut),Ye.children;if(ut.morphStyle==="outerHTML"||ut.morphStyle==null){let dt=it(tt,Ye,ut),Gt=dt==null?void 0:dt.previousSibling,Kt=dt==null?void 0:dt.nextSibling,_i=p(Ye,dt,ut);return dt?Tt(Gt,_i,Kt):[]}else throw"Do not understand how to morph style "+ut.morphStyle}function c(Ye,tt){return tt.ignoreActiveValue&&Ye===document.activeElement&&Ye!==document.body}function p(Ye,tt,ut){if(!(ut.ignoreActive&&Ye===document.activeElement))return tt==null?ut.callbacks.beforeNodeRemoved(Ye)===!1?Ye:(Ye.remove(),ut.callbacks.afterNodeRemoved(Ye),null):we(Ye,tt)?(ut.callbacks.beforeNodeMorphed(Ye,tt)===!1||(Ye instanceof HTMLHeadElement&&ut.head.ignore||(Ye instanceof HTMLHeadElement&&ut.head.style!=="morph"?q(tt,Ye,ut):(L(tt,Ye,ut),c(Ye,ut)||y(tt,Ye,ut))),ut.callbacks.afterNodeMorphed(Ye,tt)),Ye):ut.callbacks.beforeNodeRemoved(Ye)===!1||ut.callbacks.beforeNodeAdded(tt)===!1?Ye:(Ye.parentElement.replaceChild(tt,Ye),ut.callbacks.afterNodeAdded(tt),ut.callbacks.afterNodeRemoved(Ye),tt)}function y(Ye,tt,ut){let dt=Ye.firstChild,Gt=tt.firstChild,Kt;for(;dt;){if(Kt=dt,dt=Kt.nextSibling,Gt==null){if(ut.callbacks.beforeNodeAdded(Kt)===!1)return;tt.appendChild(Kt),ut.callbacks.afterNodeAdded(Kt),Qt(ut,Kt);continue}if(he(Kt,Gt,ut)){p(Gt,Kt,ut),Gt=Gt.nextSibling,Qt(ut,Kt);continue}let _i=Ze(Ye,tt,Kt,Gt,ut);if(_i){Gt=De(Gt,_i,ut),p(_i,Kt,ut),Qt(ut,Kt);continue}let jt=ct(Ye,tt,Kt,Gt,ut);if(jt){Gt=De(Gt,jt,ut),p(jt,Kt,ut),Qt(ut,Kt);continue}if(ut.callbacks.beforeNodeAdded(Kt)===!1)return;tt.insertBefore(Kt,Gt),ut.callbacks.afterNodeAdded(Kt),Qt(ut,Kt)}for(;Gt!==null;){let _i=Gt;Gt=Gt.nextSibling,Ft(_i,ut)}}function s(Ye,tt,ut,dt){return Ye==="value"&&dt.ignoreActiveValue&&tt===document.activeElement?!0:dt.callbacks.beforeAttributeUpdated(Ye,tt,ut)===!1}function L(Ye,tt,ut){let dt=Ye.nodeType;if(dt===1){const Gt=Ye.attributes,Kt=tt.attributes;for(const _i of Gt)s(_i.name,tt,"update",ut)||tt.getAttribute(_i.name)!==_i.value&&tt.setAttribute(_i.name,_i.value);for(let _i=Kt.length-1;0<=_i;_i--){const jt=Kt[_i];s(jt.name,tt,"remove",ut)||Ye.hasAttribute(jt.name)||tt.removeAttribute(jt.name)}}(dt===8||dt===3)&&tt.nodeValue!==Ye.nodeValue&&(tt.nodeValue=Ye.nodeValue),c(tt,ut)||V(Ye,tt,ut)}function R(Ye,tt,ut,dt){if(Ye[ut]!==tt[ut]){let Gt=s(ut,tt,"update",dt);Gt||(tt[ut]=Ye[ut]),Ye[ut]?Gt||tt.setAttribute(ut,Ye[ut]):s(ut,tt,"remove",dt)||tt.removeAttribute(ut)}}function V(Ye,tt,ut){if(Ye instanceof HTMLInputElement&&tt instanceof HTMLInputElement&&Ye.type!=="file"){let dt=Ye.value,Gt=tt.value;R(Ye,tt,"checked",ut),R(Ye,tt,"disabled",ut),Ye.hasAttribute("value")?dt!==Gt&&(s("value",tt,"update",ut)||(tt.setAttribute("value",dt),tt.value=dt)):s("value",tt,"remove",ut)||(tt.value="",tt.removeAttribute("value"))}else if(Ye instanceof HTMLOptionElement)R(Ye,tt,"selected",ut);else if(Ye instanceof HTMLTextAreaElement&&tt instanceof HTMLTextAreaElement){let dt=Ye.value,Gt=tt.value;if(s("value",tt,"update",ut))return;dt!==Gt&&(tt.value=dt),tt.firstChild&&tt.firstChild.nodeValue!==dt&&(tt.firstChild.nodeValue=dt)}}function q(Ye,tt,ut){let dt=[],Gt=[],Kt=[],_i=[],jt=ut.head.style,kn=new Map;for(const Pi of Ye.children)kn.set(Pi.outerHTML,Pi);for(const Pi of tt.children){let Hn=kn.has(Pi.outerHTML),sn=ut.head.shouldReAppend(Pi),ji=ut.head.shouldPreserve(Pi);Hn||ji?sn?Gt.push(Pi):(kn.delete(Pi.outerHTML),Kt.push(Pi)):jt==="append"?sn&&(Gt.push(Pi),_i.push(Pi)):ut.head.shouldRemove(Pi)!==!1&&Gt.push(Pi)}_i.push(...kn.values());let In=[];for(const Pi of _i){let Hn=document.createRange().createContextualFragment(Pi.outerHTML).firstChild;if(ut.callbacks.beforeNodeAdded(Hn)!==!1){if(Hn.href||Hn.src){let sn=null,ji=new Promise(function(Ie){sn=Ie});Hn.addEventListener("load",function(){sn()}),In.push(ji)}tt.appendChild(Hn),ut.callbacks.afterNodeAdded(Hn),dt.push(Hn)}}for(const Pi of Gt)ut.callbacks.beforeNodeRemoved(Pi)!==!1&&(tt.removeChild(Pi),ut.callbacks.afterNodeRemoved(Pi));return ut.head.afterHeadMorphed(tt,{added:dt,kept:Kt,removed:Gt}),In}function Z(){}function ee(Ye){let tt={};return Object.assign(tt,e),Object.assign(tt,Ye),tt.callbacks={},Object.assign(tt.callbacks,e.callbacks),Object.assign(tt.callbacks,Ye.callbacks),tt.head={},Object.assign(tt.head,e.head),Object.assign(tt.head,Ye.head),tt}function se(Ye,tt,ut){return ut=ee(ut),{target:Ye,newContent:tt,config:ut,morphStyle:ut.morphStyle,ignoreActive:ut.ignoreActive,ignoreActiveValue:ut.ignoreActiveValue,idMap:zt(Ye,tt),deadIds:new Set,callbacks:ut.callbacks,head:ut.head}}function he(Ye,tt,ut){return Ye==null||tt==null?!1:Ye.nodeType===tt.nodeType&&Ye.tagName===tt.tagName?Ye.id!==""&&Ye.id===tt.id?!0:Oi(ut,Ye,tt)>0:!1}function we(Ye,tt){return Ye==null||tt==null?!1:Ye.nodeType===tt.nodeType&&Ye.tagName===tt.tagName}function De(Ye,tt,ut){for(;Ye!==tt;){let dt=Ye;Ye=Ye.nextSibling,Ft(dt,ut)}return Qt(ut,tt),tt.nextSibling}function Ze(Ye,tt,ut,dt,Gt){let Kt=Oi(Gt,ut,tt),_i=null;if(Kt>0){let jt=dt,kn=0;for(;jt!=null;){if(he(ut,jt,Gt))return jt;if(kn+=Oi(Gt,jt,Ye),kn>Kt)return null;jt=jt.nextSibling}}return _i}function ct(Ye,tt,ut,dt,Gt){let Kt=dt,_i=ut.nextSibling,jt=0;for(;Kt!=null;){if(Oi(Gt,Kt,Ye)>0)return null;if(we(ut,Kt))return Kt;if(we(_i,Kt)&&(jt++,_i=_i.nextSibling,jt>=2))return null;Kt=Kt.nextSibling}return Kt}function rt(Ye){let tt=new DOMParser,ut=Ye.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(ut.match(/<\/html>/)||ut.match(/<\/head>/)||ut.match(/<\/body>/)){let dt=tt.parseFromString(Ye,"text/html");if(ut.match(/<\/html>/))return dt.generatedByIdiomorph=!0,dt;{let Gt=dt.firstChild;return Gt?(Gt.generatedByIdiomorph=!0,Gt):null}}else{let Gt=tt.parseFromString("<body><template>"+Ye+"</template></body>","text/html").body.querySelector("template").content;return Gt.generatedByIdiomorph=!0,Gt}}function gt(Ye){if(Ye==null)return document.createElement("div");if(Ye.generatedByIdiomorph)return Ye;if(Ye instanceof Node){const tt=document.createElement("div");return tt.append(Ye),tt}else{const tt=document.createElement("div");for(const ut of[...Ye])tt.append(ut);return tt}}function Tt(Ye,tt,ut){let dt=[],Gt=[];for(;Ye!=null;)dt.push(Ye),Ye=Ye.previousSibling;for(;dt.length>0;){let Kt=dt.pop();Gt.push(Kt),tt.parentElement.insertBefore(Kt,tt)}for(Gt.push(tt);ut!=null;)dt.push(ut),Gt.push(ut),ut=ut.nextSibling;for(;dt.length>0;)tt.parentElement.insertBefore(dt.pop(),tt.nextSibling);return Gt}function it(Ye,tt,ut){let dt;dt=Ye.firstChild;let Gt=dt,Kt=0;for(;dt;){let _i=_t(dt,tt,ut);_i>Kt&&(Gt=dt,Kt=_i),dt=dt.nextSibling}return Gt}function _t(Ye,tt,ut){return we(Ye,tt)?.5+Oi(ut,Ye,tt):0}function Ft(Ye,tt){Qt(tt,Ye),tt.callbacks.beforeNodeRemoved(Ye)!==!1&&(Ye.remove(),tt.callbacks.afterNodeRemoved(Ye))}function vt(Ye,tt){return!Ye.deadIds.has(tt)}function It(Ye,tt,ut){return(Ye.idMap.get(ut)||i).has(tt)}function Qt(Ye,tt){let ut=Ye.idMap.get(tt)||i;for(const dt of ut)Ye.deadIds.add(dt)}function Oi(Ye,tt,ut){let dt=Ye.idMap.get(tt)||i,Gt=0;for(const Kt of dt)vt(Ye,Kt)&&It(Ye,Kt,ut)&&++Gt;return Gt}function Ji(Ye,tt){let ut=Ye.parentElement,dt=Ye.querySelectorAll("[id]");for(const Gt of dt){let Kt=Gt;for(;Kt!==ut&&Kt!=null;){let _i=tt.get(Kt);_i==null&&(_i=new Set,tt.set(Kt,_i)),_i.add(Gt.id),Kt=Kt.parentElement}}}function zt(Ye,tt){let ut=new Map;return Ji(Ye,ut),Ji(tt,ut),ut}return{morph:t,defaults:e}}();function ow(i,e,{callbacks:t,...a}={}){Fye.morph(i,e,{...a,callbacks:new Bye(t)})}function iP(i,e){ow(i,e.children,{morphStyle:"innerHTML"})}var ym;class Bye{constructor({beforeNodeMorphed:e}={}){An(this,ym);et(this,"beforeNodeAdded",e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id)));et(this,"beforeNodeMorphed",(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&ki(this,ym).call(this,e,t)?!fr("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1});et(this,"beforeAttributeUpdated",(e,t,a)=>!fr("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:a}}).defaultPrevented);et(this,"beforeNodeRemoved",e=>this.beforeNodeMorphed(e));et(this,"afterNodeMorphed",(e,t)=>{e instanceof Element&&fr("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})});Xn(this,ym,e||(()=>!0))}}ym=new WeakMap;class Nye extends cm{static renderElement(e,t){fr("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),iP(e,t)}}var W2,nP;class __ extends aw{constructor(){super(...arguments);An(this,W2)}static renderElement(t,a){document.body&&a instanceof HTMLBodyElement?document.body.replaceWith(a):document.documentElement.appendChild(a)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){Ni(this,W2,nP).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.mergeProvisionalElements(),a=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await a,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const a of this.newHeadStylesheetElements)t.push(D_e(a)),document.head.appendChild(a);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(lm(t))}removeUnusedDynamicStylesheetElements(){for(const t of this.unusedDynamicStylesheetElements)document.head.removeChild(t)}async mergeProvisionalElements(){const t=[...this.newHeadProvisionalElements];for(const a of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(a,t)||document.head.removeChild(a);for(const a of t)document.head.appendChild(a)}isCurrentElementInElementList(t,a){for(const[c,p]of a.entries()){if(t.tagName=="TITLE"){if(p.tagName!="TITLE")continue;if(t.innerHTML==p.innerHTML)return a.splice(c,1),!0}if(p.isEqualNode(t))return a.splice(c,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const a=lm(t);t.replaceWith(a)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(t=>t.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}W2=new WeakSet,nP=function(){const{documentElement:t}=this.currentSnapshot,{lang:a}=this.newSnapshot;a?t.setAttribute("lang",a):t.removeAttribute("lang")};class Vye extends __{static renderElement(e,t){ow(e,t,{callbacks:{beforeNodeMorphed:a=>!dA(a)}});for(const a of e.querySelectorAll("turbo-frame"))dA(a)&&Hye(a);fr("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}function dA(i){return i instanceof Ra&&i.src&&i.refresh==="morph"&&!i.closest("[data-turbo-permanent]")}function Hye(i){i.addEventListener("turbo:before-frame-render",({detail:e})=>{e.render=Nye.renderElement},{once:!0}),i.reload()}class Uye{constructor(e){et(this,"keys",[]);et(this,"snapshots",{});this.size=e}has(e){return e2(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[e2(e)]}write(e,t){this.snapshots[e2(e)]=t}touch(e){const t=e2(e),a=this.keys.indexOf(t);a>-1&&this.keys.splice(a,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class jye extends G7{constructor(){super(...arguments);et(this,"snapshotCache",new Uye(10));et(this,"lastRenderedLocation",new URL(location.href));et(this,"forceReloaded",!1)}shouldTransitionTo(t){return this.snapshot.prefersViewTransitions&&t.prefersViewTransitions}renderPage(t,a=!1,c=!0,p){const s=this.isPageRefresh(p)&&this.snapshot.shouldMorphPage?Vye:__,L=new s(this.snapshot,t,s.renderElement,a,c);return L.shouldRender?p==null||p.changeHistory():this.forceReloaded=!0,this.render(L)}renderError(t,a){a==null||a.changeHistory();const c=new uA(this.snapshot,t,uA.renderElement,!1);return this.render(c)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:a}=this;await P7();const c=t.clone();return this.snapshotCache.put(a,c),c}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}isPageRefresh(t){return!t||this.lastRenderedLocation.pathname===t.location.pathname&&t.action==="replace"}shouldPreserveScrollPosition(t){return this.isPageRefresh(t)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return ka.fromElement(this.element)}}var vm;class qye{constructor(e,t){et(this,"selector","a[data-turbo-preload]");An(this,vm,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ki(this,vm)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",ki(this,vm))}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(this.snapshotCache.has(t))return;await new Lp(this,_a.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{const a=await t.responseHTML,c=ka.fromHTMLString(a);this.snapshotCache.put(e.url,c)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}vm=new WeakMap;var dp,x2;class $ye{constructor(e){An(this,dp);this.session=e}clear(){this.session.clearCache()}resetCacheControl(){Ni(this,dp,x2).call(this,"")}exemptPageFromCache(){Ni(this,dp,x2).call(this,"no-cache")}exemptPageFromPreview(){Ni(this,dp,x2).call(this,"no-preview")}}dp=new WeakSet,x2=function(e){k_e("turbo-cache-control",e)};var xm;class Gye{constructor(e){et(this,"navigator",new Eye(this));et(this,"history",new yye(this));et(this,"view",new jye(this,document.documentElement));et(this,"adapter",new mye(this));et(this,"pageObserver",new Cye(this));et(this,"cacheObserver",new gye);et(this,"linkPrefetchObserver",new vye(this,document));et(this,"linkClickObserver",new Z7(this,window));et(this,"formSubmitObserver",new sw(this,document));et(this,"scrollObserver",new Aye(this));et(this,"streamObserver",new Oye(this));et(this,"formLinkClickObserver",new Y7(this,document.documentElement));et(this,"frameRedirector",new _ye(this,document.documentElement));et(this,"streamMessageRenderer",new Iye);et(this,"cache",new $ye(this));et(this,"drive",!0);et(this,"enabled",!0);et(this,"progressBarDelay",500);et(this,"started",!1);et(this,"formMode","on");An(this,xm,150);this.recentRequests=e,this.preloader=new qye(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const a=t.frame?document.getElementById(t.frame):null;if(a instanceof Ra){const c=t.action||ou(a);a.delegate.proposeVisitIfNavigatedWithAction(a,c),a.src=e.toString()}else this.navigator.proposeVisit(ts(e),t)}refresh(e,t){!(t&&this.recentRequests.has(t))&&!this.navigator.currentVisit&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(bu.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return ki(this,xm)}set pageRefreshDebouncePeriod(e){this.refresh=R_e(this.debouncedRefresh.bind(this),e),Xn(this,xm,e)}shouldPreloadLink(e){const t=e.hasAttribute("data-turbo-method"),a=e.hasAttribute("data-turbo-stream"),c=e.getAttribute("data-turbo-frame"),p=c=="_top"?null:document.getElementById(c)||cp(e,"turbo-frame:not([disabled])");if(t||a||p instanceof Ra)return!1;{const y=new URL(e.href);return this.elementIsNavigatable(e)&&Pc(y,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,a){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:a}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Pc(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&Pc(t,this.snapshot.rootLocation)}willFollowLinkToLocation(e,t,a){return this.elementIsNavigatable(e)&&Pc(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,a)}followedLinkToLocation(e,t){const a=this.getActionForLink(e),c=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:a,acceptsStreamResponse:c})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){pA(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(U2(document.documentElement),this.view.markVisitDirection(e.direction)),pA(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),j2(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const a=iw(e,t);return this.submissionIsNavigatable(e,t)&&Pc(ts(a),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(e=this.navigator.currentVisit)!=null&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const a=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:c,detail:{render:p}}=a;return this.view.renderer&&p&&(this.view.renderer.renderElement=p),!c}viewRenderedSnapshot(e,t,a){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(a)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,a){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,a).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,a){return fr("turbo:click",{target:e,detail:{url:t.href,originalEvent:a},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return fr("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return fr("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return fr("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return fr("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return fr("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return fr("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return fr("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return fr("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(this.formMode=="off")return!1;{const a=t?this.elementIsNavigatable(t):!0;return this.formMode=="optin"?a&&e.closest('[data-turbo="true"]')!=null:a&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=cp(e,"[data-turbo]"),a=cp(e,"turbo-frame");return this.drive||a?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return ou(e)||"advance"}get snapshot(){return this.view.snapshot}}xm=new WeakMap;function pA(i){Object.defineProperties(i,Wye)}const Wye={absoluteURL:{get(){return this.toString()}}},or=new Gye(N7),{cache:rP,navigator:sP}=or;function lw(){or.start()}function aP(i){or.registerAdapter(i)}function oP(i,e){or.visit(i,e)}function y_(i){or.connectStreamSource(i)}function v_(i){or.disconnectStreamSource(i)}function lP(i){or.renderStreamMessage(i)}function cP(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),or.clearCache()}function hP(i){or.setProgressBarDelay(i)}function uP(i){Om.confirmMethod=i}function dP(i){or.setFormMode(i)}var Zye=Object.freeze({__proto__:null,navigator:sP,session:or,cache:rP,PageRenderer:__,PageSnapshot:ka,FrameRenderer:cm,fetch:rw,start:lw,registerAdapter:aP,visit:oP,connectStreamSource:y_,disconnectStreamSource:v_,renderStreamMessage:lP,clearCache:cP,setProgressBarDelay:hP,setConfirmMethod:uP,setFormMode:dP});class Yye extends Error{}var pp,zo,Oc,bm,fp,Yi,ep,pP,fP,mP,gP,_P,yP,vP,Kx,tp,xP,b2,bP,wP,MP;class Xye{constructor(e){An(this,Yi);et(this,"fetchResponseLoaded",e=>Promise.resolve());An(this,pp,null);An(this,zo,()=>{});An(this,Oc,!1);An(this,bm,!1);An(this,fp,new Set);et(this,"action",null);et(this,"visitCachedSnapshot",({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=e,this.view=new Q_e(this,this.element),this.appearanceObserver=new N_e(this,this.element),this.formLinkClickObserver=new Y7(this,this.element),this.linkInterceptor=new W7(this,this.element),this.restorationIdentifier=Gc(),this.formSubmitObserver=new sw(this,this.element)}connect(){ki(this,Oc)||(Xn(this,Oc,!0),this.loadingStyle==Jh.lazy?this.appearanceObserver.start():Ni(this,Yi,ep).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){ki(this,Oc)&&(Xn(this,Oc,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Jh.eager&&Ni(this,Yi,ep).call(this)}sourceURLChanged(){Ni(this,Yi,bP).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Jh.eager||ki(this,bm))&&Ni(this,Yi,ep).call(this))}sourceURLReloaded(){const{src:e}=this.element;return this.element.removeAttribute("complete"),this.element.src=null,this.element.src=e,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Jh.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),Ni(this,Yi,ep).call(this))}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const a=D7(t);ka.fromDocument(a).isVisitable?await Ni(this,Yi,pP).call(this,e,a):await Ni(this,Yi,gP).call(this,e)}}finally{this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,ou(e)),Ni(this,Yi,ep).call(this)}willSubmitFormLinkToLocation(e){return Ni(this,Yi,b2).call(this,e)}submittedFormLinkToLocation(e,t,a){const c=Ni(this,Yi,tp).call(this,e);c&&a.setAttribute("data-turbo-frame",c.id)}shouldInterceptLinkClick(e,t,a){return Ni(this,Yi,b2).call(this,e)}linkClickIntercepted(e,t){Ni(this,Yi,mP).call(this,e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&Ni(this,Yi,b2).call(this,e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Om(this,e,t);const{fetchRequest:a}=this.formSubmission;this.prepareRequest(a),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,(t=this.currentNavigationElement)!=null&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(bu.contentType)}requestStarted(e){U2(this.element)}requestPreventedHandlingResponse(e,t){ki(this,zo).call(this)}async requestSucceededWithResponse(e,t){await this.loadResponse(t),ki(this,zo).call(this)}async requestFailedWithResponse(e,t){await this.loadResponse(t),ki(this,zo).call(this)}requestErrored(e,t){console.error(t),ki(this,zo).call(this)}requestFinished(e){j2(this.element)}formSubmissionStarted({formElement:e}){U2(e,Ni(this,Yi,tp).call(this,e))}formSubmissionSucceededWithResponse(e,t){const a=Ni(this,Yi,tp).call(this,e.formElement,e.submitter);a.delegate.proposeVisitIfNavigatedWithAction(a,ou(e.submitter,e.formElement,a)),a.delegate.loadResponse(t),e.isSafe||or.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),or.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){j2(e,Ni(this,Yi,tp).call(this,e))}allowsImmediateRender({element:e},t){const a=fr("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:c,detail:{render:p}}=a;return this.view.renderer&&p&&(this.view.renderer.renderElement=p),!c}viewRenderedSnapshot(e,t,a){}preloadOnLoadLinksForView(e){or.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){const a=ka.fromElement(e).clone(),{visitCachedSnapshot:c}=e.delegate;e.delegate.fetchResponseLoaded=async p=>{if(e.src){const{statusCode:y,redirected:s}=p,L=await p.responseHTML,V={response:{statusCode:y,redirected:s,responseHTML:L},visitCachedSnapshot:c,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:a};this.action&&(V.action=this.action),or.visit(e.src,V)}}}}changeHistory(){if(this.action){const e=k7(this.action);or.history.update(e,ts(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(e){let t;const a=CSS.escape(this.id);try{if(t=mA(e.querySelector(`turbo-frame#${a}`),this.sourceURL),t)return t;if(t=mA(e.querySelector(`turbo-frame[src][recurse~=${a}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(c){return console.error(c),new Ra}return null}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){Ni(this,Yi,wP).call(this,"src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||ki(this,zo).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&ki(this,Oc)}get rootLocation(){const e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),t=(e==null?void 0:e.content)??"/";return ts(t)}}pp=new WeakMap,zo=new WeakMap,Oc=new WeakMap,bm=new WeakMap,fp=new WeakMap,Yi=new WeakSet,ep=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=Ni(this,Yi,fP).call(this,ts(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,Xn(this,bm,!0))},pP=async function(e,t){const a=await this.extractForeignFrameElement(t.body);if(a){const c=new g_(a),p=new cm(this,this.view.snapshot,c,cm.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(p),this.complete=!0,or.frameRendered(e,this.element),or.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else Ni(this,Yi,_P).call(this,e)&&Ni(this,Yi,yP).call(this,e)},fP=async function(e){var a;const t=new Lp(this,_a.get,e,new URLSearchParams,this.element);return(a=ki(this,pp))==null||a.cancel(),Xn(this,pp,t),new Promise(c=>{Xn(this,zo,()=>{Xn(this,zo,()=>{}),Xn(this,pp,null),c()}),t.perform()})},mP=function(e,t,a){const c=Ni(this,Yi,tp).call(this,e,a);c.delegate.proposeVisitIfNavigatedWithAction(c,ou(a,e,c)),Ni(this,Yi,MP).call(this,e,()=>{c.src=t})},gP=async function(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await Ni(this,Yi,Kx).call(this,e.response)},_P=function(e){this.element.setAttribute("complete","");const t=e.response,a=async(p,y)=>{p instanceof Response?Ni(this,Yi,Kx).call(this,p):or.visit(p,y)};return!fr("turbo:frame-missing",{target:this.element,detail:{response:t,visit:a},cancelable:!0}).defaultPrevented},yP=function(e){this.view.missing(),Ni(this,Yi,vP).call(this,e)},vP=function(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Yye(t)},Kx=async function(e){const t=new p_(e),a=await t.responseHTML,{location:c,redirected:p,statusCode:y}=t;return or.visit(c,{response:{redirected:p,statusCode:y,responseHTML:a}})},tp=function(e,t){const a=H2("data-turbo-frame",t,e)||this.element.getAttribute("target");return fA(a)??this.element},xP=function(e,t){const a=iw(e,t);return Pc(ts(a),this.rootLocation)},b2=function(e,t){const a=H2("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!Ni(this,Yi,xP).call(this,e,t)||!this.enabled||a=="_top")return!1;if(a){const c=fA(a);if(c)return!c.disabled}return!(!or.elementIsNavigatable(e)||t&&!or.elementIsNavigatable(t))},bP=function(e){return ki(this,fp).has(e)},wP=function(e,t){ki(this,fp).add(e),t(),ki(this,fp).delete(e)},MP=function(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement};function fA(i){if(i!=null){const e=document.getElementById(i);if(e instanceof Ra)return e}}function mA(i,e){if(i){const t=i.getAttribute("src");if(t!=null&&e!=null&&b_e(t,e))throw new Error(`Matching <turbo-frame id="${i.id}"> element has a source URL which references itself`);if(i.ownerDocument!==document&&(i=document.importNode(i,!0)),i instanceof Ra)return i.connectedCallback(),i.disconnectedCallback(),i}}const cw={after(){this.targetElements.forEach(i=>{var e;return(e=i.parentElement)==null?void 0:e.insertBefore(this.templateContent,i.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.append(this.templateContent))},before(){this.targetElements.forEach(i=>{var e;return(e=i.parentElement)==null?void 0:e.insertBefore(this.templateContent,i)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.prepend(this.templateContent))},remove(){this.targetElements.forEach(i=>i.remove())},replace(){const i=this.getAttribute("method");this.targetElements.forEach(e=>{i==="morph"?ow(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){const i=this.getAttribute("method");this.targetElements.forEach(e=>{i==="morph"?iP(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){or.refresh(this.baseURI,this.requestId)}};var eu,N1;const hw=class hw extends HTMLElement{constructor(){super(...arguments);An(this,eu)}static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{const t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await lp(),await t.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var c;const t=this.targetElements.flatMap(p=>[...p.children]).filter(p=>!!p.id),a=[...((c=this.templateContent)==null?void 0:c.children)||[]].filter(p=>!!p.id).map(p=>p.id);return t.filter(p=>a.includes(p.id))}get performAction(){if(this.action){const t=cw[this.action];if(t)return t;Ni(this,eu,N1).call(this,"unknown action")}Ni(this,eu,N1).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;Ni(this,eu,N1).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;Ni(this,eu,N1).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:hw.renderElement}})}get targetElementsById(){var a;const t=(a=this.ownerDocument)==null?void 0:a.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var a;const t=(a=this.ownerDocument)==null?void 0:a.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}};eu=new WeakSet,N1=function(t){throw new Error(`${this.description}: ${t}`)};let q2=hw;class SP extends HTMLElement{constructor(){super(...arguments);et(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),y_(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),v_(this.streamSource))}get src(){return this.getAttribute("src")||""}}Ra.delegateConstructor=Xye;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Ra);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",q2);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",SP);(()=>{let i=document.currentScript;if(i&&!i.hasAttribute("data-turbo-suppress-warning"))for(i=i.parentElement;i;){if(i==document.body)return console.warn(L7`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,i.outerHTML);i=i.parentElement}})();window.Turbo={...Zye,StreamActions:cw};lw();const Kye=Object.freeze(Object.defineProperty({__proto__:null,FetchEnctype:Dc,FetchMethod:_a,FetchRequest:Lp,FetchResponse:p_,FrameElement:Ra,FrameLoadingStyle:Jh,FrameRenderer:cm,PageRenderer:__,PageSnapshot:ka,StreamActions:cw,StreamElement:q2,StreamSourceElement:SP,cache:rP,clearCache:cP,connectStreamSource:y_,disconnectStreamSource:v_,fetch:rw,fetchEnctypeFromString:V7,fetchMethodFromString:f_,isSafe:m_,navigator:sP,registerAdapter:aP,renderStreamMessage:lP,session:or,setConfirmMethod:uP,setFormMode:dP,setProgressBarDelay:hP,start:lw,visit:oP},Symbol.toStringTag,{value:"Module"})),Jye="modulepreload",Qye=function(i){return"/public/vite/"+i},gA={},eve=function(e,t,a){let c=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),s=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));c=Promise.allSettled(t.map(L=>{if(L=Qye(L),L in gA)return;gA[L]=!0;const R=L.endsWith(".css"),V=R?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${L}"]${V}`))return;const q=document.createElement("link");if(q.rel=R?"stylesheet":Jye,R||(q.as="script"),q.crossOrigin="",q.href=L,s&&q.setAttribute("nonce",s),document.head.appendChild(q),R)return new Promise((Z,ee)=>{q.addEventListener("load",Z),q.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${L}`)))})}))}function p(y){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=y,window.dispatchEvent(s),!s.defaultPrevented)throw y}return c.then(y=>{for(const s of y||[])s.status==="rejected"&&p(s.reason);return e().catch(p)})};let TP;async function tve(){return TP||_A(ive().then(_A))}function _A(i){return TP=i}async function ive(){const{createConsumer:i}=await eve(async()=>{const{createConsumer:e}=await import("./index-D0Td30rp.js");return{createConsumer:e}},[]);return i()}async function nve(i,e){const{subscriptions:t}=await tve();return t.create(i,e)}function Jx(i){return!i||typeof i!="object"||i instanceof Date||i instanceof RegExp?i:Array.isArray(i)?i.map(Jx):Object.keys(i).reduce(function(e,t){var a=t[0].toLowerCase()+t.slice(1).replace(/([A-Z]+)/g,function(c,p){return"_"+p.toLowerCase()});return e[a]=Jx(i[t]),e},{})}class rve extends HTMLElement{async connectedCallback(){y_(this),this.subscription=await nve(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){v_(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(e){const t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){const e=this.getAttribute("channel"),t=this.getAttribute("signed-stream-name");return{channel:e,signed_stream_name:t,...Jx({...this.dataset})}}}customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",rve);function sve(i){if(i.target instanceof HTMLFormElement){const{target:e,detail:{fetchOptions:t}}=i;e.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:a}}})=>{const c=lve(t.body)?t.body:new URLSearchParams,p=ave(a,c,e);/get/i.test(p)||(/post/i.test(p)?c.delete("_method"):c.set("_method",p),t.method="post")},{once:!0})}}function ave(i,e,t){const a=ove(i),c=e.get("_method"),p=t.getAttribute("method")||"get";return typeof a=="string"?a:typeof c=="string"?c:p}function ove(i){return i instanceof HTMLButtonElement||i instanceof HTMLInputElement?i.name==="_method"?i.value:i.hasAttribute("formmethod")?i.formMethod:null:null}function lve(i){return i instanceof FormData||i instanceof URLSearchParams}window.Turbo=Kye;addEventListener("turbo:before-fetch-request",sve);export{xO as A,wk as r};
//# sourceMappingURL=index-CC6Ka9q-.js.map
